<div class="modal-header">
  <h4 class="modal-title" id="modal-basic-title">Change Vehicle Status</h4>
  <div style="margin-left:15%">
    <span>{{VehicleStatusData.fo_name}}</span>&nbsp;&nbsp;
    <span><b>VehicleNo : </b> {{VehicleStatusData.regno}}</span> &nbsp;&nbsp;
    <span><b>VehicleId : </b> {{VehicleStatusData.vehicle_id}}</span> &nbsp;&nbsp;
    <span><b>Last Ind Type : </b> {{lastIndType}} &nbsp;&nbsp; {{distDiff}}&nbsp;&nbsp; {{timeDiff}}</span>

  </div>
  <button type="button" class="close" aria-label="Close" (click)="closeModal(false)">
    <span aria-hidden="true">&times;</span>
  </button>

</div>
<div class="modal-body">
  <div class="col-sm-6">
    <div class="col-sm-6" *ngIf="lUlBtn">
      <div style="height: 480px; overflow: auto; width: 100%;">
        <table class="table table-bordered table-hover halts-show">
          <tbody>
            <tr>
              <th>Dt</th>
              <th>Loc</th>
              <th>Dist</th>
              <th>Days</th>
              <th>HT</th>
            </tr>
            <tr *ngFor="let lUL of loadingUnLoading;let i = index; ">
              <td>{{lUL.date}}</td>
              <td>{{lUL.loc}}</td>
              <td>{{lUL.distance}}</td>
              <td>{{lUL.days}}</td>
              <td>{{lUL.y_halt_desc}}</td>

            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div [class]=" lUlBtn?'col-sm-6':'col-sm-12'">
      <!-- <accordion>
                    <group title="First Group">this is the content</group>
                  </accordion> -->
      <div class="tableFixHead">
        <table class="table table-bordered table-hover halts-show" style="border:1px gray solid">
          <thead>
            <th>#</th>
            <th>Date</th>
            <th>Time</th>
            <th>Location</th>
            <th>Dist</th>
            <th>KM/h</th>
            <th>AdUserId</th>
            <th>CS</th>
            <th>CHT <span style="margin-left:15px"><i class="fa fa-refresh report-btn" (click)="mapReset();"></i></span>
            </th>
          </thead>
          <tbody *ngFor="let vehicleEvent of vehicleEvents;let i = index;">
            <tr cdkDrag [id]="'vehicleEvent-row-'+i" (cdkDragStarted)="this.onlyDrag = true;"
              (cdkDragEnded)="onDragEnded($event, i, vehicleEvent)" cdkDragLockAxis="y"
              [ngStyle]="{'border':  vehicleEvent.y_place_id ? '4px dashed red' : 'none', 'background-color' :  vehicleEvent.desc!='Trails'? '#'+vehicleEvent.color :'#fff'}"
              (mouseover)="toggleBounceMF(i)" (mouseout)="toggleBounceMF(i,2)">
              <td (click)="openSmartTool(i,vehicleEvent);" *ngIf="vehicleEvent.inflexCode!=-1"><b>{{i+1}}</b></td>
              <td (click)="openSmartTool(i,vehicleEvent);" *ngIf="vehicleEvent.inflexCode==-1">{{i+1}}</td>              
              <td (click)="openSmartTool(i,vehicleEvent);">{{vehicleEvent.date}}</td>
              <td (click)="openSmartTool(i,vehicleEvent);">{{vehicleEvent.timeShort}}</td>
              <td (click)="openSmartTool(i,vehicleEvent);">{{vehicleEvent.loc}}</td>
              <td (click)="openSmartTool(i,vehicleEvent);">{{vehicleEvent.distance}}</td>
              <td (click)="openSmartTool(i,vehicleEvent);">{{vehicleEvent.kmph}}</td>
              <td (click)="openSmartTool(i,vehicleEvent);">{{vehicleEvent.adUserId}}</td>
              <td><button (click)="openChangeHaltModal(vehicleEvent,'SiteType')"
                  *ngIf="vehicleEvent.desc!='Trails'&& !vehicleEvent.y_site_id"><i class="fa fa-plus"></i></button></td>
              <td><button (click)="openChangeHaltModal(vehicleEvent,'HaltType')"
                  *ngIf="vehicleEvent.desc!='Trails'">{{vehicleEvent.y_halt_desc}}</button></td>
            </tr>
            <tr *ngIf="vehicleEvent.isOpen">
              <td colspan="9">
                <div style="text-align:center" class="smart-Tool slideInDown animated"> <span>
                    <span class="zoom-btn" (click)="setZoom(6)">1</span>
                    <span class="zoom-btn" (click)="setZoom(9)">2</span>
                    <span class="zoom-btn" (click)="setZoom(12)">3</span>
                    <span class="zoom-btn" (click)="setZoom(15)">4</span>
                    <span class="zoom-btn" (click)="setZoom(18)">5</span>
                    <span class="zoom-btn" (click)="showHide()">{{showHideSite}}</span>
                    <span class="zoom-btn" (click)="setSiteHalt(vehicleEvent,true)"
                      *ngIf="!vehicleEvent.y_site_id && vehicleEvent.haltTypeId">CSH</span>
                    <span class="zoom-btn" (click)="deleteHalt(vehicleEvent)" *ngIf="vehicleEvent.y_is_delete"><i
                        class="fa fa-trash"></i></span>
                    <span class="zoom-btn" *ngIf="vehicleEvent.haltTypeId == -1"
                      (click)="openManualHalt(vehicleEvent);">MH</span>
                    <span class="zoom-btn"><i class="fa fa-question-circle report-btn"
                        (click)="reportIssue(vehicleEvent);"></i></span>
                    <!-- <span class="zoom-btn"><i class="fa fa-route"
                        (click)="openRouteMapper(vehicleEvent);"></i></span> -->


                  </span></div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div style="margin-top:30px;margin-bottom:50px;text-align: center" *ngIf="ref_page!='ari'">
        <button (click)="reviewComplete(1)" style="padding:5px" *ngIf="btnStatus">Review Done</button>
        <button (click)="reviewComplete(-1)" style="padding:5px ; margin-left:20px">Advanced Review</button>
      </div>
      <div style="margin-top:30px;margin-bottom:50px;text-align: center" *ngIf="ref_page=='ari'">
        <button (click)="resolveTicket(1)" style="padding:5px" *ngIf="btnStatus">Accept</button>
        <button (click)="resolveTicket(-1)" style="padding:5px ; margin-left:20px">Reject</button>
      </div>
    </div>
  </div>
  <div style="margin-bottom:20px" class="col-sm-6">
    <button (click)="lUlBtn=!lUlBtn;showPreviousLUL()">Previous L/UL</button>
    <button (click)="showHalt()" style="margin-left:3px">Show Halt</button>
    <button (click)="showTrail()" style="margin-left:3px">Show Trail</button>
    <!-- <button (click)="showHide()" style="margin-left:10px">{{showHideSite}}</button> -->
    <button (click)="beforeLatchTime()" style="margin-left:3px">Before ltime</button>
    <input type="text" style="cursor: pointer;margin-left:3px;" autocomplete="off" (click)="getDate('date')"
      placeholder="Custom LTime" [value]="customDate | date: 'dd MMM yyyy'" name="date" readonly>
    <button id="addAutomaticHalt" (click)="addAutomaticHalt()" style="margin-left:3px">Add Auto Halt </button>
    <button id="addManualHalt" (click)="openManualHalt('vehicleEvent')" style="margin-left:3px">Manual Halt </button>
    <!-- <span style="margin-left:150px">
      <span class="zoom-btn" (click)="setZoom(6)">1</span>
      <span class="zoom-btn" (click)="setZoom(9)">2</span>
      <span class="zoom-btn" (click)="setZoom(12)">3</span>
      <span class="zoom-btn" (click)="setZoom(15)">4</span>
      <span class="zoom-btn" (click)="setZoom(18)">5</span>
    </span> -->
  </div>



  <!-- table div location -->
  <div [class]=" lUlBtn?' map-container col-sm-5':'map-container col-sm-6'">

    <div #map id="map" style="margin-left:10px"> </div>

    <!-- <div class="time-line-event" style="height:50px">
        <div class="time-line-scale"></div>
        <div *ngFor="let event of vehEvent; let i = index;"  class="time-line-circle"
        [ngStyle]="{background: '#'+event.color, left: event.position + '%', width:event.width+'vh'} " (mouseover)="setEventInfo(event)" (mouseout)="unsetEventInfo()" >
      </div>
      </div> -->
  </div>
  <!-- <accordion>
      <title>test</title>
      <details>test1</details>
    </accordion> -->
</div>