<div class="modal-header">
  <h5>Add Freight Expense</h5>
  <button type="button" class="close" aria-label="Close" (click)="closeModal()">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body">
  <div class="row mb-2">
    <div class="col-3">
      <label>Registration Number</label>
    </div>
    <div class="col-2">
      <span>{{expense.vehicleRegNo}}</span>
    </div>
    <div class="col-3">
      <label>Reference type</label>
    </div>
    <div class="col-4">
      {{expense.refTypeName}}
    </div>
  </div>




  <div class="expense-table">
    <table class="table table-bordered">
      <thead class="thead">
        <th>Heads Name</th>
        <th>Amount</th>
        <th>Action</th>
      </thead>
      <tbody>

        <tr *ngFor=" let expenseDetail of expenseDetails; let j = index; ">
          <td>
            <input class="form-control" type="text" list="otherTitles" name="expenseDetail-type"
              [(ngModel)]="expenseDetail.frHead" (change)="getFrieghtHeaderId(expenseDetail.frHead , j)">
            <datalist id="otherTitles">
              <option *ngFor="let freightHead of freightHeads ;" [value]="freightHead.r_name">
              </option>
            </datalist>
            <!-- <auto-suggestion (onSelected)="customjsonfield.field1 = $event.name;" display="name" [data]="fofields"
                  [preSelected]="{name:customjsonfield.field1}" placeholder="Name"></auto-suggestion> -->
            <!-- <select [(ngModel)]="customjsonfield.field1">
                  <option value="">Select</option>
                  <option *ngFor="let fofield of fofields ;" [value]="fofield.name">{{fofield.name}}</option>
                </select> -->
          </td>
          <td>
            <input type="number" class="form-control" [(ngModel)]="expenseDetail.value">
          </td>

          <td>

            <button class="btn btn-primary" (click)="addField(j)" *ngIf="j == expenseDetails.length-1"><i
                class="fa fa-plus add"></i></button>
            <button class="btn btn-danger" (click)="expenseDetails.splice(j,1)" *ngIf="j !== 0"><i
                class="fa fa-trash remove"></i></button>

          </td>
        </tr>



      </tbody>

    </table>
  </div>
  <div class="row mb-3 align-items-baseline">
    <div class="col-1 mr-3 pr-0">
      <span><b>Remarks</b></span>
    </div>
    <div class="col-4 pl-0">
      <textarea [(ngModel)]="expense.remarks" class="form-control"></textarea>
    </div>
    <div class="col-2 pl-0">
      <button class="btn btn-primary" form="expense-Form" id=""
        (click)="saveDetails();">{{expense.id?'Edit':'Add'}}</button>
    </div>
  </div>
  <div *ngIf="data && data.length" class="mt-3">
    <smart-table [data]="table.data" [settings]="table.settings"></smart-table>
  </div>

</div>