<nb-card style="margin:0px; border:0px;">
  <nb-card-body (keydown)="keyHandler($event)" style="padding:0px;">
    <div class="modal-header">
      <h5 class="modal-title" id="modal-basic-title">{{this.currentPage}}</h5>
      <button type="button" class="close" aria- label="Close" (click)="dismiss(false)">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body add_leader_account">
      <div class="row">
        <div class="col-9">

      <div class="row">
        <div class="form-group">
          <div class="col-md-2 text-center">
            <label>Name</label>
          </div>
          <div class="col-md-4">
            <input autocomplete="off" type="text" class="form-control" name="account-name" [(ngModel)]="Accounts.name" id="name"
              (input)="Accounts.aliasname=Accounts.name" [value]="Accounts.name |titlecase">
          </div>
          <div class="col-md-2 text-center">
            <label>Alias Name</label>
          </div>
          <div class="col-md-4">
            <input autocomplete="off" type="text" class="form-control" name="account-aliasname" id="aliasname"
              [(ngModel)]="Accounts.aliasname">
          </div>
        </div>
      </div>
     
      <div class="row">
        <div class="form-group">
          <div class="col-md-2 text-center">
            <label>Under Group</label>
          </div>
          <div class="col-md-4">
            <!-- <auto-suggestion (onSelected)="onParent($event, 'account', 'name')" url="Suggestion/GetAccount"
              display="name" inputId="undergroup" [data]="underGroupdata" name="undergroup" placeholder="Search Parent Account" [preSelected]="null"></auto-suggestion> -->
              <!-- <input autocomplete="off" type="text" id="undergroup" class="form-control" name="undergroup" [(ngModel)]="Accounts.account.name"> -->
              <input autocomplete="off" type="text" class="form-control" id="undergroup" name="undergroup" [(ngModel)]="Accounts.undergroup.name"
              (click)="lastActiveId = 'ledger-'; allowBackspace = false;" (input)="allowBackspace = false;">
            </div>
          <div class="col-md-2 text-center">
            <label>Per Rate</label>
          </div>
          <div class="col-md-4">
            <input autocomplete="off" type="number" class="form-control" name="account-perrate" id="perrate"
              [(ngModel)]="Accounts.perrate">
          </div>
        </div>
      </div><div class="row">
        <div class="form-group">
          <div class="col-md-2 text-center">
            <label>Opening Balance</label>
          </div>
          <div class="col-md-4">
            <input autocomplete="off" type="text" class="form-control" name="openingbalance" [(ngModel)]="Accounts.openingbalance" id="openingbalance"
             >
          </div>
          <div class="col-md-2 text-center">
            <label>Opening Balance</label>
          </div>
          <div class="col-md-4 text-center">
            <div class="debit_box">
              <div class="debit">
                  <span>Debit</span>
                  <input autocomplete="off" type="radio" class="form-control" name="openingisdr" id="openingisdr"
                    [(ngModel)]="Accounts.openingisdr" [value]=1>
              </div>
                <div class="credit">
                    <span>Credit</span>
                    <input autocomplete="off" type="radio" class="form-control" name="openingisdr" id="openingiscr"
                      [(ngModel)]="Accounts.openingisdr" [value]=0>
                </div>
            </div>
         
           
          </div>
        </div>
      </div>
      <div class="row">
        <div class="form-group">
          <div class="col-md-2 text-center">
            <label>A/c Number</label>
          </div>
          <div class="col-md-4">
            <input type="text" class="form-control" name="accnumber" id="accnumber"
              [(ngModel)]="Accounts.accnumber">
          </div>
          <div class="col-md-2 text-center">
            <label>Is Bank</label>
          </div>
          <div class="col-md-4 text-left">
            <input type="checkbox" class="form-control checktype" name="isbank" id="isbank"
              [(ngModel)]="Accounts.isbank" [value]=0 (ngModelChange)="changeevent(this.value)">
          </div>
        </div>
      </div>
      <div class="row" *ngIf="Accounts.isbank == 1">
        <div class="form-group">
          <div class="col-md-2 text-center">
            <label>Bank Branch Name</label>
          </div>
          <div class="col-md-2">
            <input type="text" class="form-control" name="branchname" [(ngModel)]="Accounts.branchname" id="branchname"
             >
          </div>
          <div class="col-md-2 text-center">
            <label>Bank Branch Code</label>
          </div>
          <div class="col-md-2">
            <input type="text" class="form-control" name="branchcode" id="branchcode"
              [(ngModel)]="Accounts.branchcode">
          </div>
          <div class="col-md-2 text-center">
            <label>Credit Days</label>
          </div>
          <div class="col-md-2">
            <input type="number" class="form-control" name="creditdays" ng-maxlength="3"  [(ngModel)]="Accounts.creditdays" id="creditdays"
            >
          </div>
        </div>
      </div>
      <div class="row" *ngIf="(this.common.params)"> 
        <div class="form-group">
          <div class="col-md-2 text-center">
            <label>For Approved</label>
          </div>
          <div class="col-md-2">
            <div class="true_false">
                <div class="true">
                    <span>True</span>
                    <input type="radio" class="form-control" name="approved" [(ngModel)]="Accounts.approved" id="approvedtrue"
                    [value]=1 > 
                  </div>
                  <div class="false">
                      <span>False</span>
                    <input type="radio" class="form-control" name="approved" [(ngModel)]="Accounts.approved" id="approvedfalse"
                    [value]=0 >
                  </div>
            </div>
          </div>
          <div class="col-md-2 text-center">
            <label>For Review</label>
          </div>
          <div class="col-md-2">
            <div class="true_false">
              <div class="true">
              <span>True</span>
              <input type="radio" class="form-control" name="deleteview" [(ngModel)]="Accounts.deleteview" id="deleteviewtrue"
              [value]=1 >
              </div>
              <div class="false">
                  <span>False</span>
                  <input type="radio" class="form-control" name="deleteview" [(ngModel)]="Accounts.deleteview" id="deleteviewfalse"
                  [value]=0 >
                </div>
            </div>
          </div>
          <!-- <div class="col-md-2 text-center">
            <label>Delete</label>
          </div> -->
          <!-- <div class="col-md-2">
            <div class="true_false">
              <div class="true">
                <span>True</span>
                <input type="radio" class="form-control" name="delete" [(ngModel)]="Accounts.delete" id="deletetrue"
            [value]=1 >
              </div>
              <div class="false">
                <span>False</span>
                <input type="radio" class="form-control" name="delete" [(ngModel)]="Accounts.delete" id="deletefalse"
            [value]=0 >
              </div>
            </div>
          </div> -->
          
        </div>
      </div>
    </div>
    <div class="col-3">
      <!-- <div class="form-group" *ngIf="this.activeId.includes('user')">
        <auto-suggetion-in-side [data]="userdata" targetId="user" display="name" (select)="onSelected($event, 'user', 'name')"></auto-suggetion-in-side>
      </div> -->  

      <auto-suggetion-in-side [data]="autoSuggestion.data" [targetId]="autoSuggestion.targetId"
          [display]="autoSuggestion.display" (select)="onSelect($event, autoSuggestion.targetId)"></auto-suggetion-in-side>

      <!-- <div class="form-group" *ngIf="this.activeId.includes('undergroup')">
        <auto-suggetion-in-side [data]="underGroupdata" targetId="undergroup" display="name" (select)="onParent($event, 'account', 'name')"></auto-suggetion-in-side>
      </div> -->
      
      
     
    </div>
  </div>

      <table class="invoice_tabel">
        <thead style="background: #263238; color:#fff;">
            <tr>
                <th>Salutation</th>
                <th>Name</th>
                <th>Mobile No.</th>
                <th>Email</th>
                <th>Pan No.</th>
                <th>Tan No.</th>
                <th>Gst No.</th>
                <th>State</th>
                <th>City</th>
                <th>Address</th>
                <th>Remarks</th>
                <th>&nbsp;</th>
              </tr>
        </thead>
       <tbody>
          <tr *ngFor="let Details of Accounts.accDetails; let i = index;">
              <td>
                <!-- <auto-suggestion (onSelected)="Details.salutationId = $event.id;" url="Suggestion/GetSalutation"
                  display="name" [inputId]="'salution-' + i" [data]="salutiondata" placeholder="Enter Salutation" [preSelected]="{name:' '}">
                </auto-suggestion> -->  
                <input type="text" class="form-control" autocomplete="off" [id]="'salutation-'+i" name="'salutation-'+i" [(ngModel)]="Details.salutation.name"
              (click)="lastActiveId = 'salutation-' + i; allowBackspace = false;" (input)="allowBackspace = false;">
              </td>
              <td>
                <input type="text" class="form-control" autocomplete="off" name="account-name" [(ngModel)]="Details.name"
                  [id]="'accountName-' + i" [value]="Accounts.name" >
              </td>
              <td>
                <input type="number" class="form-control" autocomplete="off" name="account-mobileno" [id]="'mobileno-' + i"
                  [(ngModel)]="Details.mobileNo" minlength="10" maxlength="10">
              </td>
              <td>
                <input type="email" class="form-control" autocomplete="off" name="account-email" [id]="'email-' + i"
                  [(ngModel)]="Details.email">
              </td>
              <td>
                <input type="text" class="form-control" autocomplete="off" name="account-name" [id]="'panNo-' + i" ng-maxlength="10" [(ngModel)]="Details.panNo">
              </td>
              <td>
                <input type="text" class="form-control" autocomplete="off" name="account-name" [id]="'tanNo-' + i" ng-maxlength="15" [(ngModel)]="Details.tanNo">
              </td>
              <td>
                <input type="text" class="form-control" autocomplete="off" name="account-name" [id]="'gstNo-' + i" ng-maxlength="15" [(ngModel)]="Details.gstNo">
              </td>
              <td>
                <input type="text" class="form-control" autocomplete="off" [id]="'state-'+i" name="'state-'+i" [(ngModel)]="Details.state.name"
                (click)="lastActiveId = 'state-' + i; allowBackspace = false;" (input)="allowBackspace = false;">
              </td>
              <td>
                  <input type="text" class="form-control" autocomplete="off" [id]="'city-'+i" name="'city-'+i" [(ngModel)]="Details.city.name"
                  (click)="lastActiveId = 'city-' + i; allowBackspace = false;" (input)="allowBackspace = false;">

                <!-- <auto-suggestion (onSelected)="Details.cityId = $event.id;" url="Suggestion/GetCity" display="name"
                  [inputId]="'city-' + i" [name]="'city-' + i"  placeholder="Enter City" [preSelected]="null">
                </auto-suggestion> -->
              </td>
              <td>
                <input type="text" class="form-control" autocomplete="off" name="account-name" [id]="'address-' + i"
                  [(ngModel)]="Details.address">
              </td>
              <td>
                <input type="text" class="form-control" autocomplete="off" name="account-name" [id]="'remarks-' + i"
                  [(ngModel)]="Details.remarks">
              </td>
              <td *ngIf="i == 0">
                <button (click)="addDetails()" class="plustransparent btn btn-plus btn-primary"><i class="fa fa-plus"
                    style="font-size: 40px;"></i></button>
              </td>
              <td *ngIf="i !== 0">
                <button (click)="Accounts.accDetails.splice(i,1)" class="btn btn-danger">
                    <i class="fa fa-trash"></i>
                </button>
              </td>
            </tr>
       </tbody>
      </table>

      <!--div class="row">
      <div class="form-group">
        <div class="col-md-4 text-center">
          <label>Salutation</label>
        </div>
        <div class="col-md-8">
            <input type="text" class="form-control" name="account-name" [(ngModel)]="Accounts.salutationId">
        </div>
      </div>
  </div>
  <div class="row">
      <div class="form-group">
        <div class="col-md-4 text-center">
          <label>Mobile No.</label>
        </div>
        <div class="col-md-8">
            <input type="text" class="form-control" name="account-mobileno" [(ngModel)]="Accounts.mobileNo">
        </div>
      </div>
  </div>
  
  <div class="row">
      <div class="form-group">
        <div class="col-md-4 text-center">
          <label>Email</label>
        </div>
        <div class="col-md-8">
            <input type="text" class="form-control" name="account-email" [(ngModel)]="Accounts.email">
        </div>
      </div>
  </div>
  
  <div class="row">
      <div class="form-group">
        <div class="col-md-4 text-center">
          <label>Pan No.</label>
        </div>
        <div class="col-md-8">
            <input type="text" class="form-control" name="account-name" [(ngModel)]="Accounts.panNo">
        </div>
      </div>
  </div>
  
  <div class="row">
      <div class="form-group">
        <div class="col-md-4 text-center">
          <label>Tan No</label>
        </div>
        <div class="col-md-8">
            <input type="text" class="form-control" name="account-name" [(ngModel)]="Accounts.tanNo">
        </div>
      </div>
  </div>
  
  <div class="row">
      <div class="form-group">
        <div class="col-md-4 text-center">
          <label>Gst No.</label>
        </div>
        <div class="col-md-8">
            <input type="text" class="form-control" name="account-name" [(ngModel)]="Accounts.gstNo">
        </div>
      </div>
  </div>
  
  
  <div class="row">
      <div class="form-group">
        <div class="col-md-4 text-center">
          <label>City</label>
        </div>
        <div class="col-md-8">
            <input type="text" class="form-control" name="account-name" [(ngModel)]="Accounts.cityId">
        </div>
      </div>
  </div> 
  <div class="row">
      <div class="form-group">
        <div class="col-md-4 text-center">
          <label>Address</label>
        </div>
        <div class="col-md-8">
            <input type="text" class="form-control" name="account-name" [(ngModel)]="Accounts.address">
        </div>
      </div>
  </div>
  <div class="row">
      <div class="form-group">
        <div class="col-md-4 text-center">
          <label>Remarks</label>
        </div>
        <div class="col-md-8">
            <input type="text" class="form-control" name="account-name" [(ngModel)]="Accounts.remarks">
        </div>
      </div>
  </div-->
    </div>

    <div class="modal-footer">
      <div class="row">
        <div class="col"  *ngIf="(this.common.params && (this.deletedid == 0))">
          <button class="btn btn-danger" type="button" outline (click)="delete(this.Accounts.id)" id="delete"
            style="cursor: pointer;">Delete</button>
        </div>
        <div class="col"  *ngIf="(this.common.params && (this.deletedid == 1))">
          <button class="btn btn-danger" type="button" outline (click)="permantdelete(this.Accounts.id)" id="delete"
            style="cursor: pointer;">Permanent Delete</button>
        </div>
       
        <div class="col text-right" *ngIf="(this.deletedid == 0)">
          <button class="btn btn-primary" type="button" outline (click)="dismiss(true)" id="submit"
            style="cursor: pointer;">Submit
          </button>
        </div>
        <div class="col text-right" *ngIf="(this.common.params && (this.deletedid == 1))">
          <button class="btn btn-primary" type="button" outline (click)="dismiss(true)" id="submit"
            style="cursor: pointer;">Restore
          </button>
        </div>
        <div class="col">
            <button class="btn btn-danger" type="button" outline (click)="dismiss(false)" id="cancel"
              style="cursor: pointer;">Cancel</button>
          </div>
      </div>
    </div>
  </nb-card-body>
</nb-card>


<div class="date-modal" *ngIf="showConfirm" (keydown)="keyHandler($event)">
  <div class="date-modal-body data_model_save">
    <div>
      <p>Are you want to save ?</p>
      <button (click)="dismiss(true)">Yes</button> <span>&nbsp;&nbsp;&nbsp;</span> <button (click)="modelCondition()">No</button>
    </div>
  </div>
</div>

<div class="date-modal" *ngIf="showExit" (keydown)="keyHandler($event)">
  <div class="date-modal-body data_model_save">
    <div>
      <p>Are you sure want to close ?</p>
      <button>Yes</button> <span>&nbsp;&nbsp;&nbsp;</span> <button>No</button>
    </div>
  </div>
</div>