<nb-card>
  <nb-card-header>
    <h2>Tyre Healthup Check</h2>
  </nb-card-header>

  <nb-card-body>
    <div class="row">
      <!-- <div class="col-sm-1"> </div> -->
      <div class="col-sm-2"><label class="label1"><b>Customer Name </b> </label> </div>
      <div class="col-sm-3">
        <input type="text" class="form-control" placeholder="search customer" (input)="searchUser()" name="searchString"
          [(ngModel)]="searchString" autocomplete="off">
        <div>
          <ul *ngIf=" (showSuggestions)&&(foUsers.length >  0)">
            <li *ngFor="let foUser of foUsers;" (click)="selectUser(foUser)">
              {{ foUser.name}} - {{foUser.mobileno}}
            </li>
          </ul>
        </div>
        <div>
        </div>
      </div>
      <div class="col-sm-2">
        <select [(ngModel)] = "vehicleType" class="form-control" required (change)="resetVehDetails()">
        <option value="truck">Truck</option>
        <option value="trolly">Trolly</option>
      </select>
      </div>
      <div class="col-sm-1"><label><b>Vehicle No.</b></label></div>
      <div class="col-sm-2 ">
        <input id="vehicleNo" name="vehicleNo" type="text" placeholder=" Enter Vehicle No" (input)="searchVehicles()"
          autocomplete="off" class="form-control" [(ngModel)]="searchVehicleString">
        <div>
          <ul *ngIf=" (vehicleSuggestion)&&(vehicles.length >  0)">
            <li *ngFor="let vehicle of vehicles;" (click)="selectVehicle(vehicle)">
              {{ vehicle.regno}} - {{vehicle.id}}
            </li>
          </ul>
        </div>
      </div>
      <div class="col-sm-1">
        <button class="btn btn-primary" type="button" outline (click)="searchData()" id="reminder" style="cursor: pointer;">Search</button>
      </div>
    </div>
    <div style="margin-top:20px">
      <table class="table table-bordered table-hover" *ngIf="tyres">
        <thead class="thead">
          <tr>
            <th># </th>
            <th>Tyre No </th>
            <th>Position</th>
            <th>Date</th>
            <th>NSD-1 </th>
            <th>NSD-2 </th>
            <th>NSD-3 </th>
            <th>PSI</th>
          </tr>

        </thead>
        <tbody>
          <tr *ngFor="let tyre of tyres; let i = index;">
            <td>{{i+1}}</td>
            <td>{{tyre.tyrenum}}            </td>
            <td>{{tyre.tyrepos}}</td>
            <td>{{tyre.dttime}}</td>
            <td><input type="text" [(ngModel)] = "tyre.ns1" maxlength="5" ></td>
            <td><input type="text" [(ngModel)] = "tyre.ns2" maxlength="5" ></td>
            <td><input type="text" [(ngModel)] = "tyre.ns3" maxlength="5"  ></td>
            <td><input type="text" [(ngModel)] = "tyre.psi" maxlength="5" ></td>
          </tr>
        </tbody>
      </table>
      <div style="margin-top: 30px; border:1px solid gray "  *ngIf="tyres.length">
        <div class="row row-width">
          <div class="col-sm-1"> </div>
          <div class="col-sm-2"><label class="label1"><b>Remark </b> </label> </div>
          <div class="col-sm-3">
            <input type="text" class="form-control" placeholder="Remark" name="remark" [(ngModel)]="remark" autocomplete="off">
          </div>
          <div class="col-sm-1"></div>
          <div class="col-sm-1"><label><b>Status</b></label></div>
          <div class="col-sm-3 ">
            <input id="status" name="status" type="text" placeholder=" Status" autocomplete="off" class="form-control"
              [(ngModel)]="status">
          </div>
        </div>
        <div class="row row-width">
            <div class="col-sm-1"> </div>
            <div class="col-sm-2"><label class="label1"><b>Checked By </b> </label> </div>
            <div class="col-sm-3">
                <select [(ngModel)] = "checkedBy" class="form-control" required>
                    <option *ngFor="let admin of admins" [value]="admin.id">{{admin.employeename}}</option>
                    </select>
            </div>
            <div class="col-sm-1"></div>
            <div class="col-sm-1"><label><b>Date</b></label></div>
            <div class="col-sm-3">
                <input type="text" style="cursor: pointer;" class="form-control" autocomplete="off" (click)="getDate('date')" placeholder="Select Date"
                [value]="date | date: 'dd MMM yyyy'" name="date" readonly >
              <!-- <input id="otherDetails" name="date" type="text" placeholder="date" autocomplete="off" class="form-control"  [(ngModel)]="date"> -->
            </div>
          </div>
          <div class="row row-width"  style="margin-bottom:50px">
              <div class="col-sm-1">  </div>
              <div class="col-sm-2">  </div>
              <div class="col-sm-3" >
              <button class="btn btn-primary" type="button" outline (click)="saveDetails()" id="saveDetails" style="cursor: pointer; margin-left:15px">Save</button>
              </div>
            <div class="col-sm-5"></div>
            </div>
      </div>
  
    </div>
    <div class="no-data" *ngIf="!tyres.length">
        No Data available !
      </div> 
  </nb-card-body>
</nb-card>