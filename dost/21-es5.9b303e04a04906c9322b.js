!function(){function e(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=n(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return l=e.done,e},e:function(e){s=!0,r=e},f:function(){try{l||null==a.return||a.return()}finally{if(s)throw r}}}}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{le5C:function(n,a,o){"use strict";o.r(a),o.d(a,"VehicleMaintenanceModule",(function(){return st}));var l,s=o("SVse"),c=o("qfBg"),d=o("8Y7J"),p=o("iInd"),m=o("IAMq"),g=o("tKwJ"),h=((l=function e(t,n){r(this,e),this.user=t,this.router=n}).\u0275fac=function(e){return new(e||l)(d["\u0275\u0275directiveInject"](c.a),d["\u0275\u0275directiveInject"](p.c))},l.\u0275cmp=d["\u0275\u0275defineComponent"]({type:l,selectors:[["ngx-pages"]],decls:3,vars:1,consts:[["autoCollapse","true",3,"items"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"ngx-sample-layout"),d["\u0275\u0275element"](1,"nb-menu",0),d["\u0275\u0275element"](2,"router-outlet"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("items",t.user._menu.vehicleMaintenance))},directives:[m.a,g.W,p.h],encapsulation:2}),l),u=o("6ugN"),f=o("IarD"),b=o("H+bZ"),v=o("OlR4"),x=o("Ig2y"),C=o("NTD5"),y=o("G0yt"),_=o("s7LF"),M=o("csNM"),k=o("0zba");function S(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",6),d["\u0275\u0275elementStart"](1,"label"),d["\u0275\u0275text"](2," Service Category"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]())}function O(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",6),d["\u0275\u0275elementStart"](1,"select",12),d["\u0275\u0275listener"]("ngModelChange",(function(e){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().serviceDetails.serviceCategory=e})),d["\u0275\u0275elementStart"](2,"option",28),d["\u0275\u0275text"](3,"Company"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"option",29),d["\u0275\u0275text"](5,"Own"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngModel",a.serviceDetails.serviceCategory)}}function w(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"label",30),d["\u0275\u0275elementStart"](1,"input",31),d["\u0275\u0275listener"]("ngModelChange",(function(e){d["\u0275\u0275restoreView"](n);var a=t.index;return d["\u0275\u0275nextContext"]().isChecks[a]=e}))("change",(function(){d["\u0275\u0275restoreView"](n);var e=t.$implicit,a=t.index,o=d["\u0275\u0275nextContext"]();return o.addType(e.id,o.isChecks[a])})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,o=t.index,i=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngModel",i.isChecks[o]),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"]("",a.name," ")}}function P(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",6),d["\u0275\u0275elementStart"](1,"label"),d["\u0275\u0275text"](2,"Labour Cost"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]())}function E(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",6),d["\u0275\u0275elementStart"](1,"input",32),d["\u0275\u0275listener"]("ngModelChange",(function(e){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().serviceDetails.labourCost=e})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngModel",a.serviceDetails.labourCost)}}function I(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"i",41),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](n);var e=d["\u0275\u0275nextContext"](3);return e.addMoreItems(e.i)})),d["\u0275\u0275elementEnd"]()}}function D(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"i",42),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](n);var e=d["\u0275\u0275nextContext"]().index;return d["\u0275\u0275nextContext"](2).items.splice(e,1)})),d["\u0275\u0275elementEnd"]()}}function T(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"tr"),d["\u0275\u0275elementStart"](1,"span"),d["\u0275\u0275elementStart"](2,"td"),d["\u0275\u0275elementStart"](3,"input",35),d["\u0275\u0275listener"]("ngModelChange",(function(e){return d["\u0275\u0275restoreView"](n),t.$implicit.name=e})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"td"),d["\u0275\u0275elementStart"](5,"input",36),d["\u0275\u0275listener"]("ngModelChange",(function(e){return d["\u0275\u0275restoreView"](n),t.$implicit.quantity=e})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"td"),d["\u0275\u0275elementStart"](7,"span"),d["\u0275\u0275elementStart"](8,"input",37),d["\u0275\u0275listener"]("ngModelChange",(function(e){return d["\u0275\u0275restoreView"](n),t.$implicit.amount=e})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"td",38),d["\u0275\u0275elementStart"](10,"span"),d["\u0275\u0275template"](11,I,1,0,"i",39),d["\u0275\u0275template"](12,D,1,0,"i",40),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,o=t.index,i=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngModel",a.name),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngModel",a.quantity),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngModel",a.amount),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",o==i.items.length-1),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",0!==o)}}function z(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"table",33),d["\u0275\u0275elementStart"](1,"thead"),d["\u0275\u0275elementStart"](2,"tr"),d["\u0275\u0275elementStart"](3,"th"),d["\u0275\u0275elementStart"](4,"label"),d["\u0275\u0275text"](5," Item Details"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"th"),d["\u0275\u0275elementStart"](7,"label"),d["\u0275\u0275text"](8," Actions"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"tbody"),d["\u0275\u0275template"](10,T,13,5,"tr",34),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](10),d["\u0275\u0275property"]("ngForOf",n.items)}}function V(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",43),d["\u0275\u0275elementStart"](1,"button",44),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().addService()})),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](a.btn2)}}function F(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"button",44),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().addService()})),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()}if(2&e){var a=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](a.btn3)}}var j,A=function(e){return{service_center:e}},R=((j=function(){function e(t,n,a,o,i,l){r(this,e),this.api=t,this.common=n,this.date=a,this.user=o,this.modalService=i,this.activeModal=l,this.title="",this.btn1="",this.btn2="",this.btn3="Submit",this.isFormSubmit=!1,this.vehicleId=null,this.regno=null,this.serviceType=[],this.serviceId=null,this.typeId=null,this.isItem=0,this.isChecks={},this.serviceDetails={lastServiceDate:null,invoiceNo:null,serviceCategory:"1",scheduleServices:"true",lastServiceKm:null,nextServiceDate:null,nextServiceKm:null,serviceCenter:null,serviceLocation:null,amount:0,totalAmount:0,tax:0,labourCost:null,remark:null},this.services=[],this.items=[{name:null,quantity:null,amount:null},{name:null,quantity:null,amount:null}],this.edit=0,this.serviceCenters=[],this.title=this.common.params.title||"Vehicle Job Card",this.btn1=this.common.params.btn1||"Cancel",this.btn2=this.common.params.btn2||"Add",this.vehicleId=this.common.params.vehicleId,this.regno=this.common.params.regno,this.serviceMaintenanceType(),this.getServiceCenters()}return i(e,[{key:"ngOnInit",value:function(){}},{key:"closeModal",value:function(e){this.activeModal.close({response:e})}},{key:"serviceMaintenanceType",value:function(){var e=this;this.common.loading++,this.api.get("VehicleMaintenance/getHeadMaster").subscribe((function(t){e.common.loading--,e.serviceType=t.data,console.log("Maintenance Type",e.serviceType)}),(function(t){e.common.loading--,console.log(t)}))}},{key:"getServiceCenters",value:function(){var e=this;this.common.loading++,this.api.get("VehicleMaintenance/getServiceCenters").subscribe((function(t){e.common.loading--,e.serviceCenters=t.data,console.log("servicecenters",e.serviceCenters)}),(function(t){e.common.loading--,console.log(t)}))}},{key:"addService",value:function(){var e=this,t={id:this.serviceId?this.serviceId:null,vId:this.vehicleId,regno:this.regno,invoiceNo:this.serviceDetails.invoiceNo,isScheduledService:this.serviceDetails.scheduleServices,serviceCategory:this.serviceDetails.serviceCategory,lastServiceDate:this.common.dateFormatter(this.serviceDetails.lastServiceDate),lastServiceKm:this.serviceDetails.lastServiceKm,nextServiceDays:null,nextServiceKm:null,serviceCenter:this.serviceDetails.serviceCenter,serviceLocation:this.serviceDetails.serviceLocation,amount:this.serviceDetails.amount,tax:this.serviceDetails.tax,labourCost:this.serviceDetails.labourCost,remark:this.serviceDetails.remark,items:JSON.stringify(this.items),services:this.arrayToString(this.services)};console.log("Params:",t),this.common.loading++,this.api.post("VehicleMaintenance/add",t).subscribe((function(t){e.common.loading--,console.log("response:",t),t.data[0].r_id>0?(e.common.showToast("Sucessfully Added",1e4),e.closeModal(!0)):e.common.showError(t.data[0].r_msg)}),(function(t){e.common.loading--,console.log(t)}))}},{key:"arrayToString",value:function(e){var t="";return e.forEach((function(e){t+=e+","})),t=""==t?"":t.substr(0,t.length-1)}},{key:"addMoreItems",value:function(e){console.log("addmore items on ",e),this.items.push({name:null,quantity:null,amount:null})}},{key:"addType",value:function(e,t){t?this.services=this.common.unionArrays(this.services,[e]):this.services.splice(this.services.findIndex((function(t){return t==e})),1)}},{key:"calculateAmount",value:function(){this.serviceDetails.totalAmount=this.serviceDetails.amount+this.serviceDetails.tax}},{key:"selectServiceCenter",value:function(e){e=e.service_center.split("-"),this.serviceDetails.serviceCenter=e[0],this.serviceDetails.serviceLocation=e[1]}},{key:"setServiceCenter",value:function(){this.serviceDetails.serviceCenter=this.serviceDetails.serviceCenter?this.serviceDetails.serviceCenter:document.getElementById("service_center").value}}]),e}()).\u0275fac=function(e){return new(e||j)(d["\u0275\u0275directiveInject"](b.a),d["\u0275\u0275directiveInject"](v.a),d["\u0275\u0275directiveInject"](x.a),d["\u0275\u0275directiveInject"](C.a),d["\u0275\u0275directiveInject"](y.r),d["\u0275\u0275directiveInject"](y.b))},j.\u0275cmp=d["\u0275\u0275defineComponent"]({type:j,selectors:[["add-maintenance"]],decls:103,vars:28,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col-md-3"],["type","text","placeholder","Invoice No","name","invoiceNo",1,"form-control",3,"ngModel","ngModelChange"],[3,"isTime","dateTimeValue","onChanged"],["type","number","placeholder","Km","name","lastServiceKm","maxlength","8",1,"form-control",3,"ngModel","ngModelChange"],["display","service_center","placeholder","Service Center","inputId","service_center",3,"data","preSelected","onSelected","focusout"],["type","text","placeholder","Location","name","serviceLocation",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["value","true"],["value","false"],["class","col-md-3",4,"ngIf"],["type","number","placeholder","Amount","name","amount",1,"form-control",3,"ngModel","ngModelChange","change"],["type","number","placeholder","Tax","name","tax",1,"form-control",3,"ngModel","ngModelChange","change"],["type","text","placeholder","Remark","name","amount",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-9","checkbox-flex"],["class","inside-checkbox",4,"ngFor","ngForOf"],[3,"value"],["class","table table-bordered",4,"ngIf"],[1,"modal-footer"],["class","col text-right",4,"ngIf","ngIfElse"],["update",""],[1,"col"],["type","button","id","cancel",1,"btn","btn-danger",2,"cursor","pointer",3,"click"],["value","1"],["value","2"],[1,"inside-checkbox"],["type","checkbox",3,"ngModel","ngModelChange","change"],["type","number","placeholder","Labour Cost","name","labourCost",1,"form-control",3,"ngModel","ngModelChange"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],["type","text","placeholder"," Item Name",1,"form-control",3,"ngModel","ngModelChange"],["type","number","placeholder","Quantity",1,"form-control",3,"ngModel","ngModelChange"],["type","number","placeholder","Amount",1,"form-control",2,"width","70%","display","inline-block","margin-right","5px",3,"ngModel","ngModelChange"],[2,"padding","0px"],["class","fa fa-plus add","style","padding: 1px;\n                color: green;",3,"click",4,"ngIf"],["class","fa fa-minus minus","style","padding: 1px;\n              color: red;",3,"click",4,"ngIf"],[1,"fa","fa-plus","add",2,"padding","1px","color","green",3,"click"],[1,"fa","fa-minus","minus",2,"padding","1px","color","red",3,"click"],[1,"col","text-right"],["form","service-form","type","submit","id","submit",1,"btn","btn-primary",2,"cursor","pointer",3,"click"]],template:function(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"h5",1),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"button",2),d["\u0275\u0275listener"]("click",(function(){return t.closeModal(!1)})),d["\u0275\u0275elementStart"](4,"span",3),d["\u0275\u0275text"](5,"\xd7"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"div",4),d["\u0275\u0275elementStart"](7,"div",5),d["\u0275\u0275elementStart"](8,"div",6),d["\u0275\u0275elementStart"](9,"label"),d["\u0275\u0275text"](10," Vehicle Number "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"div",6),d["\u0275\u0275elementStart"](12,"span"),d["\u0275\u0275text"](13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"div",6),d["\u0275\u0275elementStart"](15,"label"),d["\u0275\u0275text"](16,"Invoice No."),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"div",6),d["\u0275\u0275elementStart"](18,"input",7),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.serviceDetails.invoiceNo=e})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](19,"div",5),d["\u0275\u0275elementStart"](20,"div",6),d["\u0275\u0275elementStart"](21,"label"),d["\u0275\u0275text"](22,"Service Date"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](23,"div",6),d["\u0275\u0275elementStart"](24,"uj-date-time-picker",8),d["\u0275\u0275listener"]("onChanged",(function(e){return t.serviceDetails.lastServiceDate=e})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](25,"div",6),d["\u0275\u0275elementStart"](26,"label"),d["\u0275\u0275text"](27,"Odometer"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](28,"div",6),d["\u0275\u0275elementStart"](29,"input",9),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.serviceDetails.lastServiceKm=e})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](30,"div",5),d["\u0275\u0275elementStart"](31,"div",6),d["\u0275\u0275elementStart"](32,"label"),d["\u0275\u0275text"](33,"Service Center"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](34,"div",6),d["\u0275\u0275elementStart"](35,"auto-suggestion",10),d["\u0275\u0275listener"]("onSelected",(function(e){return t.selectServiceCenter(e)}))("focusout",(function(){return t.setServiceCenter()})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](36,"div",6),d["\u0275\u0275elementStart"](37,"label"),d["\u0275\u0275text"](38,"Service Location"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](39,"div",6),d["\u0275\u0275elementStart"](40,"input",11),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.serviceDetails.serviceLocation=e})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](41,"div",5),d["\u0275\u0275elementStart"](42,"div",6),d["\u0275\u0275elementStart"](43,"label"),d["\u0275\u0275text"](44,"Scheduled Service"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](45,"div",6),d["\u0275\u0275elementStart"](46,"select",12),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.serviceDetails.scheduleServices=e})),d["\u0275\u0275elementStart"](47,"option",13),d["\u0275\u0275text"](48,"Yes"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](49,"option",14),d["\u0275\u0275text"](50,"No"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](51,S,3,0,"div",15),d["\u0275\u0275template"](52,O,6,1,"div",15),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](53,"div",5),d["\u0275\u0275elementStart"](54,"div",6),d["\u0275\u0275elementStart"](55,"label"),d["\u0275\u0275text"](56,"Amount"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](57,"div",6),d["\u0275\u0275elementStart"](58,"input",16),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.serviceDetails.amount=e}))("change",(function(){return t.calculateAmount()})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](59,"div",6),d["\u0275\u0275elementStart"](60,"label"),d["\u0275\u0275text"](61,"Tax"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](62,"div",6),d["\u0275\u0275elementStart"](63,"input",17),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.serviceDetails.tax=e}))("change",(function(){return t.calculateAmount()})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](64,"div",5),d["\u0275\u0275elementStart"](65,"div",6),d["\u0275\u0275elementStart"](66,"label"),d["\u0275\u0275text"](67,"Total Amount"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](68,"div",6),d["\u0275\u0275elementStart"](69,"label"),d["\u0275\u0275text"](70),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](71,"div",6),d["\u0275\u0275elementStart"](72,"label"),d["\u0275\u0275text"](73,"Remark"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](74,"div",6),d["\u0275\u0275elementStart"](75,"input",18),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.serviceDetails.remark=e})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](76,"div",5),d["\u0275\u0275elementStart"](77,"div",6),d["\u0275\u0275elementStart"](78,"label"),d["\u0275\u0275text"](79,"Service Details"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](80,"div",19),d["\u0275\u0275template"](81,w,3,2,"label",20),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](82,"div",5),d["\u0275\u0275elementStart"](83,"div",6),d["\u0275\u0275elementStart"](84,"label"),d["\u0275\u0275text"](85,"Any Items"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](86,"div",6),d["\u0275\u0275elementStart"](87,"select",12),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.isItem=e})),d["\u0275\u0275elementStart"](88,"option",21),d["\u0275\u0275text"](89,"Yes"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](90,"option",21),d["\u0275\u0275text"](91,"No"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](92,P,3,0,"div",15),d["\u0275\u0275template"](93,E,2,1,"div",15),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](94,z,11,1,"table",22),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](95,"div",23),d["\u0275\u0275elementStart"](96,"div",5),d["\u0275\u0275template"](97,V,3,1,"div",24),d["\u0275\u0275template"](98,F,2,1,"ng-template",null,25,d["\u0275\u0275templateRefExtractor"]),d["\u0275\u0275elementStart"](100,"div",26),d["\u0275\u0275elementStart"](101,"button",27),d["\u0275\u0275listener"]("click",(function(){return t.closeModal(!1)})),d["\u0275\u0275text"](102),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275reference"](99);d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](t.title),d["\u0275\u0275advance"](11),d["\u0275\u0275textInterpolate"](t.regno),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngModel",t.serviceDetails.invoiceNo),d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("isTime",!1)("dateTimeValue",t.serviceDetails.lastServiceDate),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngModel",t.serviceDetails.lastServiceKm),d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("data",t.serviceCenters)("preSelected",d["\u0275\u0275pureFunction1"](26,A,t.serviceDetails.serviceCenter)),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngModel",t.serviceDetails.serviceLocation),d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("ngModel",t.serviceDetails.scheduleServices),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngIf","true"==t.serviceDetails.scheduleServices),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf","true"==t.serviceDetails.scheduleServices),d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("ngModel",t.serviceDetails.amount),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngModel",t.serviceDetails.tax),d["\u0275\u0275advance"](7),d["\u0275\u0275textInterpolate"](t.serviceDetails.totalAmount),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngModel",t.serviceDetails.remark),d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("ngForOf",t.serviceType),d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("ngModel",t.isItem),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("value",1),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("value",0),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",1==t.isItem),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",1==t.isItem),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",1==t.isItem),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",0==t.edit)("ngIfElse",n),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate"](t.btn1)}},directives:[_.d,_.r,_.u,M.a,_.x,_.m,k.a,_.D,_.w,_.G,s.u,s.t,_.a],styles:["label[_ngcontent-%COMP%]{font-weight:500}.row[_ngcontent-%COMP%]{margin-bottom:15px}.add-remove-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:4px;display:inline-block;font-size:13px;margin:10px 1px 1px}.checkbox-flex[_ngcontent-%COMP%]{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.inside-checkbox[_ngcontent-%COMP%]{width:33%;margin:0;text-align:left;line-height:normal}",'.thead[_ngcontent-%COMP%]{color:#fff;background-color:#263238}.thead[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:12px}td[_ngcontent-%COMP%]{font-weight:500;padding:8px}.thead-dark[_ngcontent-%COMP%]{color:#fff;font-size:18px;background-color:#263238}.arrow[_ngcontent-%COMP%]{font-size:18px;margin:8px}.btn[_ngcontent-%COMP%]{background:#f2f2f2;font-weight:700;margin-right:5px;margin-left:5px;margin-top:5px;display:inline-block;font-size:14px;text-align:center;height:30px;line-height:5px;border-radius:4px;font-family:Exo;color:#000;cursor:pointer}.btn.btn-danger[_ngcontent-%COMP%]{background-color:#da2240;color:#fff;background-color:#f05e77}.btn.btn-danger[_ngcontent-%COMP%]:active, .btn.btn-danger[_ngcontent-%COMP%]:focus, .btn.btn-danger[_ngcontent-%COMP%]:hover{background-color:#e22242}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#3c6ac7;color:#fff;background-color:#73a1ff}.btn.btn-primary[_ngcontent-%COMP%]:active, .btn.btn-primary[_ngcontent-%COMP%]:focus, .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0054ff}.btn.btn-default.btn-sm[_ngcontent-%COMP%]{float:right;margin-right:50%;background:#dcd9d9;color:#000;font-size:12px}.nb-theme-corporate[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:disabled):not(.disabled){cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:#f1f1f1}nb-card-body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;cursor:pointer;border-radius:0}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:start:decrement{background:linear-gradient(120deg,#696969 40%,transparent 41%),linear-gradient(240deg,#696969 40%,transparent 41%),linear-gradient(0deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:end:increment{background:linear-gradient(300deg,#696969 40%,transparent 41%),linear-gradient(60deg,#696969 40%,transparent 41%),linear-gradient(180deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:end:increment{background:linear-gradient(210deg,#696969 40%,transparent 41%),linear-gradient(330deg,#696969 40%,transparent 41%),linear-gradient(90deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:start:decrement{background:linear-gradient(30deg,#696969 40%,transparent 41%),linear-gradient(150deg,#696969 40%,transparent 41%),linear-gradient(270deg,#696969 30%,transparent 31%);background-color:#b6b6b6}.no-data[_ngcontent-%COMP%]{font-size:18px;color:#f73c3c;font-weight:600;text-align:center;width:100%}[_nghost-%COMP%]     .nb-home:before{content:"\\f015"}[_nghost-%COMP%]     .nb-notifications:before{content:"\\f145"}[_nghost-%COMP%]     .nb-title:before{content:"\\f02d"}[_nghost-%COMP%]     .nb-list:before{content:"\\f016"}[_nghost-%COMP%]     .fa-book:before{content:"\\f0d6"}[_nghost-%COMP%]     .fa-signal:before{content:"\\f043"}[_nghost-%COMP%]     .fa-truck:before{content:"\\f0d1"}[_nghost-%COMP%]     .fa-cog:before{content:"\\f013"}[_nghost-%COMP%]     .fa-database:before{content:"\\f15c";font-size:14px}[_nghost-%COMP%]     .fa-money:before{content:"\\f283";font-size:14px}[_nghost-%COMP%]     .control-icon.nb-notifications:before{content:"\\f0f3";display:block;font-family:FontAwesome;font-size:22px;margin-right:8px;margin-top:8px}[_nghost-%COMP%]     nb-base-calendar.medium nb-card{width:100%}[_nghost-%COMP%]     nb-base-calendar.medium nb-card-header{padding:10px 20px;border-bottom:1px solid #eaeaea}']}),j);function N(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",8),d["\u0275\u0275elementStart"](1,"label"),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]().$implicit,a=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](a.data[2*n+1]?a.data[2*n+1].head+":":"")}}function K(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",9),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]().$implicit,a=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",a.data[2*n+1]?a.data[2*n+1].value:""," ")}}function L(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",7),d["\u0275\u0275elementStart"](1,"div",8),d["\u0275\u0275elementStart"](2,"label"),d["\u0275\u0275text"](3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"div",9),d["\u0275\u0275text"](5),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](6,N,3,1,"div",10),d["\u0275\u0275template"](7,K,2,1,"div",11),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](a.data[2*n].head+":"),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",a.data[2*n].value," "),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",a.data[2*n+1]),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",a.data[2*n+1])}}function G(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"tr"),d["\u0275\u0275elementStart"](1,"td"),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"td"),d["\u0275\u0275text"](4),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"td"),d["\u0275\u0275text"](6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"td"),d["\u0275\u0275text"](8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=t.index;d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](a+1),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](n.Item),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](n.Quantity),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](n.Amount)}}function H(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275elementStart"](1,"h5"),d["\u0275\u0275text"](2,"Item Details"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"table",12),d["\u0275\u0275elementStart"](4,"thead"),d["\u0275\u0275elementStart"](5,"th"),d["\u0275\u0275text"](6,"#"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"th"),d["\u0275\u0275text"](8,"Item"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"th"),d["\u0275\u0275text"](10,"Quantity"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"th"),d["\u0275\u0275text"](12,"Amount"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"tbody"),d["\u0275\u0275template"](14,G,9,4,"tr",13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](14),d["\u0275\u0275property"]("ngForOf",n.items)}}var B,$=((B=function(){function e(t,n,a,o,i,l){r(this,e),this.api=t,this.common=n,this.date=a,this.user=o,this.modalService=i,this.activeModal=l,this.jobId=null,this.vehicleId=null,this.numbers=[],this.data=[],this.items=null,this.jobId=this.common.params.jobId,this.vehicleId=this.common.params.vehicleId,this.serviceMaintenanceType()}return i(e,[{key:"ngOnInit",value:function(){}},{key:"serviceMaintenanceType",value:function(){var e=this;this.common.loading++,this.api.get("VehicleMaintenance/viewDetailed?jobId="+this.jobId+"&vehicleId="+this.vehicleId).subscribe((function(t){e.common.loading--,console.log("res['data'][0]",t.data[0]);var n=Object.keys(t.data[0]);console.log("headings",n);for(var a=0;a<n.length;a++){var o=n[a],i=t.data[0][o];!o.startsWith("_")&&i&&e.data.push({head:o,value:i})}e.items=t.data[0]._itemsdetails;for(var r=0;r<Math.ceil(e.data.length/2);r++)e.numbers.push(r);console.log("Data Details",e.data)}),(function(t){e.common.loading--,console.log(t)}))}},{key:"closeModal",value:function(e){this.activeModal.close({response:e})}}]),e}()).\u0275fac=function(e){return new(e||B)(d["\u0275\u0275directiveInject"](b.a),d["\u0275\u0275directiveInject"](v.a),d["\u0275\u0275directiveInject"](x.a),d["\u0275\u0275directiveInject"](C.a),d["\u0275\u0275directiveInject"](y.r),d["\u0275\u0275directiveInject"](y.b))},B.\u0275cmp=d["\u0275\u0275defineComponent"]({type:B,selectors:[["view-maintenance"]],decls:9,vars:2,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","row",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[1,"col-md-2","head"],[1,"col-md-4","value"],["class","col-md-2 head",4,"ngIf"],["class","col-md-4 value",4,"ngIf"],[1,"table"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"h5",1),d["\u0275\u0275text"](2,"Maintenance Details"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"button",2),d["\u0275\u0275listener"]("click",(function(){return t.closeModal(!1)})),d["\u0275\u0275elementStart"](4,"span",3),d["\u0275\u0275text"](5,"\xd7"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"div",4),d["\u0275\u0275template"](7,L,8,4,"div",5),d["\u0275\u0275template"](8,H,15,1,"div",6),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("ngForOf",t.numbers),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.items))},directives:[s.t,s.u],styles:["label[_ngcontent-%COMP%]{font-weight:500}.row[_ngcontent-%COMP%]{margin-bottom:15px}.add-remove-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:4px;display:inline-block;font-size:13px;margin:10px 1px 1px}.checkbox-flex[_ngcontent-%COMP%]{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.inside-checkbox[_ngcontent-%COMP%]{width:33%;margin:0;text-align:left;line-height:normal}.value[_ngcontent-%COMP%]{padding:0 0 0 3px;font-size:medium}.head[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}",'.thead[_ngcontent-%COMP%]{color:#fff;background-color:#263238}.thead[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:12px}td[_ngcontent-%COMP%]{font-weight:500;padding:8px}.thead-dark[_ngcontent-%COMP%]{color:#fff;font-size:18px;background-color:#263238}.arrow[_ngcontent-%COMP%]{font-size:18px;margin:8px}.btn[_ngcontent-%COMP%]{background:#f2f2f2;font-weight:700;margin-right:5px;margin-left:5px;margin-top:5px;display:inline-block;font-size:14px;text-align:center;height:30px;line-height:5px;border-radius:4px;font-family:Exo;color:#000;cursor:pointer}.btn.btn-danger[_ngcontent-%COMP%]{background-color:#da2240;color:#fff;background-color:#f05e77}.btn.btn-danger[_ngcontent-%COMP%]:active, .btn.btn-danger[_ngcontent-%COMP%]:focus, .btn.btn-danger[_ngcontent-%COMP%]:hover{background-color:#e22242}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#3c6ac7;color:#fff;background-color:#73a1ff}.btn.btn-primary[_ngcontent-%COMP%]:active, .btn.btn-primary[_ngcontent-%COMP%]:focus, .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0054ff}.btn.btn-default.btn-sm[_ngcontent-%COMP%]{float:right;margin-right:50%;background:#dcd9d9;color:#000;font-size:12px}.nb-theme-corporate[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:disabled):not(.disabled){cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:#f1f1f1}nb-card-body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;cursor:pointer;border-radius:0}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:start:decrement{background:linear-gradient(120deg,#696969 40%,transparent 41%),linear-gradient(240deg,#696969 40%,transparent 41%),linear-gradient(0deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:end:increment{background:linear-gradient(300deg,#696969 40%,transparent 41%),linear-gradient(60deg,#696969 40%,transparent 41%),linear-gradient(180deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:end:increment{background:linear-gradient(210deg,#696969 40%,transparent 41%),linear-gradient(330deg,#696969 40%,transparent 41%),linear-gradient(90deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:start:decrement{background:linear-gradient(30deg,#696969 40%,transparent 41%),linear-gradient(150deg,#696969 40%,transparent 41%),linear-gradient(270deg,#696969 30%,transparent 31%);background-color:#b6b6b6}.no-data[_ngcontent-%COMP%]{font-size:18px;color:#f73c3c;font-weight:600;text-align:center;width:100%}[_nghost-%COMP%]     .nb-home:before{content:"\\f015"}[_nghost-%COMP%]     .nb-notifications:before{content:"\\f145"}[_nghost-%COMP%]     .nb-title:before{content:"\\f02d"}[_nghost-%COMP%]     .nb-list:before{content:"\\f016"}[_nghost-%COMP%]     .fa-book:before{content:"\\f0d6"}[_nghost-%COMP%]     .fa-signal:before{content:"\\f043"}[_nghost-%COMP%]     .fa-truck:before{content:"\\f0d1"}[_nghost-%COMP%]     .fa-cog:before{content:"\\f013"}[_nghost-%COMP%]     .fa-database:before{content:"\\f15c";font-size:14px}[_nghost-%COMP%]     .fa-money:before{content:"\\f283";font-size:14px}[_nghost-%COMP%]     .control-icon.nb-notifications:before{content:"\\f0f3";display:block;font-family:FontAwesome;font-size:22px;margin-right:8px;margin-top:8px}[_nghost-%COMP%]     nb-base-calendar.medium nb-card{width:100%}[_nghost-%COMP%]     nb-base-calendar.medium nb-card-header{padding:10px 20px;border-bottom:1px solid #eaeaea}']}),B),U=o("WKxc"),W=o("wD9S");function q(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"button",10),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().addMaintenance()})),d["\u0275\u0275text"](1," Add Maintenance "),d["\u0275\u0275elementEnd"]()}}function J(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",15),d["\u0275\u0275elementStart"](1,"span",16),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().common.getPDFFromTableId("maintenance")})),d["\u0275\u0275element"](2,"i",17),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"span",18),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().common.getCSVFromTableId("maintenance")})),d["\u0275\u0275element"](4,"i",19),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}}function Z(e,t){if(1&e&&d["\u0275\u0275element"](0,"smart-table",20),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275property"]("data",n.table.data)("settings",n.table.settings)}}var Q,Y=((Q=function(){function e(t,n,a,o,i){r(this,e),this.datePipe=t,this.api=n,this.common=a,this.user=o,this.modalService=i,this.suggestionData=[],this.selectedVehicle=null,this.vehicleRegno=null,this.startTime=new Date((new Date).setMonth((new Date).getMonth()-1)),this.endTime=new Date,this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={}}return i(e,[{key:"ngOnInit",value:function(){}},{key:"getvehicleData",value:function(e){console.log("Data::",e),this.selectedVehicle=e.id,this.vehicleRegno=e.regno,console.log("Vehicle Data: ",this.selectedVehicle)}},{key:"refreshAuto",value:function(){var e=document.getElementsByName("suggestion")[0].value;""!=e&&null!=e||(this.vehicleRegno=null,this.selectedVehicle=null)}},{key:"vehicleMaintenanceData",value:function(){var e=this,t={vId:this.selectedVehicle,fromDate:this.common.dateFormatter1(this.startTime),toDate:this.common.dateFormatter1(this.endTime)};this.data=[],this.common.loading++,this.api.post("VehicleMaintenance/view",t).subscribe((function(t){e.common.loading--,console.log("Data :",t),e.data=t.data||[];var n=e.data[0];for(var a in n)if("_"!=a.charAt(0)){e.headings.push(a);var o={title:e.formatTitle(a),placeholder:e.formatTitle(a)};e.table.data.headings[a]=o}e.table.data.columns=e.getTableColumns()}),(function(t){e.common.loading--,console.log(t)}))}},{key:"getTableColumns",value:function(){var e=this,t={title:this.formatTitle("Action"),placeholder:this.formatTitle("Action")};this.table.data.headings.Action=t;var n=[];return console.log("Data=",this.data),this.data.map((function(t){e.valobj={};for(var a=0;a<e.headings.length;a++)console.log("doc index value:",t[e.headings[a]]),e.valobj[e.headings[a]]={value:t[e.headings[a]],class:"black",action:""};e.valobj.Action={icons:[{class:"fa fa-cog mr-3",action:e.viewDetails.bind(e,t)},e.user.permission.delete&&{class:"fa fa-trash",action:e.deleteMaintenance.bind(e,t)}],action:null},n.push(e.valobj)})),n}},{key:"viewDetails",value:function(e){this.common.params={vehicleId:e._vid,jobId:e._jobid},this.modalService.open($,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then((function(e){}))}},{key:"formatTitle",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"addMaintenance",value:function(){var e=this;if(!this.selectedVehicle||-1==this.selectedVehicle)return this.common.showError("Please select Vehicle Number"),!1;this.common.params={title:"Add Maintenance",vehicleId:this.selectedVehicle,regno:this.vehicleRegno},this.modalService.open(R,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then((function(t){t.response&&(e.vehicleMaintenanceData(),e.getTableColumns())}))}},{key:"addAdvanceMaintenance",value:function(){var e=this;if(!this.selectedVehicle||-1==this.selectedVehicle)return this.common.showError("Please select Vehicle Number"),!1;this.common.params={title:"Add Maintenance",vehicleId:this.selectedVehicle,regno:this.vehicleRegno},this.modalService.open(U.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then((function(t){t.response&&(e.vehicleMaintenanceData(),e.getTableColumns())}))}},{key:"editMaintenance",value:function(e){var t=this;if(!this.selectedVehicle)return this.common.showError("Please select Vehicle Number"),!1;this.common.params={title:"Edit Maintenance",vehicleId:this.selectedVehicle,regno:this.vehicleRegno,row:e},this.modalService.open(R,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then((function(e){e.response&&(t.vehicleMaintenanceData(),t.getTableColumns())}))}},{key:"resetData",value:function(e){this.selectedVehicle=-1,console.log(e)}},{key:"deleteMaintenance",value:function(e){var t=this;if(confirm("Are you sure you want to delete?")){console.log("delete Maintenance",e);var n={vehicleId:e._vid,jobId:e._jobid};this.common.loading++,this.api.post("VehicleMaintenance/deleteMaintenance",n).subscribe((function(e){t.common.loading--,console.log("Data :",e),e.data[0].r_id>0?(t.vehicleMaintenanceData(),t.common.showToast("Maintenance Deleted Successfully")):t.common.showError(e.data[0].r_msg)}),(function(e){t.common.loading--,console.log(e)}))}}}]),e}()).\u0275fac=function(e){return new(e||Q)(d["\u0275\u0275directiveInject"](s.f),d["\u0275\u0275directiveInject"](b.a),d["\u0275\u0275directiveInject"](v.a),d["\u0275\u0275directiveInject"](c.a),d["\u0275\u0275directiveInject"](y.r))},Q.\u0275cmp=d["\u0275\u0275defineComponent"]({type:Q,selectors:[["add-vehicle-maintenance"]],decls:20,vars:9,consts:[[2,"margin","0px","padding-top","0px","border","0px","height","100%"],[2,"padding-bottom","0px"],[1,"container"],[1,"row"],[1,"w-100"],[1,"col-md-2","pr-0"],["url","Vehicles/getVehicleListForFoid","display","regno","placeholder","Enter Vehicle Number",2,"width","60%",3,"onSelected","change"],[3,"isTime","dateTimeValue","onChanged"],[3,"isTime","isStart","dateTimeValue","onChanged"],[1,"col-md-1","offset-md-08"],["type","submit",1,"btn","btn-primary","m-0",3,"click"],[1,"col-md-2","offset-md-08"],["type","submit","class","btn btn-primary m-0",3,"click",4,"ngIf"],["class","col-12 text-right",4,"ngIf"],["class","maintenance-details","id","maintenance",3,"data","settings",4,"ngIf"],[1,"col-12","text-right"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","10px",3,"click"],[1,"fas","fa-file-excel"],["id","maintenance",1,"maintenance-details",3,"data","settings"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"nb-card",0),d["\u0275\u0275elementStart"](1,"nb-card-body",1),d["\u0275\u0275elementStart"](2,"div",2),d["\u0275\u0275elementStart"](3,"div",3),d["\u0275\u0275elementStart"](4,"form",4),d["\u0275\u0275elementStart"](5,"div",3),d["\u0275\u0275elementStart"](6,"div",5),d["\u0275\u0275elementStart"](7,"auto-suggestion",6),d["\u0275\u0275listener"]("onSelected",(function(e){return t.getvehicleData(e)}))("change",(function(e){return t.resetData(e)})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"div",5),d["\u0275\u0275elementStart"](9,"uj-date-time-picker",7),d["\u0275\u0275listener"]("onChanged",(function(e){return t.startTime=e})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"div",5),d["\u0275\u0275elementStart"](11,"uj-date-time-picker",8),d["\u0275\u0275listener"]("onChanged",(function(e){return t.endTime=e})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"div",9),d["\u0275\u0275elementStart"](13,"button",10),d["\u0275\u0275listener"]("click",(function(){return t.vehicleMaintenanceData()})),d["\u0275\u0275text"](14," View "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"div",11),d["\u0275\u0275template"](16,q,2,0,"button",12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"div",11),d["\u0275\u0275template"](18,J,5,0,"div",13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](19,Z,1,2,"smart-table",14),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](9),d["\u0275\u0275property"]("isTime",!1)("dateTimeValue",t.startTime),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("isTime",!1)("isStart",!1)("isStart",!1)("dateTimeValue",t.endTime),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngIf",t.user.permission.add),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.data.length>0),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.data&&t.data.length>0))},directives:[g.s,g.r,_.H,_.s,_.t,k.a,M.a,s.u,W.a],styles:['.row[_ngcontent-%COMP%]{margin-bottom:15px}.btn[_ngcontent-%COMP%]{text-transform:capitalize;margin:0}[_nghost-%COMP%]     .fa-cog{color:#000;font-size:18px;cursor:pointer}[_nghost-%COMP%]     .fa-cog span{position:absolute;display:none;padding:15px 46px;font-weight:400;font-size:11px;left:-54px;top:-37px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-cog span:before{content:"Maintenance Details";display:block;position:absolute;top:0;left:0;background-color:#000;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-cog span:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #000;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-cog:hover span{display:block}[_nghost-%COMP%]     .fa-trash{color:#000;font-size:18px;cursor:pointer}[_nghost-%COMP%]     .fa-trash span{position:absolute;display:none;padding:10px 35px;font-weight:400;font-size:11px;left:-32px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-trash span:before{content:"Delete";display:block;position:absolute;top:0;left:0;background-color:#000;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-trash span:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #000;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-trash:hover span{display:block}.pdf-icon[_ngcontent-%COMP%]{font-size:24px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:24px;color:#217346}','.thead[_ngcontent-%COMP%]{color:#fff;background-color:#263238}.thead[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:12px}td[_ngcontent-%COMP%]{font-weight:500;padding:8px}.thead-dark[_ngcontent-%COMP%]{color:#fff;font-size:18px;background-color:#263238}.arrow[_ngcontent-%COMP%]{font-size:18px;margin:8px}.btn[_ngcontent-%COMP%]{background:#f2f2f2;font-weight:700;margin-right:5px;margin-left:5px;margin-top:5px;display:inline-block;font-size:14px;text-align:center;height:30px;line-height:5px;border-radius:4px;font-family:Exo;color:#000;cursor:pointer}.btn.btn-danger[_ngcontent-%COMP%]{background-color:#da2240;color:#fff;background-color:#f05e77}.btn.btn-danger[_ngcontent-%COMP%]:active, .btn.btn-danger[_ngcontent-%COMP%]:focus, .btn.btn-danger[_ngcontent-%COMP%]:hover{background-color:#e22242}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#3c6ac7;color:#fff;background-color:#73a1ff}.btn.btn-primary[_ngcontent-%COMP%]:active, .btn.btn-primary[_ngcontent-%COMP%]:focus, .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0054ff}.btn.btn-default.btn-sm[_ngcontent-%COMP%]{float:right;margin-right:50%;background:#dcd9d9;color:#000;font-size:12px}.nb-theme-corporate[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:disabled):not(.disabled){cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:#f1f1f1}nb-card-body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;cursor:pointer;border-radius:0}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:start:decrement{background:linear-gradient(120deg,#696969 40%,transparent 41%),linear-gradient(240deg,#696969 40%,transparent 41%),linear-gradient(0deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:end:increment{background:linear-gradient(300deg,#696969 40%,transparent 41%),linear-gradient(60deg,#696969 40%,transparent 41%),linear-gradient(180deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:end:increment{background:linear-gradient(210deg,#696969 40%,transparent 41%),linear-gradient(330deg,#696969 40%,transparent 41%),linear-gradient(90deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:start:decrement{background:linear-gradient(30deg,#696969 40%,transparent 41%),linear-gradient(150deg,#696969 40%,transparent 41%),linear-gradient(270deg,#696969 30%,transparent 31%);background-color:#b6b6b6}.no-data[_ngcontent-%COMP%]{font-size:18px;color:#f73c3c;font-weight:600;text-align:center;width:100%}[_nghost-%COMP%]     .nb-home:before{content:"\\f015"}[_nghost-%COMP%]     .nb-notifications:before{content:"\\f145"}[_nghost-%COMP%]     .nb-title:before{content:"\\f02d"}[_nghost-%COMP%]     .nb-list:before{content:"\\f016"}[_nghost-%COMP%]     .fa-book:before{content:"\\f0d6"}[_nghost-%COMP%]     .fa-signal:before{content:"\\f043"}[_nghost-%COMP%]     .fa-truck:before{content:"\\f0d1"}[_nghost-%COMP%]     .fa-cog:before{content:"\\f013"}[_nghost-%COMP%]     .fa-database:before{content:"\\f15c";font-size:14px}[_nghost-%COMP%]     .fa-money:before{content:"\\f283";font-size:14px}[_nghost-%COMP%]     .control-icon.nb-notifications:before{content:"\\f0f3";display:block;font-family:FontAwesome;font-size:22px;margin-right:8px;margin-top:8px}[_nghost-%COMP%]     nb-base-calendar.medium nb-card{width:100%}[_nghost-%COMP%]     nb-base-calendar.medium nb-card-header{padding:10px 20px;border-bottom:1px solid #eaeaea}']}),Q);function X(e,t){if(1&e&&d["\u0275\u0275element"](0,"smart-table",12),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275property"]("data",n.table.data)("settings",n.table.settings)}}var ee,te=((ee=function(){function e(t,n,a,o,i,l){r(this,e),this.api=t,this.datePipe=n,this.common=a,this.user=o,this.modalService=i,this.activeModal=l,this.title="",this.data=[],this.fodata=[],this.reportData={id:null,status:""},this.selectedVehicle=null,this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.common.handleModalSize("class","modal-lg","1200"),this.title=this.common.params.title,this.reportData.status=this.common.params.status,console.info("report data",this.reportData),this.getReport()}return i(e,[{key:"ngOnInit",value:function(){}},{key:"closeModal",value:function(e){this.activeModal.close({response:e})}},{key:"printPDF",value:function(e){}},{key:"getTableColumns",value:function(){var e=this,t=[];return console.log("Data=",this.data),this.data.map((function(n){console.log("Doc Data:",n),e.valobj={};for(var a=0;a<e.headings.length;a++)console.log("doc index value:",n[e.headings[a]]),e.valobj[e.headings[a]]={value:n[e.headings[a]],class:"black",action:""};t.push(e.valobj)})),t}},{key:"getReport",value:function(){var e=this,t={id:this.common.params.docReoprt.maintenance_type_id,reportType:this.reportData.status};this.common.loading++,this.user._customer.id,"customer"==this.user._loggedInBy&&this.user._details.id,this.api.post("VehicleMaintenance/getMaintenanceSummaryReports",{reportType:t.reportType,maintTypeId:t.id}).subscribe((function(t){e.common.loading--,e.data=t.data;var n=e.data[0];for(var a in n)if("_"!=a.charAt(0)){e.headings.push(a);var o={title:e.formatTitle(a),placeholder:e.formatTitle(a)};e.table.data.headings[a]=o}e.table.data.columns=e.getTableColumns()}),(function(t){e.common.loading--,console.log(t)}))}},{key:"formatTitle",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"checkForPdf",value:function(e){var t=e.split(".");return"pdf"==t[t.length-1]}}]),e}()).\u0275fac=function(e){return new(e||ee)(d["\u0275\u0275directiveInject"](b.a),d["\u0275\u0275directiveInject"](s.f),d["\u0275\u0275directiveInject"](v.a),d["\u0275\u0275directiveInject"](c.a),d["\u0275\u0275directiveInject"](y.r),d["\u0275\u0275directiveInject"](y.b))},ee.\u0275cmp=d["\u0275\u0275defineComponent"]({type:ee,selectors:[["maintenance-report"]],features:[d["\u0275\u0275ProvidersFeature"]([s.f])],decls:14,vars:2,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[2,"margin-left","15px"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["src","assets/images/elogist.png","alt","logo","id","img-logo",2,"display","none"],["id","doc_report",3,"data","settings",4,"ngIf"],["id","doc_report",3,"data","settings"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"h5",1),d["\u0275\u0275text"](2),d["\u0275\u0275elementStart"](3,"span",2),d["\u0275\u0275elementStart"](4,"span",3),d["\u0275\u0275listener"]("click",(function(){return t.printPDF("doc_report")})),d["\u0275\u0275element"](5,"i",4),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"span",5),d["\u0275\u0275listener"]("click",(function(){return t.common.getCSVFromTableId("doc_report")})),d["\u0275\u0275element"](7,"i",6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"button",7),d["\u0275\u0275listener"]("click",(function(){return t.closeModal(!1)})),d["\u0275\u0275elementStart"](9,"span",8),d["\u0275\u0275text"](10,"\xd7"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"div",9),d["\u0275\u0275element"](12,"img",10),d["\u0275\u0275template"](13,X,1,2,"smart-table",11),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"]("",t.title," "),d["\u0275\u0275advance"](11),d["\u0275\u0275property"]("ngIf",t.data.length))},directives:[s.u,W.a],styles:[".data[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%], .headings[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:3px;border-left:1px solid #f2f2f2}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700}[_nghost-%COMP%]    .black, [_nghost-%COMP%]     .tag .no-search span{color:#000}[_nghost-%COMP%]    .red{background:red;color:#fff}[_nghost-%COMP%]    .pink{background:pink;color:#000}[_nghost-%COMP%]    .green{background:#0bff0b;color:#000}[_nghost-%COMP%]    .default{background:transparent;border:transparent}[_nghost-%COMP%]    .icon, [_nghost-%COMP%]    .image{color:#0e0e3a;font-size:18px}[_nghost-%COMP%]     .circle{border:1px solid grey;border-radius:50%;padding:3px 4px}.route-arrow[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;margin:0 5px}[_nghost-%COMP%]     .complete{vertical-align:middle;color:green}.exit[_ngcontent-%COMP%]{vertical-align:middle;margin-right:3px}.loaded[_ngcontent-%COMP%]{font-weight:700}.search-box[_ngcontent-%COMP%]{background:#fff;font-size:13px;padding:6px 8px;border:1px solid #e2e2e2;border-radius:5px;vertical-align:middle;margin-left:10px;width:60%;letter-spacing:.3px;color:#000}table[_ngcontent-%COMP%]{cursor:pointer}.modal-header[_ngcontent-%COMP%]{padding:10px 15px;background-color:#263238!important}.modal-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#fff}.close[_ngcontent-%COMP%]{background:transparent;color:#fff!important;opacity:1;padding:10px 20px;margin:-10px -1rem -1rem auto;outline:none;font-size:28px}.exel-icon[_ngcontent-%COMP%], .pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#fff}"]}),ee);function ne(e,t){if(1&e&&d["\u0275\u0275element"](0,"smart-table",6),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275property"]("data",n.table.data)("settings",n.table.settings)}}var ae,oe=((ae=function(){function e(t,n,a,o,i,l){r(this,e),this.api=t,this.common=n,this.date=a,this.user=o,this.modalService=i,this.activeModal=l,this.vehicleRegNo=null,this.headings=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.jobId=null,this.vehicleId=null,this.numbers=[],this.details=[],this.items=null,this.jobId=this.common.params.jobId,this.vehicleId=this.common.params.vId,this.vehicleRegNo=this.common.params.vehicleRegNo,this.getDocumentData()}return i(e,[{key:"ngOnInit",value:function(){}},{key:"getDocumentData",value:function(){var e=this;this.common.loading++,this.api.get("VehicleMaintenance/viewSummaryDetails?jobId="+this.jobId+"&vehicleId="+this.vehicleId).subscribe((function(t){e.common.loading--,e.details=t.data,e.setTable(t.data)}),(function(t){e.common.loading--,console.log(t)}))}},{key:"getTableColumns",value:function(e){var t=this,n=[];return e.map((function(e){for(var a={},o={maintenance_type_id:0},i=0;i<t.headings.length;i++){var r=e[t.headings[i]],l=0;if(r&&(r+"").indexOf("_")>0){var s=r.split("_");s[0],l=s[1]}else l=r;o.maintenance_type_id=e._type_id,a[t.headings[i]]={value:l}}n.push(a)})),n}},{key:"setTable",value:function(e){console.log("data Count",e.length),this.headings=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},console.info("dashbord Data",e);var t=e[0];for(var n in this.table.data.headings={},t)if("_"!=n.charAt(0)){this.headings.push(n);var a={title:this.formatTitle(n),placeholder:this.formatTitle(n)};this.table.data.headings[n]=a}this.table.data.columns=this.getTableColumns(e)}},{key:"formatTitle",value:function(e){return e.indexOf("_")>0?e.toLowerCase().split("_").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" "):e.charAt(0).toUpperCase()+e.substr(1)}},{key:"closeModal",value:function(e){this.activeModal.close({response:e})}}]),e}()).\u0275fac=function(e){return new(e||ae)(d["\u0275\u0275directiveInject"](b.a),d["\u0275\u0275directiveInject"](v.a),d["\u0275\u0275directiveInject"](x.a),d["\u0275\u0275directiveInject"](C.a),d["\u0275\u0275directiveInject"](y.r),d["\u0275\u0275directiveInject"](y.b))},ae.\u0275cmp=d["\u0275\u0275defineComponent"]({type:ae,selectors:[["view-summary-details"]],decls:8,vars:2,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","tblsummary",3,"data","settings",4,"ngIf"],["id","tblsummary",3,"data","settings"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"h5",1),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"button",2),d["\u0275\u0275listener"]("click",(function(){return t.closeModal(!1)})),d["\u0275\u0275elementStart"](4,"span",3),d["\u0275\u0275text"](5,"\xd7"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"div",4),d["\u0275\u0275template"](7,ne,1,2,"smart-table",5),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"]("Maintenance Details : ",t.vehicleRegNo,""),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngIf",t.details&&t.details.length))},directives:[s.u,W.a],styles:["label[_ngcontent-%COMP%]{font-weight:500}.row[_ngcontent-%COMP%]{margin-bottom:15px}.add-remove-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:4px;display:inline-block;font-size:13px;margin:10px 1px 1px}.checkbox-flex[_ngcontent-%COMP%]{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.inside-checkbox[_ngcontent-%COMP%]{width:33%;margin:0;text-align:left;line-height:normal}.value[_ngcontent-%COMP%]{padding:0 0 0 3px;font-size:medium}.head[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}",'.thead[_ngcontent-%COMP%]{color:#fff;background-color:#263238}.thead[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:12px}td[_ngcontent-%COMP%]{font-weight:500;padding:8px}.thead-dark[_ngcontent-%COMP%]{color:#fff;font-size:18px;background-color:#263238}.arrow[_ngcontent-%COMP%]{font-size:18px;margin:8px}.btn[_ngcontent-%COMP%]{background:#f2f2f2;font-weight:700;margin-right:5px;margin-left:5px;margin-top:5px;display:inline-block;font-size:14px;text-align:center;height:30px;line-height:5px;border-radius:4px;font-family:Exo;color:#000;cursor:pointer}.btn.btn-danger[_ngcontent-%COMP%]{background-color:#da2240;color:#fff;background-color:#f05e77}.btn.btn-danger[_ngcontent-%COMP%]:active, .btn.btn-danger[_ngcontent-%COMP%]:focus, .btn.btn-danger[_ngcontent-%COMP%]:hover{background-color:#e22242}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#3c6ac7;color:#fff;background-color:#73a1ff}.btn.btn-primary[_ngcontent-%COMP%]:active, .btn.btn-primary[_ngcontent-%COMP%]:focus, .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0054ff}.btn.btn-default.btn-sm[_ngcontent-%COMP%]{float:right;margin-right:50%;background:#dcd9d9;color:#000;font-size:12px}.nb-theme-corporate[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:disabled):not(.disabled){cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:#f1f1f1}nb-card-body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;cursor:pointer;border-radius:0}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:start:decrement{background:linear-gradient(120deg,#696969 40%,transparent 41%),linear-gradient(240deg,#696969 40%,transparent 41%),linear-gradient(0deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:end:increment{background:linear-gradient(300deg,#696969 40%,transparent 41%),linear-gradient(60deg,#696969 40%,transparent 41%),linear-gradient(180deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:end:increment{background:linear-gradient(210deg,#696969 40%,transparent 41%),linear-gradient(330deg,#696969 40%,transparent 41%),linear-gradient(90deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:start:decrement{background:linear-gradient(30deg,#696969 40%,transparent 41%),linear-gradient(150deg,#696969 40%,transparent 41%),linear-gradient(270deg,#696969 30%,transparent 31%);background-color:#b6b6b6}.no-data[_ngcontent-%COMP%]{font-size:18px;color:#f73c3c;font-weight:600;text-align:center;width:100%}[_nghost-%COMP%]     .nb-home:before{content:"\\f015"}[_nghost-%COMP%]     .nb-notifications:before{content:"\\f145"}[_nghost-%COMP%]     .nb-title:before{content:"\\f02d"}[_nghost-%COMP%]     .nb-list:before{content:"\\f016"}[_nghost-%COMP%]     .fa-book:before{content:"\\f0d6"}[_nghost-%COMP%]     .fa-signal:before{content:"\\f043"}[_nghost-%COMP%]     .fa-truck:before{content:"\\f0d1"}[_nghost-%COMP%]     .fa-cog:before{content:"\\f013"}[_nghost-%COMP%]     .fa-database:before{content:"\\f15c";font-size:14px}[_nghost-%COMP%]     .fa-money:before{content:"\\f283";font-size:14px}[_nghost-%COMP%]     .control-icon.nb-notifications:before{content:"\\f0f3";display:block;font-family:FontAwesome;font-size:22px;margin-right:8px;margin-top:8px}[_nghost-%COMP%]     nb-base-calendar.medium nb-card{width:100%}[_nghost-%COMP%]     nb-base-calendar.medium nb-card-header{padding:10px 20px;border-bottom:1px solid #eaeaea}']}),ae);function ie(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"option",14),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;d["\u0275\u0275property"]("value",n.id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](n.name)}}function re(e,t){if(1&e&&d["\u0275\u0275element"](0,"smart-table",15),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275property"]("data",n.table.data)("settings",n.table.settings)}}var le,se=((le=function(){function e(t,n,a,o){r(this,e),this.api=t,this.common=n,this.user=a,this.modalService=o,this.maintenanceData=[],this.headings=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.types=[{id:0,name:"All"},{id:1,name:"Expired"},{id:2,name:"Expiring in 30 days"}],this.typeId="0",this.getDocumentData(),this.common.refresh=this.refresh.bind(this),console.log("foid:",this.user._customer.id)}return i(e,[{key:"ngOnInit",value:function(){}},{key:"formatTitle",value:function(e){return e.indexOf("_")>0?e.toLowerCase().split("_").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" "):e.charAt(0).toUpperCase()+e.substr(1)}},{key:"refresh",value:function(){console.log("Refresh"),this.getDocumentData()}},{key:"getDocumentData",value:function(){var e=this;this.common.loading++,this.api.post("VehicleMaintenance/getMaintenanceSummary",{}).subscribe((function(t){e.common.loading--,e.maintenanceData=t.data,e.setTable(t.data)}),(function(t){e.common.loading--,console.log(t)}))}},{key:"getTableColumns",value:function(e){var t=this,n=[];return e.map((function(e){for(var a={},o={maintenance_type_id:0},i=0;i<t.headings.length;i++){var r=e[t.headings[i]],l=0;if(r&&(r+"").indexOf("_")>0){var s=r.split("_");s[0],l=s[1]}else l=r;o.maintenance_type_id=e._type_id,a[t.headings[i]]={value:l}}a.details={value:"Details",class:"blue",action:t.viewSummaryDetails.bind(t,e._jobid,e._vid,e.Vehicle)},n.push(a)})),n}},{key:"viewSummaryDetails",value:function(e,t,n){var a=this;console.log("JobId",e,"Vid",t),e&&t?(this.common.params={jobId:e,vId:t,vehicleRegNo:n},this.modalService.open(oe,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then((function(e){e.response&&a.refresh()}))):this.common.showError("Failed")}},{key:"openData",value:function(e,t){var n=this;console.log("report",e,t),this.common.params={docReoprt:e,status:t,title:"Maintenance Report"},this.modalService.open(te,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then((function(e){e.response&&(n.getDocumentData(),window.location.reload())}))}},{key:"getSum",value:function(e){var t=0;return this.maintenanceData.map((function(n){t+=n[e]})),t}},{key:"printPDF",value:function(e){var t=this;this.common.loading++;var n=this.user._customer.id;"customer"==this.user._loggedInBy&&(n=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:n}).subscribe((function(n){t.common.loading--,t.common.getPDFFromTableId(e,n.data.name,"Document Summary",null,"")}),(function(e){t.common.loading--,console.log(e)}))}},{key:"typeSelected",value:function(){var e=this;switch(console.log("type",this.typeId),parseInt(this.typeId)){case-1:this.setTable(this.maintenanceData);break;case 0:case 1:case 2:this.setTable(this.maintenanceData.filter((function(t){return t._statusid==e.typeId})))}}},{key:"setTable",value:function(e){console.log("data Count",e.length),this.headings=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},console.info("dashbord Data",e);var t=e[0];for(var n in this.table.data.headings={},t)if("_"!=n.charAt(0)){this.headings.push(n);var a={title:this.formatTitle(n),placeholder:this.formatTitle(n)};this.table.data.headings[n]=a}console.log("hdgs:"),console.log(this.headings),console.log(this.table.data.headings),this.table.data.headings.details={title:"Details",placeholder:"Details"},this.table.data.columns=this.getTableColumns(e)}}]),e}()).\u0275fac=function(e){return new(e||le)(d["\u0275\u0275directiveInject"](b.a),d["\u0275\u0275directiveInject"](v.a),d["\u0275\u0275directiveInject"](c.a),d["\u0275\u0275directiveInject"](y.r))},le.\u0275cmp=d["\u0275\u0275defineComponent"]({type:le,selectors:[["maintenance-summary"]],decls:19,vars:3,consts:[[2,"border","0px"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[2,"padding-top","0px"],[1,"col-md-2"],["name","type",1,"form-control","mb-3",3,"ngModel","change","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["id","tblsummary",3,"data","settings",4,"ngIf"],[3,"value"],["id","tblsummary",3,"data","settings"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"nb-card",0),d["\u0275\u0275elementStart"](1,"nb-card-header"),d["\u0275\u0275elementStart"](2,"div",1),d["\u0275\u0275elementStart"](3,"div",2),d["\u0275\u0275elementStart"](4,"h5"),d["\u0275\u0275text"](5,"Maintenance Summary"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"div",3),d["\u0275\u0275elementStart"](7,"span",4),d["\u0275\u0275elementStart"](8,"span",5),d["\u0275\u0275listener"]("click",(function(){return t.printPDF("tblsummary")})),d["\u0275\u0275element"](9,"i",6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"span",7),d["\u0275\u0275listener"]("click",(function(){return t.common.getCSVFromTableId("tblsummary")})),d["\u0275\u0275element"](11,"i",8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"nb-card-body",9),d["\u0275\u0275elementStart"](13,"div",1),d["\u0275\u0275elementStart"](14,"div",10),d["\u0275\u0275elementStart"](15,"select",11),d["\u0275\u0275listener"]("change",(function(){return t.typeSelected()}))("ngModelChange",(function(e){return t.typeId=e})),d["\u0275\u0275template"](16,ie,2,2,"option",12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](17,re,1,2,"smart-table",13),d["\u0275\u0275element"](18,"br"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](15),d["\u0275\u0275property"]("ngModel",t.typeId),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",t.types),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.maintenanceData&&t.maintenanceData.length))},directives:[g.s,g.v,g.r,_.D,_.r,_.u,s.t,s.u,_.w,_.G,W.a],styles:[".red[_ngcontent-%COMP%]{background:red;color:#fff}.pink[_ngcontent-%COMP%]{background:pink;color:#000}.headings[_ngcontent-%COMP%]{background:#e2e2e2;font-size:11px;font-weight:500}.data[_ngcontent-%COMP%]{font-size:10px;border-bottom:1px solid #e2e2e2;min-height:20%}.data[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%], .headings[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:3px;border-left:1px solid #f2f2f2}[_nghost-%COMP%]    .black{color:#000}.loc-icon[_ngcontent-%COMP%]{text-align:center;font-size:10px;color:orange}[_nghost-%COMP%]     .circle{border:1px solid grey;border-radius:50%;padding:3px 4px}.route-arrow[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;margin:0 5px}[_nghost-%COMP%]     .complete{vertical-align:middle;color:green}.exit[_ngcontent-%COMP%]{vertical-align:middle;margin-right:3px}.loaded[_ngcontent-%COMP%]{font-weight:700}.search-box[_ngcontent-%COMP%]{background:#fff;font-size:13px;padding:6px 8px;border:1px solid #e2e2e2;border-radius:5px;vertical-align:middle;margin-left:10px;width:60%;letter-spacing:.3px;color:#000}table[_ngcontent-%COMP%]{cursor:pointer}nb-card-header[_ngcontent-%COMP%]{padding:15px 20px;border:1px solid #efefef;margin-bottom:10px}.pdf-icon[_ngcontent-%COMP%]{font-size:30px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:30px;color:#217346}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700}[_nghost-%COMP%]     #tblsummary .tableFixHead{overflow:auto;height:auto!important;max-height:calc(100vh - 230px)!important}"]}),le),ce=o("nGd9"),de=o("6Jfz"),pe=o("tUv6"),me=o("LvDl"),ge=o("I3j9"),he=o("5pkc"),ue=o("skNO"),fe=o("VJ3l"),be=o("Mfh5"),ve=o("urU0"),xe=o("1i8C"),Ce=o("M5JG"),ye=o("3a3o"),_e=o("wd/R"),Me=o("INKT"),ke=o("ZyeE"),Se=o("jjvj"),Oe=o("iJpb"),we=o("d/uI"),Pe=o("yotz"),Ee=o("z+eI"),Ie=function(e){return{"background-color":e}};function De(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"nb-card"),d["\u0275\u0275elementStart"](1,"nb-card-body",26),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](n);var e=t.$implicit;return d["\u0275\u0275nextContext"](3).choosePrimarySubStatus(e)})),d["\u0275\u0275elementStart"](2,"div",27),d["\u0275\u0275element"](3,"div",28),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"div",29),d["\u0275\u0275text"](5),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngStyle",d["\u0275\u0275pureFunction1"](3,Ie,a.bgColor)),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate2"](" ",a.name," (",a.length,") ")}}function Te(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"nb-card"),d["\u0275\u0275elementStart"](1,"nb-card-body",30),d["\u0275\u0275elementStart"](2,"div",27),d["\u0275\u0275element"](3,"div",28),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"div",31),d["\u0275\u0275text"](5),d["\u0275\u0275pipe"](6,"titlecase"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngStyle",d["\u0275\u0275pureFunction1"](5,Ie,n.bgColor)),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate2"](" ",d["\u0275\u0275pipeBind1"](6,3,n.name)," (",a.pdfData.secondary.kpiGroups[n.name].length,") ")}}function ze(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",20),d["\u0275\u0275elementStart"](1,"div",21),d["\u0275\u0275elementStart"](2,"div",22),d["\u0275\u0275elementStart"](3,"div",12),d["\u0275\u0275elementStart"](4,"div",13),d["\u0275\u0275elementStart"](5,"span"),d["\u0275\u0275text"](6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"div",23),d["\u0275\u0275element"](8,"chart",24),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"div",14),d["\u0275\u0275elementStart"](10,"div",25),d["\u0275\u0275template"](11,De,6,5,"nb-card",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"div",21),d["\u0275\u0275elementStart"](13,"div",11),d["\u0275\u0275elementStart"](14,"div",12),d["\u0275\u0275elementStart"](15,"div",13),d["\u0275\u0275elementStart"](16,"span"),d["\u0275\u0275text"](17),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](18,"div",23),d["\u0275\u0275element"](19,"chart",24),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](20,"div",14),d["\u0275\u0275elementStart"](21,"div",25),d["\u0275\u0275template"](22,Te,7,7,"nb-card",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](23,"div"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("hidden",n.isMapView),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](n.pdfData.primary.name),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("data",n.pdfData.primary.chartData)("options",n.pdfData.primary.chartOptions),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngForOf",n.pdfData.primary.list),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("hidden",n.isMapView),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](n.pdfData.secondary.name),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("data",n.pdfData.secondary.chartData)("options",n.pdfData.secondary.chartOptions),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngForOf",n.pdfData.secondary.list)}}function Ve(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"nb-card"),d["\u0275\u0275elementStart"](1,"nb-card-body",26),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](n);var e=t.$implicit;return d["\u0275\u0275nextContext"](2).filterData(e.name)})),d["\u0275\u0275elementStart"](2,"div",27),d["\u0275\u0275element"](3,"div",28),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"div",31),d["\u0275\u0275text"](5),d["\u0275\u0275pipe"](6,"titlecase"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,o=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngStyle",d["\u0275\u0275pureFunction1"](5,Ie,a.bgColor)),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate2"](" ",d["\u0275\u0275pipeBind1"](6,3,a.name)," (",o.pdfData.tripStart.kpiGroups[a.name].length,") ")}}function Fe(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"nb-card"),d["\u0275\u0275elementStart"](1,"nb-card-body",26),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](n);var e=t.$implicit;return d["\u0275\u0275nextContext"](2).filterData(e.name)})),d["\u0275\u0275elementStart"](2,"div",27),d["\u0275\u0275element"](3,"div",28),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"div",31),d["\u0275\u0275text"](5),d["\u0275\u0275pipe"](6,"titlecase"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,o=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngStyle",d["\u0275\u0275pureFunction1"](5,Ie,a.bgColor)),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate2"](" ",d["\u0275\u0275pipeBind1"](6,3,a.name)," (",o.pdfData.tripEnd.kpiGroups[a.name].length,") ")}}function je(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"nb-card"),d["\u0275\u0275elementStart"](1,"nb-card-body"),d["\u0275\u0275elementStart"](2,"div",32),d["\u0275\u0275element"](3,"smart-table",33),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=t.index;d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("id","print-table-"+a),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("data",n.data)("settings",n.settings)}}var Ae=function(e){return{width:e}},Re=function(){return{bottom:!1,right:!0,top:!1,left:!1}};function Ne(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275elementStart"](1,"div",2),d["\u0275\u0275elementStart"](2,"div",3),d["\u0275\u0275elementStart"](3,"h4"),d["\u0275\u0275text"](4,"Trip dashboard"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](5,ze,24,10,"div",4),d["\u0275\u0275elementStart"](6,"div",5),d["\u0275\u0275elementStart"](7,"div",6),d["\u0275\u0275element"](8,"i",7),d["\u0275\u0275element"](9,"i",8),d["\u0275\u0275element"](10,"hr"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"div",9),d["\u0275\u0275elementStart"](12,"div",10),d["\u0275\u0275elementStart"](13,"div",11),d["\u0275\u0275elementStart"](14,"div",12),d["\u0275\u0275elementStart"](15,"div",13),d["\u0275\u0275elementStart"](16,"span"),d["\u0275\u0275text"](17,"Top 5 Trip Start"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](18,"div",14),d["\u0275\u0275elementStart"](19,"div",15),d["\u0275\u0275template"](20,Ve,7,7,"nb-card",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](21,"div",17),d["\u0275\u0275elementStart"](22,"div",18),d["\u0275\u0275elementStart"](23,"div",11),d["\u0275\u0275elementStart"](24,"div",12),d["\u0275\u0275elementStart"](25,"div",13),d["\u0275\u0275elementStart"](26,"span"),d["\u0275\u0275text"](27,"Top 5 Trip End"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](28,"div",14),d["\u0275\u0275elementStart"](29,"div",15),d["\u0275\u0275template"](30,Fe,7,7,"nb-card",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](31,"div",19),d["\u0275\u0275listener"]("resizeEnd",(function(e){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().onResizeEnd(e,"smartTable")})),d["\u0275\u0275template"](32,je,4,3,"nb-card",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngIf",a.pdfData.primary.list.length),d["\u0275\u0275advance"](8),d["\u0275\u0275property"]("hidden",a.isMapView),d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("ngForOf",a.pdfData.tripStart.list),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("hidden",a.isMapView),d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("ngForOf",a.pdfData.tripEnd.list),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("enableGhostResize",!0)("ngStyle",d["\u0275\u0275pureFunction1"](9,Ae,a.isMapView?a.widths.smartTable:"100%"))("resizeEdges",d["\u0275\u0275pureFunction0"](11,Re)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",a.pdfData.tables)}}function Ke(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"li",39),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](n);var e=t.$implicit;return d["\u0275\u0275nextContext"](5).selectSubStatus(e.kpis)})),d["\u0275\u0275element"](1,"span"),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",a.name," ")}}function Le(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",52),d["\u0275\u0275elementStart"](1,"ul"),d["\u0275\u0275template"](2,Ke,3,1,"li",53),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](4);d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",n.primarySubStatus)}}function Ge(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"nb-card"),d["\u0275\u0275elementStart"](1,"nb-card-body",26),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](n);var e=t.$implicit;return d["\u0275\u0275nextContext"](3).choosePrimarySubStatus(e)})),d["\u0275\u0275elementStart"](2,"div",27),d["\u0275\u0275element"](3,"div",28),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"div",41),d["\u0275\u0275text"](5),d["\u0275\u0275pipe"](6,"titlecase"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"div",45),d["\u0275\u0275text"](8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](9,Le,3,1,"div",51),d["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,o=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngStyle",d["\u0275\u0275pureFunction1"](6,Ie,a.bgColor)),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](6,4,a.name)," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"](" ",a.length," "),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",o.activePrimaryStatus==a.name)}}function He(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275template"](1,Ge,10,8,"nb-card",16),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",n.primaryStatus)}}function Be(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"nb-card"),d["\u0275\u0275elementStart"](1,"nb-card-body",26),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](n);var e=t.$implicit;return d["\u0275\u0275nextContext"](3).filterData(e.name)})),d["\u0275\u0275elementStart"](2,"div",27),d["\u0275\u0275element"](3,"div",28),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"div",41),d["\u0275\u0275text"](5),d["\u0275\u0275pipe"](6,"titlecase"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"div",45),d["\u0275\u0275text"](8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,o=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngStyle",d["\u0275\u0275pureFunction1"](5,Ie,a.bgColor)),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](6,3,a.name)," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"](" ",o.kpiGroups[a.name].length," ")}}function $e(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275template"](1,Be,9,7,"nb-card",16),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",n.kpiGroupsKeys)}}var Ue=function(e){return{transform:e}};function We(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",54),d["\u0275\u0275elementStart"](1,"div"),d["\u0275\u0275elementStart"](2,"div",19),d["\u0275\u0275listener"]("resizeEnd",(function(e){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"](2).onResizeEnd(e,"smartTable")})),d["\u0275\u0275elementStart"](3,"div",55),d["\u0275\u0275element"](4,"smart-table",33),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"div",56),d["\u0275\u0275element"](6,"div",57),d["\u0275\u0275elementStart"](7,"div",58),d["\u0275\u0275element"](8,"img",59),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=d["\u0275\u0275nextContext"](2);d["\u0275\u0275property"]("ngClass",a.isMapView?"col-sm-12 p-0":"col-sm-9 p-0"),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("enableGhostResize",!0)("ngStyle",d["\u0275\u0275pureFunction1"](9,Ae,a.isMapView?a.widths.smartTable:"100%"))("resizeEdges",d["\u0275\u0275pureFunction0"](11,Re)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("data",a.table.data)("settings",a.table.settings),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("hidden",!a.isMapView)("ngStyle",d["\u0275\u0275pureFunction1"](12,Ae,"calc(100% - "+a.widths.smartTable+")")),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngStyle",d["\u0275\u0275pureFunction1"](14,Ue,a.rotate))}}function qe(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"nb-card",34),d["\u0275\u0275elementStart"](1,"nb-card-body",35),d["\u0275\u0275elementStart"](2,"div",36),d["\u0275\u0275elementStart"](3,"div",37),d["\u0275\u0275elementStart"](4,"div",12),d["\u0275\u0275elementStart"](5,"div",38),d["\u0275\u0275elementStart"](6,"span",39),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().changeOptions("reverse")})),d["\u0275\u0275element"](7,"i",40),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"div",41),d["\u0275\u0275elementStart"](9,"span"),d["\u0275\u0275text"](10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"div",38),d["\u0275\u0275elementStart"](12,"span",39),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().changeOptions("forward")})),d["\u0275\u0275element"](13,"i",42),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"div"),d["\u0275\u0275element"](15,"chart",24),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](16,"div",43),d["\u0275\u0275elementStart"](17,"nb-card"),d["\u0275\u0275elementStart"](18,"nb-card-body",26),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().allData()})),d["\u0275\u0275elementStart"](19,"div",27),d["\u0275\u0275element"](20,"div",44),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](21,"div",41),d["\u0275\u0275text"](22," All Data "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](23,"div",45),d["\u0275\u0275text"](24),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](25,He,2,1,"div",0),d["\u0275\u0275template"](26,$e,2,1,"div",0),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](27,"button",46),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().generatePDF()})),d["\u0275\u0275element"](28,"i",47),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](29,"span",48),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().common.getCSVFromTableId("print-section")})),d["\u0275\u0275element"](30,"i",49),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](31,We,9,16,"div",50),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("hidden",a.isMapView),d["\u0275\u0275advance"](7),d["\u0275\u0275textInterpolate"](a.viewName),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("data",a.chartData)("options",a.chartOptions),d["\u0275\u0275advance"](9),d["\u0275\u0275textInterpolate1"](" ",a.allKpis.length," "),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf","showprim_status"==a.viewType),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf","showprim_status"!==a.viewType),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngIf",a.table)}}var Je,Ze,Qe,Ye,Xe=((Je=function(){function n(e,t,a,o,i,l,s,c){r(this,n),this.api=e,this.common=t,this.user=a,this.formBuilder=o,this.modalService=i,this.mapService=l,this.dateService=s,this.pdfService=c,this.testingDate=this.common.dateFormatter(new Date,"",!1),this.submitted=!1,this.kpis=[],this.allKpis=[],this.searchTxt="",this.filters=[],this.viewType="showprim_status",this.viewName="Primary Status",this.left_heading="",this.center_heading="",this.kpiGroups=null,this.kpiGroupsKeys=[],this.keyGroups=[],this.chartData=null,this.chartDataa=null,this.chartOptions=null,this.chartColors=[],this.textColor=[],this.viewIndex=0,this.viewOtions=[{name:"Primary Status",key:"showprim_status"},{name:"Secondary Status",key:"showsec_status"},{name:"Trip Start",key:"x_showtripstart"},{name:"Trip End",key:"x_showtripend"}],this.selectedFilterKey="",this.table=null,this.primaryStatus=[],this.subPrimaryStatus={},this.secondaryStatus=[],this.activePrimaryStatus="",this.primarySubStatus=[],this.widths={smartTable:"40%",map:"60%"},this.isMapView=!1,this.infoWindow=null,this.infoStart=null,this.isZoomed=!1,this.lastRefreshTime=new Date,this.pdfData={primary:{name:"Primary",chartData:null,chartOptions:null,list:[],key:"showprim_status"},secondary:{name:"Secondary",chartData:null,chartOptions:null,list:[],key:"showsec_status",kpiGroups:null},tripStart:{name:"Trip Start",chartData:null,chartOptions:null,list:[],key:"x_showtripstart",kpiGroups:null},tripEnd:{name:"Trip End",chartData:null,chartOptions:null,list:[],key:"x_showtripend",kpiGroups:null},tables:[]},this.rotate="",this.getKPIS(),this.common.currentPage="",this.common.refresh=this.refresh.bind(this)}return i(n,[{key:"ngOnInit",value:function(){this.registerForm=this.formBuilder.group({firstName:["",_.F.required],lastName:["",_.F.required],search:["",_.F.required]})}},{key:"ngAfterViewInit",value:function(){this.common.stopScroll()}},{key:"ngOnDestroy",value:function(){this.mapService.map=null,this.common.continuoueScroll()}},{key:"onSubmit",value:function(){this.submitted=!0,this.registerForm.invalid||alert("SUCCESS!! :-)\n\n"+JSON.stringify(this.registerForm.value))}},{key:"refresh",value:function(){console.log("Refresh"),this.getKPIS()}},{key:"getKPIS",value:function(e){var t=this;this.lastRefreshTime=new Date,!e&&this.common.loading++,this.api.get("VehicleKpis").subscribe((function(n){!e&&t.common.loading--,console.log("KPIS:",n),1==n.code&&(n.data=n.data.filter((function(e){return-1!==[301,311,321].indexOf(e.x_sec_status)})),t.allKpis=n.data,localStorage.setItem("KPI_DATA",JSON.stringify(t.allKpis)),t.kpis=n.data,t.grouping(t.viewType),t.table=t.setTable(),t.handlePdfPrint())}),(function(n){!e&&t.common.loading--}))}},{key:"getTableColumns",value:function(e){var t=this,n=[];return(e||this.kpis).map((function(e,a){n.push({vechile:{value:e.x_showveh,action:t.getZoomAndaddShortTarget.bind(t,e),colActions:{dblclick:t.showDetails.bind(t,e),click:t.addShortTarget.bind(t,e),mouseover:t.rotateBounce.bind(t,e,a),mouseout:t.mapService.toggleBounceMF.bind(t.mapService,a,2)}},status:{value:e.showprim_status,action:t.showDetails.bind(t,e)},location:{value:e.Address,action:t.showLocation.bind(t,e)},hrs:{value:e.x_hrssince,action:""},Idle_Time:{value:t.common.changeTimeformat(e.x_idle_time),action:""},trip:{value:t.common.getTripStatusHTML(e.trip_status_type,e.x_showtripstart,e.x_showtripend,e.x_p_placement_type,e.x_p_loc_name),action:t.getUpadte.bind(t,e),isHTML:!0},kmp:{value:e.x_kmph,action:""},action:{value:"",isHTML:!1,action:null,icons:t.actionIcons(e)},rowActions:{click:"selectRow"}})})),n}},{key:"getViewType",value:function(){this.table.data.columns=this.getTableColumns(),this.grouping(this.viewType)}},{key:"grouping",value:function(e){var t=this;this.kpis=this.allKpis,this.kpiGroups=me.groupBy(this.allKpis,e),this.kpiGroupsKeys=Object.keys(this.kpiGroups),this.keyGroups=[],"showprim_status"==e?(this.primaryStatusGrouping(),this.primaryStatus.map((function(e){var n=Math.floor(359*Math.random()+1);t.keyGroups.push({name:e.name,bgColor:"hsl(".concat(n,", 100%, 75%)"),textColor:"hsl(".concat(n,", 100%, 25%)")}),e.bgColor="hsl(".concat(n,", 100%, 75%)"),e.textColor="hsl(".concat(n,", 100%, 25%)")}))):this.kpiGroupsKeys.map((function(e){var n=Math.floor(359*Math.random()+1);t.keyGroups.push({name:e,bgColor:"hsl(".concat(n,", 100%, 75%)"),textColor:"hsl(".concat(n,", 100%, 25%)")})})),this.sortData(e)}},{key:"primaryStatusGrouping",value:function(){var e=this;this.primaryStatus=[],this.allKpis.map((function(t){var n=t.showprim_status.split(","),a=n.splice(0,1)[0].trim(),o=n.join(",").trim(),i=!1;"No Data 12 Hr"==a?(a="Issue",o="12 Hr +"):"Undetected"==a?(a="Issue",o="Undetected"):"No GPS Data"==a&&(a="Issue",o="No GPS Data"),e.primaryStatus.map((function(e){e.name==a&&(i=!0,e.length++,e.subStatus[o]?e.subStatus[o].push(t):e.subStatus[o]=[t])})),i||(e.primaryStatus.push({name:a,length:1,subStatus:{}}),e.primaryStatus[e.primaryStatus.length-1].subStatus[o]=[t])}))}},{key:"sortData",value:function(e){var t=this,n=[];this.chartColors=[];var a=[],o=[];"showprim_status"==e?(console.log("---------------------"),this.primaryStatus=me.sortBy(this.primaryStatus,["length"]).reverse(),this.primaryStatus.map((function(e){t.chartColors.push(e.bgColor),a.push(e.name),o.push(e.length)}))):(this.keyGroups.map((function(e){n.push({group:e,length:t.kpiGroups[e.name].length})})),this.kpiGroupsKeys=[],me.sortBy(n,["length"]).reverse().map((function(e){t.kpiGroupsKeys.push(e.group)})),this.kpiGroupsKeys.map((function(e){t.chartColors.push(e.bgColor),a.push(e.name),o.push(t.kpiGroups[e.name].length)})));var i=this.common.pieChart(a,o,this.chartColors);this.chartData=i.chartData,this.chartOptions=i.chartOptions,console.log("Chart Data:",this.chartData),this.selectedFilterKey&&this.filterData(this.selectedFilterKey,e)}},{key:"filterData",value:function(e,t){var n=this;if("showprim_status"==this.viewType||"showprim_status"==t)if(this.kpis=[],"All"==e)this.primaryStatus.map((function(e){Object.keys(e.subStatus).map((function(t){e.subStatus[t].map((function(e){n.kpis.push(e)}))}))}));else for(var a=function(t){if(n.primaryStatus[t].name==e)return Object.keys(n.primaryStatus[t].subStatus).map((function(e){n.primaryStatus[t].subStatus[e].map((function(e){n.kpis.push(e)}))})),"break"},o=0;o<this.primaryStatus.length&&"break"!==a(o);o++);else"All"==e?this.kpis=this.allKpis:(this.selectedFilterKey=e,this.kpis=this.allKpis.filter((function(t){return t[n.viewType]==e})));this.table=this.setTable()}},{key:"showLocation",value:function(e){e.x_tlat?(this.common.params={location:{lat:e.x_tlat,lng:e.x_tlong,name:"",time:""},title:"Vehicle Location"},this.modalService.open(de.a,{size:"lg",container:"nb-layout"})):this.common.showToast("Vehicle location not available!")}},{key:"findVehicle",value:function(){var e=this;this.kpis=this.searchTxt?this.allKpis.filter((function(t){return t.x_showveh.toUpperCase().includes(e.searchTxt.toUpperCase())})):this.allKpis}},{key:"findFilters",value:function(){var e=this;this.filters=["all"],this.allKpis.map((function(t){-1==e.filters.indexOf(t.showprim_status)&&e.filters.push(t.showprim_status)}))}},{key:"showDetails",value:function(e){this.common.params={kpi:e},this.modalService.open(ce.a,{size:"lg",container:"nb-layout"}).componentInstance.modalHeader="kpisDetails"}},{key:"getLR",value:function(e){var t=this;this.common.loading++,this.api.post("FoDetails/getLorryDetails",{x_lr_id:e.x_lr_id}).subscribe((function(e){t.common.loading--,t.showLR(e.data[0])}),(function(e){t.common.loading--}))}},{key:"showLR",value:function(e){this.common.params={images:[{name:"Lr",image:e.lr_image},{name:"Invoice",image:e.invoice_image},{name:"Other_Image",image:e.other_image}],title:"LR Details"},this.modalService.open(pe.a,{size:"lg",container:"nb-layout"})}},{key:"changeOptions",value:function(e){"forward"===e?(++this.viewIndex,this.viewIndex>this.viewOtions.length-1&&(this.viewIndex=0)):(--this.viewIndex,this.viewIndex<0&&(this.viewIndex=this.viewOtions.length-1)),this.viewType=this.viewOtions[this.viewIndex].key,this.viewName=this.viewOtions[this.viewIndex].name,this.grouping(this.viewType)}},{key:"allData",value:function(){this.selectedFilterKey="",this.filterData("All")}},{key:"reportIssue",value:function(e){var t=this;this.common.params={refPage:"db"},this.modalService.open(ge.a,{size:"sm",container:"nb-layout"}).result.then((function(n){return n.status&&t.common.reportAnIssue(n.issue,e.x_vehicle_id)}))}},{key:"setTable",value:function(e){return{data:{headings:{vechile:{title:"Vehicle Number",placeholder:"Vehicle No"},status:{title:"Status",placeholder:"Status"},location:{title:"Location",placeholder:"Location"},hrs:{title:"Hrs",placeholder:"Hrs "},Idle_Time:{title:"Idle Time",placeholder:"Idle Time"},trip:{title:"Trip",placeholder:"Trip"},kmp:{title:"Kmp",placeholder:"KMP"},action:{title:"Action",placeholder:"",hideSearch:!0}},columns:this.getTableColumns(e)},settings:{hideHeader:!0,count:{icon:"fa fa-map",action:this.handleMapView.bind(this)},tableHeight:"87vh"}}}},{key:"choosePrimarySubStatus",value:function(e){if(e.name==this.activePrimaryStatus)return this.activePrimaryStatus="",void(this.primarySubStatus=[]);if(1==Object.keys(e.subStatus).length)return this.kpis=e.subStatus[Object.keys(e.subStatus)[0]],this.table=this.setTable(),this.primarySubStatus=[],void(this.activePrimaryStatus="");var t=[];Object.keys(e.subStatus).map((function(n,a){0==a&&t.push({id:0,name:"All",kpis:[]}),e.subStatus[n].map((function(e){return t[0].kpis.push(Object.assign({},e))})),t.push({id:a+1,name:(n||e.name)+" : "+e.subStatus[n].length,kpis:e.subStatus[n]})})),t[0].name+=" : "+t[0].kpis.length,this.primarySubStatus=t,this.activePrimaryStatus=e.name}},{key:"selectSubStatus",value:function(e){this.kpis=e,this.table=this.setTable()}},{key:"vehicleReport",value:function(e){this.common.params={vehicleId:e.x_vehicle_id,vehicleRegNo:e.x_showveh,ref_page:"consView"},this.common.handleModalHeightWidth("class","modal-lg","200","1500"),this.modalService.open(ue.a,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"myCustomModalClass"})}},{key:"openRouteMapper",value:function(e){var t,n,a;t=new Date,n=e.x_showstarttime?this.common.dateFormatter(e.x_showstarttime):new Date(t.setDate(t.getDate()-2)),a=this.common.dateFormatter(n);var o=this.common.dateFormatter(a),i=this.common.dateFormatter(new Date);this.common.handleModalHeightWidth("class","modal-lg","200","1500"),this.common.params={vehicleId:e.x_vehicle_id,vehicleRegNo:e.x_showveh,fromTime:o,toTime:i},console.log("open Route Mapper modal",this.common.params),this.modalService.open(fe.a,{size:"lg",container:"nb-layout",windowClass:"myCustomModalClass"})}},{key:"openTripDetails",value:function(e){var t,n,a;t=new Date,n=new Date(t.setMonth(t.getMonth()-2)),a=this.common.dateFormatter(n);var o=this.common.dateFormatter(a),i=this.common.dateFormatter(new Date);this.common.params={vehicleId:e.x_vehicle_id,vehicleRegNo:e.x_showveh,fromTime:o,toTime:i},this.common.handleModalHeightWidth("class","modal-lg","200","1500"),this.modalService.open(be.a,{size:"lg",container:"nb-layout",windowClass:"myCustomModalClass"})}},{key:"vehicleOnMap",value:function(){this.common.handleModalHeightWidth("class","modal-lg","200","1500"),this.common.params={vehicles:this.kpis},this.modalService.open(he.a,{size:"lg",container:"nb-layout"})}},{key:"onResizeEnd",value:function(e,t){this.widths[t]=e.rectangle.width+"px"}},{key:"initialiseMap",value:function(){var e=this;this.mapService.map&&"concise-view-map"==this.mapService.map.__gm.Z.id?this.mapService.map.__gm.Z=document.getElementById("concise-view-map"):this.mapService.mapIntialize("concise-view-map"),this.mapService.clearAll();for(var n=0;n<this.kpis.length;n++)this.kpis[n].color="No Data 12 Hr"==this.kpis[n].showprim_status||"Undetected"==this.kpis[n].showprim_status||"No GPS Data"==this.kpis[n].showprim_status?"ff0000":this.kpis[n].x_idle_time/60>0?"ffff00":"00ff00";setTimeout((function(){e.mapService.setMapType(0),e.mapService.createMarkers(e.kpis),e.mapService.addListerner(e.mapService.map,"center_changed",(function(){e.setMarkerLabels()})),e.mapService.addListerner(e.mapService.map,"zoom_changed",(function(){e.setMarkerLabels()}));var n,a=0,o=t(e.mapService.markers);try{var i=function(){var t=n.value,o=e.kpis[a];e.mapService.addListerner(t,"mouseover",(function(){return e.setEventInfo(o)})),e.mapService.addListerner(t,"mouseout",(function(){return e.unsetEventInfo()})),a++};for(o.s();!(n=o.n()).done;)i()}catch(r){o.e(r)}finally{o.f()}}),1e3)}},{key:"setMarkerLabels",value:function(){if(0!=this.mapService.markers.length){var e,n=t(this.mapService.markers);try{for(n.s();!(e=n.n()).done;)e.value.setLabel("")}catch(o){n.e(o)}finally{n.f()}}if(this.mapService.map.getZoom()>=9)for(var a=0;a<this.mapService.markers.length;a++)this.mapService.markers[a].setLabel(this.kpis[a].x_showveh)}},{key:"setEventInfo",value:function(e){this.infoStart=(new Date).getTime(),this.infoWindow&&this.infoWindow.close(),this.infoWindow=this.mapService.createInfoWindow(),this.infoWindow.opened=!1,this.infoWindow.setContent("\n       <b>Vehicle:</b>".concat(e.x_showveh," <br>\n       <span><b>Trip:</b>").concat(this.common.getTripStatusHTML(e.trip_status_type,e.x_showtripstart,e.x_showtripend,e.x_p_placement_type,e.x_p_loc_name),"</span> <br>\n       <b>Status:</b>").concat(e.showprim_status," <br>\n       <b>Location:</b>").concat(e.Address," <br>\n       ")),this.rotateBounce(e,null,!1),this.infoWindow.setPosition(this.mapService.createLatLng(e.x_tlat,e.x_tlong)),this.infoWindow.open(this.mapService.map),this.mapService.getMapBounds()}},{key:"unsetEventInfo",value:function(){(new Date).getTime()-this.infoStart>500&&(this.infoWindow.close(),this.infoWindow.opened=!1)}},{key:"handleMapView",value:function(){var e=this;if(this.isZoomed)return this.isZoomed=!1,this.mapService.setMapType(0),void this.mapService.resetBounds();this.isMapView=!this.isMapView,setTimeout((function(){e.initialiseMap()}),1e3)}},{key:"rotateBounce",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.rotate="rotate("+e.x_angle+"deg)",n&&this.mapService.toggleBounceMF(t)}},{key:"getUpadte",value:function(e){this.common.params={tripDetils:{vehicleId:e.x_vehicle_id,siteId:e.x_hl_site_id},ref_page:"kpi"},this.modalService.open(Ce.a,{size:"lg",container:"nb-layout",backdrop:"static"})}},{key:"getZoomAndaddShortTarget",value:function(e){this.isMapView?this.getZoom(e):this.addShortTarget(e)}},{key:"getZoom",value:function(e){if(e){var t=this.mapService.getLatLngValue(e),n=this.mapService.createLatLng(t.lat,t.lng);this.mapService.zoomAt(n),this.isZoomed=!0}}},{key:"actionIcons",value:function(e){var t=[{class:" icon fa fa-chart-pie",action:this.openChangeStatusModal.bind(this,e)},{class:"icon fa fa-star",action:this.vehicleReport.bind(this,e)},{class:" icon fa fa-route",action:this.openRouteMapper.bind(this,e)},{class:" icon fa fa-truck",action:this.openTripDetails.bind(this,e)},{class:"icon fa fa-globe",action:this.openVehicleStates.bind(this,e)},{class:"icon fa fa-question-circle",action:this.reportIssue.bind(this,e)},{class:"icon fa fa-user-secret",action:this.openStations.bind(this,e)},{class:"icon fas fa-tachometer-alt",action:this.openOdoMeter.bind(this,e)},{class:"icon fas fa-flag-checkered",action:this.openentityFlag.bind(this,e)}];return"admin"!=this.user._loggedInBy&&t.shift(),t}},{key:"openChangeStatusModal",value:function(e){var t=new Date,n=this.common.dateFormatter(new Date),a=new Date(t.setHours(t.getHours()-48)),o=this.common.dateFormatter(a),i={id:e.id,vehicle_id:e.x_vehicle_id,tTime:n,suggest:null,latch_time:o,status:2,remark:e.remark};this.common.ref_page="tsfl",this.common.params=i,this.modalService.open(ye.a,{size:"lg",container:"nb-layout"}).result.then((function(e){}))}},{key:"openVehicleStates",value:function(e){console.log("values",e),this.common.params={vehicleId:e.x_vehicle_id,vehicleRegNo:e.x_showveh,lat:e.x_tlat,long:e.x_tlong,vregno:e.x_empname},this.modalService.open(ve.a,{size:"lg",container:"nb-layout"})}},{key:"onMouseMove",value:function(e){var t=_e(new Date),n=_e(this.lastRefreshTime);_e.duration(t.diff(n)).asMinutes()>=5&&this.getKPIS(!0)}},{key:"addShortTarget",value:function(e){this.common.params={vehicleId:e.x_vehicle_id,vehicleRegNo:e.x_showveh},this.modalService.open(Me.a,{size:"sm",container:"nb-layout"})}},{key:"openStations",value:function(e){console.log("kpi-------------",e),this.common.params={lat:e.x_tlat,long:e.x_tlong},this.modalService.open(ke.a,{size:"lg",container:"nb-layout"})}},{key:"openOdoMeter",value:function(e){console.log("kpi data",e),this.common.params={vehicleId:e.x_vehicle_id,regno:e.x_showveh},console.log("Param",this.common.params),this.modalService.open(Se.a,{size:"lg",container:"nb-layout",backdrop:"static"})}},{key:"openentityFlag",value:function(e){this.common.handleModalSize("class","modal-lg","800"),console.log("kpi data",e),this.common.params={title:"Entity Flag ",vehicleId:e.x_vehicle_id,regno:e.x_showveh},this.modalService.open(we.a,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"print-lr"}).result.then((function(e){}))}},{key:"getPdf",value:function(){this.common.downloadPdf("Content1")}},{key:"handlePdfPrint",value:function(){var e=this,t={key:this.viewType,name:this.viewName};["primary","secondary","tripStart","tripEnd"].map((function(t){console.log(t,e.pdfData),console.log("this.pdfData[status]",e.pdfData[t]),e.viewType=e.pdfData[t].key,e.grouping(e.viewType),console.log("this.pdfData[status]",e.pdfData[t]),console.log("Chafrt:::::::",JSON.stringify(e.chartData)),e.pdfData[t].chartData=Object.assign({},e.chartData),e.pdfData[t].chartOptions=Object.assign({},e.chartOptions),"primary"==t?e.pdfData[t].list=e.primaryStatus:(e.pdfData[t].list=e.kpiGroupsKeys,e.pdfData[t].kpiGroups=e.kpiGroups)})),this.pdfData.tripStart.list.splice(5,this.pdfData.tripStart.list.length-1),this.pdfData.tripEnd.list.splice(5,this.pdfData.tripEnd.list.length-1),console.log("PDF Data: ",this.pdfData),this.viewType=t.key,this.viewName=t.name,this.grouping(this.viewType)}},{key:"generatePDF",value:function(){var t=this;this.common.loading++;var n=this.user._customer.id;"customer"==this.user._loggedInBy&&(n=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:n}).subscribe((function(e){t.common.loading--,t.left_heading=e.data.name,t.center_heading="Trip Feedback Logs",console.log("center heading1",t.left_heading,t.center_heading)}),(function(e){t.common.loading--,console.log(e)})),setTimeout((function(){t.common.loading++,t.pdfData.tables=[],console.log("helooo");var n=t.pdfData.primary.list;console.log("list123------------------",n),console.log("KPIS:",t.primaryStatus),t.primaryStatus.map((function(n){var a=[];Object.keys(n.subStatus).map((function(t){a.push.apply(a,e(n.subStatus[t]))})),console.log("----------------------------PDF Tables:",a),t.pdfData.tables.push(t.setTable(a))}));var a=[];t.pdfData.tables.map((function(e,t){a.push("print-table-"+t)})),console.log("tableId",a),console.log("----------------------------PDF Tables:",t.pdfData),console.log("ids3",t.left_heading,t.center_heading),t.pdfService.tableWithImages("page-1",a,n,t.left_heading,t.center_heading)}),2e3),this.common.loading--}},{key:"cookPdfData",value:function(){var e=this,t={key:this.viewType,name:this.viewName};["primary","secondary","tripStart","tripEnd"].map((function(t){console.log(t,e.pdfData),console.log("this.pdfData[status]",e.pdfData[t]),e.viewType=e.pdfData[t].key,e.grouping(e.viewType),console.log("this.pdfData[status]",e.pdfData[t]),console.log("Chafrt:::::::",JSON.stringify(e.chartData)),e.pdfData[t].chartData=Object.assign({},e.chartData),e.pdfData[t].chartOptions=Object.assign({},e.chartOptions),"primary"==t?e.pdfData[t].list=e.primaryStatus:(e.pdfData[t].list=e.kpiGroupsKeys,e.pdfData[t].kpiGroups=e.kpiGroups)})),this.pdfData.tripStart.list.splice(5,this.pdfData.tripStart.list.length-1),this.pdfData.tripEnd.list.splice(5,this.pdfData.tripEnd.list.length-1),console.log("PDF Data: ",this.pdfData),this.viewType=t.key,this.viewName=t.name,this.grouping(this.viewType)}},{key:"f",get:function(){return this.registerForm.controls}}]),n}()).\u0275fac=function(e){return new(e||Je)(d["\u0275\u0275directiveInject"](b.a),d["\u0275\u0275directiveInject"](v.a),d["\u0275\u0275directiveInject"](c.a),d["\u0275\u0275directiveInject"](_.g),d["\u0275\u0275directiveInject"](y.r),d["\u0275\u0275directiveInject"](xe.a),d["\u0275\u0275directiveInject"](x.a),d["\u0275\u0275directiveInject"](Oe.a))},Je.\u0275cmp=d["\u0275\u0275defineComponent"]({type:Je,selectors:[["concise"]],hostBindings:function(e,t){1&e&&d["\u0275\u0275listener"]("mousemove",(function(e){return t.onMouseMove(e)}),!1,d["\u0275\u0275resolveDocument"])},decls:2,vars:2,consts:[[4,"ngIf"],["class","nb_card_box","style","border: 0px; height: 100%;",4,"ngIf"],["id","page-1",1,"status-print-view","pt-0"],[1,"status-print-title","text-center",2,"padding","20px 0px"],["class","row",4,"ngIf"],[1,"truck-route"],[1,"truck_road"],[1,"fas","fa-truck-moving","left-truck"],[1,"fas","fa-truck-moving","right-truck"],["id","page-2",1,"row"],[1,"col-sm-3","pl-5"],[1,"",2,"overflow","hidden",3,"hidden"],[1,"row",2,"font-size","16px","margin","0px","text-align","center","padding","8px 0px","background","linear-gradient(45deg,#30ccff 0,#5a9cff 100%)","color","#fff","border-radius","5px","margin-bottom","10px"],[1,"col-sm-12"],[1,"status_box"],[1,""],[4,"ngFor","ngForOf"],[1,"col-6"],[1,"col-sm-3","pr-5"],["mwlResizable","",1,"map-table-container",3,"enableGhostResize","ngStyle","resizeEdges","resizeEnd"],[1,"row"],[1,"col-sm-6"],[2,"overflow","hidden",3,"hidden"],[1,"chartbox"],["type","pie","id","chart",1,"dashboard_chart",3,"data","options"],[1,"graph-data"],[2,"cursor","pointer",3,"click"],[1,"col-sm-1","p-0"],[2,"width","20px","height","20px","border-radius","100%","box-shadow","0 5px 10px 0 rgba(0,0,0,.2)",3,"ngStyle"],[1,"col-sm-9"],[2,"cursor","pointer"],[1,"col-sm-11","pr-0"],[3,"id"],[1,"home-page-tabel",2,"width","100%",3,"data","settings"],[1,"nb_card_box",2,"border","0px","height","100%"],[2,"padding","5px 5px 0px"],[1,"row","m-0"],[1,"col-sm-3","pl-0","pr-2",2,"height","90vh","overflow","hidden",3,"hidden"],[1,"col-sm-2"],[3,"click"],[1,"icon","ion-ios-rewind"],[1,"col-sm-8"],[1,"icon","ion-ios-fastforward"],[1,"status_box",2,"overflow","auto","height","calc(90vh - 250px)","max-height","calc(90vh - 250px)"],[2,"background-color","grey","color","white","box-shadow","0 5px 10px 0 rgba(0,0,0,.2)","width","20px","height","20px","border-radius","100%"],[1,"col-sm-3"],["type","button","pdf","",1,"btn","btn-primary","pdf-print",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer",3,"click"],[1,"fas","fa-file-excel"],["class","",3,"ngClass",4,"ngIf"],["class","select_option",4,"ngIf"],[1,"select_option"],[3,"click",4,"ngFor","ngForOf"],[1,"",3,"ngClass"],["id","print-section"],[2,"padding","0px","min-width","300px","display","inline-block","position","relative",3,"hidden","ngStyle"],["id","concise-view-map",2,"width","100%","height","87vh"],[1,"tracker_img",3,"ngStyle"],["src","./assets/images/arrow-top.png","alt","image"]],template:function(e,t){1&e&&(d["\u0275\u0275template"](0,Ne,33,12,"div",0),d["\u0275\u0275template"](1,qe,32,8,"nb-card",1)),2&e&&(d["\u0275\u0275property"]("ngIf",t.allKpis.length),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.allKpis.length))},directives:[s.u,s.t,Pe.a,s.x,Ee.ChartComponent,g.s,g.r,W.a,s.r],pipes:[s.G],styles:['.headings[_ngcontent-%COMP%]{background:#e2e2e2;font-size:11px;font-weight:500}.data[_ngcontent-%COMP%]{font-size:10px;border-bottom:1px solid #e2e2e2;min-height:20%}.data[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%], .headings[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:3px;border-left:1px solid #f2f2f2}[_nghost-%COMP%]    .icon{margin-right:5px;cursor:pointer}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700}[_nghost-%COMP%]    .black{color:#000}[_nghost-%COMP%]    .red{background:red;color:#fff}[_nghost-%COMP%]    .pink{background:pink;color:#000}[_nghost-%COMP%]    .green{background:#96ec11;color:#000}.loc-icon[_ngcontent-%COMP%]{text-align:center;font-size:10px;color:orange}[_nghost-%COMP%]     .circle{border:1px solid grey;border-radius:50%;padding:3px 4px}.route-arrow[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;margin:0 5px}[_nghost-%COMP%]     .complete{vertical-align:middle;color:green}.exit[_ngcontent-%COMP%]{vertical-align:middle;margin-right:3px}.loaded[_ngcontent-%COMP%]{font-weight:700}.search-box[_ngcontent-%COMP%]{background:#fff;font-size:13px;padding:6px 8px;border:1px solid #e2e2e2;border-radius:5px;vertical-align:middle;margin-left:10px;width:60%;letter-spacing:.3px;color:#000}table[_ngcontent-%COMP%]{cursor:pointer}.invalid-feedback[_ngcontent-%COMP%]{display:block;width:100%;margin-top:.25rem;font-size:80%;color:#dc3545}.status_box[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:0!important;border:none!important;border-top:1px solid #d7dee4!important}.status_box[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:14px 10px;font-weight:700}.select_option[_ngcontent-%COMP%]{background-color:#f1f1f1;padding:10px;margin-left:10px;margin-bottom:10px;margin-right:10px;-webkit-box-shadow:rgba(0,0,0,.2) 0 3px 10px 0;box-shadow:0 3px 10px 0 rgba(0,0,0,.2)}.select_option[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:14px}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:100%;margin-right:5px;display:inline-block;vertical-align:middle;-webkit-box-shadow:0 5px 10px 0 rgba(0,0,0,.2);box-shadow:0 5px 10px 0 rgba(0,0,0,.2)}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   span[_ngcontent-%COMP%]{background-color:#96ec11}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2)   span[_ngcontent-%COMP%]{background-color:#dc3545}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3)   span[_ngcontent-%COMP%]{background-color:#ff5200}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4)   span[_ngcontent-%COMP%]{background-color:#2196f3}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5)   span[_ngcontent-%COMP%]{background-color:#009688}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6)   span[_ngcontent-%COMP%]{background-color:#607d8b}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(7)   span[_ngcontent-%COMP%]{background-color:#9c27b0}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-top:10px}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}mwlResizable[_ngcontent-%COMP%]{-webkit-box-sizing:border-box;box-sizing:border-box}.map-table-container[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;border-right:5px solid #fff}[_nghost-%COMP%]     th:first-child{width:30px!important}[_nghost-%COMP%]     th:nth-child(2){width:70px}[_nghost-%COMP%]     th:nth-child(3){width:70px}[_nghost-%COMP%]     th:nth-child(4){width:70px}[_nghost-%COMP%]     th:nth-child(5){width:42px}[_nghost-%COMP%]     th:nth-child(6){width:42px}[_nghost-%COMP%]     th:nth-child(7){width:110px}[_nghost-%COMP%]     th:nth-child(8){width:44px}[_nghost-%COMP%]     th:nth-child(9){width:90px}[_nghost-%COMP%]     th{position:relative;z-index:999}[_nghost-%COMP%]     th .sort-container{width:15px;display:none}[_nghost-%COMP%]     th .filter-input-container{width:auto}[_nghost-%COMP%]     th:hover .sort-container{display:inline-block}[_nghost-%COMP%]     th:hover .filter-input-container{width:calc(100% - 17px)}[_nghost-%COMP%]     td .icon.fa-chart-pie{color:#04a9f5}[_nghost-%COMP%]     td .icon.fa-chart-pie span{position:absolute;display:none;padding:10px 65px;font-size:11px;font-weight:400;left:-56px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     td .icon.fa-chart-pie span:before{content:"Change Vehicle Status";display:block;position:absolute;top:0;left:0;background-color:#04a9f5;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     td .icon.fa-chart-pie span:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #04a9f5;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td .icon.fa-chart-pie:hover span{display:block}[_nghost-%COMP%]     td .icon.fa-star{color:#8518d5}[_nghost-%COMP%]     td .icon.fa-star span{position:absolute;display:none;padding:10px 44px;font-weight:400;font-size:11px;left:-36px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     td .icon.fa-star span:before{content:"Vehicle Event";display:block;position:absolute;top:0;left:0;background-color:#8518d5;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     td .icon.fa-star span:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #8518d5;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td .icon.fa-star:hover span{display:block}[_nghost-%COMP%]     td .icon.fa-route{color:#ff8091}[_nghost-%COMP%]     td .icon.fa-route span{position:absolute;display:none;padding:10px 44px;font-size:11px;left:-34px;font-weight:400;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     td .icon.fa-route span:before{content:"Route Tracker";display:block;position:absolute;top:0;left:0;background-color:#ff8091;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     td .icon.fa-route span:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #ff8091;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td .icon.fa-route:hover span{display:block}[_nghost-%COMP%]     td .icon.fa-truck{color:#5cd050}[_nghost-%COMP%]     td .icon.fa-truck span{position:absolute;display:none;padding:10px 23px;font-size:11px;font-weight:400;left:-16px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     td .icon.fa-truck span:before{content:"Trips";display:block;position:absolute;top:0;left:0;background-color:#5cd050;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     td .icon.fa-truck span:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #5cd050;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td .icon.fa-truck:hover span{display:block}[_nghost-%COMP%]     td .icon.fa-globe{color:#d51818}[_nghost-%COMP%]     td .icon.fa-globe span{position:absolute;display:none;padding:10px 46px;font-size:11px;font-weight:400;left:-70px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     td .icon.fa-globe span:before{content:"Vehicle States";display:block;position:absolute;top:0;left:0;background-color:#d51818;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     td .icon.fa-globe span:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #d51818;position:absolute;bottom:-5px;right:9px}[_nghost-%COMP%]     td .icon.fa-globe:hover span{display:block}[_nghost-%COMP%]     td .icon.fa-question-circle{color:#b150d0}[_nghost-%COMP%]     td .icon.fa-question-circle span{position:absolute;display:none;padding:10px 42px;font-weight:400;font-size:11px;left:-62px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     td .icon.fa-question-circle span:before{content:"Report Issue";display:block;position:absolute;top:0;left:0;background-color:#b150d0;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     td .icon.fa-question-circle span:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #b150d0;position:absolute;bottom:-5px;right:10px}[_nghost-%COMP%]     td .icon.fa-user-secret{color:#50a1d0}[_nghost-%COMP%]     td .icon.fa-user-secret span{position:absolute;display:none;padding:10px 28px;font-weight:400;font-size:11px;left:-22px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     td .icon.fa-user-secret span:before{content:"Station";display:block;position:absolute;top:0;left:0;background-color:#50a1d0;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     td .icon.fa-user-secret span:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #50a1d0;position:absolute;bottom:-5px;right:22px}[_nghost-%COMP%]     td .icon.fa-user-secret:hover span{display:block}[_nghost-%COMP%]     td .icon.fa-question-circle:hover span{display:block}[_nghost-%COMP%]     td .icon.fa-tachometer-alt{color:#ff8099}[_nghost-%COMP%]     td .icon.fa-tachometer-alt span{position:absolute;display:none;padding:10px 35px;font-weight:400;font-size:11px;left:-28px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     td .icon.fa-tachometer-alt span:before{content:"Odometer";display:block;position:absolute;top:0;left:0;background-color:#ff8099;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     td .icon.fa-tachometer-alt span:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #ff8099;position:absolute;bottom:-5px;right:50%;-webkit-transform:translate(50%);transform:translate(50%)}[_nghost-%COMP%]     td .icon.fa-tachometer-alt:hover span{display:block}[_nghost-%COMP%]     td .icon.fa-flag-checkered{color:#d84a11}[_nghost-%COMP%]     td .icon.fa-flag-checkered span{position:absolute;display:none;padding:10px 35px;font-weight:400;font-size:11px;left:-28px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     td .icon.fa-flag-checkered span:before{content:"Entity flag";display:block;position:absolute;top:0;left:0;background-color:#d84a11;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     td .icon.fa-flag-checkered span:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #d84a11;position:absolute;bottom:-5px;right:50%;-webkit-transform:translate(50%);transform:translate(50%)}[_nghost-%COMP%]     td .icon.fa-flag-checkered:hover span{display:block}[_nghost-%COMP%]     .loading{color:green}[_nghost-%COMP%]     .unloading{color:red}[_nghost-%COMP%]     .others{color:teal}.tracker_img[_ngcontent-%COMP%]{position:absolute;bottom:10px;z-index:999;width:40px;left:12px}.tracker_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]    .tableFixHead{height:auto!important;max-height:calc(100vh - 80px)}[_nghost-%COMP%]     .no-search{background:#fff;color:#000}.exel-icon[_ngcontent-%COMP%]{right:30px;background-color:#4fa9ff;font-size:16px;border-radius:100px;width:40px;height:40px;text-align:center;line-height:40px;color:#fff;-webkit-box-shadow:5px 4px 24px rgba(0,0,0,.4);box-shadow:5px 4px 24px rgba(0,0,0,.4)}.exel-icon[_ngcontent-%COMP%], .pdf-print[_ngcontent-%COMP%]{bottom:35px;position:absolute}.pdf-print[_ngcontent-%COMP%]{width:40px!important;height:40px!important;text-align:center!important;line-height:40px!important;border-radius:100%!important;padding:0;font-size:16px!important;margin-top:0!important;left:0;background-color:red!important;cursor:pointer!important}','.thead[_ngcontent-%COMP%]{color:#fff;background-color:#263238}.thead[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:12px}td[_ngcontent-%COMP%]{font-weight:500;padding:8px}.thead-dark[_ngcontent-%COMP%]{color:#fff;font-size:18px;background-color:#263238}.arrow[_ngcontent-%COMP%]{font-size:18px;margin:8px}.btn[_ngcontent-%COMP%]{background:#f2f2f2;font-weight:700;margin-right:5px;margin-left:5px;margin-top:5px;display:inline-block;font-size:14px;text-align:center;height:30px;line-height:5px;border-radius:4px;font-family:Exo;color:#000;cursor:pointer}.btn.btn-danger[_ngcontent-%COMP%]{background-color:#da2240;color:#fff;background-color:#f05e77}.btn.btn-danger[_ngcontent-%COMP%]:active, .btn.btn-danger[_ngcontent-%COMP%]:focus, .btn.btn-danger[_ngcontent-%COMP%]:hover{background-color:#e22242}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#3c6ac7;color:#fff;background-color:#73a1ff}.btn.btn-primary[_ngcontent-%COMP%]:active, .btn.btn-primary[_ngcontent-%COMP%]:focus, .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0054ff}.btn.btn-default.btn-sm[_ngcontent-%COMP%]{float:right;margin-right:50%;background:#dcd9d9;color:#000;font-size:12px}.nb-theme-corporate[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:disabled):not(.disabled){cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:#f1f1f1}nb-card-body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;cursor:pointer;border-radius:0}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:start:decrement{background:linear-gradient(120deg,#696969 40%,transparent 41%),linear-gradient(240deg,#696969 40%,transparent 41%),linear-gradient(0deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:end:increment{background:linear-gradient(300deg,#696969 40%,transparent 41%),linear-gradient(60deg,#696969 40%,transparent 41%),linear-gradient(180deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:end:increment{background:linear-gradient(210deg,#696969 40%,transparent 41%),linear-gradient(330deg,#696969 40%,transparent 41%),linear-gradient(90deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:start:decrement{background:linear-gradient(30deg,#696969 40%,transparent 41%),linear-gradient(150deg,#696969 40%,transparent 41%),linear-gradient(270deg,#696969 30%,transparent 31%);background-color:#b6b6b6}.no-data[_ngcontent-%COMP%]{font-size:18px;color:#f73c3c;font-weight:600;text-align:center;width:100%}[_nghost-%COMP%]     .nb-home:before{content:"\\f015"}[_nghost-%COMP%]     .nb-notifications:before{content:"\\f145"}[_nghost-%COMP%]     .nb-title:before{content:"\\f02d"}[_nghost-%COMP%]     .nb-list:before{content:"\\f016"}[_nghost-%COMP%]     .fa-book:before{content:"\\f0d6"}[_nghost-%COMP%]     .fa-signal:before{content:"\\f043"}[_nghost-%COMP%]     .fa-truck:before{content:"\\f0d1"}[_nghost-%COMP%]     .fa-cog:before{content:"\\f013"}[_nghost-%COMP%]     .fa-database:before{content:"\\f15c";font-size:14px}[_nghost-%COMP%]     .fa-money:before{content:"\\f283";font-size:14px}[_nghost-%COMP%]     .control-icon.nb-notifications:before{content:"\\f0f3";display:block;font-family:FontAwesome;font-size:22px;margin-right:8px;margin-top:8px}[_nghost-%COMP%]     nb-base-calendar.medium nb-card{width:100%}[_nghost-%COMP%]     nb-base-calendar.medium nb-card-header{padding:10px 20px;border-bottom:1px solid #eaeaea}','.nb_card_box[_ngcontent-%COMP%]{position:absolute;top:70px;z-index:998}.status-print-view2[_ngcontent-%COMP%]{width:210mm;height:297mm;margin:auto}.graph-data[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]{width:33%;display:inline-block;padding:0;font-size:14px;font-weight:700}.graph-data[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:15px 10px;display:block}.status-print-view[_ngcontent-%COMP%]{padding:15px;height:310mm;font-size:24px}.all_data[_ngcontent-%COMP%]{font-size:12px}.status-print-view[_ngcontent-%COMP%]   .dashboard_chart[_ngcontent-%COMP%]{width:60%;margin:16px auto 15px}.truck-route[_ngcontent-%COMP%]{position:relative;width:80%;margin:20px auto 40px}.truck_road[_ngcontent-%COMP%]{display:block;width:100%}.truck_road[_ngcontent-%COMP%]:before{content:"";display:block;width:10px;height:10px;background-color:#000;border-radius:100%;position:absolute;bottom:-3px}.truck_road[_ngcontent-%COMP%]:after{content:"";display:block;width:10px;height:10px;background-color:#000;border-radius:100%;position:absolute;right:0;bottom:-3px}.truck_road[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background-color:#000;height:2px;margin:0}.left-truck[_ngcontent-%COMP%]{margin-left:15px}.right-truck[_ngcontent-%COMP%]{float:right;margin-right:15px}.truck_road[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:40px;color:#f87003}#page-2[_ngcontent-%COMP%]   .status_box[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]:first-child{border-top:0!important}.status-print-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;color:#55a1ff;font-size:28px;margin:0}']}),Je),et=o("UTcu"),tt=o("mNmA"),nt=[{path:"",component:h,children:[{path:"home",component:Xe,canActivate:[et.a,tt.b]},{path:"add-vehicle-maintenance",component:Y,canActivate:[et.a,tt.b]},{path:"maintenance-summary",component:se,canActivate:[et.a,tt.b]},{path:"view-modal-service",component:u.a,canActivate:[et.a,tt.b]},{path:"view-sub-modal-service",component:f.a,canActivate:[et.a,tt.b]}]}],at=((Ze=function e(){r(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:Ze}),Ze.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Ze)},imports:[[p.g.forChild(nt)],p.g]}),Ze),ot=o("vTDv"),it=o("FUS3"),rt=((Qe=function e(){r(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:Qe}),Qe.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Qe)},imports:[[ot.a,it.a]]}),Qe),lt=o("d2mR"),st=((Ye=function e(){r(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:Ye}),Ye.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Ye)},providers:[s.f],imports:[[at,ot.a,rt,it.a,lt.a,Ee.ChartModule,Pe.b]]}),Ye)}}])}();