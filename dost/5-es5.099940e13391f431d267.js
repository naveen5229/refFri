!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return e(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"7tAi":function(t,e,o){"use strict";o.d(e,"a",(function(){return s}));var a=o("8Y7J"),i=o("OlR4"),c=o("SVse");function l(t,e){if(1&t){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",5),a["\u0275\u0275elementStart"](1,"button",10),a["\u0275\u0275listener"]("click",(function(){a["\u0275\u0275restoreView"](n);var t=e.$implicit;return a["\u0275\u0275nextContext"](2).selectMonth(t)})),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&t){var o=e.$implicit,r=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngClass",r.selectedMonth.id==o.id&&r.theYear===r.selectedYear?"month-btn-active":"")("disabled",r.currentYear===r.theYear&&r.currentMonth<o.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](o.name)}}function d(t,e){if(1&t){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",3),a["\u0275\u0275elementStart"](1,"div",4),a["\u0275\u0275elementStart"](2,"div",5),a["\u0275\u0275elementStart"](3,"i",6),a["\u0275\u0275listener"]("click",(function(){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]();return t.theYear=t.theYear-1})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",5),a["\u0275\u0275text"](5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"div",5),a["\u0275\u0275elementStart"](7,"i",7),a["\u0275\u0275listener"]("click",(function(){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]();return t.currentYear!==t.theYear&&(t.theYear=t.theYear+1)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"div",8),a["\u0275\u0275template"](9,l,3,3,"div",9),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&t){var o=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](5),a["\u0275\u0275textInterpolate1"](" ",o.theYear," "),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngForOf",o.months)}}var s=function(){var t=function(){function t(e){var o=this;n(this,t),this.common=e,this.select=new a.EventEmitter,this.months=[{name:"JAN",id:"01"},{name:"FEB",id:"02"},{name:"March",id:"03"},{name:"APRIL",id:"04"},{name:"MAY",id:"05"},{name:"JUN",id:"06"},{name:"JULY",id:"07"},{name:"AUG",id:"08"},{name:"SEPT",id:"09"},{name:"OCT",id:"10"},{name:"NOV",id:"11"},{name:"DEC",id:"12"}],this.theYear=(new Date).getFullYear(),this.currentYear=(new Date).getFullYear(),this.currentMonth=((new Date).getMonth()<9?"0":"")+((new Date).getMonth()+1),this.selectedYear=(new Date).getFullYear(),this.selectedMonth={name:"",id:""},this.isVisible=!1,this.months.forEach((function(t){t.id==o.currentMonth&&(o.selectedMonth=t)})),setTimeout(this.selectMonth.bind(this,this.selectedMonth),500)}return r(t,[{key:"ngOnInit",value:function(){}},{key:"selectMonth",value:function(t){this.selectedMonth=t,this.selectedYear=this.theYear;var e,n=(new Date).getMonth(),o="".concat(this.selectedYear,"-").concat(t.id,"-01");e=this.common.dateFormatter(n+1==t.id?new Date:new Date(this.selectedYear,t.id,0),"",!1),this.isVisible=!1,this.select.emit({start:o,end:e})}},{key:"resetData",value:function(){this.selectedMonth={name:"",id:""}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](i.a))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["month-picker"]],outputs:{select:"select"},decls:4,vars:2,consts:[[1,"month-picker"],["type","text","name","month","readonly","",1,"form-control",3,"value","click"],["class","month-list",4,"ngIf"],[1,"month-list"],[1,"row","text-center","year-container"],[1,"col-4"],[1,"fa","fa-angle-double-left",3,"click"],[1,"fa","fa-angle-double-right",3,"click"],[1,"row","p-0","m-0"],["class","col-4",4,"ngFor","ngForOf"],[1,"btn","month-btn",3,"ngClass","disabled","click"]],template:function(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div"),a["\u0275\u0275elementStart"](2,"input",1),a["\u0275\u0275listener"]("click",(function(){return e.isVisible=!e.isVisible})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](3,d,10,2,"div",2),a["\u0275\u0275elementEnd"]()),2&t&&(a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("value",e.selectedMonth.name+" - "+e.selectedYear),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",e.isVisible))},directives:[c.u,c.t,c.r],styles:[".month-list[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;-webkit-box-shadow:2px 10px 10px #ccc;box-shadow:2px 10px 10px #ccc;border:1px solid #ccc;position:absolute;z-index:9999;width:300px}.month-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;border-radius:3px;border:0;margin-bottom:10px}.month-btn[_ngcontent-%COMP%]{background:#fff;color:#000;font-family:Exo;padding:0;line-height:30px}.month-btn[_ngcontent-%COMP%]:hover{background:#f2f2f2;color:#000}.month-btn-active[_ngcontent-%COMP%]{background:teal;color:#fff}.year-container[_ngcontent-%COMP%]{margin-bottom:5px;font-size:18px}"]}),t}()},"9M6I":function(t,e,o){"use strict";o.d(e,"a",(function(){return _}));var a=o("OlR4"),i=o("H+bZ"),c=o("hWXD"),l=o("8Y7J"),d=o("G0yt"),s=o("tKwJ"),g=o("SVse");function b(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"th",9),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit,o=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](o.formatTitle(n))}}function p(t,e){if(1&t){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275elementStart"](1,"i",11),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](n);var t=l["\u0275\u0275nextContext"]().$implicit,e=l["\u0275\u0275nextContext"]().$implicit;return l["\u0275\u0275nextContext"](2).fetchDocumentData(e,t,e[t])})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}}function m(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&t){var n=l["\u0275\u0275nextContext"]().$implicit,o=l["\u0275\u0275nextContext"]().$implicit,r=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",r.formatTitle(o[n])," ")}}function f(t,e){if(1&t){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275elementStart"](1,"i",12),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](n);var t=l["\u0275\u0275nextContext"]().$implicit,e=l["\u0275\u0275nextContext"]().$implicit;return l["\u0275\u0275nextContext"](2).uploadDoc(e,t,e[t])})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}}function u(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"td",9),l["\u0275\u0275template"](1,p,2,0,"span",8),l["\u0275\u0275template"](2,m,2,1,"span",8),l["\u0275\u0275template"](3,f,2,0,"span",8),l["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit,o=l["\u0275\u0275nextContext"]().$implicit,r=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","driver_name"!=n&&r.getDocumentType(o[n])>0),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",null!=o[n]&&"driver_name"==n),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","driver_name"!=n&&"driver_name"!=n&&0==r.getDocumentType(o[n]))}}function h(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td",5),l["\u0275\u0275elementStart"](2,"span"),l["\u0275\u0275text"](3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](4,u,4,3,"td",6),l["\u0275\u0275elementEnd"]()),2&t){var n=e.index,o=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](n+1),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",o.columns)}}function v(t,e){if(1&t&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275template"](1,h,5,2,"tr",10),l["\u0275\u0275elementContainerEnd"]()),2&t){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",n.data)}}var _=function(){var t=function(){function t(e,o,r){n(this,t),this.common=e,this.api=o,this.modalService=r,this.data=[],this.docdata=[],this.columns=[],this.vehicle_info=[],this.total_recs=0,this.common.refresh=this.refresh.bind(this),this.getDocumentData()}return r(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.getDocumentData()}},{key:"getDocumentData",value:function(){var t=this;this.data=[],this.docdata=[],this.columns=[],this.vehicle_info=[],this.common.loading++,this.api.get("Drivers/getDriverDocWrtFo").subscribe((function(e){if(t.common.loading--,console.log("data",e),t.data=e.data,t.total_recs=t.data.length,t.data.length){for(var n in t.data[0])"_"!=n.charAt(0)&&t.columns.push(n);console.log("columns"),console.log(t.columns)}}),(function(e){t.common.loading--,console.log(e)}))}},{key:"formatTitle",value:function(t){return t.indexOf("_")>0?t.toLowerCase().split("_").map((function(t){return t[0].toUpperCase()+t.slice(1)})).join(" "):t.charAt(0).toUpperCase()+t.substr(1)}},{key:"uploadDoc",value:function(t,e,n){var o=this;this.common.params={row:t,col:n},this.modalService.open(c.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then((function(t){t.response&&o.getDocumentData()}))}},{key:"fetchDocumentData",value:function(t,e,n){console.log("col",n),this.common.params={row:t,col:n},this.modalService.open(c.a,{size:"lg",container:"nb-layout",backdrop:"static"})}},{key:"getDocumentType",value:function(t){return t?t.indexOf("_")>-1?t.split("_")[1]:99:0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l["\u0275\u0275directiveInject"](a.a),l["\u0275\u0275directiveInject"](i.a),l["\u0275\u0275directiveInject"](d.r))},t.\u0275cmp=l["\u0275\u0275defineComponent"]({type:t,selectors:[["driver-document"]],decls:15,vars:2,consts:[[2,"min-height","360px"],[1,"document-dash-contnet"],[1,"row","col-sm-12"],["id","tbldocs",1,"table","table-bordered","table-hover","table-scroll"],[1,"thead"],[2,"width","40px"],["class","text-center",4,"ngFor","ngForOf"],[1,""],[4,"ngIf"],[1,"text-center"],[4,"ngFor","ngForOf"],["title","upload",1,"fa","fa-check","icon-green",3,"click"],["title","No Record",1,"fa","fa-times-circle","icon-red-cross",3,"click"]],template:function(t,e){1&t&&(l["\u0275\u0275elementStart"](0,"nb-card"),l["\u0275\u0275elementStart"](1,"nb-card-header"),l["\u0275\u0275elementStart"](2,"h5"),l["\u0275\u0275text"](3,"Driver Document"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"nb-card-body",0),l["\u0275\u0275elementStart"](5,"div",1),l["\u0275\u0275elementStart"](6,"div",2),l["\u0275\u0275elementStart"](7,"table",3),l["\u0275\u0275elementStart"](8,"thead",4),l["\u0275\u0275elementStart"](9,"tr"),l["\u0275\u0275elementStart"](10,"th",5),l["\u0275\u0275text"](11,"SN"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](12,b,2,1,"th",6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"tbody",7),l["\u0275\u0275template"](14,v,2,1,"ng-container",8),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&t&&(l["\u0275\u0275advance"](12),l["\u0275\u0275property"]("ngForOf",e.columns),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",e.total_recs))},directives:[s.s,s.v,s.r,g.t,g.u],styles:[".center[_ngcontent-%COMP%]{text-align:center}.icon-img[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%}.icon-black[_ngcontent-%COMP%]{color:#000}.icon-black[_ngcontent-%COMP%], .icon-red[_ngcontent-%COMP%]{font-size:24px;cursor:pointer}.icon-red[_ngcontent-%COMP%]{color:red}.icon-green[_ngcontent-%COMP%]{color:green}.icon-green[_ngcontent-%COMP%], .icon-yellow[_ngcontent-%COMP%]{font-size:24px;cursor:pointer}.icon-yellow[_ngcontent-%COMP%]{color:#ff0}.icon-red-cross[_ngcontent-%COMP%]{color:red;font-size:24px;cursor:arrow}.i-black[_ngcontent-%COMP%]{color:#000;font-size:24px}.i-red[_ngcontent-%COMP%]{color:red;font-size:24px}.i-green[_ngcontent-%COMP%]{color:green;font-size:24px}.i-yellow[_ngcontent-%COMP%]{color:#ff0;font-size:24px}.i-red-cross[_ngcontent-%COMP%]{color:red;font-size:24px}.btn-all[_ngcontent-%COMP%]{padding-top:13px}span.mgn-lt[_ngcontent-%COMP%]{margin-left:15px}.pdg-ltrt-none[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.idx-fld[_ngcontent-%COMP%]{width:40px}.cls-hide[_ngcontent-%COMP%]{display:none!important}.description[_ngcontent-%COMP%]{width:95%!important;margin:0!important}#tbldocs[_ngcontent-%COMP%]{counter-reset:rowNumber}table#tbldocs[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{counter-increment:rowNumber}.select_cat_tabel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative}.document-heading_box[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0}.document-heading_box[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;position:relative;padding:10px;width:100%;text-align:center}.document-heading_box[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{vertical-align:middle;margin-right:5px}.document-heading_box[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;margin:0;left:0;z-index:99;opacity:0;cursor:pointer}.document-heading_box[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:transparent}.document-heading_box[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.075)}nb-card-header[_ngcontent-%COMP%]{padding:15px 20px;border:1px solid #efefef;margin-bottom:10px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 8px;font-weight:400;width:170px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:30px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 8px!important;font-size:12px;position:relative}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;overflow:auto;max-height:calc(100vh - 220px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:30px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:170px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px;text-transform:capitalize}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#e4e4e4}",'.thead[_ngcontent-%COMP%]{color:#fff;background-color:#263238}.thead[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:12px}td[_ngcontent-%COMP%]{font-weight:500;padding:8px}.thead-dark[_ngcontent-%COMP%]{color:#fff;font-size:18px;background-color:#263238}.arrow[_ngcontent-%COMP%]{font-size:18px;margin:8px}.btn[_ngcontent-%COMP%]{background:#f2f2f2;font-weight:700;margin-right:5px;margin-left:5px;margin-top:5px;display:inline-block;font-size:14px;text-align:center;height:30px;line-height:5px;border-radius:4px;font-family:Exo;color:#000;cursor:pointer}.btn.btn-danger[_ngcontent-%COMP%]{background-color:#da2240;color:#fff;background-color:#f05e77}.btn.btn-danger[_ngcontent-%COMP%]:active, .btn.btn-danger[_ngcontent-%COMP%]:focus, .btn.btn-danger[_ngcontent-%COMP%]:hover{background-color:#e22242}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#3c6ac7;color:#fff;background-color:#73a1ff}.btn.btn-primary[_ngcontent-%COMP%]:active, .btn.btn-primary[_ngcontent-%COMP%]:focus, .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0054ff}.btn.btn-default.btn-sm[_ngcontent-%COMP%]{float:right;margin-right:50%;background:#dcd9d9;color:#000;font-size:12px}.nb-theme-corporate[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:disabled):not(.disabled){cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:#f1f1f1}nb-card-body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;cursor:pointer;border-radius:0}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:start:decrement{background:linear-gradient(120deg,#696969 40%,transparent 41%),linear-gradient(240deg,#696969 40%,transparent 41%),linear-gradient(0deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:end:increment{background:linear-gradient(300deg,#696969 40%,transparent 41%),linear-gradient(60deg,#696969 40%,transparent 41%),linear-gradient(180deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:end:increment{background:linear-gradient(210deg,#696969 40%,transparent 41%),linear-gradient(330deg,#696969 40%,transparent 41%),linear-gradient(90deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:start:decrement{background:linear-gradient(30deg,#696969 40%,transparent 41%),linear-gradient(150deg,#696969 40%,transparent 41%),linear-gradient(270deg,#696969 30%,transparent 31%);background-color:#b6b6b6}.no-data[_ngcontent-%COMP%]{font-size:18px;color:#f73c3c;font-weight:600;text-align:center;width:100%}[_nghost-%COMP%]     .nb-home:before{content:"\\f015"}[_nghost-%COMP%]     .nb-notifications:before{content:"\\f145"}[_nghost-%COMP%]     .nb-title:before{content:"\\f02d"}[_nghost-%COMP%]     .nb-list:before{content:"\\f016"}[_nghost-%COMP%]     .fa-book:before{content:"\\f0d6"}[_nghost-%COMP%]     .fa-signal:before{content:"\\f043"}[_nghost-%COMP%]     .fa-truck:before{content:"\\f0d1"}[_nghost-%COMP%]     .fa-cog:before{content:"\\f013"}[_nghost-%COMP%]     .fa-database:before{content:"\\f15c";font-size:14px}[_nghost-%COMP%]     .fa-money:before{content:"\\f283";font-size:14px}[_nghost-%COMP%]     .control-icon.nb-notifications:before{content:"\\f0f3";display:block;font-family:FontAwesome;font-size:22px;margin-right:8px;margin-top:8px}[_nghost-%COMP%]     nb-base-calendar.medium nb-card{width:100%}[_nghost-%COMP%]     nb-base-calendar.medium nb-card-header{padding:10px 20px;border-bottom:1px solid #eaeaea}']}),t}()},FgHD:function(e,o,a){"use strict";a.d(o,"a",(function(){return u}));var i=a("OlR4"),c=a("H+bZ"),l=a("LvDl"),d=a("8Y7J"),s=a("G0yt"),g=a("tKwJ"),b=a("7tAi"),p=a("SVse"),m=a("wD9S");function f(t,e){if(1&t&&d["\u0275\u0275element"](0,"smart-table",8),2&t){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275property"]("data",n.table.data)("settings",n.table.settings)}}var u=function(){var e=function(){function e(t,o,r){n(this,e),this.api=t,this.common=o,this.modalService=r,this.arrdriverData=[{days:null,name:null,attendance:null,id:null}],this.dates={start:"",end:""},this.attendances=[],this.arrayofdates=[],this.table={data:{headings:{name:{placeholder:"Driver"},total_present:{placeholder:"TP",editable:!0,hideSearch:!0},total_absent:{placeholder:"TA",editable:!0,hideSearch:!0},total_half:{placeholder:"THD",editable:!0,hideSearch:!0},adjust_day:{placeholder:"AD",editable:!0,hideSearch:!0}},columns:[]},settings:{hideHeader:!0,editable:!0,editableAction:this.handleTableEdit.bind(this)}},this.common.refresh=this.refresh.bind(this)}return r(e,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.getAttendace()}},{key:"getAttendace",value:function(){var t=this;this.table={data:{headings:{name:{placeholder:"Driver"},total_present:{placeholder:"TP",editable:!0,hideSearch:!0},total_absent:{placeholder:"TA",editable:!0,hideSearch:!0},total_half:{placeholder:"THD",editable:!0,hideSearch:!0},adjust_day:{placeholder:"AD",editable:!0,hideSearch:!0}},columns:[]},settings:{hideHeader:!0,editable:!0,editableAction:this.handleTableEdit.bind(this)}};var e={startDate:this.dates.start,endDate:this.dates.end};console.log("params",e),this.common.loading++,this.api.post("Drivers/getDriverAttendance",e).subscribe((function(e){t.common.loading--,console.log("res",e.data),t.attendances=e.data,t.table.data.columns=t.getTableColumns(t.formattData())}),(function(e){t.common.loading--,console.log(e)}))}},{key:"formattData",value:function(){var e=this,n=l.groupBy(this.attendances,"y_driver_id"),o=[];return Object.keys(n).map((function(e){o.push({name:n[e][0].y_driver_name,total_present:n[e][0].y_total_present,total_absent:n[e][0].y_total_absent,total_half:n[e][0].y_total_half,id:n[e][0].y_attendance_id,driver_id:n[e][0].y_driver_id,date:n[e][0].y_date,adjust_day:n[e][0].y_adjust_day,att:n[e][0].y_attendance,data:t(n[e])})})),o[0].data.map((function(t){e.table.data.headings[t.y_date.split(" ")[0]]={placeholder:e.common.changeDateformat3(t.y_date.split(" ")[0]),editable:!0,hideSearch:!0}})),console.log("formattdata",o),o}},{key:"getTableColumns",value:function(t){var e=[];return t.map((function(t){var n={name:{value:t.name},total_present:{value:t.total_present},total_absent:{value:t.total_absent},total_half:{value:t.total_half},adjust_day:{value:t.adjust_day},id:t.id,att:t.att,driver_id:t.driver_id};t.data.map((function(t){n[t.y_date.split(" ")[0]]={value:t.y_attendance,date:t.y_date}})),n.params=t,e.push(n)})),e}},{key:"handleTableEdit",value:function(t,e){var n=this;this.common.params={columns:t},console.log("current",this.common.params.columns.current);var o=[];Object.keys(this.common.params.columns.current).forEach((function(t){t.match(/....-..-../i)&&("p"==n.common.params.columns.current[t].value||"P"==n.common.params.columns.current[t].value?n.common.params.columns.current.id="2":"a"==n.common.params.columns.current[t].value||"ap"==n.common.params.columns.current[t].value||"A"==n.common.params.columns.current[t].value||"AP"==n.common.params.columns.current[t].value?n.common.params.columns.current.id="0":"HD"==n.common.params.columns.current[t].value||"hd"==n.common.params.columns.current[t].value||"H"==n.common.params.columns.current[t].value||"h"==n.common.params.columns.current[t].value?n.common.params.columns.current.id="1":n.common.showToast("Invalid Pattern"),o.push({driver_id:n.common.params.columns.current.driver_id,name:n.common.params.columns.current.name.value,date:n.common.params.columns.current[t].date,att_id:n.common.params.columns.current.id,tp:n.common.params.columns.current.total_present.value,ta:n.common.params.columns.current.total_absent.value,thd:n.common.params.columns.current.total_half.value,adjust_day:n.common.params.columns.current.adjust_day.value}))})),console.log("show",o);var r={att_list:o};console.log("params",r),this.common.loading++,this.api.post("Drivers/updateDriverAttendance",r).subscribe((function(t){n.common.loading--,console.log("res",t.data),n.attendances=t.data,n.getAttendace()}),(function(t){n.common.loading--,console.log(t)}))}},{key:"selectedDate",value:function(t){console.log("Dates:",t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](c.a),d["\u0275\u0275directiveInject"](i.a),d["\u0275\u0275directiveInject"](s.r))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["driver-attendance"]],decls:13,vars:1,consts:[[2,"border","0px"],[2,"min-height","400px"],[1,"row"],[1,"col-3"],[3,"select"],[1,"col-sm-2"],["type","submit","id","submit","name","submit",1,"btn","btn-primary","w-100","m-0",3,"click"],[3,"data","settings",4,"ngIf"],[3,"data","settings"]],template:function(t,e){1&t&&(d["\u0275\u0275elementStart"](0,"nb-card",0),d["\u0275\u0275elementStart"](1,"nb-card-header"),d["\u0275\u0275elementStart"](2,"h5"),d["\u0275\u0275text"](3,"Driver Attendance"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"nb-card-body",1),d["\u0275\u0275elementStart"](5,"div",2),d["\u0275\u0275elementStart"](6,"div",3),d["\u0275\u0275elementStart"](7,"month-picker",4),d["\u0275\u0275listener"]("select",(function(t){return e.dates=t})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"div",5),d["\u0275\u0275elementStart"](9,"button",6),d["\u0275\u0275listener"]("click",(function(){return e.getAttendace()})),d["\u0275\u0275text"](10,"GET ATTENDANCE"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](11,f,1,2,"smart-table",7),d["\u0275\u0275element"](12,"br"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&t&&(d["\u0275\u0275advance"](11),d["\u0275\u0275property"]("ngIf",e.table.data.columns.length))},directives:[g.s,g.v,g.r,b.a,p.u,m.a],styles:["nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}.btn[_ngcontent-%COMP%]{font-size:16px;text-transform:capitalize}[_nghost-%COMP%]     .tableFixHead{height:auto!important;max-height:calc(100vh - 222px)}[_nghost-%COMP%]     .tableFixHead table thead tr th{width:33px;font-size:10px}[_nghost-%COMP%]     .tableFixHead table thead tr th .no-search{background-color:transparent}[_nghost-%COMP%]     .tableFixHead table thead tr th:first-child{width:30px}[_nghost-%COMP%]     .tableFixHead table thead tr th:nth-child(2){width:80px}[_nghost-%COMP%]     .tableFixHead table tbody td{padding:5px 3px!important;text-align:center}[_nghost-%COMP%]     .tableFixHead table tbody td input{border:1px solid #e2e2e2;text-align:center}",'.thead[_ngcontent-%COMP%]{color:#fff;background-color:#263238}.thead[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:12px}td[_ngcontent-%COMP%]{font-weight:500;padding:8px}.thead-dark[_ngcontent-%COMP%]{color:#fff;font-size:18px;background-color:#263238}.arrow[_ngcontent-%COMP%]{font-size:18px;margin:8px}.btn[_ngcontent-%COMP%]{background:#f2f2f2;font-weight:700;margin-right:5px;margin-left:5px;margin-top:5px;display:inline-block;font-size:14px;text-align:center;height:30px;line-height:5px;border-radius:4px;font-family:Exo;color:#000;cursor:pointer}.btn.btn-danger[_ngcontent-%COMP%]{background-color:#da2240;color:#fff;background-color:#f05e77}.btn.btn-danger[_ngcontent-%COMP%]:active, .btn.btn-danger[_ngcontent-%COMP%]:focus, .btn.btn-danger[_ngcontent-%COMP%]:hover{background-color:#e22242}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#3c6ac7;color:#fff;background-color:#73a1ff}.btn.btn-primary[_ngcontent-%COMP%]:active, .btn.btn-primary[_ngcontent-%COMP%]:focus, .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0054ff}.btn.btn-default.btn-sm[_ngcontent-%COMP%]{float:right;margin-right:50%;background:#dcd9d9;color:#000;font-size:12px}.nb-theme-corporate[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:disabled):not(.disabled){cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:#f1f1f1}nb-card-body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;cursor:pointer;border-radius:0}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:start:decrement{background:linear-gradient(120deg,#696969 40%,transparent 41%),linear-gradient(240deg,#696969 40%,transparent 41%),linear-gradient(0deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:end:increment{background:linear-gradient(300deg,#696969 40%,transparent 41%),linear-gradient(60deg,#696969 40%,transparent 41%),linear-gradient(180deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:end:increment{background:linear-gradient(210deg,#696969 40%,transparent 41%),linear-gradient(330deg,#696969 40%,transparent 41%),linear-gradient(90deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:start:decrement{background:linear-gradient(30deg,#696969 40%,transparent 41%),linear-gradient(150deg,#696969 40%,transparent 41%),linear-gradient(270deg,#696969 30%,transparent 31%);background-color:#b6b6b6}.no-data[_ngcontent-%COMP%]{font-size:18px;color:#f73c3c;font-weight:600;text-align:center;width:100%}[_nghost-%COMP%]     .nb-home:before{content:"\\f015"}[_nghost-%COMP%]     .nb-notifications:before{content:"\\f145"}[_nghost-%COMP%]     .nb-title:before{content:"\\f02d"}[_nghost-%COMP%]     .nb-list:before{content:"\\f016"}[_nghost-%COMP%]     .fa-book:before{content:"\\f0d6"}[_nghost-%COMP%]     .fa-signal:before{content:"\\f043"}[_nghost-%COMP%]     .fa-truck:before{content:"\\f0d1"}[_nghost-%COMP%]     .fa-cog:before{content:"\\f013"}[_nghost-%COMP%]     .fa-database:before{content:"\\f15c";font-size:14px}[_nghost-%COMP%]     .fa-money:before{content:"\\f283";font-size:14px}[_nghost-%COMP%]     .control-icon.nb-notifications:before{content:"\\f0f3";display:block;font-family:FontAwesome;font-size:22px;margin-right:8px;margin-top:8px}[_nghost-%COMP%]     nb-base-calendar.medium nb-card{width:100%}[_nghost-%COMP%]     nb-base-calendar.medium nb-card-header{padding:10px 20px;border-bottom:1px solid #eaeaea}']}),e}()},cSOp:function(t,e,o){"use strict";o.d(e,"a",(function(){return M}));var a=o("OlR4"),i=o("H+bZ"),c=o("qfBg"),l=o("tPjB"),d=o("xa4U"),s=o("boAm"),g=o("hWXD"),b=o("w/2i"),p=o("+AmU"),m=o("8Y7J"),f=o("iInd"),u=o("G0yt"),h=o("tKwJ"),v=o("SVse"),_=o("wD9S");function x(t,e){if(1&t){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",6),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().importDriverCsv()})),m["\u0275\u0275text"](1,"Import Csv"),m["\u0275\u0275elementEnd"]()}}function C(t,e){if(1&t&&m["\u0275\u0275element"](0,"smart-table",7),2&t){var n=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("data",n.table.driverLists)("settings",n.table.settings)}}var M=function(){var t=function(){function t(e,o,r,a,i){n(this,t),this.api=e,this.router=o,this.modalService=r,this.common=a,this.user=i,this.driverLists=[],this.data=[],this.table=null,this.getdriverLists(),this.common.refresh=this.refresh.bind(this)}return r(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.getdriverLists()}},{key:"addDriver",value:function(){var t=this;this.modalService.open(s.a,{size:"lg",container:"nb-layout"}).result.then((function(e){e.response&&t.getdriverLists()}))}},{key:"getdriverLists",value:function(){var t=this;this.driverLists=[],this.common.loading++,this.api.get("Drivers/index").subscribe((function(e){t.common.loading--,console.log("Res:",e.data),t.driverLists=e.data,null!=t.driverLists&&(t.table=t.setTable())}),(function(e){t.common.loading--,console.log(e)}))}},{key:"updateDriverInfo",value:function(t){var e=this;this.common.params={driver:t},this.modalService.open(d.a,{size:"lg",container:"nb-layout"}).result.then((function(t){t.response&&e.getdriverLists()}))}},{key:"importDriverCsv",value:function(){this.common.params={title:"Bulk Import Driver"},this.modalService.open(l.a,{container:"nb-layout",backdrop:"static"})}},{key:"setTable",value:function(){return{driverLists:{headings:{empname:{title:"Driver",placeholder:"Driver"},mobileno:{title:"Mobile No",placeholder:"Mobile No"},mobileno2:{title:"Mobile No 2",placeholder:"Mobile No 2"},action:{title:"Action ",placeholder:"Action",hideSearch:!0,class:"tag"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}}},{key:"getTableColumns",value:function(){var t=this,e=[];return this.driverLists.map((function(n){var o={empname:{value:n.empname},mobileno:{value:n.mobileno},mobileno2:{value:null==n.mobileno2?"-":n.mobileno2},action:{value:"",isHTML:!1,action:null,icons:[{class:"fa fa-file",action:t.updateDriver.bind(t,n)},{class:"fa fa-tasks",action:t.updateDriverInfo.bind(t,n)},{class:"fab fa-reddit",action:t.driverLedgerMapping.bind(t,n)},{class:"fa fa-print",action:t.driverPersonalDetail.bind(t,n)}]},rowActions:{click:"selectRow"}};e.push(o)})),e}},{key:"driverLedgerMapping",value:function(t){this.common.params={driverId:t.id},this.modalService.open(b.a,{size:"lg",container:"nb-layout",backdrop:"static"})}},{key:"driverPersonalDetail",value:function(t){this.common.params={driverId:t.id},this.modalService.open(p.a,{size:"lg",container:"nb-layout",backdrop:"static"})}},{key:"updateDriver",value:function(t){this.common.params={driver:t},this.modalService.open(g.a,{size:"lg",container:"nb-layout",backdrop:"static"})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(m["\u0275\u0275directiveInject"](i.a),m["\u0275\u0275directiveInject"](f.c),m["\u0275\u0275directiveInject"](u.r),m["\u0275\u0275directiveInject"](a.a),m["\u0275\u0275directiveInject"](c.a))},t.\u0275cmp=m["\u0275\u0275defineComponent"]({type:t,selectors:[["driver-list"]],decls:12,vars:2,consts:[[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["class","btn btn-primary","type","submit","name","button",3,"click",4,"ngIf"],["id","button","name","button",1,"btn","btn-primary",3,"click"],[3,"data","settings",4,"ngIf"],["type","submit","name","button",1,"btn","btn-primary",3,"click"],[3,"data","settings"]],template:function(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"nb-card"),m["\u0275\u0275elementStart"](1,"nb-card-header"),m["\u0275\u0275elementStart"](2,"div",0),m["\u0275\u0275elementStart"](3,"div",1),m["\u0275\u0275elementStart"](4,"h5"),m["\u0275\u0275text"](5,"Drivers List"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"div",2),m["\u0275\u0275template"](7,x,2,0,"button",3),m["\u0275\u0275elementStart"](8,"button",4),m["\u0275\u0275listener"]("click",(function(){return e.addDriver()})),m["\u0275\u0275text"](9,"ADD"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"nb-card-body"),m["\u0275\u0275template"](11,C,1,2,"smart-table",5),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&t&&(m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("ngIf","admin"==e.user._loggedInBy),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngIf",e.driverLists&&e.driverLists.length))},directives:[h.s,h.v,v.u,h.r,_.a],styles:['[_nghost-%COMP%]     .tableFixHead table tr td:last-child i{margin-right:10px;font-size:14px}[_nghost-%COMP%]     .tableFixHead table tr td:last-child .fa-file{color:#04a9f5}[_nghost-%COMP%]     .tableFixHead table tr td:last-child .fa-file span{position:absolute;display:none;padding:10px 32px;font-size:11px;font-weight:400;left:-26px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .tableFixHead table tr td:last-child .fa-file span:before{content:"Edit Doc";display:block;position:absolute;top:0;left:0;background-color:#04a9f5;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .tableFixHead table tr td:last-child .fa-file span:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #04a9f5;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     .tableFixHead table tr td:last-child .fa-file:hover span{display:block}[_nghost-%COMP%]     .tableFixHead table tr .fa-tasks{color:red}[_nghost-%COMP%]     .tableFixHead table tr .fa-tasks span{position:absolute;display:none;padding:10px 20px;font-size:11px;font-weight:400;left:-12px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .tableFixHead table tr .fa-tasks span:before{content:"Edit";display:block;position:absolute;top:0;left:0;background-color:red;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .tableFixHead table tr .fa-tasks span:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid red;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     .tableFixHead table tr .fa-tasks:hover span{display:block}[_nghost-%COMP%]     .tableFixHead table .fa-reddit{color:red}[_nghost-%COMP%]     .tableFixHead table .fa-reddit span{position:absolute;display:none;padding:10px 67px;font-size:11px;font-weight:400;left:-58px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .tableFixHead table .fa-reddit span:before{content:"Driver Ledger Mapping";display:block;position:absolute;top:0;left:0;background-color:red;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .tableFixHead table .fa-reddit span:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid red;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     .tableFixHead table .fa-reddit:hover span{display:block}','.thead[_ngcontent-%COMP%]{color:#fff;background-color:#263238}.thead[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:12px}td[_ngcontent-%COMP%]{font-weight:500;padding:8px}.thead-dark[_ngcontent-%COMP%]{color:#fff;font-size:18px;background-color:#263238}.arrow[_ngcontent-%COMP%]{font-size:18px;margin:8px}.btn[_ngcontent-%COMP%]{background:#f2f2f2;font-weight:700;margin-right:5px;margin-left:5px;margin-top:5px;display:inline-block;font-size:14px;text-align:center;height:30px;line-height:5px;border-radius:4px;font-family:Exo;color:#000;cursor:pointer}.btn.btn-danger[_ngcontent-%COMP%]{background-color:#da2240;color:#fff;background-color:#f05e77}.btn.btn-danger[_ngcontent-%COMP%]:active, .btn.btn-danger[_ngcontent-%COMP%]:focus, .btn.btn-danger[_ngcontent-%COMP%]:hover{background-color:#e22242}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#3c6ac7;color:#fff;background-color:#73a1ff}.btn.btn-primary[_ngcontent-%COMP%]:active, .btn.btn-primary[_ngcontent-%COMP%]:focus, .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0054ff}.btn.btn-default.btn-sm[_ngcontent-%COMP%]{float:right;margin-right:50%;background:#dcd9d9;color:#000;font-size:12px}.nb-theme-corporate[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:disabled):not(.disabled){cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:#f1f1f1}nb-card-body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;cursor:pointer;border-radius:0}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:start:decrement{background:linear-gradient(120deg,#696969 40%,transparent 41%),linear-gradient(240deg,#696969 40%,transparent 41%),linear-gradient(0deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:end:increment{background:linear-gradient(300deg,#696969 40%,transparent 41%),linear-gradient(60deg,#696969 40%,transparent 41%),linear-gradient(180deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:end:increment{background:linear-gradient(210deg,#696969 40%,transparent 41%),linear-gradient(330deg,#696969 40%,transparent 41%),linear-gradient(90deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:start:decrement{background:linear-gradient(30deg,#696969 40%,transparent 41%),linear-gradient(150deg,#696969 40%,transparent 41%),linear-gradient(270deg,#696969 30%,transparent 31%);background-color:#b6b6b6}.no-data[_ngcontent-%COMP%]{font-size:18px;color:#f73c3c;font-weight:600;text-align:center;width:100%}[_nghost-%COMP%]     .nb-home:before{content:"\\f015"}[_nghost-%COMP%]     .nb-notifications:before{content:"\\f145"}[_nghost-%COMP%]     .nb-title:before{content:"\\f02d"}[_nghost-%COMP%]     .nb-list:before{content:"\\f016"}[_nghost-%COMP%]     .fa-book:before{content:"\\f0d6"}[_nghost-%COMP%]     .fa-signal:before{content:"\\f043"}[_nghost-%COMP%]     .fa-truck:before{content:"\\f0d1"}[_nghost-%COMP%]     .fa-cog:before{content:"\\f013"}[_nghost-%COMP%]     .fa-database:before{content:"\\f15c";font-size:14px}[_nghost-%COMP%]     .fa-money:before{content:"\\f283";font-size:14px}[_nghost-%COMP%]     .control-icon.nb-notifications:before{content:"\\f0f3";display:block;font-family:FontAwesome;font-size:22px;margin-right:8px;margin-top:8px}[_nghost-%COMP%]     nb-base-calendar.medium nb-card{width:100%}[_nghost-%COMP%]     nb-base-calendar.medium nb-card-header{padding:10px 20px;border-bottom:1px solid #eaeaea}']}),t}()},nvNi:function(t,e,o){"use strict";o.d(e,"a",(function(){return m}));var a=o("OlR4"),i=o("H+bZ"),c=o("klIi"),l=o("8Y7J"),d=o("G0yt"),s=o("tKwJ"),g=o("SVse"),b=o("wD9S");function p(t,e){if(1&t&&l["\u0275\u0275element"](0,"smart-table",9),2&t){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275property"]("data",n.table.data)("settings",n.table.settings)}}var m=function(){var t=function(){function t(e,o,r){n(this,t),this.common=e,this.api=o,this.modalService=r,this.data=[],this.table=null,this.common.refresh=this.refresh.bind(this),this.getdriverMapping()}return r(t,[{key:"refresh",value:function(){this.getdriverMapping()}},{key:"ngOnInit",value:function(){}},{key:"getvehicleData",value:function(t){console.log(t.mobileno),console.log(t.empname),console.log(t.status),console.log(t.refid)}},{key:"setTable",value:function(){return{data:{headings:{regno:{title:"Vehicle Number",placeholder:"Vehicle Number"},mainDriver:{title:"Primary Driver ",placeholder:"Primary Driver "},mappedSinceM:{title:"Mapped Since",placeholder:"Mapped Since"},mobileno:{title:"Mobile Number",placeholder:"Mobile Number"},secondaryDriver:{title:"Secondary Driver",placeholder:"Secondary Driver"},mappedSinceS:{title:"Mapped Since",placeholder:"Mapped Since"},mobileno2:{title:"Mobile  Number",placeholder:"Mobile Number"}},columns:this.getTableColumns()},settings:{hideHeader:!0}}}},{key:"getTableColumns",value:function(){var t=this,e=[];return this.data.map((function(n){var o={regno:{value:n.regno,action:t.remapDriver.bind(t,n)},mainDriver:{value:n.md_name,action:""},mappedSinceM:{value:n.m_entry_dt?t.common.dateFormatter1(n.m_entry_dt):null,action:""},mobileno:{value:n.md_no,action:""},secondaryDriver:{value:n.sd_name,action:""},mappedSinceS:{value:n.s_entry_dt?t.common.dateFormatter1(n.s_entry_dt):null,action:""},mobileno2:{value:n.sd_no,action:""},rowActions:{}};e.push(o)})),e}},{key:"getdriverMapping",value:function(){var t=this;this.common.loading++,this.api.get("Drivers/getVehicleMapping").subscribe((function(e){t.common.loading--,console.log("Res:",e.data),t.data=e.data,t.table=t.setTable()}),(function(e){t.common.loading--,console.log(e)}))}},{key:"selectDriverStatus",value:function(t){console.log("Status :",t)}},{key:"remapDriver",value:function(t){var e=this;this.common.params={driver:t},this.modalService.open(c.a,{size:"lg",container:"nb-layout"}).result.then((function(t){t.response&&e.getdriverMapping()}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l["\u0275\u0275directiveInject"](a.a),l["\u0275\u0275directiveInject"](i.a),l["\u0275\u0275directiveInject"](d.r))},t.\u0275cmp=l["\u0275\u0275defineComponent"]({type:t,selectors:[["vehicle-driver-mapping"]],decls:14,vars:1,consts:[[1,"row"],[1,"col-sm-10"],[1,"col-2","text-right"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],["id","vehicleMapping",3,"data","settings",4,"ngIf"],["id","vehicleMapping",3,"data","settings"]],template:function(t,e){1&t&&(l["\u0275\u0275elementStart"](0,"nb-card"),l["\u0275\u0275elementStart"](1,"nb-card-header"),l["\u0275\u0275elementStart"](2,"div",0),l["\u0275\u0275elementStart"](3,"h5",1),l["\u0275\u0275text"](4,"vehicle Driver Mapping"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"div",2),l["\u0275\u0275elementStart"](6,"span",3),l["\u0275\u0275elementStart"](7,"span",4),l["\u0275\u0275listener"]("click",(function(){return e.common.getPDFFromTableId("vehicleMapping")})),l["\u0275\u0275element"](8,"i",5),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](9,"span",6),l["\u0275\u0275listener"]("click",(function(){return e.common.getCSVFromTableId("vehicleMapping")})),l["\u0275\u0275element"](10,"i",7),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"nb-card-body"),l["\u0275\u0275template"](12,p,1,2,"smart-table",8),l["\u0275\u0275element"](13,"br"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&t&&(l["\u0275\u0275advance"](12),l["\u0275\u0275property"]("ngIf",e.data.length))},directives:[s.s,s.v,s.r,g.u,b.a],styles:[".active-pink-2[_ngcontent-%COMP%]   input[type=search][_ngcontent-%COMP%]:focus:not([readonly]){border-bottom:1px solid #f48fb1;-webkit-box-shadow:0 1px 0 0 #f48fb1;box-shadow:0 1px 0 0 #f48fb1}.active-pink[_ngcontent-%COMP%]   input[type=search][_ngcontent-%COMP%]{border-bottom:1px solid #f48fb1;-webkit-box-shadow:0 1px 0 0 #f48fb1;box-shadow:0 1px 0 0 #f48fb1}nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}[_nghost-%COMP%]     .tableFixHead{height:auto!important;max-height:calc(100vh - 178px)}.pdf-icon[_ngcontent-%COMP%]{font-size:30px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:30px;color:#217346}",'.thead[_ngcontent-%COMP%]{color:#fff;background-color:#263238}.thead[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:12px}td[_ngcontent-%COMP%]{font-weight:500;padding:8px}.thead-dark[_ngcontent-%COMP%]{color:#fff;font-size:18px;background-color:#263238}.arrow[_ngcontent-%COMP%]{font-size:18px;margin:8px}.btn[_ngcontent-%COMP%]{background:#f2f2f2;font-weight:700;margin-right:5px;margin-left:5px;margin-top:5px;display:inline-block;font-size:14px;text-align:center;height:30px;line-height:5px;border-radius:4px;font-family:Exo;color:#000;cursor:pointer}.btn.btn-danger[_ngcontent-%COMP%]{background-color:#da2240;color:#fff;background-color:#f05e77}.btn.btn-danger[_ngcontent-%COMP%]:active, .btn.btn-danger[_ngcontent-%COMP%]:focus, .btn.btn-danger[_ngcontent-%COMP%]:hover{background-color:#e22242}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#3c6ac7;color:#fff;background-color:#73a1ff}.btn.btn-primary[_ngcontent-%COMP%]:active, .btn.btn-primary[_ngcontent-%COMP%]:focus, .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0054ff}.btn.btn-default.btn-sm[_ngcontent-%COMP%]{float:right;margin-right:50%;background:#dcd9d9;color:#000;font-size:12px}.nb-theme-corporate[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:disabled):not(.disabled){cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:#f1f1f1}nb-card-body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;cursor:pointer;border-radius:0}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:start:decrement{background:linear-gradient(120deg,#696969 40%,transparent 41%),linear-gradient(240deg,#696969 40%,transparent 41%),linear-gradient(0deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:end:increment{background:linear-gradient(300deg,#696969 40%,transparent 41%),linear-gradient(60deg,#696969 40%,transparent 41%),linear-gradient(180deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:end:increment{background:linear-gradient(210deg,#696969 40%,transparent 41%),linear-gradient(330deg,#696969 40%,transparent 41%),linear-gradient(90deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:start:decrement{background:linear-gradient(30deg,#696969 40%,transparent 41%),linear-gradient(150deg,#696969 40%,transparent 41%),linear-gradient(270deg,#696969 30%,transparent 31%);background-color:#b6b6b6}.no-data[_ngcontent-%COMP%]{font-size:18px;color:#f73c3c;font-weight:600;text-align:center;width:100%}[_nghost-%COMP%]     .nb-home:before{content:"\\f015"}[_nghost-%COMP%]     .nb-notifications:before{content:"\\f145"}[_nghost-%COMP%]     .nb-title:before{content:"\\f02d"}[_nghost-%COMP%]     .nb-list:before{content:"\\f016"}[_nghost-%COMP%]     .fa-book:before{content:"\\f0d6"}[_nghost-%COMP%]     .fa-signal:before{content:"\\f043"}[_nghost-%COMP%]     .fa-truck:before{content:"\\f0d1"}[_nghost-%COMP%]     .fa-cog:before{content:"\\f013"}[_nghost-%COMP%]     .fa-database:before{content:"\\f15c";font-size:14px}[_nghost-%COMP%]     .fa-money:before{content:"\\f283";font-size:14px}[_nghost-%COMP%]     .control-icon.nb-notifications:before{content:"\\f0f3";display:block;font-family:FontAwesome;font-size:22px;margin-right:8px;margin-top:8px}[_nghost-%COMP%]     nb-base-calendar.medium nb-card{width:100%}[_nghost-%COMP%]     nb-base-calendar.medium nb-card-header{padding:10px 20px;border-bottom:1px solid #eaeaea}']}),t}()},qfjS:function(t,e,o){"use strict";o.r(e),o.d(e,"DriverModule",(function(){return E}));var a,i,c,l,d,s=o("vTDv"),g=o("FUS3"),b=o("8Y7J"),p=((a=function t(){n(this,t)}).\u0275mod=b["\u0275\u0275defineNgModule"]({type:a}),a.\u0275inj=b["\u0275\u0275defineInjector"]({factory:function(t){return new(t||a)},imports:[[s.a,g.a]]}),a),m=o("SVse"),f=[{title:"Home Dashboard",icon:"fa-home",link:"/pages/dashboard",home:!0},{title:"Driver List ",icon:"fa-list",link:"/driver/driver-list",home:!0},{title:"Vehicle Driver Mapping",icon:"fa-map-marker",link:"/driver/vehicle-driver-mapping",home:!0},{title:"Attendace List",icon:"fa-clock-o",link:"/driver/driver-attendance",home:!0},{title:"Driver Document",icon:"fa-book",link:"/driver/driver-document",home:!0},{title:"Licence Upload",icon:"fa-address-card",link:"/driver/licence-upload",home:!0},{title:"Pending Licence",icon:"fa-align-justify",link:"/driver/pending-licence",home:!0}],u=[{title:"Home",icon:"nb-home",link:"/driver",home:!0},{title:"Add Driver",icon:"nb-home",link:"/driver/add-driver",home:!0},{title:"Driver List",icon:"nb-home",link:"/driver/driver-list",home:!0},{title:"vehicle-driver-mapping",icon:"nb-home",link:"/driver/vehicle-driver-mapping",home:!0},{title:"driver-attendance",icon:"nb-home",link:"/driver/driver-attendance",home:!0}],h=o("qfBg"),v=o("iInd"),_=o("IAMq"),x=o("tKwJ"),C=((c=function t(e,o){n(this,t),this.user=e,this.router=o,this.menu="admin"==this.user._loggedInBy?f:u,"customer"!=this.user._loggedInBy||this.router.navigate(["/pages"])}).\u0275fac=function(t){return new(t||c)(b["\u0275\u0275directiveInject"](h.a),b["\u0275\u0275directiveInject"](v.c))},c.\u0275cmp=b["\u0275\u0275defineComponent"]({type:c,selectors:[["ngx-driver"]],decls:3,vars:1,consts:[[3,"items"]],template:function(t,e){1&t&&(b["\u0275\u0275elementStart"](0,"ngx-sample-layout"),b["\u0275\u0275element"](1,"nb-menu",0),b["\u0275\u0275element"](2,"router-outlet"),b["\u0275\u0275elementEnd"]()),2&t&&(b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("items",e.menu))},directives:[_.a,x.W,v.h],encapsulation:2}),c),M=((i=function(){function t(){n(this,t)}return r(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=b["\u0275\u0275defineComponent"]({type:i,selectors:[["dashboard"]],decls:2,vars:0,template:function(t,e){1&t&&(b["\u0275\u0275elementStart"](0,"p"),b["\u0275\u0275text"](1," dashboard works!\n"),b["\u0275\u0275elementEnd"]())},styles:[""]}),i),O=o("36SD"),P=o("cSOp"),k=o("nvNi"),y=o("FgHD"),w=o("9M6I"),S=[{path:"",component:C,children:[{path:"dashboard",component:M},{path:"add-driver",component:O.a},{path:"driver-list",component:P.a},{path:"vehicle-driver-mapping",component:k.a},{path:"driver-attendance",component:y.a},{path:"driver-document",component:w.a}]}],D=((d=function t(){n(this,t)}).\u0275mod=b["\u0275\u0275defineNgModule"]({type:d}),d.\u0275inj=b["\u0275\u0275defineInjector"]({factory:function(t){return new(t||d)},imports:[[v.g.forChild(S)],v.g]}),d),E=((l=function t(){n(this,t)}).\u0275mod=b["\u0275\u0275defineNgModule"]({type:l}),l.\u0275inj=b["\u0275\u0275defineInjector"]({factory:function(t){return new(t||l)},providers:[m.f],imports:[[D,s.a,p,g.a]]}),l)}}])}();