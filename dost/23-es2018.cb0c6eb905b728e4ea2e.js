(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{yEUo:function(e,t,n){"use strict";n.r(t),n.d(t,"WareHouseModule",(function(){return me}));var a=n("SVse"),i=n("iInd"),l=n("qfBg"),o=n("8Y7J"),s=n("IAMq"),r=n("tKwJ");let d=(()=>{class e{constructor(e,t){this.user=e,this.router=t}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](l.a),o["\u0275\u0275directiveInject"](i.c))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-pages"]],decls:3,vars:1,consts:[["autoCollapse","true",3,"items"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"ngx-sample-layout"),o["\u0275\u0275element"](1,"nb-menu",0),o["\u0275\u0275element"](2,"router-outlet"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("items",t.user._menu.wareHouse))},directives:[s.a,r.W,i.h],encapsulation:2}),e})(),m=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["ware-house-dashbord"]],decls:2,vars:0,template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"p"),o["\u0275\u0275text"](1," ware-house-dashbord works!\n"),o["\u0275\u0275elementEnd"]())},styles:[""]}),e})();var c=n("H+bZ"),h=n("OlR4"),u=n("G0yt"),p=n("s7LF"),g=n("csNM"),v=n("wD9S");function f(e,t){if(1&e&&o["\u0275\u0275element"](0,"smart-table",16),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("data",e.table.data)("settings",e.table.settings)}}function S(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"tr"),o["\u0275\u0275elementStart"](1,"td"),o["\u0275\u0275elementStart"](2,"input",17),o["\u0275\u0275listener"]("ngModelChange",(function(n){return o["\u0275\u0275restoreView"](e),t.$implicit.selected=n})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"td"),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"td"),o["\u0275\u0275text"](6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"td"),o["\u0275\u0275text"](8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"td"),o["\u0275\u0275elementStart"](10,"input",18),o["\u0275\u0275listener"]("ngModelChange",(function(n){return o["\u0275\u0275restoreView"](e),t.$implicit.item_name=n})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"td"),o["\u0275\u0275elementStart"](12,"input",19),o["\u0275\u0275listener"]("ngModelChange",(function(n){return o["\u0275\u0275restoreView"](e),t.$implicit.qty=n})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index;o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("name","list-"+n)("ngModel",e.selected),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.receipt_no),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.source),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.destination),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngModel",e.item_name),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngModel",e.qty)}}let b=(()=>{class e{constructor(e,t,n){this.activeModal=e,this.api=t,this.common=n,this.manifestId=null,this.wareHouseId=null,this.lrList=[],this.data=[],this.result=[],this.itmeName=this.common.params.item_name,this.remarks=null,this.startDate=new Date,this.selectedLr=[],this.Today=new Date,this.getLrList(),console.log("params",this.common.params)}ngOnInit(){}closeModal(){this.activeModal.close()}getLrList(){this.api.get("WareHouse/getLrWrtManifest?manifestId="+this.common.params.manifestId).subscribe(e=>{this.lrList=[],this.lrList=e.data,this.lrList.map((e,t)=>{e.item_name=this.common.params.item_name+"-"+(null!=e.consignee_id?e.consignee_id:"")}),console.log("datA",this.lrList)},e=>{console.log(e)})}selectAll(){if(console.log("select all::::::::::::"),this.selectedAll)for(var e=0;e<this.lrList.length;e++)this.lrList[e].selected=!0;else for(e=0;e<this.lrList.length;e++)this.lrList[e].selected=!1;console.log("select All",this.selectAll)}saveLr(){let e={whId:this.common.params.warehouseId,dttime:this.startDate,remarks:this.remarks,whDetails:JSON.stringify(this.lrList.filter(e=>!!e.selected).map(e=>({material_id:e.materialid,unitype_id:e.unittype,company_id:e.consignee_id,ref_type:11,ref_id:e.lrid,qty:e.qty,item_name:e.item_name})))};2==e.whDetails.length?this.common.showToast("Please Select At Least One Row"):(console.log("LRLIST: ",e.whDetails.length),console.log("LR List:",this.lrList),this.common.loading++,console.log("params",e),this.api.post("WareHouse/saveWhDetails",e).subscribe(e=>{e.data[0].y_id>0?(this.common.loading--,this.common.showToast(e.data[0].y_msg),this.result=e.data,this.activeModal.close({response:this.result})):(this.common.loading--,this.common.showError(e.data[0].y_msg))},e=>{}))}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](u.b),o["\u0275\u0275directiveInject"](c.a),o["\u0275\u0275directiveInject"](h.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["receive-items"]],decls:48,vars:6,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"mt-2"],["id","lrmanifest",3,"data","settings",4,"ngIf"],["frame","box",2,"width","100%"],["type","checkbox","name","vlist",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"row","mt-2"],[1,"col-3"],[1,"col-4"],[3,"maxd","dateTimeValue","onChanged"],["name","comment","form","usrform",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"click"],["id","lrmanifest",3,"data","settings"],["type","checkbox",3,"name","ngModel","ngModelChange"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","number",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"h5",1),o["\u0275\u0275text"](2," Receive Items"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"button",2),o["\u0275\u0275listener"]("click",(function(){return t.closeModal()})),o["\u0275\u0275elementStart"](4,"span",3),o["\u0275\u0275text"](5,"\xd7"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",4),o["\u0275\u0275elementStart"](7,"div",5),o["\u0275\u0275template"](8,f,1,2,"smart-table",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"div"),o["\u0275\u0275elementStart"](10,"table",7),o["\u0275\u0275elementStart"](11,"thead"),o["\u0275\u0275elementStart"](12,"tr"),o["\u0275\u0275elementStart"](13,"th"),o["\u0275\u0275elementStart"](14,"b"),o["\u0275\u0275elementStart"](15,"input",8),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.selectedAll=e}))("ngModelChange",(function(){return t.selectAll()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"th"),o["\u0275\u0275elementStart"](17,"b"),o["\u0275\u0275text"](18,"Receipt_no"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"th"),o["\u0275\u0275elementStart"](20,"b"),o["\u0275\u0275text"](21,"Source"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"th"),o["\u0275\u0275elementStart"](23,"b"),o["\u0275\u0275text"](24,"Destination"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](25,"th"),o["\u0275\u0275elementStart"](26,"b"),o["\u0275\u0275text"](27,"Item Name"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](28,"th"),o["\u0275\u0275elementStart"](29,"b"),o["\u0275\u0275text"](30,"Quantity"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](31,"tbody"),o["\u0275\u0275template"](32,S,13,7,"tr",9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](33,"div",10),o["\u0275\u0275elementStart"](34,"div",11),o["\u0275\u0275elementStart"](35,"label"),o["\u0275\u0275text"](36,"Date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](37,"div",12),o["\u0275\u0275elementStart"](38,"uj-date-time-picker",13),o["\u0275\u0275listener"]("onChanged",(function(e){return t.startDate=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](39,"div",10),o["\u0275\u0275elementStart"](40,"div",11),o["\u0275\u0275elementStart"](41,"label"),o["\u0275\u0275text"](42,"Remark"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](43,"div",12),o["\u0275\u0275elementStart"](44,"textarea",14),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.remarks=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](45,"div",5),o["\u0275\u0275elementStart"](46,"button",15),o["\u0275\u0275listener"]("click",(function(){return t.saveLr()})),o["\u0275\u0275text"](47,"save"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](8),o["\u0275\u0275property"]("ngIf",t.data&&t.data.length),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngModel",t.selectedAll),o["\u0275\u0275advance"](17),o["\u0275\u0275property"]("ngForOf",t.lrList),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("maxd",t.Today)("dateTimeValue",t.startDate),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngModel",t.remarks))},directives:[a.u,p.a,p.r,p.u,a.t,g.a,p.d,v.a,p.x],styles:["table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}th[_ngcontent-%COMP%]{background-color:#737373;color:#fff}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:left;padding:8px}td[_ngcontent-%COMP%]{color:#000}"]}),e})();var y=n("F9Xm"),E=n("ZkqS"),I=n("0zba");function x(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",35),o["\u0275\u0275elementStart"](1,"span"),o["\u0275\u0275text"](2," value is mandatory "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]())}function M(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",35),o["\u0275\u0275elementStart"](1,"span",36),o["\u0275\u0275text"](2," value is mandatory "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){o["\u0275\u0275nextContext"]();const e=o["\u0275\u0275reference"](22);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("hidden",!e.errors.required)}}function C(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",35),o["\u0275\u0275elementStart"](1,"span"),o["\u0275\u0275text"](2," value is mandatory "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",35),o["\u0275\u0275elementStart"](1,"span",36),o["\u0275\u0275text"](2," value is mandatory "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){o["\u0275\u0275nextContext"]();const e=o["\u0275\u0275reference"](43);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("hidden",!e.errors.required)}}function D(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"option",37),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("value",e.id),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function O(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",35),o["\u0275\u0275elementStart"](1,"span",36),o["\u0275\u0275text"](2," value is mandatory "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){o["\u0275\u0275nextContext"]();const e=o["\u0275\u0275reference"](52);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("hidden",!e.errors.required)}}function k(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",8),o["\u0275\u0275elementStart"](1,"button",38),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).addMore()})),o["\u0275\u0275element"](2,"i",22),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}}function _(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",8),o["\u0275\u0275elementStart"](1,"button",39),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](e);const t=o["\u0275\u0275nextContext"]().index;return o["\u0275\u0275nextContext"]().selectLr.splice(t,1)})),o["\u0275\u0275element"](2,"i",40),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}}function T(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",13),o["\u0275\u0275elementStart"](1,"form",14,15),o["\u0275\u0275listener"]("submit",(function(){o["\u0275\u0275restoreView"](e);const t=o["\u0275\u0275reference"](2),n=o["\u0275\u0275nextContext"]();return t.valid&&n.saveLr()})),o["\u0275\u0275elementStart"](3,"div",16),o["\u0275\u0275elementStart"](4,"div",8),o["\u0275\u0275elementStart"](5,"label"),o["\u0275\u0275text"](6,"Material"),o["\u0275\u0275elementStart"](7,"span",17),o["\u0275\u0275text"](8,"*"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"div",18),o["\u0275\u0275elementStart"](10,"auto-suggestion",19),o["\u0275\u0275listener"]("onSelected",(function(n){return o["\u0275\u0275restoreView"](e),t.$implicit.material_id=n.id}))("focusout",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().setMaterialValue("GetMaterialTypes")}))("unSelected",(function(n){return o["\u0275\u0275restoreView"](e),t.$implicit.material_id=n})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](11,x,3,0,"div",20),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"div",8),o["\u0275\u0275elementStart"](13,"button",21),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().addmaterial()})),o["\u0275\u0275element"](14,"i",22),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](15,"div",23),o["\u0275\u0275elementStart"](16,"label"),o["\u0275\u0275text"](17,"Item name"),o["\u0275\u0275elementStart"](18,"span",17),o["\u0275\u0275text"](19,"*"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](20,"div",18),o["\u0275\u0275elementStart"](21,"input",24,25),o["\u0275\u0275listener"]("ngModelChange",(function(n){return o["\u0275\u0275restoreView"](e),t.$implicit.item_name=n})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](23,M,3,1,"div",20),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](24,"div",8),o["\u0275\u0275elementStart"](25,"label"),o["\u0275\u0275text"](26,"Party"),o["\u0275\u0275elementStart"](27,"span",17),o["\u0275\u0275text"](28,"*"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](29,"div",18),o["\u0275\u0275elementStart"](30,"auto-suggestion",26),o["\u0275\u0275listener"]("onSelected",(function(n){return o["\u0275\u0275restoreView"](e),t.$implicit.company_id=n.id}))("focusout",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().setParty("company")}))("unSelected",(function(n){return o["\u0275\u0275restoreView"](e),t.$implicit.company_id=n})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](31,C,3,0,"div",20),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](32,"div",8),o["\u0275\u0275elementStart"](33,"button",21),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().addCompany()})),o["\u0275\u0275element"](34,"i",22),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](35,"div",27),o["\u0275\u0275elementStart"](36,"div",8),o["\u0275\u0275elementStart"](37,"label"),o["\u0275\u0275text"](38,"Quantity"),o["\u0275\u0275elementStart"](39,"span",17),o["\u0275\u0275text"](40,"*"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](41,"div",9),o["\u0275\u0275elementStart"](42,"input",28,29),o["\u0275\u0275listener"]("ngModelChange",(function(n){return o["\u0275\u0275restoreView"](e),t.$implicit.qty=n})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](44,w,3,1,"div",20),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](45,"div",23),o["\u0275\u0275elementStart"](46,"label"),o["\u0275\u0275text"](47,"Unit Type"),o["\u0275\u0275elementStart"](48,"span",17),o["\u0275\u0275text"](49,"*"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](50,"div",18),o["\u0275\u0275elementStart"](51,"select",30,31),o["\u0275\u0275listener"]("ngModelChange",(function(n){return o["\u0275\u0275restoreView"](e),t.$implicit.unitype_id=n})),o["\u0275\u0275template"](53,D,2,2,"option",32),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](54,O,3,1,"div",20),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](55,"div",8),o["\u0275\u0275elementStart"](56,"label"),o["\u0275\u0275text"](57,"Remark"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](58,"div",18),o["\u0275\u0275elementStart"](59,"textarea",33),o["\u0275\u0275listener"]("ngModelChange",(function(n){return o["\u0275\u0275restoreView"](e),t.$implicit.remarks=n})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](60,k,3,0,"div",34),o["\u0275\u0275template"](61,_,3,0,"div",34),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,a=o["\u0275\u0275reference"](22),i=o["\u0275\u0275reference"](43),l=o["\u0275\u0275reference"](52),s=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](11),o["\u0275\u0275property"]("ngIf",null==e.material_id&&s.isFormSubmit),o["\u0275\u0275advance"](10),o["\u0275\u0275property"]("ngModel",e.item_name),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",s.isFormSubmit&&a.errors),o["\u0275\u0275advance"](8),o["\u0275\u0275property"]("ngIf",null==e.company_id&&s.isFormSubmit),o["\u0275\u0275advance"](11),o["\u0275\u0275property"]("ngModel",e.qty),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",s.isFormSubmit&&i.errors),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngModel",e.unitype_id),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngForOf",s.unitList),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",s.isFormSubmit&&l.errors),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngModel",e.remarks),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",n==s.selectLr.length-1),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",0!=n)}}let H=(()=>{class e{constructor(e,t,n,a){this.activeModal=e,this.api=t,this.modalService=n,this.common=a,this.unitList=[],this.wareHouseId=null,this.isFormSubmit=!1,this.startDate=new Date,this.Today=new Date,this.material=null,this.selectLr=[{material_id:null,unitype_id:null,item_name:null,company_id:null,ref_type:-1,ref_id:null,qty:null,remarks:null}],this.common.handleModalSize("class","modal-lg","1200"),this.getUnitList()}ngOnInit(){}closeModal(){this.activeModal.close()}getUnitList(){this.api.post("Suggestion/getUnit",{search:""}).subscribe(e=>{this.unitList=e.data,console.log("type",this.unitList)},e=>{this.common.showError()})}addMore(){this.selectLr.push({material_id:null,unitype_id:null,item_name:null,company_id:null,ref_type:-1,ref_id:null,qty:null,remarks:null})}setMaterialValue(e){console.log("8888888"),null==this.selectLr.material_id&&(document.getElementById(e).value="")}setParty(e){null==this.selectLr.company_id&&(document.getElementById(e).value="")}saveLr(){let e={whId:this.common.params.warehouseId,dttime:this.startDate,whDetails:JSON.stringify(this.selectLr)};this.common.loading++,console.log("params",e),this.api.post("WareHouse/saveWhDetailsManually",e).subscribe(e=>{e.data[0].y_id>0?(this.common.loading--,this.common.showToast(e.data[0].y_msg),this.activeModal.close()):(this.common.loading--,this.common.showError(e.data[0].y_msg))},e=>{})}addCompany(){this.modalService.open(y.a,{size:"sm",container:"nb-layout",backdrop:"static",windowClass:"drag-box"})}addmaterial(){this.modalService.open(E.a,{size:"sm",container:"nb-layout"})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](u.b),o["\u0275\u0275directiveInject"](c.a),o["\u0275\u0275directiveInject"](u.r),o["\u0275\u0275directiveInject"](h.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["manual-items"]],decls:19,vars:3,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"table-conan","filter-coff"],["class","mb-3",4,"ngFor","ngForOf"],[1,"row","mt-2"],[1,"col-1"],[1,"col-3"],[3,"maxd","dateTimeValue","onChanged"],[1,"modal-footer","text-right"],["form","company-form",1,"btn","btn-primary","pt-2","pb-2","rounded-sm",3,"click"],[1,"mb-3"],["name","company-form","id","company-form",3,"submit"],["formFilling","ngForm"],[1,"row","align-items-center"],[1,"text-red"],[1,"col-2"],["inputId","GetMaterialTypes","name","GetMaterialTypes","url","Suggestion/GetMaterialTypes","display","name","placeholder","Enter value",1,"w-100",2,"width","75%","display","inline-block",3,"onSelected","focusout","unSelected"],["class","err",4,"ngIf"],["type","button",1,"btn","btn-primary","pt-1","pb-1","rounded-sm","w-100",3,"click"],[1,"fa","fa-plus","add"],[1,"col-1","p-0"],["type","text","name","itemName","id","itemName","required","",1,"form-control",3,"ngModel","ngModelChange"],["itemName","ngModel"],["inputId","company","name","company","url","Suggestion/GetCompanies2?type=ALL","display","name","placeholder","Enter Company name",1,"w-100",2,"width","75%","display","inline-block",3,"onSelected","focusout","unSelected"],[1,"row","mt-3"],["type","number","id","quantity","name","quantity","required","",1,"form-control",3,"ngModel","ngModelChange"],["quantity","ngModel"],["id","unitType","name","unitType","required","",1,"form-control",3,"ngModel","ngModelChange"],["unitType","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","comment","id","remarks","name","remarks","form","usrform",1,"form-control",3,"ngModel","ngModelChange"],["class","col-1",4,"ngIf"],[1,"err"],[3,"hidden"],[3,"value"],[1,"btn","btn-primary","pt-1","pb-1","rounded-sm",3,"click"],[1,"btn","btn-danger","pt-1","pb-1","rounded-sm","w-100",3,"click"],[1,"fa","fa-trash","remove"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"h5",1),o["\u0275\u0275text"](2,"Manual Items"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"button",2),o["\u0275\u0275listener"]("click",(function(){return t.closeModal()})),o["\u0275\u0275elementStart"](4,"span",3),o["\u0275\u0275text"](5,"\xd7"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",4),o["\u0275\u0275elementStart"](7,"div",5),o["\u0275\u0275elementStart"](8,"div"),o["\u0275\u0275template"](9,T,62,12,"div",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"div",7),o["\u0275\u0275elementStart"](11,"div",8),o["\u0275\u0275elementStart"](12,"label"),o["\u0275\u0275text"](13,"Date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"div",9),o["\u0275\u0275elementStart"](15,"uj-date-time-picker",10),o["\u0275\u0275listener"]("onChanged",(function(e){return t.startDate=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"div",11),o["\u0275\u0275elementStart"](17,"button",12),o["\u0275\u0275listener"]("click",(function(){return t.isFormSubmit=!0})),o["\u0275\u0275text"](18,"submit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](9),o["\u0275\u0275property"]("ngForOf",t.selectLr),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("maxd",t.Today)("dateTimeValue",t.startDate))},directives:[a.t,g.a,p.H,p.s,p.t,I.a,a.u,p.d,p.C,p.r,p.u,p.x,p.D,p.w,p.G],styles:['.table-conan[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.table-conan[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:2px;font-size:12px;font-weight:700;width:190px}.table-conan[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.table-conan[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:3px;padding:3px 7px;width:100%}.submit[_ngcontent-%COMP%]{border-radius:3px;padding:8px 15px;text-transform:capitalize}[_nghost-%COMP%]     .tableFixHead{height:auto!important}[_nghost-%COMP%]     .fa-trash-alt{color:#000;font-size:18px}[_nghost-%COMP%]     .fa-trash-alt span{position:absolute;display:none;padding:10px 28px;font-weight:400;font-size:11px;left:-22px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-trash-alt span:before{content:"Delete";display:block;position:absolute;top:0;left:0;background-color:#000;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-trash-alt span:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #000;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-trash-alt:hover span{display:block}.err[_ngcontent-%COMP%]{font-size:14px}.err[_ngcontent-%COMP%], .text-red[_ngcontent-%COMP%]{color:red}']}),e})();function P(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"option",11),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("value",e.id),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"]("",e.name," ")}}function q(e,t){if(1&e&&o["\u0275\u0275element"](0,"smart-table",12),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("data",e.table.data)("settings",e.table.settings)}}let L=(()=>{class e{constructor(e,t,n,a){this.api=e,this.user=t,this.common=n,this.modalService=a,this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.wareHouseId=null,this.dataReceive="",this.endDate=new Date,this.startDate=new Date((new Date).setDate(new Date(this.endDate).getDate()-10)),this.headings=[],this.valobj={},this.getWareData(),this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.getWareData()}getTableColumns(){let e=[];return console.log("Data=",this.data),this.data.map(t=>{this.valobj={};for(let e=0;e<this.headings.length;e++)console.log("doc index value:",t[this.headings[e]]),"Action"==this.headings[e]?this.valobj.Action={class:"fa fa-edit",action:this.showAction.bind(this,t)}:this.valobj[this.headings[e]]={value:t[this.headings[e]],class:"black",action:""};e.push(this.valobj)}),e}getdata(){if(this.startDate<this.endDate)if(null!=this.wareHouseId){const e={startDate:this.common.dateFormatter(this.startDate),endDate:this.common.dateFormatter(this.endDate),whId:this.wareHouseId};console.log("ap"),this.common.loading++,this.api.post("WareHouse/getManifestPendingList",e).subscribe(e=>{if(this.common.loading--,null==e.data)this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.common.showToast("No data Found");else{this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.data=e.data,console.log("result",e);let n=this.data[0];for(var t in n)if("_"!=t.charAt(0)){this.headings.push(t);let e={title:this.formatTitle(t),placeholder:this.formatTitle(t)};this.table.data.headings[t]=e}this.table.data.columns=this.getTableColumns()}})}else this.common.showToast("Please Select WareHouse");else this.common.showToast("Start Date should be less then EndDate")}showAction(e){console.log("doc",e),null!=this.wareHouseId?(this.common.params={warehouseId:this.wareHouseId,manifestId:e._manifest_id,item_name:e["Challan No"]},console.log("id",this.common.params),this.modalService.open(b,{size:"lg",container:"nb-layout"}).result.then(e=>{e.response&&this.getdata()})):this.common.showToast("please select WareHouse")}getWareData(){this.api.get("Suggestion/getWarehouseList").subscribe(e=>{this.dataReceive=e.data,console.log("autosugg",this.dataReceive)})}formatTitle(e){return e.charAt(0).toUpperCase()+e.slice(1)}Manual(){null!=this.wareHouseId?(this.common.params={warehouseId:this.wareHouseId},this.modalService.open(H,{size:"lg",container:"nb-layout",backdrop:"static"})):this.common.showToast("please select wareHouse")}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](c.a),o["\u0275\u0275directiveInject"](l.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](u.r))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["ware-house-receipts"]],decls:22,vars:8,consts:[[1,"clearfix"],[1,"row",2,"margin-top","10px"],[1,"col-2"],[3,"dateTimeValue","isTime","onChanged"],[3,"dateTimeValue","isTime","isStart","onChanged"],["classs","col-4"],["placeholder","Name",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["id","button",1,"btn","btn-primary","w-100","pt-2","pb-2","rounded-sm","text-capitalize",3,"click"],[1,"mt-2"],["id","wareHouse",3,"data","settings",4,"ngIf"],[3,"value"],["id","wareHouse",3,"data","settings"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275elementStart"](2,"h5"),o["\u0275\u0275text"](3,"Ware House Receipt"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"nb-card-body"),o["\u0275\u0275elementStart"](5,"div",0),o["\u0275\u0275elementStart"](6,"div",1),o["\u0275\u0275elementStart"](7,"div",2),o["\u0275\u0275elementStart"](8,"uj-date-time-picker",3),o["\u0275\u0275listener"]("onChanged",(function(e){return t.startDate=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"div",2),o["\u0275\u0275elementStart"](10,"uj-date-time-picker",4),o["\u0275\u0275listener"]("onChanged",(function(e){return t.endDate=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"div",5),o["\u0275\u0275elementStart"](12,"select",6),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.wareHouseId=e})),o["\u0275\u0275template"](13,P,2,2,"option",7),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"div",2),o["\u0275\u0275elementStart"](15,"button",8),o["\u0275\u0275listener"]("click",(function(){return t.getdata()})),o["\u0275\u0275text"](16,"Submit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"div",2),o["\u0275\u0275elementStart"](18,"button",8),o["\u0275\u0275listener"]("click",(function(){return t.Manual()})),o["\u0275\u0275text"](19,"Manual"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](20,"div",9),o["\u0275\u0275template"](21,q,1,2,"smart-table",10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](8),o["\u0275\u0275property"]("dateTimeValue",t.startDate)("isTime",!1),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("dateTimeValue",t.endDate)("isTime",!1)("isStart",!1),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngModel",t.wareHouseId),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",t.dataReceive),o["\u0275\u0275advance"](8),o["\u0275\u0275property"]("ngIf",t.data&&t.data.length))},directives:[r.s,r.v,r.r,g.a,p.D,p.r,p.u,a.t,a.u,p.w,p.G,v.a],styles:["[_nghost-%COMP%]     .tableFixHead table tr td:first-child, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(4), [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(5), [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(6), [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(7){text-align:center}"]}),e})();var j=n("ia/1");function F(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"option",27),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("value",e.id),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function V(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",14),o["\u0275\u0275elementStart"](1,"select",25),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().StateId=t})),o["\u0275\u0275template"](2,F,2,2,"option",26),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngModel",e.StateId),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",e.stateType)}}function W(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"option",27),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("value",e.id),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function A(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",14),o["\u0275\u0275elementStart"](1,"select",25),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().StateId=t})),o["\u0275\u0275template"](2,W,2,2,"option",26),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngModel",e.StateId),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",e.stateType1)}}function R(e,t){if(1&e&&o["\u0275\u0275element"](0,"smart-table",28),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("data",e.table.data)("settings",e.table.settings)}}let z=(()=>{class e{constructor(e,t,n,a){this.common=e,this.modalService=t,this.api=n,this.activeModal=a,this.itemList=[],this.Test=null,this.dataItems=[],this.itemId=null,this.quantityId=null,this.unitTypeId=null,this.unitList=[],this.Date=new Date,this.remark="",this.itemsId=null,this.selectOption="In",this.stateData=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.stateType=[{id:null,name:null}],this.stateType1=[{id:null,name:null}],this.userInput="",this.StateId=null,this.boolean=0,this.stateFind=null,this.getUnitList(),this.getItems(),this.getStateData(),console.log("para",this.common.params),this.quantityId=this.common.params.quantity,this.stateFind=this.common.params.quantity,this.itemId=this.common.params.itemId,this.StateId=this.common.params.stateId,this.selectOption=this.StateId>0?"In":"Out",console.log("items1",this.itemId),this.common.handleModalSize("class","modal-lg","550"),this.stateType=[{name:"Transhipment",id:2},{name:"Out for Delivery",id:4},{name:"Damage",id:5},{name:"Missing/theft",id:6},{name:" Delivered",id:1}],this.stateType1=[{name:"Receive Manifest",id:-1},{name:"Received By GP",id:-2},{name:"Received Lr",id:-3},{name:"Returned Back",id:-4},{name:"Increase In Count",id:-6}]}ngOnInit(){}getItems(){this.api.get("WareHouse/getWhStockItem").subscribe(e=>{this.dataItems=e.data,console.log("autosugg",this.dataItems)})}getUnitList(){this.common.loading++,this.api.post("Suggestion/getUnit",{search:""}).subscribe(e=>{this.common.loading--,this.unitList=e.data,console.log("type",this.unitList)},e=>{this.common.loading--,this.common.showError()})}closeModal(){this.activeModal.close()}cancelRequest(){this.activeModal.close()}onSet(e){return this.selectOption=null,this.selectOption=e,console.log("select type:",this.selectOption),"Out"==this.selectOption?(console.log("stateFind",this.selectOption),this.stateType):this.stateType1}getAdvice(){if(console.log(this.selectOption),this.StateId){if(this.quantityId<0)return this.common.showError("Quantity should not  be in nagative ");if("Out"==this.selectOption){if(console.log("stateFind",this.selectOption),0==this.quantityId)return this.common.showError("You have no items in stock ");if(this.quantityId===this.stateFind)this.common.params={title:"Closing Stock",description:"Are you sure you want close this stock?",btn2:"No",btn1:"Yes"},console.log("Inside confirm model"),this.modalService.open(j.a,{size:"sm",container:"nb-layout"}).result.then(e=>{console.log("res",e),e.response?(this.boolean=1,this.saveStock()):0==e.apiHit&&(this.boolean=0,this.saveStock())});else{if(this.quantityId>this.stateFind)return console.log("out1"),this.common.showError("Quantity should be less  than  and equal  your stock ");this.quantityId<this.stateFind&&this.saveStock()}}else"In"==this.selectOption&&this.saveStock()}else this.common.showError("State Type Missing")}saveStock(){let e=this.common.dateFormatter(this.Date);const t={stateId:this.StateId,itemId:this.itemId,qty:this.quantityId,dttime:e,remarks:this.remark,perDetail:this.userInput,isClose:this.boolean};if(null==this.userInput)return this.common.showError("Detail is required ");console.log("result",t),this.common.loading++,this.api.post("WareHouse/saveWhStockItemState",t).subscribe(e=>{this.common.loading--,this.unitList=e.data,console.log("type",this.unitList),this.quantityId<e.data.qty&&this.common.showError(e.msg),e.data[0].y_id>0?(this.common.showToast("Sucessfully insert"),this.activeModal.close({data:!0})):this.common.showError(e.msg)},e=>{this.common.showError()})}getTableColumns(){let e=[];return console.log("Data=",this.stateData),this.stateData.map(t=>{this.valobj={};for(let e=0;e<this.headings.length;e++)console.log("doc index value:",t[this.headings[e]]),this.valobj[this.headings[e]]={value:t[this.headings[e]],class:"black",action:""};e.push(this.valobj)}),e}getStateData(){console.log("ap"),this.api.get("wareHouse/getAllStatesWrtItem?itemId="+this.common.params.itemId).subscribe(e=>{this.stateData=[],this.stateData=e.data,console.log("result",e);let t=this.stateData[0];for(var n in t)if("_"!=n.charAt(0)){this.headings.push(n);let e={title:this.formatTitle(n),placeholder:this.formatTitle(n)};this.table.data.headings[n]=e}this.table.data.columns=this.getTableColumns()})}formatTitle(e){return e.charAt(0).toUpperCase()+e.slice(1)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](u.r),o["\u0275\u0275directiveInject"](c.a),o["\u0275\u0275directiveInject"](u.b))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["got-pass"]],decls:60,vars:9,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","in-out-radio"],[1,"col-6","text-center"],[1,"checkpointer"],["type","radio","name","In","value","In","checked","",3,"ngModel","ngModelChange","change"],["type","radio","name","Out","value","Out",3,"ngModel","change","ngModelChange"],[1,"row","mb-3"],[1,"col-3"],["class","col-9",4,"ngIf","ngIfElse"],["state2",""],[1,"col-9"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[3,"dateTimeValue","onChanged"],["rows","2","cols","55",1,"form-control",3,"ngModel","ngModelChange"],["rows","4","cols","55","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"row"],[1,"col-12","text-right"],["id","button",1,"btn","btn-danger","mr-3","pt-2","pb-2","rounded-sm","text-capitalize",3,"click"],["id","button",1,"btn","btn-primary","pt-2","pb-2","rounded-sm","text-capitalize",3,"click"],[1,"modal-footer"],["id","wareHouseInventory",3,"data","settings",4,"ngIf"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","wareHouseInventory",3,"data","settings"]],template:function(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"h5",1),o["\u0275\u0275text"](2,"Stock Exchange"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"button",2),o["\u0275\u0275listener"]("click",(function(){return t.closeModal()})),o["\u0275\u0275elementStart"](4,"span",3),o["\u0275\u0275text"](5,"\xd7"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",4),o["\u0275\u0275elementStart"](7,"div",5),o["\u0275\u0275elementStart"](8,"div",6),o["\u0275\u0275elementStart"](9,"label",7),o["\u0275\u0275elementStart"](10,"i"),o["\u0275\u0275text"](11,"In"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"input",8),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.selectOption=e}))("change",(function(){return t.onSet(t.selectOption)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](13,"span"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"div",6),o["\u0275\u0275elementStart"](15,"label",7),o["\u0275\u0275elementStart"](16,"i"),o["\u0275\u0275text"](17,"Out"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](18,"input",9),o["\u0275\u0275listener"]("change",(function(){return t.onSet(t.selectOption)}))("ngModelChange",(function(e){return t.selectOption=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](19,"span"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](20,"hr"),o["\u0275\u0275elementStart"](21,"div",10),o["\u0275\u0275elementStart"](22,"div",11),o["\u0275\u0275elementStart"](23,"label"),o["\u0275\u0275text"](24,"State*:"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](25,V,3,2,"div",12),o["\u0275\u0275template"](26,A,3,2,"ng-template",null,13,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](28,"div",10),o["\u0275\u0275elementStart"](29,"div",11),o["\u0275\u0275elementStart"](30,"label"),o["\u0275\u0275text"](31,"Quantity*:"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](32,"div",14),o["\u0275\u0275elementStart"](33,"input",15),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.quantityId=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](34,"div",10),o["\u0275\u0275elementStart"](35,"div",11),o["\u0275\u0275elementStart"](36,"label"),o["\u0275\u0275text"](37,"Date Time*:"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](38,"div",14),o["\u0275\u0275elementStart"](39,"uj-date-time-picker",16),o["\u0275\u0275listener"]("onChanged",(function(e){return t.Date=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](40,"div",10),o["\u0275\u0275elementStart"](41,"div",11),o["\u0275\u0275elementStart"](42,"label"),o["\u0275\u0275text"](43,"Remark:"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](44,"div",14),o["\u0275\u0275elementStart"](45,"textarea",17),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.remark=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](46,"div",10),o["\u0275\u0275elementStart"](47,"div",11),o["\u0275\u0275elementStart"](48,"label"),o["\u0275\u0275text"](49,"User Details*:"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](50,"div",14),o["\u0275\u0275elementStart"](51,"textarea",18),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.userInput=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](52,"div",19),o["\u0275\u0275elementStart"](53,"div",20),o["\u0275\u0275elementStart"](54,"button",21),o["\u0275\u0275listener"]("click",(function(){return t.cancelRequest()})),o["\u0275\u0275text"](55,"Cancel"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](56,"button",22),o["\u0275\u0275listener"]("click",(function(){return t.getAdvice()})),o["\u0275\u0275text"](57,"Submit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](58,"div",23),o["\u0275\u0275template"](59,R,1,2,"smart-table",24),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275reference"](27);o["\u0275\u0275advance"](12),o["\u0275\u0275property"]("ngModel",t.selectOption),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngModel",t.selectOption),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngIf","Out"==t.selectOption)("ngIfElse",e),o["\u0275\u0275advance"](8),o["\u0275\u0275property"]("ngModel",t.quantityId),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("dateTimeValue",t.Date),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngModel",t.remark),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngModel",t.userInput),o["\u0275\u0275advance"](8),o["\u0275\u0275property"]("ngIf",t.stateData&&t.stateData.length)}},directives:[p.z,p.d,p.r,p.u,a.u,p.x,g.a,p.C,p.D,a.t,p.w,p.G,v.a],styles:['[_nghost-%COMP%]     .tableFixHead{height:auto!important}.in-out-radio[_ngcontent-%COMP%]   .checkpointer[_ngcontent-%COMP%]{position:relative;padding-left:32px}.in-out-radio[_ngcontent-%COMP%]   .checkpointer[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-style:normal;margin-top:3px;display:inline-block;font-size:16px}.in-out-radio[_ngcontent-%COMP%]   .checkpointer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:1;width:24px;margin:0;height:24px!important;opacity:0}.in-out-radio[_ngcontent-%COMP%]   .checkpointer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#eee;border-radius:50%}.in-out-radio[_ngcontent-%COMP%]   .checkpointer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]{background-color:#26a69a}.in-out-radio[_ngcontent-%COMP%]   .checkpointer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;top:9px;left:9px;width:8px;height:8px;border-radius:50%;background:#fff}.in-out-radio[_ngcontent-%COMP%]   .checkpointer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:after{display:block}']}),e})();function $(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"option",11),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("value",e.id),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"]("",e.name," ")}}function N(e,t){if(1&e&&o["\u0275\u0275element"](0,"smart-table",12),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("data",e.table.data)("settings",e.table.settings)}}let U=(()=>{class e{constructor(e,t,n){this.common=e,this.modalService=t,this.api=n,this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.request=0,this.dataInventory=null,this.endDate=new Date,this.startDate=new Date((new Date).setDate(new Date(this.endDate).getDate()-10)),this.headings=[],this.valobj={},this.data=[],this.wareHouseId="",this.stateDetail=[],this.getWareData(),this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.getWareData()}getWareData(){this.api.get("Suggestion/getWarehouseList").subscribe(e=>{this.dataInventory=e.data,console.log("autosugg",this.dataInventory[0].id),this.wareHouseId=this.dataInventory[0].id})}formatTitle(e){return e.charAt(0).toUpperCase()+e.slice(1)}getTableColumns(){let e=[];return console.log("Data=",this.data),this.data.map(t=>{this.valobj={};for(let e=0;e<this.headings.length;e++)console.log("doc index value:",t[this.headings[e]]),console.log("ico1n"),"Action"==this.headings[e]?this.valobj.Action={class:"fas fa-eye",action:this.showAction.bind(this,t._item_id,t.State,t._state_id,t.RemQauantity)}:this.valobj[this.headings[e]]={value:t[this.headings[e]],class:"blue",action:""};e.push(this.valobj)}),e}getdata(){if(this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.startDate>this.endDate)return this.common.showError("Start Date should not be Greater than End Date");let e=null!=this.startDate?this.common.dateFormatter(this.startDate):null,t=null!=this.endDate?this.common.dateFormatter(this.endDate.setDate(this.endDate.getDate()+1)):null;if(console.log("end date:",t),1==this.request){if(null==e)return this.common.showError("Start Date is missing");if(null==t)return this.common.showError("End Date is missing")}const n={startDate:e,endDate:t,whId:this.wareHouseId,status:this.request};console.log("params",n),this.common.loading++,this.api.post("WareHouse/getStockItemPendingList",n).subscribe(e=>{this.common.loading--,this.data=[],this.data=e.data,console.log("result",e),null==this.data&&this.common.showToast("No record found");let t=this.data[0];for(var n in t)if("_"!=n.charAt(0)){this.headings.push(n);let e={title:this.formatTitle(n),placeholder:this.formatTitle(n)};this.table.data.headings[n]=e}this.table.data.columns=this.getTableColumns()})}showAction(e,t,n,a){this.common.params={itemId:e,stateName:t,stateId:n,quantity:a},console.log("Item",this.common.params),this.modalService.open(z,{size:"lg",container:"nb-layout"}).result.then(e=>{e&&this.getdata()})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](u.r),o["\u0275\u0275directiveInject"](c.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["warehouse-inventory"]],decls:24,vars:10,consts:[[1,"row","mt-3","align-items-center"],[1,"col-2"],["placeholder","Name",1,"name","form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"dateTimeValue","isTime","onChanged"],[3,"isStart","dateTimeValue","isTime","onChanged"],[1,"form-control",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["id","button",1,"btn","btn-primary","w-100","pt-2","pb-2","rounded-sm","text-capitalize",3,"click"],["id","wareHouseInventory",3,"data","settings",4,"ngIf"],[3,"value"],["id","wareHouseInventory",3,"data","settings"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275elementStart"](2,"h5"),o["\u0275\u0275text"](3,"Ware House Inventory"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"nb-card-body"),o["\u0275\u0275elementStart"](5,"div",0),o["\u0275\u0275elementStart"](6,"div",1),o["\u0275\u0275elementStart"](7,"select",2),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.wareHouseId=e})),o["\u0275\u0275template"](8,$,2,2,"option",3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"div",1),o["\u0275\u0275elementStart"](10,"uj-date-time-picker",4),o["\u0275\u0275listener"]("onChanged",(function(e){return t.startDate=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"div",1),o["\u0275\u0275elementStart"](12,"uj-date-time-picker",5),o["\u0275\u0275listener"]("onChanged",(function(e){return t.endDate=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"div",1),o["\u0275\u0275elementStart"](14,"select",6),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.request=e})),o["\u0275\u0275elementStart"](15,"option",7),o["\u0275\u0275text"](16,"Pending"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"option",8),o["\u0275\u0275text"](18,"Completed"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"div",1),o["\u0275\u0275elementStart"](20,"button",9),o["\u0275\u0275listener"]("click",(function(){return t.getdata()})),o["\u0275\u0275text"](21,"Submit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"div"),o["\u0275\u0275template"](23,N,1,2,"smart-table",10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngModel",t.wareHouseId),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",t.dataInventory),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("dateTimeValue",t.startDate)("isTime",!1),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("isStart",!1)("dateTimeValue",t.endDate)("isTime",!1)("isStart",!1),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngModel",t.request),o["\u0275\u0275advance"](9),o["\u0275\u0275property"]("ngIf",t.data&&t.data.length))},directives:[r.s,r.v,r.r,p.D,p.r,p.u,a.t,g.a,p.w,p.G,a.u,v.a],styles:[""]}),e})();function Q(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"option",12),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("value",e.id),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"]("",e.name," ")}}function G(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"option",12),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("value",e.id),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"]("",e.description," ")}}function B(e,t){if(1&e&&o["\u0275\u0275element"](0,"smart-table",13),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("data",e.table.data)("settings",e.table.settings)}}let J=(()=>{class e{constructor(e,t){this.api=e,this.common=t,this.dataState=[],this.dataWareHouse=[],this.stateId=2,this.wareHouseId=20,this.stateData=[],this.endDate=new Date,this.startDate=new Date((new Date).setDate(new Date(this.endDate).getDate()-10)),this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.getWareData(),this.getData(),this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.getWareData(),this.getData()}getWareData(){this.api.get("Suggestion/getWarehouseList").subscribe(e=>{this.dataWareHouse=e.data,console.log("autosugg",this.dataState)})}getData(){this.api.get("Suggestion/getTypeMasterList?id=62").subscribe(e=>{this.dataState=e.data,console.log("autosugg1",this.dataState)})}getState(){let e=null!=this.startDate?this.common.dateFormatter(this.startDate):null,t=null!=this.endDate?this.common.dateFormatter(this.endDate):null;if(null==e)return this.common.showError("Start Date is Missing");if(null==t)return this.common.showError("End Date is Missing");const n=`whId=${this.wareHouseId}&stateId=${this.stateId}&startDate=${e}&endDate=${t}`;console.log(n),this.common.loading++,this.api.get("WareHouse/getStateLogsWrtWh?"+n).subscribe(e=>{this.stateData=[],this.common.loading--,this.stateData=e.data,console.log("result",e);let t=this.stateData[0];for(var n in t)if("_"!=n.charAt(0)){this.headings.push(n);let e={title:this.formatTitle(n),placeholder:this.formatTitle(n)};this.table.data.headings[n]=e}this.table.data.columns=this.getTableColumns()})}getTableColumns(){let e=[];return console.log("Data=",this.stateData),this.stateData.map(t=>{this.valobj={};for(let e=0;e<this.headings.length;e++)console.log("doc index value:",t[this.headings[e]]),this.valobj[this.headings[e]]={value:t[this.headings[e]],class:"black",action:""};e.push(this.valobj)}),e}formatTitle(e){return e.charAt(0).toUpperCase()+e.slice(1)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](c.a),o["\u0275\u0275directiveInject"](h.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["state-logs"]],decls:21,vars:10,consts:[[1,"container"],[1,"row"],["classs","col-3"],["placeholder","Name",1,"name",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-3"],[1,"col-2",2,"margin-left","-91px"],[3,"dateTimeValue","isTime","onChanged"],[1,"col-2"],[3,"dateTimeValue","isTime","isStart","onChanged"],["id","button",1,"btn","btn-primary",2,"border-radius","2px","padding","6px 17px",3,"click"],["id","wareHouseInventory",3,"data","settings",4,"ngIf"],[3,"value"],["id","wareHouseInventory",3,"data","settings"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275text"](2,"State Logs"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"nb-card-body"),o["\u0275\u0275elementStart"](4,"div",0),o["\u0275\u0275elementStart"](5,"div",1),o["\u0275\u0275elementStart"](6,"div",2),o["\u0275\u0275elementStart"](7,"select",3),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.wareHouseId=e})),o["\u0275\u0275template"](8,Q,2,2,"option",4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"div",5),o["\u0275\u0275elementStart"](10,"select",3),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.stateId=e})),o["\u0275\u0275template"](11,G,2,2,"option",4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"div",6),o["\u0275\u0275elementStart"](13,"uj-date-time-picker",7),o["\u0275\u0275listener"]("onChanged",(function(e){return t.startDate=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"div",8),o["\u0275\u0275elementStart"](15,"uj-date-time-picker",9),o["\u0275\u0275listener"]("onChanged",(function(e){return t.endDate=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"div",8),o["\u0275\u0275elementStart"](17,"button",10),o["\u0275\u0275listener"]("click",(function(){return t.getState()})),o["\u0275\u0275text"](18,"Submit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"div"),o["\u0275\u0275template"](20,B,1,2,"smart-table",11),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngModel",t.wareHouseId),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",t.dataWareHouse),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngModel",t.stateId),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",t.dataState),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("dateTimeValue",t.startDate)("isTime",!1),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("dateTimeValue",t.endDate)("isTime",!1)("isStart",!1),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngIf",t.stateData&&t.stateData.length))},directives:[r.s,r.v,r.r,p.D,p.r,p.u,a.t,g.a,a.u,p.w,p.G,v.a],styles:[""]}),e})();function Y(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"option",25),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("value",e.id),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](e.name)}}function Z(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"option",25),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("value",e.id),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](e.name)}}function K(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",4),o["\u0275\u0275elementStart"](1,"div",10),o["\u0275\u0275elementStart"](2,"label"),o["\u0275\u0275text"](3,"State"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"select",26),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().StateId=t})),o["\u0275\u0275template"](5,Z,2,2,"option",12),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngModel",e.StateId),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",e.stateType)}}function X(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"option",25),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("value",e.id),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](e.name)}}function ee(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",4),o["\u0275\u0275elementStart"](1,"div",10),o["\u0275\u0275elementStart"](2,"label"),o["\u0275\u0275text"](3,"State"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"select",27),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().StateId=t})),o["\u0275\u0275template"](5,X,2,2,"option",12),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngModel",e.StateId),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",e.stateType1)}}function te(e,t){if(1&e&&o["\u0275\u0275element"](0,"smart-table",28),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("data",e.table.data)("settings",e.table.settings)}}let ne=(()=>{class e{constructor(e,t,n,a){this.common=e,this.modalService=t,this.api=n,this.activeModal=a,this.itemList=[],this.Test=null,this.dataItems=[],this.itemId=null,this.itemName=null,this.quantityId=null,this.unitTypeId=null,this.unitList=[],this.Date=new Date,this.remark="",this.itemsId=null,this.wareHouseId=20,this.sitesDatalist=[],this.siteName=null,this.siteId=null,this.dataReceive=[],this.selectOption="In",this.stateData=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.remainingQuantityId=null,this.headings=[],this.valobj={},this.stateType=[{id:null,name:null}],this.stateType1=[{id:null,name:null}],this.userInput=null,this.StateId=null,this.boolean=0,this.stateFind=null,this.getStateData(),this.getWareData(),this.selectOption=this.StateId>0?"In":"Out",console.log("items1",this.itemId),this.common.handleModalSize("class","modal-lg","550"),this.stateType=[{name:"Transhipment",id:2},{name:"Out for Delivery",id:4},{name:"Damage",id:5},{name:"Missing/theft",id:6},{name:" Delivered",id:1}],this.stateType1=[{name:"Receive Manifest",id:-1},{name:"Received By GP",id:-2},{name:"Received Lr",id:-3},{name:"Returned Back",id:-4},{name:"Increase In Count",id:-6}],this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.getStateData(),this.getWareData()}getWareData(){this.api.get("Suggestion/getWarehouseList").subscribe(e=>{this.dataReceive=e.data,console.log("autosugg",this.dataReceive),this.getItems()})}getItems(){const e="whId="+this.wareHouseId;console.log("id",e),this.common.loading++,this.api.get("WareHouse/getWhStockItem?"+e).subscribe(e=>{this.common.loading--,console.log("items",e),this.sitesDatalist=e.data},e=>{this.common.loading--,console.log(e)})}changeRefernceType(e){console.log("Type: ",e),this.itemId=this.sitesDatalist.find(t=>(console.log(t.name==e),t.id==e.id)).id,this.quantityId=this.sitesDatalist.find(t=>(console.log(t.name==e),t.rem_qty==e.rem_qty)).rem_qty,console.log("pa",this.quantityId),this.remainingQuantityId=this.quantityId,this.getStateData()}onSet(e){return this.selectOption=null,this.selectOption=e,console.log("select type:",this.selectOption),"Out"==this.selectOption?(console.log("stateFind",this.selectOption),this.stateType):this.stateType1}getAdvice(){if(console.log(this.selectOption),console.log(this.remainingQuantityId),this.StateId){if(this.quantityId<0)return this.common.showError("Quantity should not  be in nagative ");if(null==this.userInput)return this.common.showError("User Detail is missing");if("Out"==this.selectOption){if(console.log("stateFind",this.selectOption),0==this.quantityId)return this.common.showError("You have no items in stock ");if(this.quantityId==this.remainingQuantityId)this.common.params={title:"Closing Stock",description:"Are you sure you want close this stock?",btn2:"No",btn1:"Yes"},console.log("Inside confirm model"),this.modalService.open(j.a,{size:"sm",container:"nb-layout"}).result.then(e=>{console.log("res",e),e.response?(this.boolean=1,this.saveStock()):0==e.apiHit&&(this.boolean=0,this.saveStock())});else{if(this.quantityId>this.remainingQuantityId)return console.log("out1"),this.common.showError("Quantity should be less  than  and equal  your stock ");this.quantityId<this.remainingQuantityId&&this.saveStock()}}else"In"==this.selectOption&&this.saveStock()}else this.common.showError("State Type Missing")}saveStock(){let e=this.common.dateFormatter(this.Date);const t={stateId:this.StateId,itemId:this.itemId,qty:this.quantityId,dttime:e,perDetail:this.userInput,isClose:this.boolean,remarks:this.remark};console.log("result",t),this.common.loading++,this.api.post("WareHouse/saveWhStockItemState",t).subscribe(e=>{this.common.loading--,this.unitList=e.data,console.log("type",this.unitList),this.quantityId<e.data.qty&&this.common.showError(e.msg),e.data[0].y_id>0?(this.common.showToast("Sucessfully insert"),this.getStateData(),this.getItems(),this.StateId=null,this.itemId=null,this.quantityId=null,this.userInput=null,this.remark=null,this.remainingQuantityId=this.quantityId,this.activeModal.close({data:!0})):this.common.showError(e.msg)},e=>{this.common.showError()})}getTableColumns(){let e=[];return console.log("Data=",this.stateData),this.stateData.map(t=>{this.valobj={};for(let e=0;e<this.headings.length;e++)console.log("doc index value:",t[this.headings[e]]),this.valobj[this.headings[e]]={value:t[this.headings[e]],class:"black",action:""};e.push(this.valobj)}),e}getStateData(){this.stateData=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},console.log("ap"),this.api.get("wareHouse/getAllStatesWrtItem?itemId="+this.itemId).subscribe(e=>{this.stateData=[],this.stateData=e.data,console.log("result",e);let t=this.stateData[0];for(var n in t)if("_"!=n.charAt(0)){this.headings.push(n);let e={title:this.formatTitle(n),placeholder:this.formatTitle(n)};this.table.data.headings[n]=e}this.table.data.columns=this.getTableColumns()})}formatTitle(e){return e.charAt(0).toUpperCase()+e.slice(1)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](u.r),o["\u0275\u0275directiveInject"](c.a),o["\u0275\u0275directiveInject"](u.b))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["manage-stock-exchange"]],decls:60,vars:12,consts:[[1,"row"],[1,"col-10"],[1,"clearfix"],[1,"row","mb-3"],[1,"col-2"],[1,"row","in-out-radio"],[1,"col-5"],["type","radio","name","In","value","In","checked","",3,"ngModel","ngModelChange","change"],[1,"col-7","text-left"],["type","radio","name","Out","value","Out",3,"ngModel","change","ngModelChange"],[1,"form-group"],["placeholder","Name",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["display","item_name","inputId","itemId",3,"data","onSelected"],["class","col-2",4,"ngIf","ngIfElse"],["state2",""],["type","number","placeholder","Quantity",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-4"],[3,"dateTimeValue","onChanged"],[1,"row","align-items-end","mb-3"],["rows","3","cols","70","placeholder","User Details",1,"form-control",3,"ngModel","ngModelChange"],["rows","3","cols","70","placeholder","Remark",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-4","text-right"],["id","button",1,"btn","btn-primary","text-capitalize",2,"border-radius","2px","padding","5px 15px","margin-right","5px","font-weight","bold",3,"click"],["class","mt-3","id","wareHouseInventory",3,"data","settings",4,"ngIf"],[3,"value"],["placeholder","State",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["id","wareHouseInventory",1,"mt-3",3,"data","settings"]],template:function(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275elementStart"](2,"div",0),o["\u0275\u0275elementStart"](3,"div",1),o["\u0275\u0275elementStart"](4,"h5"),o["\u0275\u0275text"](5,"Manage Stock Exchange"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"nb-card-body"),o["\u0275\u0275elementStart"](7,"div",2),o["\u0275\u0275elementStart"](8,"div",3),o["\u0275\u0275elementStart"](9,"div",4),o["\u0275\u0275elementStart"](10,"div",5),o["\u0275\u0275elementStart"](11,"div",6),o["\u0275\u0275elementStart"](12,"input",7),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.selectOption=e}))("change",(function(){return t.onSet(t.selectOption)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"span"),o["\u0275\u0275text"](14,"In"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](15,"div",8),o["\u0275\u0275elementStart"](16,"input",9),o["\u0275\u0275listener"]("change",(function(){return t.onSet(t.selectOption)}))("ngModelChange",(function(e){return t.selectOption=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"span"),o["\u0275\u0275text"](18,"Out"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"div",3),o["\u0275\u0275elementStart"](20,"div",4),o["\u0275\u0275elementStart"](21,"div",10),o["\u0275\u0275elementStart"](22,"label"),o["\u0275\u0275text"](23,"Ware House"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](24,"select",11),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.wareHouseId=e})),o["\u0275\u0275template"](25,Y,2,2,"option",12),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](26,"div",4),o["\u0275\u0275elementStart"](27,"div",10),o["\u0275\u0275elementStart"](28,"label"),o["\u0275\u0275text"](29,"Item Id"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](30,"auto-suggestion",13),o["\u0275\u0275listener"]("onSelected",(function(e){return t.changeRefernceType(e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](31,K,6,2,"div",14),o["\u0275\u0275template"](32,ee,6,2,"ng-template",null,15,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275elementStart"](34,"div",4),o["\u0275\u0275elementStart"](35,"div",10),o["\u0275\u0275elementStart"](36,"label"),o["\u0275\u0275text"](37,"Quantity"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](38,"input",16),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.quantityId=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](39,"div",17),o["\u0275\u0275elementStart"](40,"div",10),o["\u0275\u0275elementStart"](41,"label"),o["\u0275\u0275text"](42,"Date And Time"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](43,"uj-date-time-picker",18),o["\u0275\u0275listener"]("onChanged",(function(e){return t.Date=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](44,"div",19),o["\u0275\u0275elementStart"](45,"div",4),o["\u0275\u0275elementStart"](46,"div",10),o["\u0275\u0275elementStart"](47,"label"),o["\u0275\u0275text"](48,"User Detail"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](49,"textarea",20),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.userInput=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](50,"div",4),o["\u0275\u0275elementStart"](51,"div",10),o["\u0275\u0275elementStart"](52,"label"),o["\u0275\u0275text"](53,"Remark"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](54,"textarea",21),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.remark=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](55,"div",22),o["\u0275\u0275elementStart"](56,"button",23),o["\u0275\u0275listener"]("click",(function(){return t.getAdvice()})),o["\u0275\u0275text"](57,"Submit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](58,"div",2),o["\u0275\u0275template"](59,te,1,2,"smart-table",24),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275reference"](33);o["\u0275\u0275advance"](12),o["\u0275\u0275property"]("ngModel",t.selectOption),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngModel",t.selectOption),o["\u0275\u0275advance"](8),o["\u0275\u0275property"]("ngModel",t.wareHouseId),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",t.dataReceive),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("data",t.sitesDatalist),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","Out"==t.selectOption)("ngIfElse",e),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngModel",t.quantityId),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("dateTimeValue",t.Date),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngModel",t.userInput),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngModel",t.remark),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngIf",t.stateData&&t.stateData.length)}},directives:[r.s,r.v,r.r,p.z,p.d,p.r,p.u,p.D,a.t,I.a,a.u,p.x,g.a,p.w,p.G,v.a],styles:[".in-out-radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:0;margin-right:5px;vertical-align:middle;width:18px;height:18px}.in-out-radio[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400;font-size:16px}"]}),e})();var ae=n("UTcu"),ie=n("mNmA");const le=[{path:"",component:d,children:[{path:"ware-house-dashbord",component:m,canActivate:[ae.a,ie.b]},{path:"ware-house-receipts",component:L,canActivate:[ae.a,ie.b]},{path:"warehouse-inventory",component:U,canActivate:[ae.a,ie.b]},{path:"state-logs",component:J,canActivate:[ae.a,ie.b]},{path:"manage-stock-exchange",component:ne,canActivate:[ae.a,ie.b]}]}];let oe=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.g.forChild(le)],i.g]}),e})();var se=n("vTDv"),re=n("FUS3"),de=n("i+lE");let me=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.c,oe,se.a,re.a,de.c,de.e]]}),e})()}}]);