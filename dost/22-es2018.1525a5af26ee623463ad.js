(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{GywG:function(t,e,n){"use strict";n.r(e),n.d(e,"Walle8Module",(function(){return yt}));var a=n("vTDv"),o=n("8Y7J");let l=(()=>{class t{constructor(){}}return t.\u0275mod=o["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[a.a]]}),t})();var r=n("FUS3"),i=n("qfBg"),d=n("iInd"),s=n("IAMq"),c=n("tKwJ");let m=(()=>{class t{constructor(t,e){this.user=t,this.router=e}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](i.a),o["\u0275\u0275directiveInject"](d.c))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["ngx-pages"]],decls:3,vars:1,consts:[["autoCollapse","true",3,"items"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"ngx-sample-layout"),o["\u0275\u0275element"](1,"nb-menu",0),o["\u0275\u0275element"](2,"router-outlet"),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("items",e.user._menu.walle8))},directives:[s.a,c.W,d.h],styles:['.report_bg[_ngcontent-%COMP%]   .report_form_box[_ngcontent-%COMP%]   .stopage_form[_ngcontent-%COMP%]   .k-picker-wrap[_ngcontent-%COMP%]{padding:5px!important;width:100%}.k-datepicker[_ngcontent-%COMP%]{width:100%!important;margin-left:10px}.date_start[_ngcontent-%COMP%]{margin-left:45px!important}.date_end[_ngcontent-%COMP%]{margin-left:50px!important}.date_end[_ngcontent-%COMP%]   .k-datepicker[_ngcontent-%COMP%]   .k-picker-wrap[_ngcontent-%COMP%]   .k-select[_ngcontent-%COMP%], .date_end[_ngcontent-%COMP%]   .k-datepicker[_ngcontent-%COMP%]   .k-picker-wrap[_ngcontent-%COMP%]:hover   .k-select[_ngcontent-%COMP%], .date_start[_ngcontent-%COMP%]   .k-datepicker[_ngcontent-%COMP%]   .k-picker-wrap[_ngcontent-%COMP%]   .k-select[_ngcontent-%COMP%], .date_start[_ngcontent-%COMP%]   .k-datepicker[_ngcontent-%COMP%]   .k-picker-wrap[_ngcontent-%COMP%]:hover   .k-select[_ngcontent-%COMP%]{color:#0184c5!important;background-color:transparent!important;background-image:none!important}[_nghost-%COMP%]     .custom_bg{border-radius:8px!important;background:#fff!important;-webkit-box-shadow:0 3px 6px rgba(0,0,0,.16)!important;box-shadow:0 3px 6px rgba(0,0,0,.16)!important;display:block;overflow:hidden}[_nghost-%COMP%]     .custom_bg .card_header{border-bottom:none!important;display:block;width:100%;border-radius:8px 8px 0 0;background:#e5f3f9}[_nghost-%COMP%]     .custom_bg .card_header h5{font-weight:700;font-size:20px;text-align:left;color:#4a555c;background-color:transparent!important;padding-left:10px!important;padding-top:5px!important}[_nghost-%COMP%]     .custom_bg .card_header .custom_form{border:none;display:block}[_nghost-%COMP%]     .custom_bg .custom_form_box{padding:0 0 0 15px!important}[_nghost-%COMP%]     .custom_bg .custom_form_box .custom_form select.form-control:after{content:"";position:absolute;background-repeat:no-repeat;background-size:100%;background-position:50%;width:20px;height:20px;display:block;right:0;left:auto}[_nghost-%COMP%]     .customSelect, [_nghost-%COMP%]     .customText{border-radius:23px!important;background:#fff!important;border:1px solid #a0a0a0;padding:5px!important;color:#4a555c!important;width:100%}[_nghost-%COMP%]     .customLabel{font-weight:700!important;text-align:left!important;color:#8f989e!important;margin-bottom:5px!important;font-family:lato,"sans-serif"!important}[_nghost-%COMP%]     .customButton{border-radius:29px!important;background:-webkit-gradient(linear,left top,left bottom,from(rgba(1,132,197,.3)),color-stop(49.23%,rgba(1,132,197,.7)),color-stop(100%,rgba(1,132,197,.4)),to(#014263))!important;background:linear-gradient(rgba(1,132,197,.3),rgba(1,132,197,.7) 49.23%,rgba(1,132,197,.4) 100%,#014263 0)!important;-webkit-box-shadow:0 3px 6px rgba(1,132,197,.36);box-shadow:0 3px 6px rgba(1,132,197,.36);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-top:2px!important;padding-bottom:2px!important;font-family:Lato;font-weight:700;font-size:18px!important;text-align:center;color:#fff!important;margin-top:0!important}[_nghost-%COMP%]     .customButton img{height:20px;width:20px}[_nghost-%COMP%]     .customButton span{font-family:Lato;font-weight:700;font-size:18px;text-align:left;color:#fff;padding-left:10px}.k-datepicker[_ngcontent-%COMP%]   .k-select[_ngcontent-%COMP%], .k-datetimepicker[_ngcontent-%COMP%]   .k-select[_ngcontent-%COMP%], .k-timepicker[_ngcontent-%COMP%]   .k-select[_ngcontent-%COMP%]{border-color:transparent!important;color:#0184ba!important;background-color:transparent!important;background-image:none!important}.k-datepicker[_ngcontent-%COMP%], .k-picker-wrap[_ngcontent-%COMP%]{border-radius:29px!important;padding:3px!important}.k-dateinput[_ngcontent-%COMP%]   .k-dateinput-wrap[_ngcontent-%COMP%]{border-color:rgba(0,0,0,.08)!important;color:#656565!important;background-color:#fff!important;border-radius:29px!important}.time-picker.col-4.pl-0.pr-0.form-type[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}[_nghost-%COMP%]     .nb-theme-corporate .form-control{border-radius:23px}']}),t})();var h=n("OlR4"),p=n("H+bZ"),g=n("G0yt");let u=(()=>{class t{constructor(t,e,n,a){this.api=t,this.common=e,this.user=n,this.modalService=a,this.balance=[],this.total=[],this.remainingBalance=null,this.tollDiscount=null,this.fuelDiscount=null,this.Total=0,this.getdiscount(),this.getTotal(),this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.getdiscount(),this.getTotal()}getdiscount(){console.log("Mobileno:",this.user._details);let t="mobileno="+this.user._details.fo_mobileno;this.common.loading++,this.api.walle8Get("CardRechargeApi/AccountRemainingAmount.json?"+t).subscribe(t=>{this.common.loading--,console.log("Res:",t),this.balance=t.data,this.remainingBalance=this.balance[0].toll_balance,console.log("discount",this.remainingBalance),console.log(".......",this.tollDiscount)},t=>{this.common.loading--,console.log(t)})}getTotal(){let t="mobileno="+this.user._details.fo_mobileno;this.common.loading++,this.api.walle8Get("DiscountApi/ViewFoDiscount.json?"+t).subscribe(t=>{this.common.loading--,console.log("Res:",t),this.total=t.data,this.fuelDiscount=this.total[0].fd,this.tollDiscount=this.total[0].td,this.Total=parseInt(this.fuelDiscount)+parseInt(this.tollDiscount)},t=>{this.common.loading--,console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](p.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](i.a),o["\u0275\u0275directiveInject"](g.r))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["dashboard"]],decls:47,vars:4,consts:[[1,"amnout_list"],[1,"row"],[1,"col-6"],[1,"amount_box"],[1,"col-6","text-left"],[1,"rupee_icon","m-0"],[1,"fas","fa-rupee-sign"],[1,"col-6","text-right"],[1,"desc","m-0"],[1,"row","mt-4"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275elementStart"](2,"div",2),o["\u0275\u0275elementStart"](3,"div",3),o["\u0275\u0275elementStart"](4,"div",1),o["\u0275\u0275elementStart"](5,"div",4),o["\u0275\u0275elementStart"](6,"p",5),o["\u0275\u0275element"](7,"i",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"div",7),o["\u0275\u0275elementStart"](9,"h4"),o["\u0275\u0275text"](10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"p",8),o["\u0275\u0275text"](12,"Remaning Balance"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"div",2),o["\u0275\u0275elementStart"](14,"div",3),o["\u0275\u0275elementStart"](15,"div",1),o["\u0275\u0275elementStart"](16,"div",4),o["\u0275\u0275elementStart"](17,"p",5),o["\u0275\u0275element"](18,"i",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"div",7),o["\u0275\u0275elementStart"](20,"h4"),o["\u0275\u0275text"](21),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"p",8),o["\u0275\u0275text"](23,"Fuel Discount"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](24,"div",9),o["\u0275\u0275elementStart"](25,"div",2),o["\u0275\u0275elementStart"](26,"div",3),o["\u0275\u0275elementStart"](27,"div",1),o["\u0275\u0275elementStart"](28,"div",4),o["\u0275\u0275elementStart"](29,"p",5),o["\u0275\u0275element"](30,"i",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](31,"div",7),o["\u0275\u0275elementStart"](32,"h4"),o["\u0275\u0275text"](33),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](34,"p",8),o["\u0275\u0275text"](35,"Total Discount"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](36,"div",2),o["\u0275\u0275elementStart"](37,"div",3),o["\u0275\u0275elementStart"](38,"div",1),o["\u0275\u0275elementStart"](39,"div",4),o["\u0275\u0275elementStart"](40,"p",5),o["\u0275\u0275element"](41,"i",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](42,"div",7),o["\u0275\u0275elementStart"](43,"h4"),o["\u0275\u0275text"](44),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](45,"p",8),o["\u0275\u0275text"](46,"Toll Discount"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](10),o["\u0275\u0275textInterpolate"](e.remainingBalance),o["\u0275\u0275advance"](11),o["\u0275\u0275textInterpolate"](e.fuelDiscount),o["\u0275\u0275advance"](12),o["\u0275\u0275textInterpolate"](e.Total),o["\u0275\u0275advance"](11),o["\u0275\u0275textInterpolate"](e.tollDiscount))},styles:[".amnout_list[_ngcontent-%COMP%]{padding:30px}.amnout_list[_ngcontent-%COMP%]   .amount_box[_ngcontent-%COMP%]{-webkit-box-shadow:2px 0 10px #dcdcdc;box-shadow:2px 0 10px #dcdcdc;border-radius:3px;padding:30px 20px}.amnout_list[_ngcontent-%COMP%]   .amount_box[_ngcontent-%COMP%]   .rupee_icon[_ngcontent-%COMP%]{width:60px;height:60px;display:inline-block;line-height:60px;text-align:center;font-size:30px;border-radius:100%;float:left;margin-right:40px;color:#fff;background-color:#29b6f6}.amnout_list[_ngcontent-%COMP%]   .amount_box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;color:#6b6b6b;margin-top:10px}"]}),t})();var b=n("iJpb"),f=n("1+iI"),x=n("SVse"),C=n("wD9S");function _(t,e){if(1&t&&o["\u0275\u0275element"](0,"smart-table",11),2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("data",t.table.data)("settings",t.table.settings)}}let S=(()=>{class t{constructor(t,e,n,a,o){this.common=t,this.pdfService=e,this.csvService=n,this.api=a,this.user=o,this.data=[],this.table=null,this.getDetail(),this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.getDetail()}getDetail(){this.common.loading++,this.api.walle8Get("CardRechargeApi/getFoCardResults.json?mobileno="+this.user._details.fo_mobileno).subscribe(t=>{this.common.loading--,console.log("Res:",t),this.data=t.data,this.table=this.setTable()},t=>{this.common.loading--,console.log(t)})}setTable(){return{data:{headings:{Vehicle:{title:"Vehicle",placeholder:"Vehicle"},IOCL:{title:"\tIOCL",placeholder:"\tIOCL"},BPCL:{title:"BPCL",placeholder:"BPCL"},ATM:{title:"ATM",placeholder:"ATM"},HPCL:{title:"HPCL",placeholder:"HPCL"},TagId:{title:"Tag Id",placeholder:"Tag Id"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}}getTableColumns(){let t=[];return this.data.map(e=>{t.push({Vehicle:{value:e.vehicle},IOCL:{value:null==e.bpcl?"-":e.bpcl},BPCL:{value:null==e.bpcl?"-":e.bpcl},ATM:{value:null==e.atm?"-":e.atm},HPCL:{value:null==e.hpcl?"-":e.hpcl},TagId:{value:null==e.tag_id?"-":e.tag_id}})}),t}printPDF(){let t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t),this.pdfService.jrxTablesPDF(["cardMapping"],"card-mapping",[["Name: "+t,"Report: Card-Mapping"]])}printCSV(){this.csvService.byMultiIds(["cardMapping"],"card-mapping",[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),report:"Report:Card-Mapping"}])}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](b.a),o["\u0275\u0275directiveInject"](f.a),o["\u0275\u0275directiveInject"](p.a),o["\u0275\u0275directiveInject"](i.a))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["card-mapping"]],decls:14,vars:1,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[2,"width","96%","margin-left","2%"],["id","cardMapping",3,"data","settings",4,"ngIf"],["id","cardMapping",3,"data","settings"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275elementStart"](2,"div",0),o["\u0275\u0275elementStart"](3,"div",1),o["\u0275\u0275elementStart"](4,"h5",2),o["\u0275\u0275text"](5,"Card Mapping"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",3),o["\u0275\u0275elementStart"](7,"span",4),o["\u0275\u0275elementStart"](8,"span",5),o["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),o["\u0275\u0275element"](9,"i",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"span",7),o["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),o["\u0275\u0275element"](11,"i",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"nb-card-body",9),o["\u0275\u0275template"](13,_,1,2,"smart-table",10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](13),o["\u0275\u0275property"]("ngIf",e.data.length))},directives:[c.s,c.v,c.r,x.u,C.a],styles:[".btn-primary[_ngcontent-%COMP%]{padding:6px 15px;border-radius:3px}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#ddd}.pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),t})();var y=n("Xy1B"),v=n("GMTD");function M(t,e){if(1&t&&o["\u0275\u0275element"](0,"smart-table",17),2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("data",t.table.data)("settings",t.table.settings)}}let P=(()=>{class t{constructor(t,e,n,a,o,l){this.api=t,this.pdfService=e,this.csvService=n,this.common=a,this.user=o,this.modalService=l,this.cardUsage=[],this.total=0,this.headings=[],this.valobj={},this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.dates={start:null,end:this.common.dateFormatter1(new Date)};let r=new Date;this.dates.start=this.common.dateFormatter1(new Date(r.setDate(r.getDate()-30))),this.getcardUsage(),this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.getcardUsage()}ngAfterViewInit(){}getDate(t){this.common.params={ref_page:"card usage"},this.modalService.open(y.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(e=>{"start"==t&&(this.dates.start=this.common.dateFormatter(e.date).split(" ")[0]),"end"==t&&(this.dates.end=this.common.dateFormatter(e.date).split(" ")[0])})}getcardUsage(){let t="&mobileno="+this.user._details.fo_mobileno+"&startdate="+this.dates.start+"&enddate="+this.dates.end;console.log("-----------",t),this.common.loading++,this.api.walle8Get("AccountSummaryApi/ViewCardUsages.json?"+t).subscribe(t=>{this.common.loading--,console.log("res: "+t.data),this.cardUsage=t.data;let e=this.cardUsage[0],n={};for(var a in e)if("_"!=a.charAt(0)){if("vid"==a)continue;this.headings.push(a);let t={title:this.formatTitle(a),placeholder:this.formatTitle(a)};n[a]=t}this.table.data={headings:n,columns:this.getTableColumns()}},t=>{this.common.loading--,console.log(t)})}getTableColumns(){let t=[];return console.log("Data=",this.cardUsage),this.cardUsage.map(e=>{this.valobj={};for(let t=0;t<this.headings.length;t++)this.valobj[this.headings[t]]="vehicle"==this.headings[t]?{value:e[this.headings[t]],class:"blue",action:this.showdata.bind(this,e)}:{value:e[this.headings[t]],class:"black",action:""};t.push(this.valobj)}),t}formatTitle(t){return t.length<=4?t.toUpperCase():t.charAt(0).toUpperCase()+t.slice(1)}showdata(t){this.common.params={vehicleName:t.vehicle,vehicleid:t.vid,startdate:this.dates.start,enddate:this.dates.end,name:"admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name,mobileno:this.user._details.fo_mobileno},this.modalService.open(v.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(t=>{})}printPDF(){let t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t),this.pdfService.jrxTablesPDF(["cardUsage"],"card-usage",[["Name: "+t,"Start Date: "+this.dates.start,"End Date: "+this.dates.end,"Report: Card-Usage"]])}printCSV(){this.csvService.byMultiIds(["cardUsage"],"card-usage",[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),startdate:"Start Date:"+this.dates.start,enddate:"End Date: "+this.dates.end,report:"Report:Card-Usage"}])}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](p.a),o["\u0275\u0275directiveInject"](b.a),o["\u0275\u0275directiveInject"](f.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](i.a),o["\u0275\u0275directiveInject"](g.r))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["card-usage"]],decls:24,vars:9,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[1,"row","m-0","p-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],["id","cardUsage",3,"data","settings",4,"ngIf"],["id","cardUsage",3,"data","settings"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275elementStart"](2,"div",0),o["\u0275\u0275elementStart"](3,"div",1),o["\u0275\u0275elementStart"](4,"h5",2),o["\u0275\u0275text"](5,"Card Usage"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",3),o["\u0275\u0275elementStart"](7,"span",4),o["\u0275\u0275elementStart"](8,"span",5),o["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),o["\u0275\u0275element"](9,"i",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"span",7),o["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),o["\u0275\u0275element"](11,"i",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"div",9),o["\u0275\u0275elementStart"](13,"div",10),o["\u0275\u0275elementStart"](14,"input",11),o["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),o["\u0275\u0275pipe"](15,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"div",12),o["\u0275\u0275elementStart"](17,"input",13),o["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),o["\u0275\u0275pipe"](18,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"div",12),o["\u0275\u0275elementStart"](20,"button",14),o["\u0275\u0275listener"]("click",(function(){return e.getcardUsage()})),o["\u0275\u0275text"](21,"Submit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"nb-card-body",15),o["\u0275\u0275template"](23,M,1,2,"smart-table",16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](14),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](15,3,e.dates.start,"dd MMM yyyy")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](18,6,e.dates.end,"dd MMM yyyy")),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngIf",e.cardUsage&&e.cardUsage.length))},directives:[c.s,c.v,c.r,x.u,C.a],pipes:[x.f],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#ddd}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:30px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:200px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:30px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:200px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#e4e4e4}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}",'.thead[_ngcontent-%COMP%]{color:#fff;background-color:#263238}.thead[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:12px}td[_ngcontent-%COMP%]{font-weight:500;padding:8px}.thead-dark[_ngcontent-%COMP%]{color:#fff;font-size:18px;background-color:#263238}.arrow[_ngcontent-%COMP%]{font-size:18px;margin:8px}.btn[_ngcontent-%COMP%]{background:#f2f2f2;font-weight:700;margin-right:5px;margin-left:5px;margin-top:5px;display:inline-block;font-size:14px;text-align:center;height:30px;line-height:5px;border-radius:4px;font-family:Exo;color:#000;cursor:pointer}.btn.btn-danger[_ngcontent-%COMP%]{background-color:#da2240;color:#fff;background-color:#f05e77}.btn.btn-danger[_ngcontent-%COMP%]:active, .btn.btn-danger[_ngcontent-%COMP%]:focus, .btn.btn-danger[_ngcontent-%COMP%]:hover{background-color:#e22242}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#3c6ac7;color:#fff;background-color:#73a1ff}.btn.btn-primary[_ngcontent-%COMP%]:active, .btn.btn-primary[_ngcontent-%COMP%]:focus, .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0054ff}.btn.btn-default.btn-sm[_ngcontent-%COMP%]{float:right;margin-right:50%;background:#dcd9d9;color:#000;font-size:12px}.nb-theme-corporate[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:disabled):not(.disabled){cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:#f1f1f1}nb-card-body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;cursor:pointer;border-radius:0}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:start:decrement{background:linear-gradient(120deg,#696969 40%,transparent 41%),linear-gradient(240deg,#696969 40%,transparent 41%),linear-gradient(0deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:end:increment{background:linear-gradient(300deg,#696969 40%,transparent 41%),linear-gradient(60deg,#696969 40%,transparent 41%),linear-gradient(180deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:end:increment{background:linear-gradient(210deg,#696969 40%,transparent 41%),linear-gradient(330deg,#696969 40%,transparent 41%),linear-gradient(90deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:start:decrement{background:linear-gradient(30deg,#696969 40%,transparent 41%),linear-gradient(150deg,#696969 40%,transparent 41%),linear-gradient(270deg,#696969 30%,transparent 31%);background-color:#b6b6b6}.no-data[_ngcontent-%COMP%]{font-size:18px;color:#f73c3c;font-weight:600;text-align:center;width:100%}[_nghost-%COMP%]     .nb-home:before{content:"\\f015"}[_nghost-%COMP%]     .nb-notifications:before{content:"\\f145"}[_nghost-%COMP%]     .nb-title:before{content:"\\f02d"}[_nghost-%COMP%]     .nb-list:before{content:"\\f016"}[_nghost-%COMP%]     .fa-book:before{content:"\\f0d6"}[_nghost-%COMP%]     .fa-signal:before{content:"\\f043"}[_nghost-%COMP%]     .fa-truck:before{content:"\\f0d1"}[_nghost-%COMP%]     .fa-cog:before{content:"\\f013"}[_nghost-%COMP%]     .fa-database:before{content:"\\f15c";font-size:14px}[_nghost-%COMP%]     .fa-money:before{content:"\\f283";font-size:14px}[_nghost-%COMP%]     .control-icon.nb-notifications:before{content:"\\f0f3";display:block;font-family:FontAwesome;font-size:22px;margin-right:8px;margin-top:8px}[_nghost-%COMP%]     nb-base-calendar.medium nb-card{width:100%}[_nghost-%COMP%]     nb-base-calendar.medium nb-card-header{padding:10px 20px;border-bottom:1px solid #eaeaea}']}),t})();var O=n("csNM");function E(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"tr"),o["\u0275\u0275elementStart"](1,"td"),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"td"),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"td"),o["\u0275\u0275text"](6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"td"),o["\u0275\u0275text"](8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit,n=e.index,a=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](n+1),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](a.common.dateFormatter1(t.dttime)),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.amt),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.rema)}}function k(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"table",17),o["\u0275\u0275elementStart"](1,"thead",18),o["\u0275\u0275elementStart"](2,"tr"),o["\u0275\u0275elementStart"](3,"th"),o["\u0275\u0275text"](4,"#"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"th"),o["\u0275\u0275text"](6,"Date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"th"),o["\u0275\u0275text"](8,"Amonut"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"th"),o["\u0275\u0275text"](10,"Remark"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"tbody"),o["\u0275\u0275template"](12,E,9,4,"tr",19),o["\u0275\u0275elementStart"](13,"tr"),o["\u0275\u0275element"](14,"td"),o["\u0275\u0275elementStart"](15,"td"),o["\u0275\u0275text"](16,"Total"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"td"),o["\u0275\u0275text"](18),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](19,"td"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](12),o["\u0275\u0275property"]("ngForOf",t.data),o["\u0275\u0275advance"](6),o["\u0275\u0275textInterpolate"](t.total)}}let w=(()=>{class t{constructor(t,e,n,a,o,l){this.api=t,this.pdfService=e,this.csvService=n,this.common=a,this.user=o,this.modalService=l,this.data=[],this.total=0,this.userId=this.user._details.id,this.startTime=new Date((new Date).setMonth((new Date).getMonth()-1)),this.endTime=new Date,this.table=null,this.getPaymentMade(),this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.getPaymentMade()}getDate(t){this.common.params={ref_page:"card usage"},this.modalService.open(y.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(e=>{"start"==t&&(this.startTime=this.common.dateFormatter(e.date).split(" ")[0]),"end"==t&&(this.endTime=this.common.dateFormatter(e.date).split(" ")[0])})}getPaymentMade(){this.total=0;let t="aduserid="+this.user._details.id+"&mobileno="+this.user._details.fo_mobileno+"&startdate="+this.common.dateFormatter(new Date(this.startTime))+"&enddate="+this.common.dateFormatter(new Date(this.endTime));this.common.loading++,this.api.walle8Get("PaymentApi/FoPaymentsView.json?"+t).subscribe(t=>{this.common.loading--,console.log("Res:",t.data),this.data=t.data;for(let e=0;e<this.data.length;e+=1)this.total+=Number(this.data[e].amt)},t=>{this.common.loading--,console.log(t)})}printPDF(){let t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t);let e=[["Name: "+t,"Start Date: "+this.common.dateFormatter1(this.startTime),"End Date: "+this.common.dateFormatter1(this.endTime),"Report: Payment-Made"]];this.pdfService.jrxTablesPDF(["paymentsMade"],"pqyment-made",e)}printCSV(){let t=[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),startdate:"Start Date:"+this.common.dateFormatter1(this.startTime),enddate:"End Date:"+this.common.dateFormatter1(this.endTime),report:"Report:Payment-Made"}];this.csvService.byMultiIds(["paymentsMade"],"payment-made",t)}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](p.a),o["\u0275\u0275directiveInject"](b.a),o["\u0275\u0275directiveInject"](f.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](i.a),o["\u0275\u0275directiveInject"](g.r))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["payments-made"]],decls:23,vars:6,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[1,"row","m-0","pt-3",2,"background-color","white"],[1,"col-3","pl-3"],[3,"isTime","dateTimeValue","onChanged"],[1,"col-3"],[3,"isTime","isStart","dateTimeValue","onChanged"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],["class","table table-bordered","style","width:100%","id","paymentsMade",4,"ngIf"],["id","paymentsMade",1,"table","table-bordered",2,"width","100%"],[2,"background","#E5F3F9!important","color","black!important"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275elementStart"](2,"div",0),o["\u0275\u0275elementStart"](3,"div",1),o["\u0275\u0275elementStart"](4,"h5",2),o["\u0275\u0275text"](5,"Payment Made"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",3),o["\u0275\u0275elementStart"](7,"span",4),o["\u0275\u0275elementStart"](8,"span",5),o["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),o["\u0275\u0275element"](9,"i",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"span",7),o["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),o["\u0275\u0275element"](11,"i",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"div",9),o["\u0275\u0275elementStart"](13,"div",10),o["\u0275\u0275elementStart"](14,"uj-date-time-picker",11),o["\u0275\u0275listener"]("onChanged",(function(t){return e.startTime=t})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](15,"div",12),o["\u0275\u0275elementStart"](16,"uj-date-time-picker",13),o["\u0275\u0275listener"]("onChanged",(function(t){return e.endTime=t})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"div",12),o["\u0275\u0275elementStart"](18,"button",14),o["\u0275\u0275listener"]("click",(function(){return e.getPaymentMade()})),o["\u0275\u0275text"](19,"Submit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](20,"nb-card-body",15),o["\u0275\u0275template"](21,k,20,2,"table",16),o["\u0275\u0275element"](22,"br"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](14),o["\u0275\u0275property"]("isTime",!1)("dateTimeValue",e.startTime),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("isTime",!1)("isStart",!1)("dateTimeValue",e.endTime),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngIf",e.data.length))},directives:[c.s,c.v,O.a,c.r,x.u,x.t],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#ddd}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:70px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:70px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#e4e4e4}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),t})();function D(t,e){if(1&t){const t=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",6),o["\u0275\u0275elementStart"](1,"span",7),o["\u0275\u0275elementStart"](2,"span",8),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](t),o["\u0275\u0275nextContext"]().printPDF()})),o["\u0275\u0275element"](3,"i",9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"span",10),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](t),o["\u0275\u0275nextContext"]().printCSV()})),o["\u0275\u0275element"](5,"i",11),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}}function I(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"tr"),o["\u0275\u0275elementStart"](1,"td"),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"td"),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"td"),o["\u0275\u0275text"](6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"td"),o["\u0275\u0275text"](8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"td"),o["\u0275\u0275text"](10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.vehicle),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.nbal),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.cardno),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.dttime),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.rema)}}function F(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"table",12),o["\u0275\u0275elementStart"](1,"thead"),o["\u0275\u0275elementStart"](2,"tr"),o["\u0275\u0275elementStart"](3,"th"),o["\u0275\u0275text"](4,"Vehicle"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"th"),o["\u0275\u0275text"](6,"Recharge"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"th"),o["\u0275\u0275text"](8,"Card Number"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"th"),o["\u0275\u0275text"](10,"Date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"th"),o["\u0275\u0275text"](12,"Remark"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"tbody"),o["\u0275\u0275template"](14,I,11,5,"tr",13),o["\u0275\u0275elementStart"](15,"tr"),o["\u0275\u0275elementStart"](16,"td"),o["\u0275\u0275text"](17,"Total"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](18,"td"),o["\u0275\u0275text"](19),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](20,"td"),o["\u0275\u0275element"](21,"td"),o["\u0275\u0275element"](22,"td"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](14),o["\u0275\u0275property"]("ngForOf",t.data),o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate"](t.total)}}let T=(()=>{class t{constructor(t,e,n,a,o,l){this.api=t,this.pdfService=e,this.csvService=n,this.common=a,this.user=o,this.modalService=l,this.data=[],this.mobileno=this.user._details.fo_mobileno,this.userId=this.user._details.id,this.dates={start:null,end:null},this.table=null,this.total=null;let r=new Date;this.dates.start=this.common.dateFormatter1(new Date(r.setDate(r.getDate()-1))),this.dates.end=this.common.dateFormatter1(new Date),this.getLatestRecharge(),this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.getLatestRecharge()}getDate(t){this.common.params={ref_page:"card usage"},this.modalService.open(y.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(e=>{this.dates[t]=this.common.dateFormatter(e.date).split(" ")[0],console.log("Date:",this.dates)})}getLatestRecharge(){let t="mobileno="+this.user._details.fo_mobileno+"&startdate="+this.dates.start+"&enddate="+this.dates.end;this.common.loading++,this.api.walle8Get("CardRechargeApi/FoCardRechargeView.json?"+t).subscribe(t=>{this.common.loading--,console.log("Res:",t.data),this.data=t.data;for(let e=0;e<this.data.length;e+=1)this.total+=Number(this.data[e].nbal);null==this.data&&this.common.showToast("NO DATA FOUND")},t=>{this.common.loading--,console.log(t)})}printPDF(){let t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t),this.pdfService.jrxTablesPDF(["latestrecharge"],"latest-recharge",[["Name: "+t,"Report: Latest-Recharge"]])}printCSV(){this.csvService.byMultiIds(["latestrecharge"],"latest-recharge",[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),report:"Report:Latest-Recharge"}])}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](p.a),o["\u0275\u0275directiveInject"](b.a),o["\u0275\u0275directiveInject"](f.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](i.a),o["\u0275\u0275directiveInject"](g.r))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["latest-recharge"]],decls:9,vars:2,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],["style","display:inline-block;","class","p-2 float",4,"ngIf"],[2,"width","96%","margin-left","2%"],["class","table table-bordered","id","latestrecharge","style","width:100%;",4,"ngIf"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],["id","latestrecharge",1,"table","table-bordered",2,"width","100%"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275elementStart"](2,"div",0),o["\u0275\u0275elementStart"](3,"div",1),o["\u0275\u0275elementStart"](4,"h5",2),o["\u0275\u0275text"](5,"Latest Recharge"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](6,D,6,0,"div",3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"nb-card-body",4),o["\u0275\u0275template"](8,F,23,2,"table",5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngIf",e.data.length),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",e.data.length))},directives:[c.s,c.v,x.u,c.r,x.t],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#ddd}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#a9aaaa;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:200px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:200px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#e4e4e4}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),t})();function A(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"tr"),o["\u0275\u0275elementStart"](1,"td"),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"td"),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.vehicle),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.tolls)}}function j(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"table",17),o["\u0275\u0275elementStart"](1,"thead",18),o["\u0275\u0275elementStart"](2,"tr"),o["\u0275\u0275elementStart"](3,"th"),o["\u0275\u0275text"](4,"Vehicle"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"th"),o["\u0275\u0275text"](6,"Amount"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"tbody"),o["\u0275\u0275template"](8,A,5,2,"tr",19),o["\u0275\u0275elementStart"](9,"tr"),o["\u0275\u0275elementStart"](10,"td"),o["\u0275\u0275text"](11,"Total"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"td"),o["\u0275\u0275text"](13),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](8),o["\u0275\u0275property"]("ngForOf",t.data),o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate"](t.total)}}let B=(()=>{class t{constructor(t,e,n,a,o,l){this.api=t,this.pdfService=e,this.csvService=n,this.common=a,this.user=o,this.modalService=l,this.userId=this.user._details.id,this.mobile=null,this.dates={start:null,end:null},this.tollSummary=[],this.data=[],this.total=null,this.table=null;let r=new Date;this.dates.start=this.common.dateFormatter1(new Date(r.setDate(r.getDate()-30))),this.dates.end=this.common.dateFormatter1(new Date),this.gettollUsageSummary(),this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.gettollUsageSummary()}getDate(t){this.common.params={ref_page:"card usage"},this.modalService.open(y.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(e=>{this.dates[t]=this.common.dateFormatter(e.date).split(" ")[0],console.log("Date:",this.dates)})}printPDF(){let t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t);let e=[["Name: "+t,"Start Date: "+this.common.dateFormatter1(this.dates.start),"End Date: "+this.common.dateFormatter1(this.dates.end),"Report: Toll-Usage-Summary"]];this.pdfService.jrxTablesPDF(["tollUsageSummary"],"toll-usage-summary",e)}printCSV(){let t=[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),startdate:"Start Date:"+this.common.dateFormatter1(this.dates.start),enddate:"End Date:"+this.common.dateFormatter1(this.dates.end),report:"Report:Toll-Usage-Summary"}];this.csvService.byMultiIds(["tollUsageSummary"],"toll-usage-summary",t)}gettollUsageSummary(){this.mobile="admin"==this.user._loggedInBy?this.user._details.fo_mobileno:this.user._details.mobile;let t="startDate="+this.dates.start+"&endDate="+this.dates.end+"&mobileno="+this.mobile;this.common.loading++,this.api.walle8Get("TollSummary/getTollUsageSummary.json?"+t).subscribe(t=>{if(this.common.loading--,console.log("Res:",t.data),this.data=t.data,null==this.data&&(this.data=[]),t.data)for(let e=0;e<this.data.length;e+=1)this.total+=Number(this.data[e].tolls)},t=>{this.common.loading--,console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](p.a),o["\u0275\u0275directiveInject"](b.a),o["\u0275\u0275directiveInject"](f.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](i.a),o["\u0275\u0275directiveInject"](g.r))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["toll-usage-summary"]],decls:24,vars:9,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[1,"row","m-0","pt-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],["class","table table-bordered","id","tollUsageSummary","style","width:100%",4,"ngIf"],["id","tollUsageSummary",1,"table","table-bordered",2,"width","100%"],[2,"background","#E5F3F9!important","color","black!important"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275elementStart"](2,"div",0),o["\u0275\u0275elementStart"](3,"div",1),o["\u0275\u0275elementStart"](4,"h5",2),o["\u0275\u0275text"](5,"Toll Usage Summary"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",3),o["\u0275\u0275elementStart"](7,"span",4),o["\u0275\u0275elementStart"](8,"span",5),o["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),o["\u0275\u0275element"](9,"i",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"span",7),o["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),o["\u0275\u0275element"](11,"i",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"div",9),o["\u0275\u0275elementStart"](13,"div",10),o["\u0275\u0275elementStart"](14,"input",11),o["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),o["\u0275\u0275pipe"](15,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"div",12),o["\u0275\u0275elementStart"](17,"input",13),o["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),o["\u0275\u0275pipe"](18,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"div",12),o["\u0275\u0275elementStart"](20,"button",14),o["\u0275\u0275listener"]("click",(function(){return e.gettollUsageSummary()})),o["\u0275\u0275text"](21,"SUMMARY"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"nb-card-body",15),o["\u0275\u0275template"](23,j,14,2,"table",16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](14),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](15,3,e.dates.start,"dd MMM yyyy")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](18,6,e.dates.end,"dd MMM yyyy")),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngIf",e.data.length))},directives:[c.s,c.v,c.r,x.u,x.t],pipes:[x.f],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#ddd}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:hsla(0,0%,96.1%,.22)!important}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#edf1f7!important}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),t})();function R(t,e){if(1&t){const t=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",19),o["\u0275\u0275elementStart"](1,"h5",20),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"div",21),o["\u0275\u0275elementStart"](4,"table"),o["\u0275\u0275elementStart"](5,"thead"),o["\u0275\u0275elementStart"](6,"tr"),o["\u0275\u0275elementStart"](7,"th"),o["\u0275\u0275text"](8,"Fuel"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"th"),o["\u0275\u0275text"](10,"Toll"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"th"),o["\u0275\u0275text"](12,"Total"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"tbody"),o["\u0275\u0275elementStart"](14,"tr"),o["\u0275\u0275elementStart"](15,"td"),o["\u0275\u0275text"](16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"td"),o["\u0275\u0275text"](18),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"td"),o["\u0275\u0275text"](20),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](21,"div",22),o["\u0275\u0275elementStart"](22,"a",23),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](t);const n=e.index;return o["\u0275\u0275nextContext"]().getdiscountDetails(n+1)})),o["\u0275\u0275text"](23,"Details info"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit;o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.title),o["\u0275\u0275advance"](14),o["\u0275\u0275textInterpolate"](t.fdisc),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.tdisc),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](+t.fdisc+ +t.tdisc)}}function z(t,e){if(1&t&&o["\u0275\u0275element"](0,"smart-table",24),2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("data",t.table.data)("settings",t.table.settings)}}let H=(()=>{class t{constructor(t,e,n,a,o,l){this.api=t,this.pdfService=e,this.csvService=n,this.common=a,this.user=o,this.modalService=l,this.params=null,this.discounts=null,this.discount=null,this.tollDiscount=[],this.dates={start:"",end:""},this.foid=this.user._details.id,this.singleValue=[],this.data=[],this.table=null;let r=new Date;this.dates.start=this.common.dateFormatter1(new Date(r.getFullYear(),r.getMonth()-12,1,0,0,0)),this.dates.end=this.common.dateFormatter1(r),this.getdetails(),this.getdiscountDetails(0),this.gettollDiscount(),this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.getdetails(),this.getdiscountDetails(0),this.gettollDiscount()}getDate(t){this.common.params={ref_page:"card usage"},this.modalService.open(y.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(e=>{this.dates[t]=this.common.dateFormatter(e.date).split(" ")[0],console.log("Date:",this.dates)})}printPDF(){let t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t);let e=[["Name: "+t,"Start Date: "+this.common.dateFormatter1(this.dates.start),"End Date: "+this.common.dateFormatter1(this.dates.end),"Report: Toll-Discount"]];this.pdfService.jrxTablesPDF(["tollDiscount"],"toll-discount",e)}printCSV(){let t=[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),startdate:"Start Date:"+this.common.dateFormatter1(this.dates.start),enddate:"End Date:"+this.common.dateFormatter1(this.dates.end),report:"Report:Toll-Discount"}];this.csvService.byMultiIds(["tollDiscount"],"toll-discount",t)}sortDiscount(t){t.sort((t,e)=>t.id>e.id?1:e.id>t.id?-1:0),console.log(t),this.discounts=t}calculateTotal(t){for(let e=0;e<t.length;e++){let n;return n=parseInt(t[e].fdisc)+parseInt(t[e].tdisc)}}gettollDiscount(){let t="foid="+this.user._details.foid;this.common.loading++,this.api.walle8Get("DiscountApi/getUserDiscountHistory.json?"+t).subscribe(t=>{this.common.loading--,console.log("Res:",t.data),this.tollDiscount=t.data,console.log("..........",this.tollDiscount),1==t.responsecode&&(this.sortDiscount(this.tollDiscount),this.total=this.calculateTotal(this.tollDiscount),console.log("total",this.total))},t=>{this.common.loading--,console.log(t)})}getdiscountDetails(t){console.log(t);let e=new Date,n="",a="";switch(t){case 1:console.log("Here1"),n=this.common.dateFormatter1(new Date(e.getFullYear(),e.getMonth()-1,1,0,0,0)),this.dates.start=n,a=this.common.dateFormatter1(new Date(e.getFullYear(),e.getMonth(),1,0,0,0)),this.dates.end=a,this.getdetails();break;case 2:n=this.common.dateFormatter1(new Date(e.getFullYear(),e.getMonth()-2,1,0,0,0)),this.dates.start=n,a=this.common.dateFormatter1(new Date(e.getFullYear(),e.getMonth()-1,1,0,0,0)),this.dates.end=a,this.getdetails();break;case 3:n=this.common.dateFormatter1(new Date(e.getFullYear(),e.getMonth()-3,1,0,0,0)),this.dates.start=n,a=this.common.dateFormatter1(new Date(e.getFullYear(),e.getMonth()-2,1,0,0,0)),this.dates.end=a,this.getdetails();break;case 4:n=this.common.dateFormatter1(new Date(e.getFullYear(),e.getMonth()-6,1,0,0,0)),this.dates.start=n,a=this.common.dateFormatter1(new Date(e.getFullYear(),e.getMonth(),1,0,0,0)),this.dates.end=a,this.getdetails();break;case 5:n=this.common.dateFormatter1(new Date(e.getFullYear(),e.getMonth()-12,1,0,0,0)),this.dates.start=n,a=this.common.dateFormatter1(new Date),this.dates.end=a,this.getdetails()}}getdetails(){let t=new Date,e="mobileNo="+this.user._details.fo_mobileno+"&startDate="+this.common.dateFormatter1(new Date(t.getFullYear(),t.getMonth()-12,1,0,0,0))+"&endDate="+this.common.dateFormatter1(t);this.common.loading++,this.api.walle8Get("TollSummary/getTollDiscount.json?"+e).subscribe(t=>{if(this.common.loading--,console.log("Res:",t.data),this.data=t.data,null==this.data)return this.data=[],void(this.table=null);this.table=this.setTable()},t=>{this.common.loading--,console.log(t)})}setTable(){return{data:{headings:{transdate:{title:"Date",placeholder:"Date"},amount:{title:"Amount",placeholder:"Amount"},remark:{title:"Remark",placeholder:"Remark"},disc_type:{title:"Discount Type",placeholder:"Discount Type"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}}getTableColumns(){let t=[];return this.data.map(e=>{let n={transdate:{value:null==e.transdate?"-":this.common.changeDateformat4(e.transdate)},amount:{value:null==e.amount?"-":e.amount},remark:{value:null==e.remark?"-":e.remark},disc_type:{value:null==e.disc_type?"-":e.disc_type}};t.push(n)}),t}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](p.a),o["\u0275\u0275directiveInject"](b.a),o["\u0275\u0275directiveInject"](f.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](i.a),o["\u0275\u0275directiveInject"](g.r))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["toll-discount"]],decls:26,vars:10,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[1,"row","m-0","pt-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["type","button",1,"btn","customButton",3,"click"],[1,"row","mt-4","ml-2"],["class","col-2",4,"ngFor","ngForOf"],[2,"width","96%","margin-left","2%"],["id","tollDiscount",3,"data","settings",4,"ngIf"],[1,"col-2"],[1,"panel-heading"],[1,"small_tabel"],[1,"mini-stat-info"],["href","javascript:void(0)",3,"click"],["id","tollDiscount",3,"data","settings"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275elementStart"](2,"div",0),o["\u0275\u0275elementStart"](3,"div",1),o["\u0275\u0275elementStart"](4,"h5",2),o["\u0275\u0275text"](5,"Toll Discount"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",3),o["\u0275\u0275elementStart"](7,"span",4),o["\u0275\u0275elementStart"](8,"span",5),o["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),o["\u0275\u0275element"](9,"i",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"span",7),o["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),o["\u0275\u0275element"](11,"i",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"div",9),o["\u0275\u0275elementStart"](13,"div",10),o["\u0275\u0275elementStart"](14,"input",11),o["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),o["\u0275\u0275pipe"](15,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"div",12),o["\u0275\u0275elementStart"](17,"input",13),o["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),o["\u0275\u0275pipe"](18,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"div",12),o["\u0275\u0275elementStart"](20,"button",14),o["\u0275\u0275listener"]("click",(function(){return e.getdetails()})),o["\u0275\u0275text"](21,"Submit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"div",15),o["\u0275\u0275template"](23,R,24,4,"div",16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](24,"nb-card-body",17),o["\u0275\u0275template"](25,z,1,2,"smart-table",18),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](14),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](15,4,e.dates.start,"dd MMM yyyy")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](18,7,e.dates.end,"dd MMM yyyy")),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngForOf",e.tollDiscount),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",e.data.length))},directives:[c.s,c.v,x.t,c.r,x.u,C.a],pipes:[x.f],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#ddd}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:30px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:200px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:30px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:200px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#e4e4e4}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}.panel-heading[_ngcontent-%COMP%]{font-size:14px;padding:0;font-weight:700}.small_tabel[_ngcontent-%COMP%]{border:1px solid #e6e6e6;padding:5px;border-radius:3px}.small_tabel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#97bbef;color:#fff}.small_tabel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#c9daf1;color:#fff}.small_tabel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#97bbef;color:#fff}.small_tabel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .small_tabel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:auto;padding:5px;font-size:12px}.small_tabel[_ngcontent-%COMP%]   .mini-stat-info[_ngcontent-%COMP%]{font-size:12px;text-align:right;font-weight:400;padding:7px 0 0}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),t})();function V(t,e){if(1&t){const t=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",12),o["\u0275\u0275elementStart"](1,"span",13),o["\u0275\u0275elementStart"](2,"span",14),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](t),o["\u0275\u0275nextContext"]().printPDF()})),o["\u0275\u0275element"](3,"i",15),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"span",16),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](t),o["\u0275\u0275nextContext"]().printCSV()})),o["\u0275\u0275element"](5,"i",17),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}}function N(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"tr"),o["\u0275\u0275elementStart"](1,"td"),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"td"),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"td"),o["\u0275\u0275text"](6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"td"),o["\u0275\u0275text"](8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.cardno),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.trtime),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.deal),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.amt)}}function U(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"table",18),o["\u0275\u0275elementStart"](1,"thead"),o["\u0275\u0275elementStart"](2,"tr"),o["\u0275\u0275elementStart"](3,"th"),o["\u0275\u0275text"](4,"Vehicle"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"th"),o["\u0275\u0275text"](6,"Transaction Time"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"th"),o["\u0275\u0275text"](8,"Plaza Code"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"th"),o["\u0275\u0275text"](10,"Amount"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"tbody"),o["\u0275\u0275template"](12,N,9,4,"tr",19),o["\u0275\u0275elementStart"](13,"tr"),o["\u0275\u0275element"](14,"td"),o["\u0275\u0275element"](15,"td"),o["\u0275\u0275elementStart"](16,"td"),o["\u0275\u0275text"](17,"Total"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](18,"td"),o["\u0275\u0275text"](19),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](12),o["\u0275\u0275property"]("ngForOf",t.data),o["\u0275\u0275advance"](7),o["\u0275\u0275textInterpolate"](t.total)}}let G=(()=>{class t{constructor(t,e,n,a,o,l){this.api=t,this.pdfService=e,this.csvService=n,this.common=a,this.user=o,this.modalService=l,this.data=[],this.total=0,this.tollUsage=[],this.userId=this.user._details.id,this.cardType=1,this.table=null,this.dates={start:null,end:this.common.dateFormatter(new Date)};let r=new Date;this.dates.start=this.common.dateFormatter1(new Date(r.setDate(r.getDate()-1))),this.gettollUsage(),this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.gettollUsage()}getDate(t){this.common.params={ref_page:"toll Usage"},this.modalService.open(y.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(e=>{this.dates[t]=this.common.dateFormatter(e.date).split(" ")[0],console.log("Date:",this.dates)})}gettollUsage(){this.total=0;let t="startDate="+this.dates.start+"&endDate="+this.dates.end;this.common.loading++,this.api.walle8Get("TollSummary/getEntireTollUsage.json?"+t).subscribe(t=>{if(this.common.loading--,console.log("Res:",t.data),this.data=t.data,t.data)for(let e=0;e<this.data.length;e+=1)this.total+=Number(this.data[e].amt)},t=>{this.common.loading--,console.log(t)})}printPDF(){let t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t);let e=[["Name: "+t,"Start Date: "+this.common.dateFormatter1(this.dates.start),"End Date: "+this.common.dateFormatter1(this.dates.end),"Report: Toll-Usage"]];this.pdfService.jrxTablesPDF(["tollUsage"],"toll-usage",e)}printCSV(){let t=[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),startdate:"Start Date:"+this.common.dateFormatter1(this.dates.start),enddate:"End Date:"+this.common.dateFormatter1(this.dates.end),report:"Report:Toll-Usage"}];this.csvService.byMultiIds(["tollUsage"],"toll-usage",t)}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](p.a),o["\u0275\u0275directiveInject"](b.a),o["\u0275\u0275directiveInject"](f.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](i.a),o["\u0275\u0275directiveInject"](g.r))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["toll-usage"]],decls:19,vars:10,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],["style","display:inline-block;","class","p-2 float",4,"ngIf"],[1,"row","m-0","p-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],["id","tollUsage","class","table table-bordered","style","width:100%",4,"ngIf"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],["id","tollUsage",1,"table","table-bordered",2,"width","100%"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275elementStart"](2,"div",0),o["\u0275\u0275elementStart"](3,"div",1),o["\u0275\u0275elementStart"](4,"h5",2),o["\u0275\u0275text"](5,"Toll Usage"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](6,V,6,0,"div",3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"div",4),o["\u0275\u0275elementStart"](8,"div",5),o["\u0275\u0275elementStart"](9,"input",6),o["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),o["\u0275\u0275pipe"](10,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"div",7),o["\u0275\u0275elementStart"](12,"input",8),o["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),o["\u0275\u0275pipe"](13,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"div",7),o["\u0275\u0275elementStart"](15,"button",9),o["\u0275\u0275listener"]("click",(function(){return e.gettollUsage()})),o["\u0275\u0275text"](16,"Submit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"nb-card-body",10),o["\u0275\u0275template"](18,U,20,2,"table",11),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngIf",e.data),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](10,4,e.dates.start,"dd MMM yyyy")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](13,7,e.dates.end,"dd MMM yyyy")),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngIf",e.data))},directives:[c.s,c.v,x.u,c.r,x.t],pipes:[x.f],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),t})();function K(t,e){if(1&t&&o["\u0275\u0275element"](0,"smart-table",17),2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("data",t.table.data)("settings",t.table.settings)}}let q=(()=>{class t{constructor(t,e,n,a,o,l){this.api=t,this.pdfService=e,this.csvService=n,this.common=a,this.user=o,this.modalService=l,this.dates={start:null,end:this.common.dateFormatter(new Date)},this.table=null,this.data=[];let r=new Date;this.dates.start=this.common.dateFormatter1(r.setDate(r.getDate()-1)),this.gettollSetteledReq(),this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.gettollSetteledReq()}getDate(t){this.common.params={ref_page:"card usage"},this.modalService.open(y.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(e=>{this.dates[t]=this.common.dateFormatter(e.date).split(" ")[0],console.log("Date:",this.dates)})}setTable(){return{data:{headings:{toll_usage_id:{title:"Toll Id",placeholder:"Toll Id"},toll_plaza:{title:"TOll Plaza",placeholder:"\tToll Plaza"},regno:{title:"Registration No",placeholder:"Registration No"},transtime:{title:"transtime",placeholder:"Transmit Time"},amount:{title:"Amount",placeholder:"Amount"},issueid:{title:"Issue Type",placeholder:"Issue Type"},issue_remark:{title:"Issue Remark",placeholder:"Issue Remark"},status:{title:"status",placeholder:"status"},cashback:{title:"cashback",placeholder:"cashback"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}}getTableColumns(){let t=[];return this.data.map(e=>{t.push({toll_usage_id:{value:e.toll_usage_id},toll_plaza:{value:e.toll_plaza},regno:{value:null==e.regno?"-":e.regno},transtime:{value:null==e.transtime?"-":e.transtime},amount:{value:null==e.amount?"-":e.amount},issueid:{value:null==e.issueid?"-":e.issueid},issue_remark:{value:null==e.issue_remark?"-":e.issue_remark},status:{value:null==e.status?"-":e.status},cashback:{value:null==e.cashback?"-":e.cashback}})}),t}gettollSetteledReq(){let t="startDate="+this.dates.start+"&endDate="+this.dates.end;this.common.loading++,this.api.walle8Get("TollSummary/getTollSettledRequests.json?"+t).subscribe(t=>{if(this.common.loading--,console.log("Res:",t),this.data=t.data,null==this.data)return this.data=[],void(this.table=null);this.table=this.setTable()},t=>{this.common.loading--,console.log(t)})}printPDF(){let t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t);let e=[["Name: "+t,"Start Date: "+this.common.dateFormatter1(this.dates.start),"End Date: "+this.common.dateFormatter1(this.dates.end),"Report: Toll-Setteled"]];this.pdfService.jrxTablesPDF(["tollsettel"],"toll-setteled",e)}printCSV(){let t=[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),startdate:"Start Date:"+this.common.dateFormatter1(this.dates.start),enddate:"End Date:"+this.common.dateFormatter1(this.dates.end),report:"Report:Toll-Setteled"}];this.csvService.byMultiIds(["tollsettel"],"toll-setteled",t)}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](p.a),o["\u0275\u0275directiveInject"](b.a),o["\u0275\u0275directiveInject"](f.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](i.a),o["\u0275\u0275directiveInject"](g.r))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["toll-setteled-request"]],decls:24,vars:9,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[1,"row","m-0","p-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],["id","tollsettel",3,"data","settings",4,"ngIf"],["id","tollsettel",3,"data","settings"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275elementStart"](2,"div",0),o["\u0275\u0275elementStart"](3,"div",1),o["\u0275\u0275elementStart"](4,"h5",2),o["\u0275\u0275text"](5,"Toll Settled Request"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",3),o["\u0275\u0275elementStart"](7,"span",4),o["\u0275\u0275elementStart"](8,"span",5),o["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),o["\u0275\u0275element"](9,"i",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"span",7),o["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),o["\u0275\u0275element"](11,"i",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"div",9),o["\u0275\u0275elementStart"](13,"div",10),o["\u0275\u0275elementStart"](14,"input",11),o["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),o["\u0275\u0275pipe"](15,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"div",12),o["\u0275\u0275elementStart"](17,"input",13),o["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),o["\u0275\u0275pipe"](18,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"div",12),o["\u0275\u0275elementStart"](20,"button",14),o["\u0275\u0275listener"]("click",(function(){return e.gettollSetteledReq()})),o["\u0275\u0275text"](21,"Submit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"nb-card-body",15),o["\u0275\u0275template"](23,K,1,2,"smart-table",16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](14),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](15,3,e.dates.start,"dd MMM yyyy")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](18,6,e.dates.end,"dd MMM yyyy")),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngIf",e.data.length))},directives:[c.s,c.v,c.r,x.u,C.a],pipes:[x.f],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),t})();function Y(t,e){if(1&t&&o["\u0275\u0275element"](0,"smart-table",11),2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("data",t.table.data)("settings",t.table.settings)}}let L=(()=>{class t{constructor(t,e,n,a,o){this.common=t,this.pdfService=e,this.csvService=n,this.api=a,this.user=o,this.data=[],this.table=null,this.getDetail(),this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.getDetail()}getDetail(){this.common.loading++,this.api.walle8Get("CurrentTagBalance/getCurrentTagBalance.json").subscribe(t=>{this.common.loading--,console.log("Res:",t),this.data=t.data,this.table=this.setTable()},t=>{this.common.loading--,console.log(t)})}setTable(){return{data:{headings:{regno:{title:"Vehicle",placeholder:"Vehicle"},balance:{title:"\tBalance",placeholder:"Balance"},balance_time:{title:"Balance Time",placeholder:"Balance Time"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}}getTableColumns(){let t=[];return this.data.map(e=>{t.push({regno:{value:e.regno},balance:{value:e.balance},balance_time:{value:null==e.balance_time?"-":e.balance_time}})}),t}printPDF(){let t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t),this.pdfService.jrxTablesPDF(["currentTagBalance"],"toll-setteled",[["Name: "+t,"Report: Current-Tag-Balance"]])}printCSV(){this.csvService.byMultiIds(["currentTagBalance"],"toll-setteled",[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),report:"Report:Current-Tag-Balance"}])}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](b.a),o["\u0275\u0275directiveInject"](f.a),o["\u0275\u0275directiveInject"](p.a),o["\u0275\u0275directiveInject"](i.a))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["current-tag-balance"]],decls:14,vars:1,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[2,"width","96%","margin-left","2%"],["id","currentTagBalance",3,"data","settings",4,"ngIf"],["id","currentTagBalance",3,"data","settings"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275elementStart"](2,"div",0),o["\u0275\u0275elementStart"](3,"div",1),o["\u0275\u0275elementStart"](4,"h5",2),o["\u0275\u0275text"](5,"Current Tag Balance"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",3),o["\u0275\u0275elementStart"](7,"span",4),o["\u0275\u0275elementStart"](8,"span",5),o["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),o["\u0275\u0275element"](9,"i",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"span",7),o["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),o["\u0275\u0275element"](11,"i",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"nb-card-body",9),o["\u0275\u0275template"](13,Y,1,2,"smart-table",10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](13),o["\u0275\u0275property"]("ngIf",e.data.length))},directives:[c.s,c.v,c.r,x.u,C.a],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),t})();function X(t,e){if(1&t&&o["\u0275\u0275element"](0,"smart-table",17),2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("data",t.table.data)("settings",t.table.settings)}}let W=(()=>{class t{constructor(t,e,n,a,o,l){this.api=t,this.pdfService=e,this.csvService=n,this.common=a,this.user=o,this.modalService=l,this.dates={start:null,end:this.common.dateFormatter(new Date)},this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.data=[];let r=new Date,i="";i=this.common.dateFormatter1(r.setDate(r.getDate()-30)),this.dates.start=i,this.getdoubleTollReport(),this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.getdoubleTollReport()}getDate(t){this.common.params={ref_page:"card usage"},this.modalService.open(y.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(e=>{this.dates[t]=this.common.dateFormatter(e.date).split(" ")[0],console.log("Date:",this.dates)})}setTable(){return{data:{headings:{vehreg:{title:"Vehicle",placeholder:"Vehicle"},remark:{title:"TOll Plaza",placeholder:"\tToll Plaza"},transtime:{title:"Transaction Time",placeholder:"Transaction Time"},amount:{title:"Amount",placeholder:"Amount"},action:{title:"Action",placeholder:"Action"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}}getTableColumns(){let t=[];return this.data.map(e=>{let n={vehreg:{value:e.vehreg},remark:{value:e.remark},regno:{value:null==e.regno?"-":e.regno},transtime:{value:null==e.transtime?"-":e.transtime},amount:{value:null==e.amount?"-":e.amount},action:{value:"",action:null,html:!0,icons:this.actionIcons(e)}};t.push(n)}),t}actionIcons(t){let e=[];return e.push({class:"icon fa fa-eye gray",action:this.raiseIssue.bind(this,t)}),e}getdoubleTollReport(){let t="startDate="+this.dates.start+"&endDate="+this.dates.end;this.common.loading++,this.api.walle8Get("TollSummary/getDoubleTollReport.json?"+t).subscribe(t=>{if(this.common.loading--,console.log("Res333:",t.data),this.data=t.data,null==this.data)return this.data=[],void(this.table=null);this.table=this.setTable()},t=>{this.common.loading--,console.log(t)})}printPDF(){let t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t);let e=[["Name: "+t,"Start Date: "+this.common.dateFormatter1(this.dates.start),"End Date: "+this.common.dateFormatter1(this.dates.end),"Report: Double-Toll"]];this.pdfService.jrxTablesPDF(["doubleToll"],"double-toll",e)}printCSV(){let t=[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),startdate:"Start Date:"+this.common.dateFormatter1(this.dates.start),enddate:"End Date:"+this.common.dateFormatter1(this.dates.end),report:"Report:Double-Toll"}];this.csvService.byMultiIds(["doubleToll"],"double-toll",t)}raiseIssue(t){if(!confirm("Do you want to submit this entry ?"))return;const e={tollUseId:t.id,tollProof:"iVBORw0KGgoAAAANSUhEUgAAAkEAAABdCAIAAAAt7SUzAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAkBSURBVHhe7d3tYSMpDIDhrcsFuR5X42ZczB7z5REDQmKGdazL+/y7GAsBQXJ8WefPXwAAYqKHAQCioocBAKKihwEAoqKHAQCioocBAKKihwEAoqKHAQCioocBAKKihwEAoqKHAQCioocBAKKihwEAoqKHfZ/X8/5ndXs81y/+aq/n4367rXuS3G73x/O1PvidOETgI+hh3+f12Mv1/deXP7kbme/eGg4R+Ah62Pf5HeXv9XrO2j9O7T/NFG4P8VRftA+ihwEfYfew/HXwjftYIzbp+jtHv6D8Za1JX+Phe+/xfM2e81uL+9Oc0T6KHgZ8hNnDihfC2ctfLOQuXa5Y///yd+xNyneU3NXGt50z2mfRw4CPMHpYXh4WP1Ykvvh/k9PDuk7H13XkqNY3nS/ah8U8RCCcdg/Lq8Pmp6rEF5cFelhf1qnhbaNvd+3byb2prmgfRg8DPqLZw8Q9vN3fZSL5mUtJD/tm47MWm/olP1x1oIcBH9HqYbKFPV7yUv7MrfziskAPo4flYh4iEE6jh4lbOJcQeSt/5Fp+cVmgh/2DrOlhACx6D6tUkKGVuh897JvRwzL0MOAj1B4mCsh+BXtLdcfvqqlD5Zwt7TL3Wj6uaK8rk/Tf98eQDy3q3JgimezDkzrLX2Vl88LsdT23ibIdr3+wkxLs7Om8pz7+i0NfwEM4NVrd+R2Thh4igHO0HiZKibyBssI4Xht3XGRtqPx6k5bOXGrWMapU+rrq15G/h71a2SxpuHdN/D5enVGX96yXadJWWbkdnD4dsWHZQ96A+b5o0QpXd2w18hABXKH0MFEU1GrhaGIdF1kberpKztzPTlwv4RVyWxphrAo6ST8TuXbNE2umH9OedZrGs1VFNqdPR+06cid1h3BqtMyAHZuMPEQAF9V7mKgJx/sna0z7ridaY6poDF0+YGh6N1AOWb/4tg4WygI7vdvzWD5Y7/HI/rXAwlyQRu6KttAinXc2KZf8na2dEiyPlQLJN/uW903XxybasmTpP8RbdqnMq8xn3f7O02l1nfUp4t3lqSesX1ysIzetaKsxOzb0EAFcV+th8p6W10+Wa6vmtyNlHEM7oiWHajNVwfUR6fjmkrUihdwUJTU5pJpO9X2uarBsaWrRtg8qT2lWvmOYxWlsUN/piKBqRM+YhTny3+zYpUMEMEKlh1nFSD5u1JaOuuYY2hEtG2ulmRemUwVHhqgGyPNR5yhKYG2kOdnGGpgvvFHcZfKeQc2sZmJq9XA8YxbWSGsj3toDRx4igCHKHmbXouwqN+9nR11zDD0ZzSqAiSxdVugqq0j25GMkI0NZKxOhakOzmVqxsvSvn05iZDbzjFm0R47asYGHCGCQood5SpGnpM066ppjqD+aO8GNLDlWmauRz6/NZz2eaa+zVWUL7cH+UENPZ+KZ2p/eqGUmjcHioauHCGCQYw/zXT05qnVDOy6yY6g/Wle1mXgXpDEmlOHtMtpcZ9/SGhU5aT8qDT2diWdqf3rNkeLBS4kNPEQAoxx6mLdsyBvauKIdF9kx1B3NmZ0kC51doApGnewro811ylB9yom9p52npAx1n87MM7U/vebIUTsm41w8RACj5D1M1oLy96Mzsk2oFabjIjuGuqPJgUb125x4imTUt3HlTz7WqZxYHnd7zY7taWVd8kztT681ctiOjTtEAMNkPUze0i5aiem4yI6h7mhyoFH9NieeIhn1bVz5k491qS2qVfpzju1pZV3yTO1PrzVy2I6NO0QAw8geJi9pp+t1zTHUHS0rW74CItduFMwao76NK38nlqYTaRlrltNeP+vEM7U/vdbIYTs27hABDCN6mLyj3epFpuMiO4b6o/WVm+RqoTMmlA8b5ThprrN7aQ0ilpGVTEkZ6j+diWdqf3rNkaN2TMYx8kn6tgPASe8edqKKZ0+p3mpH6ds47ry/LHQvpq8+lYw62ZdPc53ywTOZSs3Sn3HM2sy64Jnan15z5Kgdk3EuHiKAUbYe1ndBV9mTqs8yavsu+2gDZWRHMZLz2svJ1nGqzFnr7Mgn/2yncmzHLljETEYkx6R9eXmm9qfXHjlqx4yDkaxDBDDI2sPOXnPrqsq4amDvZ/NkwYy6kCXWHpyFPVlv5HTVCFk++g7nuSSVYK49dRFJGXHknMrQntPxTe1Pzxg5ascGHiKAMZYe5ihRiuxaV+5q9ngldtG/JtqdtyaTDoWk/Czb2fEvZp0tcDKzemKHfCrpuLfCDrXbPpC9mpTI2li45xuk53RcU/vTs0aO2rGBhwhgiLmHyepjVIuCVbkO1z5NoP9hj41657PJ3pGWQEXixcxpzF3+7ZVi+t6172RiWvZ58smUzZLL4c/AiMTqwZRNXf/pXlKsrxpHZGQsXU6oDu05Hc/U/vTskYN27LDG5PwhAhhg6mHyXhrFoiK71bXbWuklhTStGKbf+aKE7GqZ114Ua/pXLsi8Wtk7diK9uPdshWdXd/XFiayN1cvZ9KEdp+OZ2p+ea+SIHUtGHiKAq1IPk5XHqBVVWeWqB2iVj/R6eH6K886roZTUq2/uHGwpnCf3oFmxHH/F3r8V08846zhd+oFDe+vM3yTkrreGuk/HM7U/Pe/Iyzu2GHmIAC75MxX59aqly9YuFYq8wGn3da4f8s2a+d2cfb49Dz3GYvoLv61IFWnyw+zTs+b3gWp/Abqb+N9qVvZz/lMy6/hkyiTLw70VyRrtzNpE1kbVFl1izOlkU69fO/Kn54m2u7Bju7GHCOCk9fcSAQAIhx4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIjp79//ABt9DOKbevLHAAAAAElFTkSuQmCC",issueId:1,remark:"Auto Identified"};console.log("params",e),this.common.loading++,this.api.walle8Post("IssueRequestApi/insertTollIsuue.json?",e).subscribe(t=>{this.common.loading--,0!=t.success?this.common.showToast(t.msg):this.common.showError(t.msg)},t=>{this.common.loading--,this.common.showError(),console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](p.a),o["\u0275\u0275directiveInject"](b.a),o["\u0275\u0275directiveInject"](f.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](i.a),o["\u0275\u0275directiveInject"](g.r))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["double-toll-report"]],decls:24,vars:9,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[1,"row","m-0","p-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],["id","doubleToll",3,"data","settings",4,"ngIf"],["id","doubleToll",3,"data","settings"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275elementStart"](2,"div",0),o["\u0275\u0275elementStart"](3,"div",1),o["\u0275\u0275elementStart"](4,"h5",2),o["\u0275\u0275text"](5,"Double Toll Report"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",3),o["\u0275\u0275elementStart"](7,"span",4),o["\u0275\u0275elementStart"](8,"span",5),o["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),o["\u0275\u0275element"](9,"i",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"span",7),o["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),o["\u0275\u0275element"](11,"i",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"div",9),o["\u0275\u0275elementStart"](13,"div",10),o["\u0275\u0275elementStart"](14,"input",11),o["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),o["\u0275\u0275pipe"](15,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"div",12),o["\u0275\u0275elementStart"](17,"input",13),o["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),o["\u0275\u0275pipe"](18,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"div",12),o["\u0275\u0275elementStart"](20,"button",14),o["\u0275\u0275listener"]("click",(function(){return e.getdoubleTollReport()})),o["\u0275\u0275text"](21,"Submit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"nb-card-body",15),o["\u0275\u0275template"](23,X,1,2,"smart-table",16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](14),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](15,3,e.dates.start,"dd MMM yyyy")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](18,6,e.dates.end,"dd MMM yyyy")),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngIf",e.data.length))},directives:[c.s,c.v,c.r,x.u,C.a],pipes:[x.f],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),t})();function Z(t,e){if(1&t&&o["\u0275\u0275element"](0,"smart-table",19),2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("data",t.table.data)("settings",t.table.settings)}}let J=(()=>{class t{constructor(t,e,n,a,o,l){this.api=t,this.pdfService=e,this.csvService=n,this.common=a,this.user=o,this.modalService=l,this.dates={start:null,end:this.common.dateFormatter(new Date)},this.table=null,this.data=[],this.balance=[],this.openingBalance=null,this.closingBalance=null,this.vehid=6754,this.mobileno=this.user._details.mobileno;let r=new Date;this.dates.start=this.common.dateFormatter1(new Date(r.setDate(r.getDate()-30))),this.getfinancialTollReport(),this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.getfinancialTollReport()}getDate(t){this.common.params={ref_page:"card usage"},this.modalService.open(y.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(e=>{this.dates[t]=this.common.dateFormatter(e.date).split(" ")[0],console.log("Date:",this.dates)})}printPDF(){let t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t);let e=[["Name: "+t,"Start Date: "+this.common.dateFormatter1(this.dates.start),"End Date: "+this.common.dateFormatter1(this.dates.end),"Report: Financial-Toll-Summary"]];this.pdfService.jrxTablesPDF(["FinancialReport"],"financial-toll-summary",e)}printCSV(){let t=[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),startdate:"Start Date:"+this.common.dateFormatter1(this.dates.start),enddate:"End Date:"+this.common.dateFormatter1(this.dates.end),report:"Report:Financial-Toll-Summary"}];this.csvService.byMultiIds(["FinancialReport"],"financial-toll-summary",t)}setTable(){return{data:{headings:{vehid:{title:"Vehicle",placeholder:"Vehicle"},transtime:{title:"Transaction Time",placeholder:"Transaction Time"},remark:{title:"Toll Plaza",placeholder:"Toll Plaza"},amount:{title:"Amount",placeholder:"Amount"},balance:{title:"Balance",placeholder:"Balance"},entry_type:{title:"Transaction Type",placeholder:"Transaction Type"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}}getTableColumns(){let t=[];return this.data.map(e=>{t.push({vehid:{value:e.vehid},transtime:{value:e.transtime},remark:{value:null==e.remark?"-":e.remark},amount:{value:null==e.amount?"-":e.amount},balance:{value:null==e.balance?"-":e.balance},entry_type:{value:null==e.entry_type?"-":e.entry_type}})}),t}getfinancialTollReport(){let t="startDate="+this.dates.start+"&endDate="+this.dates.end;this.common.loading++,this.api.walle8Get("FinancialAccountSummary/getOpeningAndClosingBalance.json?"+t).subscribe(t=>{this.common.loading--,console.log("Res:",t),this.balance=t.data,null==this.balance&&(this.balance=[]),this.openingBalance=this.balance[0].opening_balance,this.closingBalance=this.balance[0].closing_balance},t=>{this.common.loading--,console.log(t)});let e="startDate="+this.dates.start+"&endDate="+this.dates.end;this.common.loading++,this.api.walle8Get("FinancialAccountSummary/getFinancialAccountSummary.json?"+e).subscribe(t=>{if(this.common.loading--,console.log("Res:",t),this.data=t.data,null==this.data)return this.data=[],void(this.table=null);this.table=this.setTable()},t=>{this.common.loading--,console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](p.a),o["\u0275\u0275directiveInject"](b.a),o["\u0275\u0275directiveInject"](f.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](i.a),o["\u0275\u0275directiveInject"](g.r))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["financial-toll-summary"]],decls:38,vars:11,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[1,"row","m-0","p-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],[1,"table","table-bordered",2,"font-size","14px"],["colspan","4",1,"thead"],["id","FinancialReport",3,"data","settings",4,"ngIf"],["id","FinancialReport",3,"data","settings"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275elementStart"](2,"div",0),o["\u0275\u0275elementStart"](3,"div",1),o["\u0275\u0275elementStart"](4,"h5",2),o["\u0275\u0275text"](5,"Financial Toll Summary"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",3),o["\u0275\u0275elementStart"](7,"span",4),o["\u0275\u0275elementStart"](8,"span",5),o["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),o["\u0275\u0275element"](9,"i",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"span",7),o["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),o["\u0275\u0275element"](11,"i",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"div",9),o["\u0275\u0275elementStart"](13,"div",10),o["\u0275\u0275elementStart"](14,"input",11),o["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),o["\u0275\u0275pipe"](15,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"div",12),o["\u0275\u0275elementStart"](17,"input",13),o["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),o["\u0275\u0275pipe"](18,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"div",12),o["\u0275\u0275elementStart"](20,"button",14),o["\u0275\u0275listener"]("click",(function(){return e.getfinancialTollReport()})),o["\u0275\u0275text"](21,"Submit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"nb-card-body",15),o["\u0275\u0275elementStart"](23,"table",16),o["\u0275\u0275elementStart"](24,"tr"),o["\u0275\u0275elementStart"](25,"th",17),o["\u0275\u0275text"](26,"Account Summary"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](27,"tr"),o["\u0275\u0275elementStart"](28,"td"),o["\u0275\u0275text"](29,"Opening Balance(Rs.)"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](30,"td"),o["\u0275\u0275text"](31,"Closing Balance(Rs.)"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](32,"tr"),o["\u0275\u0275elementStart"](33,"td"),o["\u0275\u0275text"](34),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](35,"td"),o["\u0275\u0275text"](36),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](37,Z,1,2,"smart-table",18),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](14),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](15,5,e.dates.start,"dd MMM yyyy")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](18,8,e.dates.end,"dd MMM yyyy")),o["\u0275\u0275advance"](17),o["\u0275\u0275textInterpolate"](e.openingBalance),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.closingBalance),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.data.length))},directives:[c.s,c.v,c.r,x.u,C.a],pipes:[x.f],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.thead[_ngcontent-%COMP%]{background-color:#e5f3f9;color:#000}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),t})();var Q=n("5RHE"),$=n.n(Q),tt=(n("DaQG"),n("0zba")),et=n("s7LF");function nt(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"tr"),o["\u0275\u0275elementStart"](1,"td"),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"td"),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"td"),o["\u0275\u0275text"](6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"td"),o["\u0275\u0275text"](8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"td"),o["\u0275\u0275text"](10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"td"),o["\u0275\u0275text"](12),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"td"),o["\u0275\u0275text"](14),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](15,"td"),o["\u0275\u0275text"](16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"td"),o["\u0275\u0275text"](18),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.vehid),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.addtime),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.transtime),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.remark),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.amount_credit),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.amount_debit),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.entry_type),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.balance),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.txn_id)}}function at(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div",19),o["\u0275\u0275elementStart"](1,"div",26),o["\u0275\u0275elementStart"](2,"table",29),o["\u0275\u0275elementStart"](3,"thead",30),o["\u0275\u0275elementStart"](4,"tr"),o["\u0275\u0275elementStart"](5,"th"),o["\u0275\u0275text"](6,"Vehicle"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"th"),o["\u0275\u0275text"](8,"Accounting Time"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"th"),o["\u0275\u0275text"](10,"Transaction Time"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"th"),o["\u0275\u0275text"](12,"Toll Plaza"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"th"),o["\u0275\u0275text"](14,"Amount(CR)"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](15,"th"),o["\u0275\u0275text"](16,"Amount(DR)"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"th"),o["\u0275\u0275text"](18,"Transaction Type"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"th"),o["\u0275\u0275text"](20,"Balance"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](21,"th"),o["\u0275\u0275text"](22,"Transaction Id"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](23,"tbody"),o["\u0275\u0275template"](24,nt,19,9,"tr",31),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](24),o["\u0275\u0275property"]("ngForOf",t.data)}}let ot=(()=>{class t{constructor(t,e,n,a,o,l){this.api=t,this.common=e,this.user=n,this.modalService=a,this.datePipe=o,this.csvService=l,this.dates={currentdate:this.common.dateFormatter1(new Date),start:null,end:this.common.dateFormatter1(new Date)},this.fo={id:null,name:null,mobileNo:null},this.customerFoid=null,this.foid=null,this.regno=null,this.typedKey="",this.vehId="",this.result=[],this.data=[],this.openingBalance=0,this.closingBalance=0,this.creditAmount=0,this.debitAmount=0,this.vehid=this.user._details.vehid,this.mobileno=this.user._details.fo_mobileno,this.foAgents=[],this.foid="admin"==this.user._loggedInBy?this.user._customer.foid:this.user._details.foid,console.log("FOID:",this.foid),console.log("this.user._details.",this.user._details),this.fo.id=this.user._details.foid,this.fo.mobileNo=this.user._details.fo_mobileno,this.fo.name="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name,this.common.refresh=this.refresh.bind(this),this.dates.start=this.common.dateFormatter1(new Date((new Date).setDate((new Date).getDate()-15)))}ngOnInit(){}selectVehicle(t){this.vehId=t.id,this.regno=t.regno,this.data=this.result.filter(t=>!this.regno||(console.log("ele",t),t.vehid==this.regno)),console.log(this.data)}refresh(){this.getaddTimeFinancialTollReport()}calculateAmount(t){let e=t[0].entry_type,n=t[0].balance,a=t[0].amount;console.log("usageStatus",e.toLowerCase,"opening_balance_new",n,"usageAmount",a),this.openingBalance="usage"==e.toLowerCase()||"balance recharge"==e.toLowerCase()?parseInt(n)-a:parseInt(n)+a,this.closingBalance=t[t.length-1].balance}getDate(t){this.common.params={ref_page:"card usage"},this.modalService.open(y.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(e=>{this.dates[t]=this.common.dateFormatter(e.date).split(" ")[0],console.log("Date:",this.dates)})}getaddTimeFinancialTollReport(){if(this.openingBalance=0,this.closingBalance=0,this.data=[],console.log("mobile no",this.mobileno),this.mobileno){let t="&startDate="+this.dates.start+"&endDate="+this.dates.end+"&mobileno="+this.mobileno+"&vehid="+this.vehId;this.common.loading++,this.api.walle8Get("FinancialAccountSummary/getFinancialAccountSummaryAddTime.json?"+t).subscribe(t=>{this.common.loading--,console.log("Res:",t),t&&t.data&&t.data.length>0?(this.result=t.data,this.data=t.data,this.calculateAmount(this.data)):this.common.showError("data not found")},t=>{this.common.loading--,console.log(t)})}}selectFo(t){this.fo.id=t.foid,this.fo.name=t.name,this.fo.mobileNo=t.mobileno}getFoAgents(){let t=document.getElementById("agentFo").value;console.log("searvh ",t),this.api.walle8Get("Suggestion/getFoAgents.json?search="+t).subscribe(t=>{console.log("res",t),this.foAgents=t.data,console.log("-0-0-0",this.foAgents)},t=>{console.log(t)})}filterData(t){console.log("typedKey",this.typedKey),this.data=this.result.filter(t=>!this.typedKey||(console.log("ele",t),!!t.vehid&&t.vehid.toLowerCase().includes(this.typedKey))),console.log("data",this.data)}generatePDF(){let t=new $.a({orientation:"l",unit:"px",format:"a4"});t=this.setPdfHeader(t);let e=t.internal.getCurrentPageInfo().pageNumber;t.autoTable(this.getPdfTableConfig("provider",{right:330,left:30,top:20},null,70,140)),t.setPage(e),t.autoTable(this.getPdfTableConfig("customer",{left:330,right:30,top:20},null,70,140)),t.autoTable(this.getPdfTableConfig("account",{left:30,right:30,top:0},null,null,290)),t.autoTable(this.getPdfTableConfig("tblData",{left:30,right:30,top:0},this.setPdfPageFooter.bind(this,t))),t.save("financial-toll-summary.pdf")}setPdfHeader(t){t.setFontSize(12),t.setFontStyle("bold"),t.text(30,30,"eLogist Solutions Pvt. Ltd."),t.setFontSize(8),t.setFontStyle("normal"),t.text(30,39,"Address: 605-21, Jaipur Electronic Market,"),t.text(30,46,"Riddhi Siddhi Circle, Gopalpura Bypass, Jaipur, Rajasthan - 302018"),t.text(30,53,"Support: 8081604455"),t.text(30,60,"Website: www.walle8.com");let e=this.getImgTagToBase64("logo");return t.addImage(e,"PNG",550,15,40,40),t}setPdfPageFooter(t,e){t.setFont("times","bold"),t.setFontSize(10),t.text("Page "+e.pageCount,e.settings.margin.left,t.internal.pageSize.height-10),e.settings.margin.top=20}getPdfTableConfig(t,e,n,a,o=65){let l={html:"#"+t,theme:"grid",margin:e,rowPageBreak:"avoid",headStyles:{fillColor:[98,98,98],fontSize:10,halign:"center",valign:"middle"},styles:{fontSize:10,cellPadding:3,minCellHeight:11,minCellWidth:10,cellWidth:o,valign:"middle",halign:"center"},columnStyles:{text:{cellWidth:o,halign:"center",valign:"middle"}}};return a&&(l.startY=a),n&&(l.didDrawPage=n),l}getImgTagToBase64(t){let e=document.createElement("canvas"),n=document.getElementById(t);return e.height=n.naturalHeight,e.width=n.naturalWidth,e.getContext("2d").drawImage(n,0,0,e.width,e.height),e.toDataURL()}printCsv(t,e){let n=this.user._customer.name;"customer"==this.user._loggedInBy&&(n=this.user._details.name);let a=[{customer:"Customer : "+this.fo.name},{report:"Report : Financial Toll Summary (Add Time)"},{period:"Period : "+this.common.dateFormatter1(this.dates.start)+" To "+this.common.dateFormatter1(this.dates.end)},{time:"Time : "+this.datePipe.transform(new Date,"dd-MM-yyyy hh:mm:ss a")}];this.csvService.byMultiIds([e],"Financial Toll Summary",a)}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](p.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](i.a),o["\u0275\u0275directiveInject"](g.r),o["\u0275\u0275directiveInject"](x.f),o["\u0275\u0275directiveInject"](f.a))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["financial-toll-summary-addtime"]],decls:117,vars:18,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","10px",3,"click"],[1,"fas","fa-file-excel"],[1,"row","m-0","p-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["display","regno","placeholder","search vehicle","value","yes","aria-disabled","true",2,"width","60%",3,"ngModel","url","keyup","ngModelChange","onSelected"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],["id","financialaccount"],[2,"height","40px"],[1,"row"],[1,"col-6"],["src","http://elogist.in/transtruck/admindashboard/assets/images/left-logo.png","id","logo","crossorigin","anonymous",2,"width","150px","height","120px"],[1,"row",2,"margin-top","10px"],["id","provider",1,"table","table-bordered"],["colspan","2",1,"thead"],["id","customer",1,"table","table-bordered"],[1,"col-12"],["id","account",1,"table","table-bordered"],["class","row",4,"ngIf"],["id","tblData",1,"table","table-bordered"],[2,"background-color","#E5F3F9"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275elementStart"](2,"div",0),o["\u0275\u0275elementStart"](3,"div",1),o["\u0275\u0275elementStart"](4,"h5",2),o["\u0275\u0275text"](5,"Financial Toll Summary"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",3),o["\u0275\u0275elementStart"](7,"span",4),o["\u0275\u0275elementStart"](8,"span",5),o["\u0275\u0275listener"]("click",(function(){return e.generatePDF()})),o["\u0275\u0275element"](9,"i",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"span",7),o["\u0275\u0275listener"]("click",(function(){return e.printCsv("account","tblData")})),o["\u0275\u0275element"](11,"i",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"div",9),o["\u0275\u0275elementStart"](13,"div",10),o["\u0275\u0275elementStart"](14,"input",11),o["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),o["\u0275\u0275pipe"](15,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"div",12),o["\u0275\u0275elementStart"](17,"input",13),o["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),o["\u0275\u0275pipe"](18,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"div",12),o["\u0275\u0275elementStart"](20,"auto-suggestion",14),o["\u0275\u0275listener"]("keyup",(function(t){return e.filterData(t)}))("ngModelChange",(function(t){return e.typedKey=t}))("onSelected",(function(t){return e.selectVehicle(t)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](21,"div",12),o["\u0275\u0275elementStart"](22,"button",15),o["\u0275\u0275listener"]("click",(function(){return e.getaddTimeFinancialTollReport()})),o["\u0275\u0275text"](23,"Submit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](24,"nb-card-body",16),o["\u0275\u0275elementStart"](25,"div",17),o["\u0275\u0275element"](26,"div",18),o["\u0275\u0275elementStart"](27,"div",19),o["\u0275\u0275elementStart"](28,"div",20),o["\u0275\u0275elementStart"](29,"b"),o["\u0275\u0275text"](30,"eLogist Solutions Pvt. Ltd."),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](31,"br"),o["\u0275\u0275text"](32," Address: 605-21, Jaipur Electronic Market,"),o["\u0275\u0275element"](33,"br"),o["\u0275\u0275text"](34," Riddhi Siddhi Circle, Gopalpura Bypass, Jaipur, Rajasthan - 302018"),o["\u0275\u0275element"](35,"br"),o["\u0275\u0275text"](36," Support: 8081604455"),o["\u0275\u0275element"](37,"br"),o["\u0275\u0275text"](38," Website: www.walle8.com "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](39,"div",12),o["\u0275\u0275elementStart"](40,"div",12),o["\u0275\u0275element"](41,"img",21),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](42,"div",22),o["\u0275\u0275elementStart"](43,"div",20),o["\u0275\u0275elementStart"](44,"table",23),o["\u0275\u0275elementStart"](45,"thead"),o["\u0275\u0275elementStart"](46,"tr"),o["\u0275\u0275elementStart"](47,"th",24),o["\u0275\u0275text"](48,"Provider Details"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](49,"tbody"),o["\u0275\u0275elementStart"](50,"tr"),o["\u0275\u0275elementStart"](51,"td"),o["\u0275\u0275text"](52,"Provider Name"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](53,"td"),o["\u0275\u0275text"](54,"eLogist"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](55,"tr"),o["\u0275\u0275elementStart"](56,"td"),o["\u0275\u0275text"](57,"Provider Address"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](58,"td"),o["\u0275\u0275text"](59,"Jaipur"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](60,"tr"),o["\u0275\u0275elementStart"](61,"td"),o["\u0275\u0275text"](62,"GSTIN"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](63,"td"),o["\u0275\u0275text"](64,"08AAECE3933F1ZS"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](65,"tr"),o["\u0275\u0275elementStart"](66,"td"),o["\u0275\u0275text"](67,"Place Of Supply"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](68,"td"),o["\u0275\u0275text"](69,"Rajasthan"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](70,"div",20),o["\u0275\u0275elementStart"](71,"table",25),o["\u0275\u0275elementStart"](72,"thead"),o["\u0275\u0275elementStart"](73,"tr"),o["\u0275\u0275elementStart"](74,"th",24),o["\u0275\u0275text"](75,"Customer Details"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](76,"tbody"),o["\u0275\u0275elementStart"](77,"tr"),o["\u0275\u0275elementStart"](78,"td"),o["\u0275\u0275text"](79,"Customer Id"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](80,"td"),o["\u0275\u0275text"](81),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](82,"tr"),o["\u0275\u0275elementStart"](83,"td"),o["\u0275\u0275text"](84,"Name"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](85,"td"),o["\u0275\u0275text"](86),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](87,"tr"),o["\u0275\u0275elementStart"](88,"td"),o["\u0275\u0275text"](89,"Statement Date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](90,"td"),o["\u0275\u0275text"](91),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](92,"tr"),o["\u0275\u0275elementStart"](93,"td"),o["\u0275\u0275text"](94,"Statement Period"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](95,"td"),o["\u0275\u0275text"](96),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](97,"br"),o["\u0275\u0275elementStart"](98,"div",19),o["\u0275\u0275elementStart"](99,"div",26),o["\u0275\u0275elementStart"](100,"table",27),o["\u0275\u0275elementStart"](101,"thead"),o["\u0275\u0275elementStart"](102,"tr"),o["\u0275\u0275elementStart"](103,"th",24),o["\u0275\u0275text"](104,"Account Summary"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](105,"tbody"),o["\u0275\u0275elementStart"](106,"tr"),o["\u0275\u0275elementStart"](107,"td"),o["\u0275\u0275text"](108,"Opening Balance(Rs.)"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](109,"td"),o["\u0275\u0275text"](110,"Closing Balance(Rs.)"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](111,"tr"),o["\u0275\u0275elementStart"](112,"td"),o["\u0275\u0275text"](113),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](114,"td"),o["\u0275\u0275text"](115),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](116,at,25,1,"div",28),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](14),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](15,12,e.dates.start,"dd MMM yyyy")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](18,15,e.dates.end,"dd MMM yyyy")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngModel",e.typedKey)("url","Suggestion/getFoVehicleList.json?foid="+e.foid),o["\u0275\u0275advance"](61),o["\u0275\u0275textInterpolate"](e.foid),o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate"](e.fo.name),o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate"](e.dates.currentdate),o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate2"]("",e.dates.start," To ",e.dates.end,""),o["\u0275\u0275advance"](17),o["\u0275\u0275textInterpolate"](e.openingBalance),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.closingBalance),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.data.length>0))},directives:[c.s,c.v,tt.a,et.r,et.u,c.r,x.u,x.t],pipes:[x.f],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#5bbe88}.thead[_ngcontent-%COMP%]{background-color:#e5f3f9;color:#000}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),t})();function lt(t,e){if(1&t&&o["\u0275\u0275element"](0,"smart-table",17),2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("data",t.table.data)("settings",t.table.settings)}}let rt=(()=>{class t{constructor(t,e,n,a,o,l){this.api=t,this.pdfService=e,this.csvService=n,this.common=a,this.user=o,this.modalService=l,this.dates={start:null,end:this.common.dateFormatter(new Date)},this.table=null,this.data=[],this.mobileNo=null,console.log("this.user._customer",this.user._customer),this.dates.start=this.common.dateFormatter1(new Date((new Date).setDate((new Date).getDate()-30))),this.getfinancialMainSummary(),this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.getfinancialMainSummary()}getDate(t){this.common.params={ref_page:"card usage"},this.modalService.open(y.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(e=>{this.dates[t]=this.common.dateFormatter(e.date).split(" ")[0],console.log("Date:",this.dates)})}setTable(){return{data:{headings:{vehid:{title:"Vehicle",placeholder:"Vehicle"},transtime:{title:"Transaction Time",placeholder:"Transaction Time"},remark:{title:"Remark",placeholder:"Remark"},amount:{title:"Amount",placeholder:"Amount"},balance:{title:"Balance",placeholder:"Balance"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}}getTableColumns(){let t=[];return this.data.map(e=>{let n={vehid:{value:e.vehid},transtime:{value:this.common.changeDateformat4(e.transtime)},remark:{value:null==e.remark?"-":e.remark},amount:{value:null==e.amount?"-":e.amount},balance:{value:null==e.balance?"-":e.balance}};t.push(n)}),t}getfinancialMainSummary(){let t=this.user._customer.mobileNo;"customer"==this.user._loggedInBy&&(t=this.user._details.mobileNo);let e="startDate="+this.dates.start+"&endDate="+this.dates.end+"&mobileno="+t;this.common.loading++,this.api.walle8Get("FinancialAccountSummary/getFinancialAccountMainSummary.json?"+e).subscribe(t=>{if(this.common.loading--,console.log("Res:",t),this.data=t.data,null==this.data)return this.data=[],void(this.table=null);this.table=this.setTable()},t=>{this.common.loading--,console.log(t)})}printPDF(){let t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t);let e=[["Name: "+t,"Start Date: "+this.common.dateFormatter1(this.dates.start),"End Date: "+this.common.dateFormatter1(this.dates.end),"Report: Financial-Main-Summary"]];this.pdfService.jrxTablesPDF(["FinancialReport"],"financial-main-summary",e)}printCSV(){let t=[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),startdate:"Start Date:"+this.common.dateFormatter1(this.dates.start),enddate:"End Date:"+this.common.dateFormatter1(this.dates.end),report:"Report:Financial-Main-Summary"}];this.csvService.byMultiIds(["FinancialReport"],"financial-main-summary",t)}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](p.a),o["\u0275\u0275directiveInject"](b.a),o["\u0275\u0275directiveInject"](f.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](i.a),o["\u0275\u0275directiveInject"](g.r))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["financial-main-summary"]],decls:24,vars:9,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[1,"row","m-0","p-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],["id","FinancialReport",3,"data","settings",4,"ngIf"],["id","FinancialReport",3,"data","settings"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275elementStart"](2,"div",0),o["\u0275\u0275elementStart"](3,"div",1),o["\u0275\u0275elementStart"](4,"h5",2),o["\u0275\u0275text"](5,"Financial Main Summary"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",3),o["\u0275\u0275elementStart"](7,"span",4),o["\u0275\u0275elementStart"](8,"span",5),o["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),o["\u0275\u0275element"](9,"i",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"span",7),o["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),o["\u0275\u0275element"](11,"i",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"div",9),o["\u0275\u0275elementStart"](13,"div",10),o["\u0275\u0275elementStart"](14,"input",11),o["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),o["\u0275\u0275pipe"](15,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"div",12),o["\u0275\u0275elementStart"](17,"input",13),o["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),o["\u0275\u0275pipe"](18,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"div",12),o["\u0275\u0275elementStart"](20,"button",14),o["\u0275\u0275listener"]("click",(function(){return e.getfinancialMainSummary()})),o["\u0275\u0275text"](21,"Submit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"nb-card-body",15),o["\u0275\u0275template"](23,lt,1,2,"smart-table",16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](14),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](15,3,e.dates.start,"dd MMM yyyy")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](18,6,e.dates.end,"dd MMM yyyy")),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngIf",e.data.length))},directives:[c.s,c.v,c.r,x.u,C.a],pipes:[x.f],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),t})();var it=n("z+eI");function dt(t,e){if(1&t&&o["\u0275\u0275element"](0,"chart",16),2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("type",t.chartObject.type)("data",t.chartObject.data)("options",t.chartObject.options)}}function st(t,e){if(1&t&&o["\u0275\u0275element"](0,"chart",17),2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("type",t.chartObject1.type)("data",t.chartObject1.data)("options",t.chartObject1.options)}}let ct=(()=>{class t{constructor(t,e,n,a,o,l){this.api=t,this.common=e,this.theme=n,this.user=a,this.datepipe=o,this.modalService=l,this.chartObject={type:"",data:{},options:{},elements:{},lables:[],yAxes:[],ticks:{},min:"",max:"",stepSize:""},this.chartObject1={type:"",data:{},options:{},elements:{},lables:[],yAxes:[],ticks:{},min:"",max:"",stepSize:"",backgroundColor:""},this.chartObject2={type:"",data:{},options:{},elements:{},lables:[],yAxes:[],ticks:{},min:"",max:"",stepSize:"",startAngle:"",backgroundColor:""},this.zone=[],this.amounts=[],this.showGraph=!1,this.amount=[],this.date=[],this.flag="Loading",this.bgColor="#0000FF",this.yScale="Hours",this.dates={start:null,end:null},this.data=[],this.data1=[],this.remark=[],this.amt=[],this.type="line",this.datax={labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",data:[65,59,80,81,56,55,40]}]},this.options={responsive:!0,maintainAspectRatio:!1};let r=new Date,i="",d="";d=this.common.dateFormatter1(new Date(r.getFullYear(),r.getMonth()-12,1,0,0,0)),i=this.common.dateFormatter1(new Date(r.getFullYear(),r.getMonth(),1,0,0,0)),this.dates.start=d,this.dates.end=i,this.getTollAnalatics(),this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.getTollAnalatics()}getDate(t){this.common.params={ref_page:"card usage"},this.modalService.open(y.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(e=>{this.dates[t]=this.common.dateFormatter(e.date).split(" ")[0],console.log("Date:",this.dates)})}showChart(){this.chartObject.type="line",this.chartObject.data={labels:this.date,datasets:[{label:"Toll Consumption",percentFormatString:"#0.##",borderColor:this.bgColor,data:this.amount,fill:!1,pointHoverRadius:8,pointHoverBackgroundColor:"#0000FF",lineTension:0}]},this.chartObject.options={responsive:!0,maintainAspectRatio:!1},console.log("This:",this.chartObject)}showbarGraph(){this.chartObject1.type="horizontalBar",this.chartObject1.data={labels:this.remark,datasets:[{label:"Top Toll Plaza",data:this.amt,fill:!1,pointHoverRadius:8,pointHoverBackgroundColor:"#0000FF",backgroundColor:this.bgColor}]},this.chartObject1.options={responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{display:!1}]}},console.log("This:",this.chartObject)}showdoughnut(){this.chartObject2.type="doughnut",this.chartObject2.data={labels:this.zone,percentFormatString:"#0.##",datasets:[{label:"Zones",percentFormatString:"#0.##",render:"percentage",data:this.amounts,backgroundColor:["#0074D9","#FF4136","#2ECC40","#39CCCC","#01FF70","#85144b","#F012BE","#3D9970","#111111","#AAAAAA"]}]},this.chartObject2.options={responsive:!0,render:"percentage",percentFormatString:"#0.##",maintainAspectRatio:!1},console.log("This:",this.chartObject)}getTollAnalatics(){let t="startDate="+this.dates.start+"&endDate="+this.dates.end;this.common.loading++,this.api.walle8Get("TollSummary/getTollAnalytics.json?"+t).subscribe(t=>{if(this.common.loading--,console.log("Res:",t.data),this.data=t.data,t.data){this.amount=[],this.date=[];for(let t=0;t<this.data.length;t++)this.amount.push(this.data[t].amt),this.common.changeDateformat(this.date.push(this.data[t].transtime))}this.showChart()},t=>{this.common.loading--,console.log(t)});let e="startDate="+this.dates.start+"&endDate="+this.dates.end+"&type=1";this.common.loading++,this.api.walle8Get("TollSummary/getTollAnalytics.json?"+e).subscribe(t=>{if(this.common.loading--,console.log("Res:",t.data),this.data=t.data,t.data){this.amt=[],this.remark=[];for(let t=0;t<this.data.length;t++)this.amt.push(this.data[t].amount),this.remark.push(this.data[t].remark)}this.showbarGraph()},t=>{this.common.loading--,console.log(t)});let n="startDate="+this.dates.start+"&endDate="+this.dates.end+"&type=2";this.common.loading++,this.api.walle8Get("TollSummary/getTollAnalytics.json?"+n).subscribe(t=>{if(this.common.loading--,console.log("Res:",t.data),this.data1=t.data,t.data){this.zone=[],this.amounts=[];for(let t=0;t<this.data1.length;t++)this.zone.push(this.data1[t].zone?this.data1[t].zone:"N.A"),this.amounts.push(this.data1[t].amount),console.log("zone",this.zone,"",this.amounts)}this.showdoughnut()},t=>{this.common.loading--,console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](p.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](c.Kb),o["\u0275\u0275directiveInject"](i.a),o["\u0275\u0275directiveInject"](x.f),o["\u0275\u0275directiveInject"](g.r))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["toll-analatics"]],decls:31,vars:13,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"row","m-0","pt-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],[1,"row"],[1,"col-sm-11"],["style","margin-right:5px;min-height: 200px;",3,"type","data","options",4,"ngIf"],[1,"col-sm-12"],[1,"col-sm-6"],["class","chart chart-horizontal-bar","style","margin-right:5px;min-height: 200px;",3,"type","data","options",4,"ngIf"],[2,"margin-right","5px","min-height","200px",3,"type","data","options"],[1,"chart","chart-horizontal-bar",2,"margin-right","5px","min-height","200px",3,"type","data","options"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275elementStart"](2,"div",0),o["\u0275\u0275elementStart"](3,"div",1),o["\u0275\u0275elementStart"](4,"h5",2),o["\u0275\u0275text"](5,"Toll Analytics"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",3),o["\u0275\u0275elementStart"](7,"div",4),o["\u0275\u0275elementStart"](8,"input",5),o["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),o["\u0275\u0275pipe"](9,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"div",6),o["\u0275\u0275elementStart"](11,"input",7),o["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),o["\u0275\u0275pipe"](12,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"div",6),o["\u0275\u0275elementStart"](14,"button",8),o["\u0275\u0275listener"]("click",(function(){return e.getTollAnalatics()})),o["\u0275\u0275text"](15,"Submit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"nb-card-body",9),o["\u0275\u0275elementStart"](17,"div",10),o["\u0275\u0275elementStart"](18,"div",11),o["\u0275\u0275elementStart"](19,"label"),o["\u0275\u0275text"](20,"Toll Consumption"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](21,"div",11),o["\u0275\u0275template"](22,dt,1,3,"chart",12),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](23,"div",10),o["\u0275\u0275elementStart"](24,"div",13),o["\u0275\u0275elementStart"](25,"label"),o["\u0275\u0275text"](26,"Top Toll"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](27,"div",14),o["\u0275\u0275template"](28,st,1,3,"chart",15),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](29,"div",14),o["\u0275\u0275element"](30,"chart",16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](8),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](9,7,e.dates.start,"dd MMM yyyy")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](12,10,e.dates.end,"dd MMM yyyy")),o["\u0275\u0275advance"](11),o["\u0275\u0275property"]("ngIf",e.chartObject.type),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngIf",e.chartObject1.type),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("type",e.chartObject2.type)("data",e.chartObject2.data)("options",e.chartObject2.options))},directives:[c.s,c.v,c.r,x.u,it.ChartComponent],pipes:[x.f],styles:[""]}),t})();function mt(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"tr"),o["\u0275\u0275elementStart"](1,"td",20),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"td"),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"td"),o["\u0275\u0275text"](6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"td"),o["\u0275\u0275text"](8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"td"),o["\u0275\u0275text"](10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit,n=e.index,a=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](n+1),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](a.common.changeDateformat4(t.dttime)),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.veh),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.amt),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.rema)}}function ht(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"table",17),o["\u0275\u0275elementStart"](1,"thead",18),o["\u0275\u0275elementStart"](2,"tr"),o["\u0275\u0275elementStart"](3,"th"),o["\u0275\u0275text"](4,"#"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"th"),o["\u0275\u0275text"](6,"Date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"th"),o["\u0275\u0275text"](8,"Vehicle"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"th"),o["\u0275\u0275text"](10,"Amount"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"th"),o["\u0275\u0275text"](12,"Remark"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"tbody"),o["\u0275\u0275template"](14,mt,11,5,"tr",19),o["\u0275\u0275elementStart"](15,"tr"),o["\u0275\u0275element"](16,"td"),o["\u0275\u0275element"](17,"td"),o["\u0275\u0275elementStart"](18,"td"),o["\u0275\u0275text"](19,"Total"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](20,"td"),o["\u0275\u0275text"](21),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](22,"td"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](14),o["\u0275\u0275property"]("ngForOf",t.data),o["\u0275\u0275advance"](7),o["\u0275\u0275textInterpolate"](t.total)}}let pt=(()=>{class t{constructor(t,e,n,a,o,l){this.common=t,this.pdfService=e,this.csvService=n,this.api=a,this.modalService=o,this.user=l,this.data=[],this.dates={start:null,end:this.common.dateFormatter(new Date)},this.total=null,this.table=null,this.dates.start=this.common.dateFormatter1(new Date((new Date).setDate((new Date).getDate()-30))),this.getOtherUsageDetail(),this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.getOtherUsageDetail()}getOtherUsageDetail(){let t="aduserid="+this.user._details.id+"&mobileno="+this.user._details.fo_mobileno+"&startdate="+this.dates.start+"&enddate="+this.dates.end;this.common.loading++,this.api.walle8Get("AccountSummaryApi/ViewOtherUsages.json?"+t).subscribe(t=>{this.common.loading--,console.log("Res:",t),this.data=t.data,null==this.data&&this.common.showToast("no Data Found");for(let e=0;e<this.data.length;e++)this.total=this.total+this.data[e].amt},t=>{this.common.loading--,console.log(t)})}getDate(t){this.common.params={ref_page:"other-usage"},this.modalService.open(y.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(e=>{e.date&&(this.dates[t]=this.common.dateFormatter(e.date).split(" ")[0],console.log("Date:",this.dates[t]))})}printPDF(){let t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t);let e=[["Name: "+t,"Start Date: "+this.common.dateFormatter1(this.dates.start),"End Date: "+this.common.dateFormatter1(this.dates.end),"Report: Other-Usage"]];this.pdfService.jrxTablesPDF(["otherUsage"],"other-usage",e)}printCSV(){let t=[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),startdate:"Start Date:"+this.common.dateFormatter1(this.dates.start),enddate:"End Date:"+this.common.dateFormatter1(this.dates.end),report:"Report:Other-Usage"}];this.csvService.byMultiIds(["otherUsage"],"other-usage",t)}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](b.a),o["\u0275\u0275directiveInject"](f.a),o["\u0275\u0275directiveInject"](p.a),o["\u0275\u0275directiveInject"](g.r),o["\u0275\u0275directiveInject"](i.a))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["other-usage"]],decls:24,vars:9,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[1,"row","m-0","p-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],["class","table table-bordered table-hover","id","otherUsage",4,"ngIf"],["id","otherUsage",1,"table","table-bordered","table-hover"],[1,"thead"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275elementStart"](2,"div",0),o["\u0275\u0275elementStart"](3,"div",1),o["\u0275\u0275elementStart"](4,"h5",2),o["\u0275\u0275text"](5,"Other Usage"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",3),o["\u0275\u0275elementStart"](7,"span",4),o["\u0275\u0275elementStart"](8,"span",5),o["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),o["\u0275\u0275element"](9,"i",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"span",7),o["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),o["\u0275\u0275element"](11,"i",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"div",9),o["\u0275\u0275elementStart"](13,"div",10),o["\u0275\u0275elementStart"](14,"input",11),o["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),o["\u0275\u0275pipe"](15,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"div",12),o["\u0275\u0275elementStart"](17,"input",13),o["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),o["\u0275\u0275pipe"](18,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"div",12),o["\u0275\u0275elementStart"](20,"button",14),o["\u0275\u0275listener"]("click",(function(){return e.getOtherUsageDetail()})),o["\u0275\u0275text"](21,"Submit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"nb-card-body",15),o["\u0275\u0275template"](23,ht,23,2,"table",16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](14),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](15,3,e.dates.start,"dd MMM yyyy")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind2"](18,6,e.dates.end,"dd MMM yyyy")),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngIf",e.data.length))},directives:[c.s,c.v,c.r,x.u,x.t],pipes:[x.f],styles:["nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}.btn-primary[_ngcontent-%COMP%]{padding:6px 15px;border-radius:3px}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#ddd}.pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#e5f3f9;color:#000}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:50px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:278px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:278px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#e4e4e4}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}[_nghost-%COMP%]     thead{border-top-left-radius:5px;border-top-right-radius:5px}"]}),t})();function gt(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"tr"),o["\u0275\u0275elementStart"](1,"td",16),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"td"),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"td",12),o["\u0275\u0275text"](6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"td",12),o["\u0275\u0275text"](8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"td",12),o["\u0275\u0275text"](10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"td",12),o["\u0275\u0275text"](12),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit,n=e.index;o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](n+1),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.vehicle),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.bpcl),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.hpcl),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.atm),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.tolls)}}function ut(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"tbody",17),o["\u0275\u0275elementStart"](1,"tr"),o["\u0275\u0275element"](2,"td"),o["\u0275\u0275elementStart"](3,"td"),o["\u0275\u0275text"](4," Subtotal"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"td",18),o["\u0275\u0275text"](6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"td",19),o["\u0275\u0275text"](8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"td",20),o["\u0275\u0275text"](10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](6),o["\u0275\u0275textInterpolate"](t.sum.bpcl),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.sum.hpcl),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.sum.atm)}}function bt(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"tbody",21),o["\u0275\u0275elementStart"](1,"tr"),o["\u0275\u0275element"](2,"td"),o["\u0275\u0275elementStart"](3,"td"),o["\u0275\u0275text"](4,"Total"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"td",22),o["\u0275\u0275text"](6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](6),o["\u0275\u0275textInterpolate"](t.total)}}let ft=(()=>{class t{constructor(t,e,n,a,o,l){this.common=t,this.pdfService=e,this.csvService=n,this.api=a,this.modalService=o,this.user=l,this.data=[],this.total=0,this.sum={bpcl:0,hpcl:0,atm:0},this.vehicle=[{}],this.mobileno=this.user._details.mobileno,this.userId=this.user._details.id,this.dates={start:this.common.dateFormatter(new Date),end:this.common.dateFormatter(new Date)},this.table=null,this.common.refresh=this.refresh.bind(this),console.log("Detailsssss:",this.user._details),this.getCardBalance()}ngOnInit(){}refresh(){this.getCardBalance()}getDate(t){this.common.params={ref_page:"card usage"},this.modalService.open(y.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(e=>{this.dates[t]=this.common.dateFormatter(e.date).split(" ")[0],console.log("Date:",this.dates)})}getCardBalance(){let t="aduserid="+this.user._details.id+"&mobileno="+this.user._details.fo_mobileno+"&startdate="+this.dates.start+"&enddate="+this.dates.end;console.log("api hit"),this.common.loading++,this.api.walle8Get("AccountSummaryApi/ViewCardBalance.json?"+t).subscribe(t=>{this.common.loading--,console.log("Res:",t),this.data=t.data;for(let e=0;e<this.data.length;e++)this.sum.bpcl=this.sum.bpcl+this.data[e].bpcl,this.sum.hpcl=this.sum.hpcl+this.data[e].hpcl,this.sum.atm=this.sum.atm+this.data[e].atm,console.log("............",this.sum);this.total=this.total+this.sum.bpcl+this.sum.hpcl+this.sum.atm,console.log("card",this.total)},t=>{this.common.loading--,console.log(t)})}printPDF(){let t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t),this.pdfService.jrxTablesPDF(["cardBalance"],"card-balance",[["Name: "+t,"Report: Card-Balance"]])}printCSV(){this.csvService.byMultiIds(["cardBalance"],"card-balance",[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),report:"Report:Card-Balance"}])}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](b.a),o["\u0275\u0275directiveInject"](f.a),o["\u0275\u0275directiveInject"](p.a),o["\u0275\u0275directiveInject"](g.r),o["\u0275\u0275directiveInject"](i.a))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["card-balance"]],decls:33,vars:3,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[2,"width","96%","margin-left","2%"],["id","cardBalance",1,"table","table-bordered","table-hover"],[1,"thead"],[2,"text-align","center"],[4,"ngFor","ngForOf"],["class","tbody-two",4,"ngIf"],["class","tbody-three",4,"ngIf"],["scope","row"],[1,"tbody-two"],[2,"text-align","center","padding-right","12px"],[2,"text-align","center","padding-right","10px"],[2,"text-align","center","padding-right","171px"],[1,"tbody-three"],[2,"padding-left","121px!important"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275elementStart"](2,"div",0),o["\u0275\u0275elementStart"](3,"div",1),o["\u0275\u0275elementStart"](4,"h5",2),o["\u0275\u0275text"](5,"Card Balance"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",3),o["\u0275\u0275elementStart"](7,"span",4),o["\u0275\u0275elementStart"](8,"span",5),o["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),o["\u0275\u0275element"](9,"i",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"span",7),o["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),o["\u0275\u0275element"](11,"i",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"nb-card-body",9),o["\u0275\u0275elementStart"](13,"div"),o["\u0275\u0275elementStart"](14,"table",10),o["\u0275\u0275elementStart"](15,"thead",11),o["\u0275\u0275elementStart"](16,"tr"),o["\u0275\u0275elementStart"](17,"th"),o["\u0275\u0275text"](18,"#"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"th"),o["\u0275\u0275text"](20,"Vehicle"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](21,"th",12),o["\u0275\u0275text"](22,"BPCL"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](23,"th",12),o["\u0275\u0275text"](24,"HPCL"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](25,"th",12),o["\u0275\u0275text"](26,"ATM"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](27,"th",12),o["\u0275\u0275text"](28,"Tolls"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](29,"tbody"),o["\u0275\u0275template"](30,gt,13,6,"tr",13),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](31,ut,11,3,"tbody",14),o["\u0275\u0275template"](32,bt,7,1,"tbody",15),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](30),o["\u0275\u0275property"]("ngForOf",e.data),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.data.length),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.data.length))},directives:[c.s,c.v,c.r,x.t,x.u],styles:["nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}.pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:left;padding:4px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#ddd}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:50px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:250px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:50px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:250px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#e4e4e4}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}.tbody-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{color:#000;background-color:#d3d3d3!important}.tbody-three[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{color:#000;background-color:#a9a9a9!important}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}[_nghost-%COMP%]     table thead{background:#e5f3f9!important;color:#000!important;border-top-left-radius:5px!important;border-top-right-radius:5px!important}"]}),t})();var xt=n("UTcu"),Ct=n("mNmA");const _t=[{path:"",component:m,children:[{path:"",component:u},{path:"card-mapping",component:S,canActivate:[xt.a,Ct.b]},{path:"card-usage",component:P,canActivate:[xt.a,Ct.b]},{path:"payments-made",component:w,canActivate:[xt.a,Ct.b]},{path:"latest-recharge",component:T,canActivate:[xt.a,Ct.b]},{path:"toll-usage-summary",component:B,canActivate:[xt.a,Ct.b]},{path:"toll-discount",component:H,canActivate:[xt.a,Ct.b]},{path:"toll-usage",component:G,canActivate:[xt.a,Ct.b]},{path:"toll-setteled-request",component:q,canActivate:[xt.a,Ct.b]},{path:"current-tag-balance",component:L,canActivate:[xt.a,Ct.b]},{path:"double-toll-report",component:W,canActivate:[xt.a,Ct.b]},{path:"financial-toll-summary",component:J,canActivate:[xt.a,Ct.b]},{path:"financial-toll-summary-addtime",component:ot,canActivate:[xt.a,Ct.b]},{path:"financial-main-summary",component:rt,canActivate:[xt.a,Ct.b]},{path:"toll-analatics",component:ct,canActivate:[xt.a,Ct.b]},{path:"other-usage",component:pt,canActivate:[xt.a,Ct.b]},{path:"card-balance",component:ft,canActivate:[xt.a,Ct.b]}]}];let St=(()=>{class t{}return t.\u0275mod=o["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[d.g.forChild(_t)],d.g]}),t})(),yt=(()=>{class t{}return t.\u0275mod=o["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[x.f],imports:[[St,a.a,l,r.a,it.ChartModule]]}),t})()}}]);