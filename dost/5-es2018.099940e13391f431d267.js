(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"7tAi":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o=n("8Y7J"),r=n("OlR4"),a=n("SVse");function i(t,e){if(1&t){const t=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",5),o["\u0275\u0275elementStart"](1,"button",10),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](t);const n=e.$implicit;return o["\u0275\u0275nextContext"](2).selectMonth(n)})),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit,n=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngClass",n.selectedMonth.id==t.id&&n.theYear===n.selectedYear?"month-btn-active":"")("disabled",n.currentYear===n.theYear&&n.currentMonth<t.id),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](t.name)}}function c(t,e){if(1&t){const t=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",3),o["\u0275\u0275elementStart"](1,"div",4),o["\u0275\u0275elementStart"](2,"div",5),o["\u0275\u0275elementStart"](3,"i",6),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](t);const e=o["\u0275\u0275nextContext"]();return e.theYear=e.theYear-1})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"div",5),o["\u0275\u0275text"](5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",5),o["\u0275\u0275elementStart"](7,"i",7),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](t);const e=o["\u0275\u0275nextContext"]();return e.currentYear!==e.theYear&&(e.theYear=e.theYear+1)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"div",8),o["\u0275\u0275template"](9,i,3,3,"div",9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate1"](" ",t.theYear," "),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngForOf",t.months)}}let l=(()=>{class t{constructor(t){this.common=t,this.select=new o.EventEmitter,this.months=[{name:"JAN",id:"01"},{name:"FEB",id:"02"},{name:"March",id:"03"},{name:"APRIL",id:"04"},{name:"MAY",id:"05"},{name:"JUN",id:"06"},{name:"JULY",id:"07"},{name:"AUG",id:"08"},{name:"SEPT",id:"09"},{name:"OCT",id:"10"},{name:"NOV",id:"11"},{name:"DEC",id:"12"}],this.theYear=(new Date).getFullYear(),this.currentYear=(new Date).getFullYear(),this.currentMonth=((new Date).getMonth()<9?"0":"")+((new Date).getMonth()+1),this.selectedYear=(new Date).getFullYear(),this.selectedMonth={name:"",id:""},this.isVisible=!1,this.months.forEach(t=>{t.id==this.currentMonth&&(this.selectedMonth=t)}),setTimeout(this.selectMonth.bind(this,this.selectedMonth),500)}ngOnInit(){}selectMonth(t){this.selectedMonth=t,this.selectedYear=this.theYear;let e=(new Date).getMonth(),n="",o=`${this.selectedYear}-${t.id}-01`;n=this.common.dateFormatter(e+1==t.id?new Date:new Date(this.selectedYear,t.id,0),"",!1),this.isVisible=!1,this.select.emit({start:o,end:n})}resetData(){this.selectedMonth={name:"",id:""}}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](r.a))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["month-picker"]],outputs:{select:"select"},decls:4,vars:2,consts:[[1,"month-picker"],["type","text","name","month","readonly","",1,"form-control",3,"value","click"],["class","month-list",4,"ngIf"],[1,"month-list"],[1,"row","text-center","year-container"],[1,"col-4"],[1,"fa","fa-angle-double-left",3,"click"],[1,"fa","fa-angle-double-right",3,"click"],[1,"row","p-0","m-0"],["class","col-4",4,"ngFor","ngForOf"],[1,"btn","month-btn",3,"ngClass","disabled","click"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div"),o["\u0275\u0275elementStart"](2,"input",1),o["\u0275\u0275listener"]("click",(function(){return e.isVisible=!e.isVisible})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](3,c,10,2,"div",2),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("value",e.selectedMonth.name+" - "+e.selectedYear),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.isVisible))},directives:[a.u,a.t,a.r],styles:[".month-list[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;-webkit-box-shadow:2px 10px 10px #ccc;box-shadow:2px 10px 10px #ccc;border:1px solid #ccc;position:absolute;z-index:9999;width:300px}.month-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;border-radius:3px;border:0;margin-bottom:10px}.month-btn[_ngcontent-%COMP%]{background:#fff;color:#000;font-family:Exo;padding:0;line-height:30px}.month-btn[_ngcontent-%COMP%]:hover{background:#f2f2f2;color:#000}.month-btn-active[_ngcontent-%COMP%]{background:teal;color:#fff}.year-container[_ngcontent-%COMP%]{margin-bottom:5px;font-size:18px}"]}),t})()},"9M6I":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n("OlR4"),r=n("H+bZ"),a=n("hWXD"),i=n("8Y7J"),c=n("G0yt"),l=n("tKwJ"),d=n("SVse");function s(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"th",9),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](n.formatTitle(t))}}function g(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275elementStart"](1,"i",11),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](t);const e=i["\u0275\u0275nextContext"]().$implicit,n=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](2).fetchDocumentData(n,e,n[e])})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function b(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]().$implicit,e=i["\u0275\u0275nextContext"]().$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n.formatTitle(e[t])," ")}}function p(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275elementStart"](1,"i",12),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](t);const e=i["\u0275\u0275nextContext"]().$implicit,n=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](2).uploadDoc(n,e,n[e])})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function m(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"td",9),i["\u0275\u0275template"](1,g,2,0,"span",8),i["\u0275\u0275template"](2,b,2,1,"span",8),i["\u0275\u0275template"](3,p,2,0,"span",8),i["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit,n=i["\u0275\u0275nextContext"]().$implicit,o=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","driver_name"!=t&&o.getDocumentType(n[t])>0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null!=n[t]&&"driver_name"==t),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","driver_name"!=t&&"driver_name"!=t&&0==o.getDocumentType(n[t]))}}function h(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",5),i["\u0275\u0275elementStart"](2,"span"),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,m,4,3,"td",6),i["\u0275\u0275elementEnd"]()),2&t){const t=e.index,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](t+1),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",n.columns)}}function f(t,e){if(1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,h,5,2,"tr",10),i["\u0275\u0275elementContainerEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.data)}}let u=(()=>{class t{constructor(t,e,n){this.common=t,this.api=e,this.modalService=n,this.data=[],this.docdata=[],this.columns=[],this.vehicle_info=[],this.total_recs=0,this.common.refresh=this.refresh.bind(this),this.getDocumentData()}ngOnInit(){}refresh(){this.getDocumentData()}getDocumentData(){this.data=[],this.docdata=[],this.columns=[],this.vehicle_info=[],this.common.loading++,this.api.get("Drivers/getDriverDocWrtFo").subscribe(t=>{if(this.common.loading--,console.log("data",t),this.data=t.data,this.total_recs=this.data.length,this.data.length){for(var e in this.data[0])"_"!=e.charAt(0)&&this.columns.push(e);console.log("columns"),console.log(this.columns)}},t=>{this.common.loading--,console.log(t)})}formatTitle(t){return t.indexOf("_")>0?t.toLowerCase().split("_").map(t=>t[0].toUpperCase()+t.slice(1)).join(" "):t.charAt(0).toUpperCase()+t.substr(1)}uploadDoc(t,e,n){this.common.params={row:t,col:n},this.modalService.open(a.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(t=>{t.response&&this.getDocumentData()})}fetchDocumentData(t,e,n){console.log("col",n),this.common.params={row:t,col:n},this.modalService.open(a.a,{size:"lg",container:"nb-layout",backdrop:"static"})}getDocumentType(t){return t?t.indexOf("_")>-1?t.split("_")[1]:99:0}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](o.a),i["\u0275\u0275directiveInject"](r.a),i["\u0275\u0275directiveInject"](c.r))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["driver-document"]],decls:15,vars:2,consts:[[2,"min-height","360px"],[1,"document-dash-contnet"],[1,"row","col-sm-12"],["id","tbldocs",1,"table","table-bordered","table-hover","table-scroll"],[1,"thead"],[2,"width","40px"],["class","text-center",4,"ngFor","ngForOf"],[1,""],[4,"ngIf"],[1,"text-center"],[4,"ngFor","ngForOf"],["title","upload",1,"fa","fa-check","icon-green",3,"click"],["title","No Record",1,"fa","fa-times-circle","icon-red-cross",3,"click"]],template:function(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"nb-card"),i["\u0275\u0275elementStart"](1,"nb-card-header"),i["\u0275\u0275elementStart"](2,"h5"),i["\u0275\u0275text"](3,"Driver Document"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"nb-card-body",0),i["\u0275\u0275elementStart"](5,"div",1),i["\u0275\u0275elementStart"](6,"div",2),i["\u0275\u0275elementStart"](7,"table",3),i["\u0275\u0275elementStart"](8,"thead",4),i["\u0275\u0275elementStart"](9,"tr"),i["\u0275\u0275elementStart"](10,"th",5),i["\u0275\u0275text"](11,"SN"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](12,s,2,1,"th",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"tbody",7),i["\u0275\u0275template"](14,f,2,1,"ng-container",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&t&&(i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngForOf",e.columns),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.total_recs))},directives:[l.s,l.v,l.r,d.t,d.u],styles:[".center[_ngcontent-%COMP%]{text-align:center}.icon-img[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%}.icon-black[_ngcontent-%COMP%]{color:#000}.icon-black[_ngcontent-%COMP%], .icon-red[_ngcontent-%COMP%]{font-size:24px;cursor:pointer}.icon-red[_ngcontent-%COMP%]{color:red}.icon-green[_ngcontent-%COMP%]{color:green}.icon-green[_ngcontent-%COMP%], .icon-yellow[_ngcontent-%COMP%]{font-size:24px;cursor:pointer}.icon-yellow[_ngcontent-%COMP%]{color:#ff0}.icon-red-cross[_ngcontent-%COMP%]{color:red;font-size:24px;cursor:arrow}.i-black[_ngcontent-%COMP%]{color:#000;font-size:24px}.i-red[_ngcontent-%COMP%]{color:red;font-size:24px}.i-green[_ngcontent-%COMP%]{color:green;font-size:24px}.i-yellow[_ngcontent-%COMP%]{color:#ff0;font-size:24px}.i-red-cross[_ngcontent-%COMP%]{color:red;font-size:24px}.btn-all[_ngcontent-%COMP%]{padding-top:13px}span.mgn-lt[_ngcontent-%COMP%]{margin-left:15px}.pdg-ltrt-none[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.idx-fld[_ngcontent-%COMP%]{width:40px}.cls-hide[_ngcontent-%COMP%]{display:none!important}.description[_ngcontent-%COMP%]{width:95%!important;margin:0!important}#tbldocs[_ngcontent-%COMP%]{counter-reset:rowNumber}table#tbldocs[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{counter-increment:rowNumber}.select_cat_tabel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative}.document-heading_box[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0}.document-heading_box[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;position:relative;padding:10px;width:100%;text-align:center}.document-heading_box[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{vertical-align:middle;margin-right:5px}.document-heading_box[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;margin:0;left:0;z-index:99;opacity:0;cursor:pointer}.document-heading_box[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:transparent}.document-heading_box[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.075)}nb-card-header[_ngcontent-%COMP%]{padding:15px 20px;border:1px solid #efefef;margin-bottom:10px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 8px;font-weight:400;width:170px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:30px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 8px!important;font-size:12px;position:relative}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;overflow:auto;max-height:calc(100vh - 220px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:30px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:170px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px;text-transform:capitalize}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#e4e4e4}",'.thead[_ngcontent-%COMP%]{color:#fff;background-color:#263238}.thead[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:12px}td[_ngcontent-%COMP%]{font-weight:500;padding:8px}.thead-dark[_ngcontent-%COMP%]{color:#fff;font-size:18px;background-color:#263238}.arrow[_ngcontent-%COMP%]{font-size:18px;margin:8px}.btn[_ngcontent-%COMP%]{background:#f2f2f2;font-weight:700;margin-right:5px;margin-left:5px;margin-top:5px;display:inline-block;font-size:14px;text-align:center;height:30px;line-height:5px;border-radius:4px;font-family:Exo;color:#000;cursor:pointer}.btn.btn-danger[_ngcontent-%COMP%]{background-color:#da2240;color:#fff;background-color:#f05e77}.btn.btn-danger[_ngcontent-%COMP%]:active, .btn.btn-danger[_ngcontent-%COMP%]:focus, .btn.btn-danger[_ngcontent-%COMP%]:hover{background-color:#e22242}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#3c6ac7;color:#fff;background-color:#73a1ff}.btn.btn-primary[_ngcontent-%COMP%]:active, .btn.btn-primary[_ngcontent-%COMP%]:focus, .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0054ff}.btn.btn-default.btn-sm[_ngcontent-%COMP%]{float:right;margin-right:50%;background:#dcd9d9;color:#000;font-size:12px}.nb-theme-corporate[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:disabled):not(.disabled){cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:#f1f1f1}nb-card-body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;cursor:pointer;border-radius:0}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:start:decrement{background:linear-gradient(120deg,#696969 40%,transparent 41%),linear-gradient(240deg,#696969 40%,transparent 41%),linear-gradient(0deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:end:increment{background:linear-gradient(300deg,#696969 40%,transparent 41%),linear-gradient(60deg,#696969 40%,transparent 41%),linear-gradient(180deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:end:increment{background:linear-gradient(210deg,#696969 40%,transparent 41%),linear-gradient(330deg,#696969 40%,transparent 41%),linear-gradient(90deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:start:decrement{background:linear-gradient(30deg,#696969 40%,transparent 41%),linear-gradient(150deg,#696969 40%,transparent 41%),linear-gradient(270deg,#696969 30%,transparent 31%);background-color:#b6b6b6}.no-data[_ngcontent-%COMP%]{font-size:18px;color:#f73c3c;font-weight:600;text-align:center;width:100%}[_nghost-%COMP%]     .nb-home:before{content:"\\f015"}[_nghost-%COMP%]     .nb-notifications:before{content:"\\f145"}[_nghost-%COMP%]     .nb-title:before{content:"\\f02d"}[_nghost-%COMP%]     .nb-list:before{content:"\\f016"}[_nghost-%COMP%]     .fa-book:before{content:"\\f0d6"}[_nghost-%COMP%]     .fa-signal:before{content:"\\f043"}[_nghost-%COMP%]     .fa-truck:before{content:"\\f0d1"}[_nghost-%COMP%]     .fa-cog:before{content:"\\f013"}[_nghost-%COMP%]     .fa-database:before{content:"\\f15c";font-size:14px}[_nghost-%COMP%]     .fa-money:before{content:"\\f283";font-size:14px}[_nghost-%COMP%]     .control-icon.nb-notifications:before{content:"\\f0f3";display:block;font-family:FontAwesome;font-size:22px;margin-right:8px;margin-top:8px}[_nghost-%COMP%]     nb-base-calendar.medium nb-card{width:100%}[_nghost-%COMP%]     nb-base-calendar.medium nb-card-header{padding:10px 20px;border-bottom:1px solid #eaeaea}']}),t})()},FgHD:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var o=n("OlR4"),r=n("H+bZ"),a=n("LvDl"),i=n("8Y7J"),c=n("G0yt"),l=n("tKwJ"),d=n("7tAi"),s=n("SVse"),g=n("wD9S");function b(t,e){if(1&t&&i["\u0275\u0275element"](0,"smart-table",8),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("data",t.table.data)("settings",t.table.settings)}}let p=(()=>{class t{constructor(t,e,n){this.api=t,this.common=e,this.modalService=n,this.arrdriverData=[{days:null,name:null,attendance:null,id:null}],this.dates={start:"",end:""},this.attendances=[],this.arrayofdates=[],this.table={data:{headings:{name:{placeholder:"Driver"},total_present:{placeholder:"TP",editable:!0,hideSearch:!0},total_absent:{placeholder:"TA",editable:!0,hideSearch:!0},total_half:{placeholder:"THD",editable:!0,hideSearch:!0},adjust_day:{placeholder:"AD",editable:!0,hideSearch:!0}},columns:[]},settings:{hideHeader:!0,editable:!0,editableAction:this.handleTableEdit.bind(this)}},this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.getAttendace()}getAttendace(){this.table={data:{headings:{name:{placeholder:"Driver"},total_present:{placeholder:"TP",editable:!0,hideSearch:!0},total_absent:{placeholder:"TA",editable:!0,hideSearch:!0},total_half:{placeholder:"THD",editable:!0,hideSearch:!0},adjust_day:{placeholder:"AD",editable:!0,hideSearch:!0}},columns:[]},settings:{hideHeader:!0,editable:!0,editableAction:this.handleTableEdit.bind(this)}};let t={startDate:this.dates.start,endDate:this.dates.end};console.log("params",t),this.common.loading++,this.api.post("Drivers/getDriverAttendance",t).subscribe(t=>{this.common.loading--,console.log("res",t.data),this.attendances=t.data,this.table.data.columns=this.getTableColumns(this.formattData())},t=>{this.common.loading--,console.log(t)})}formattData(){let t=a.groupBy(this.attendances,"y_driver_id"),e=[];return Object.keys(t).map(n=>{e.push({name:t[n][0].y_driver_name,total_present:t[n][0].y_total_present,total_absent:t[n][0].y_total_absent,total_half:t[n][0].y_total_half,id:t[n][0].y_attendance_id,driver_id:t[n][0].y_driver_id,date:t[n][0].y_date,adjust_day:t[n][0].y_adjust_day,att:t[n][0].y_attendance,data:[...t[n]]})}),e[0].data.map(t=>{this.table.data.headings[t.y_date.split(" ")[0]]={placeholder:this.common.changeDateformat3(t.y_date.split(" ")[0]),editable:!0,hideSearch:!0}}),console.log("formattdata",e),e}getTableColumns(t){let e=[];return t.map(t=>{let n={name:{value:t.name},total_present:{value:t.total_present},total_absent:{value:t.total_absent},total_half:{value:t.total_half},adjust_day:{value:t.adjust_day},id:t.id,att:t.att,driver_id:t.driver_id};t.data.map(t=>{n[t.y_date.split(" ")[0]]={value:t.y_attendance,date:t.y_date}}),n.params=t,e.push(n)}),e}handleTableEdit(t,e){this.common.params={columns:t},console.log("current",this.common.params.columns.current);let n=[];Object.keys(this.common.params.columns.current).forEach(t=>{t.match(/....-..-../i)&&("p"==this.common.params.columns.current[t].value||"P"==this.common.params.columns.current[t].value?this.common.params.columns.current.id="2":"a"==this.common.params.columns.current[t].value||"ap"==this.common.params.columns.current[t].value||"A"==this.common.params.columns.current[t].value||"AP"==this.common.params.columns.current[t].value?this.common.params.columns.current.id="0":"HD"==this.common.params.columns.current[t].value||"hd"==this.common.params.columns.current[t].value||"H"==this.common.params.columns.current[t].value||"h"==this.common.params.columns.current[t].value?this.common.params.columns.current.id="1":this.common.showToast("Invalid Pattern"),n.push({driver_id:this.common.params.columns.current.driver_id,name:this.common.params.columns.current.name.value,date:this.common.params.columns.current[t].date,att_id:this.common.params.columns.current.id,tp:this.common.params.columns.current.total_present.value,ta:this.common.params.columns.current.total_absent.value,thd:this.common.params.columns.current.total_half.value,adjust_day:this.common.params.columns.current.adjust_day.value}))}),console.log("show",n);let o={att_list:n};console.log("params",o),this.common.loading++,this.api.post("Drivers/updateDriverAttendance",o).subscribe(t=>{this.common.loading--,console.log("res",t.data),this.attendances=t.data,this.getAttendace()},t=>{this.common.loading--,console.log(t)})}selectedDate(t){console.log("Dates:",t)}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](r.a),i["\u0275\u0275directiveInject"](o.a),i["\u0275\u0275directiveInject"](c.r))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["driver-attendance"]],decls:13,vars:1,consts:[[2,"border","0px"],[2,"min-height","400px"],[1,"row"],[1,"col-3"],[3,"select"],[1,"col-sm-2"],["type","submit","id","submit","name","submit",1,"btn","btn-primary","w-100","m-0",3,"click"],[3,"data","settings",4,"ngIf"],[3,"data","settings"]],template:function(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"nb-card",0),i["\u0275\u0275elementStart"](1,"nb-card-header"),i["\u0275\u0275elementStart"](2,"h5"),i["\u0275\u0275text"](3,"Driver Attendance"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"nb-card-body",1),i["\u0275\u0275elementStart"](5,"div",2),i["\u0275\u0275elementStart"](6,"div",3),i["\u0275\u0275elementStart"](7,"month-picker",4),i["\u0275\u0275listener"]("select",(function(t){return e.dates=t})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",5),i["\u0275\u0275elementStart"](9,"button",6),i["\u0275\u0275listener"]("click",(function(){return e.getAttendace()})),i["\u0275\u0275text"](10,"GET ATTENDANCE"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](11,b,1,2,"smart-table",7),i["\u0275\u0275element"](12,"br"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&t&&(i["\u0275\u0275advance"](11),i["\u0275\u0275property"]("ngIf",e.table.data.columns.length))},directives:[l.s,l.v,l.r,d.a,s.u,g.a],styles:["nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}.btn[_ngcontent-%COMP%]{font-size:16px;text-transform:capitalize}[_nghost-%COMP%]     .tableFixHead{height:auto!important;max-height:calc(100vh - 222px)}[_nghost-%COMP%]     .tableFixHead table thead tr th{width:33px;font-size:10px}[_nghost-%COMP%]     .tableFixHead table thead tr th .no-search{background-color:transparent}[_nghost-%COMP%]     .tableFixHead table thead tr th:first-child{width:30px}[_nghost-%COMP%]     .tableFixHead table thead tr th:nth-child(2){width:80px}[_nghost-%COMP%]     .tableFixHead table tbody td{padding:5px 3px!important;text-align:center}[_nghost-%COMP%]     .tableFixHead table tbody td input{border:1px solid #e2e2e2;text-align:center}",'.thead[_ngcontent-%COMP%]{color:#fff;background-color:#263238}.thead[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:12px}td[_ngcontent-%COMP%]{font-weight:500;padding:8px}.thead-dark[_ngcontent-%COMP%]{color:#fff;font-size:18px;background-color:#263238}.arrow[_ngcontent-%COMP%]{font-size:18px;margin:8px}.btn[_ngcontent-%COMP%]{background:#f2f2f2;font-weight:700;margin-right:5px;margin-left:5px;margin-top:5px;display:inline-block;font-size:14px;text-align:center;height:30px;line-height:5px;border-radius:4px;font-family:Exo;color:#000;cursor:pointer}.btn.btn-danger[_ngcontent-%COMP%]{background-color:#da2240;color:#fff;background-color:#f05e77}.btn.btn-danger[_ngcontent-%COMP%]:active, .btn.btn-danger[_ngcontent-%COMP%]:focus, .btn.btn-danger[_ngcontent-%COMP%]:hover{background-color:#e22242}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#3c6ac7;color:#fff;background-color:#73a1ff}.btn.btn-primary[_ngcontent-%COMP%]:active, .btn.btn-primary[_ngcontent-%COMP%]:focus, .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0054ff}.btn.btn-default.btn-sm[_ngcontent-%COMP%]{float:right;margin-right:50%;background:#dcd9d9;color:#000;font-size:12px}.nb-theme-corporate[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:disabled):not(.disabled){cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:#f1f1f1}nb-card-body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;cursor:pointer;border-radius:0}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:start:decrement{background:linear-gradient(120deg,#696969 40%,transparent 41%),linear-gradient(240deg,#696969 40%,transparent 41%),linear-gradient(0deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:end:increment{background:linear-gradient(300deg,#696969 40%,transparent 41%),linear-gradient(60deg,#696969 40%,transparent 41%),linear-gradient(180deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:end:increment{background:linear-gradient(210deg,#696969 40%,transparent 41%),linear-gradient(330deg,#696969 40%,transparent 41%),linear-gradient(90deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:start:decrement{background:linear-gradient(30deg,#696969 40%,transparent 41%),linear-gradient(150deg,#696969 40%,transparent 41%),linear-gradient(270deg,#696969 30%,transparent 31%);background-color:#b6b6b6}.no-data[_ngcontent-%COMP%]{font-size:18px;color:#f73c3c;font-weight:600;text-align:center;width:100%}[_nghost-%COMP%]     .nb-home:before{content:"\\f015"}[_nghost-%COMP%]     .nb-notifications:before{content:"\\f145"}[_nghost-%COMP%]     .nb-title:before{content:"\\f02d"}[_nghost-%COMP%]     .nb-list:before{content:"\\f016"}[_nghost-%COMP%]     .fa-book:before{content:"\\f0d6"}[_nghost-%COMP%]     .fa-signal:before{content:"\\f043"}[_nghost-%COMP%]     .fa-truck:before{content:"\\f0d1"}[_nghost-%COMP%]     .fa-cog:before{content:"\\f013"}[_nghost-%COMP%]     .fa-database:before{content:"\\f15c";font-size:14px}[_nghost-%COMP%]     .fa-money:before{content:"\\f283";font-size:14px}[_nghost-%COMP%]     .control-icon.nb-notifications:before{content:"\\f0f3";display:block;font-family:FontAwesome;font-size:22px;margin-right:8px;margin-top:8px}[_nghost-%COMP%]     nb-base-calendar.medium nb-card{width:100%}[_nghost-%COMP%]     nb-base-calendar.medium nb-card-header{padding:10px 20px;border-bottom:1px solid #eaeaea}']}),t})()},cSOp:function(t,e,n){"use strict";n.d(e,"a",(function(){return C}));var o=n("OlR4"),r=n("H+bZ"),a=n("qfBg"),i=n("tPjB"),c=n("xa4U"),l=n("boAm"),d=n("hWXD"),s=n("w/2i"),g=n("+AmU"),b=n("8Y7J"),p=n("iInd"),m=n("G0yt"),h=n("tKwJ"),f=n("SVse"),u=n("wD9S");function _(t,e){if(1&t){const t=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",6),b["\u0275\u0275listener"]("click",(function(){return b["\u0275\u0275restoreView"](t),b["\u0275\u0275nextContext"]().importDriverCsv()})),b["\u0275\u0275text"](1,"Import Csv"),b["\u0275\u0275elementEnd"]()}}function x(t,e){if(1&t&&b["\u0275\u0275element"](0,"smart-table",7),2&t){const t=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("data",t.table.driverLists)("settings",t.table.settings)}}let C=(()=>{class t{constructor(t,e,n,o,r){this.api=t,this.router=e,this.modalService=n,this.common=o,this.user=r,this.driverLists=[],this.data=[],this.table=null,this.getdriverLists(),this.common.refresh=this.refresh.bind(this)}ngOnInit(){}refresh(){this.getdriverLists()}addDriver(){this.modalService.open(l.a,{size:"lg",container:"nb-layout"}).result.then(t=>{t.response&&this.getdriverLists()})}getdriverLists(){this.driverLists=[],this.common.loading++,this.api.get("Drivers/index").subscribe(t=>{this.common.loading--,console.log("Res:",t.data),this.driverLists=t.data,null!=this.driverLists&&(this.table=this.setTable())},t=>{this.common.loading--,console.log(t)})}updateDriverInfo(t){this.common.params={driver:t},this.modalService.open(c.a,{size:"lg",container:"nb-layout"}).result.then(t=>{t.response&&this.getdriverLists()})}importDriverCsv(){this.common.params={title:"Bulk Import Driver"},this.modalService.open(i.a,{container:"nb-layout",backdrop:"static"})}setTable(){return{driverLists:{headings:{empname:{title:"Driver",placeholder:"Driver"},mobileno:{title:"Mobile No",placeholder:"Mobile No"},mobileno2:{title:"Mobile No 2",placeholder:"Mobile No 2"},action:{title:"Action ",placeholder:"Action",hideSearch:!0,class:"tag"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}}getTableColumns(){let t=[];return this.driverLists.map(e=>{let n={empname:{value:e.empname},mobileno:{value:e.mobileno},mobileno2:{value:null==e.mobileno2?"-":e.mobileno2},action:{value:"",isHTML:!1,action:null,icons:[{class:"fa fa-file",action:this.updateDriver.bind(this,e)},{class:"fa fa-tasks",action:this.updateDriverInfo.bind(this,e)},{class:"fab fa-reddit",action:this.driverLedgerMapping.bind(this,e)},{class:"fa fa-print",action:this.driverPersonalDetail.bind(this,e)}]},rowActions:{click:"selectRow"}};t.push(n)}),t}driverLedgerMapping(t){this.common.params={driverId:t.id},this.modalService.open(s.a,{size:"lg",container:"nb-layout",backdrop:"static"})}driverPersonalDetail(t){this.common.params={driverId:t.id},this.modalService.open(g.a,{size:"lg",container:"nb-layout",backdrop:"static"})}updateDriver(t){this.common.params={driver:t},this.modalService.open(d.a,{size:"lg",container:"nb-layout",backdrop:"static"})}}return t.\u0275fac=function(e){return new(e||t)(b["\u0275\u0275directiveInject"](r.a),b["\u0275\u0275directiveInject"](p.c),b["\u0275\u0275directiveInject"](m.r),b["\u0275\u0275directiveInject"](o.a),b["\u0275\u0275directiveInject"](a.a))},t.\u0275cmp=b["\u0275\u0275defineComponent"]({type:t,selectors:[["driver-list"]],decls:12,vars:2,consts:[[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["class","btn btn-primary","type","submit","name","button",3,"click",4,"ngIf"],["id","button","name","button",1,"btn","btn-primary",3,"click"],[3,"data","settings",4,"ngIf"],["type","submit","name","button",1,"btn","btn-primary",3,"click"],[3,"data","settings"]],template:function(t,e){1&t&&(b["\u0275\u0275elementStart"](0,"nb-card"),b["\u0275\u0275elementStart"](1,"nb-card-header"),b["\u0275\u0275elementStart"](2,"div",0),b["\u0275\u0275elementStart"](3,"div",1),b["\u0275\u0275elementStart"](4,"h5"),b["\u0275\u0275text"](5,"Drivers List"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"div",2),b["\u0275\u0275template"](7,_,2,0,"button",3),b["\u0275\u0275elementStart"](8,"button",4),b["\u0275\u0275listener"]("click",(function(){return e.addDriver()})),b["\u0275\u0275text"](9,"ADD"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"nb-card-body"),b["\u0275\u0275template"](11,x,1,2,"smart-table",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&t&&(b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("ngIf","admin"==e.user._loggedInBy),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",e.driverLists&&e.driverLists.length))},directives:[h.s,h.v,f.u,h.r,u.a],styles:['[_nghost-%COMP%]     .tableFixHead table tr td:last-child i{margin-right:10px;font-size:14px}[_nghost-%COMP%]     .tableFixHead table tr td:last-child .fa-file{color:#04a9f5}[_nghost-%COMP%]     .tableFixHead table tr td:last-child .fa-file span{position:absolute;display:none;padding:10px 32px;font-size:11px;font-weight:400;left:-26px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .tableFixHead table tr td:last-child .fa-file span:before{content:"Edit Doc";display:block;position:absolute;top:0;left:0;background-color:#04a9f5;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .tableFixHead table tr td:last-child .fa-file span:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #04a9f5;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     .tableFixHead table tr td:last-child .fa-file:hover span{display:block}[_nghost-%COMP%]     .tableFixHead table tr .fa-tasks{color:red}[_nghost-%COMP%]     .tableFixHead table tr .fa-tasks span{position:absolute;display:none;padding:10px 20px;font-size:11px;font-weight:400;left:-12px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .tableFixHead table tr .fa-tasks span:before{content:"Edit";display:block;position:absolute;top:0;left:0;background-color:red;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .tableFixHead table tr .fa-tasks span:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid red;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     .tableFixHead table tr .fa-tasks:hover span{display:block}[_nghost-%COMP%]     .tableFixHead table .fa-reddit{color:red}[_nghost-%COMP%]     .tableFixHead table .fa-reddit span{position:absolute;display:none;padding:10px 67px;font-size:11px;font-weight:400;left:-58px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .tableFixHead table .fa-reddit span:before{content:"Driver Ledger Mapping";display:block;position:absolute;top:0;left:0;background-color:red;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .tableFixHead table .fa-reddit span:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid red;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     .tableFixHead table .fa-reddit:hover span{display:block}','.thead[_ngcontent-%COMP%]{color:#fff;background-color:#263238}.thead[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:12px}td[_ngcontent-%COMP%]{font-weight:500;padding:8px}.thead-dark[_ngcontent-%COMP%]{color:#fff;font-size:18px;background-color:#263238}.arrow[_ngcontent-%COMP%]{font-size:18px;margin:8px}.btn[_ngcontent-%COMP%]{background:#f2f2f2;font-weight:700;margin-right:5px;margin-left:5px;margin-top:5px;display:inline-block;font-size:14px;text-align:center;height:30px;line-height:5px;border-radius:4px;font-family:Exo;color:#000;cursor:pointer}.btn.btn-danger[_ngcontent-%COMP%]{background-color:#da2240;color:#fff;background-color:#f05e77}.btn.btn-danger[_ngcontent-%COMP%]:active, .btn.btn-danger[_ngcontent-%COMP%]:focus, .btn.btn-danger[_ngcontent-%COMP%]:hover{background-color:#e22242}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#3c6ac7;color:#fff;background-color:#73a1ff}.btn.btn-primary[_ngcontent-%COMP%]:active, .btn.btn-primary[_ngcontent-%COMP%]:focus, .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0054ff}.btn.btn-default.btn-sm[_ngcontent-%COMP%]{float:right;margin-right:50%;background:#dcd9d9;color:#000;font-size:12px}.nb-theme-corporate[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:disabled):not(.disabled){cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:#f1f1f1}nb-card-body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;cursor:pointer;border-radius:0}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:start:decrement{background:linear-gradient(120deg,#696969 40%,transparent 41%),linear-gradient(240deg,#696969 40%,transparent 41%),linear-gradient(0deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:end:increment{background:linear-gradient(300deg,#696969 40%,transparent 41%),linear-gradient(60deg,#696969 40%,transparent 41%),linear-gradient(180deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:end:increment{background:linear-gradient(210deg,#696969 40%,transparent 41%),linear-gradient(330deg,#696969 40%,transparent 41%),linear-gradient(90deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:start:decrement{background:linear-gradient(30deg,#696969 40%,transparent 41%),linear-gradient(150deg,#696969 40%,transparent 41%),linear-gradient(270deg,#696969 30%,transparent 31%);background-color:#b6b6b6}.no-data[_ngcontent-%COMP%]{font-size:18px;color:#f73c3c;font-weight:600;text-align:center;width:100%}[_nghost-%COMP%]     .nb-home:before{content:"\\f015"}[_nghost-%COMP%]     .nb-notifications:before{content:"\\f145"}[_nghost-%COMP%]     .nb-title:before{content:"\\f02d"}[_nghost-%COMP%]     .nb-list:before{content:"\\f016"}[_nghost-%COMP%]     .fa-book:before{content:"\\f0d6"}[_nghost-%COMP%]     .fa-signal:before{content:"\\f043"}[_nghost-%COMP%]     .fa-truck:before{content:"\\f0d1"}[_nghost-%COMP%]     .fa-cog:before{content:"\\f013"}[_nghost-%COMP%]     .fa-database:before{content:"\\f15c";font-size:14px}[_nghost-%COMP%]     .fa-money:before{content:"\\f283";font-size:14px}[_nghost-%COMP%]     .control-icon.nb-notifications:before{content:"\\f0f3";display:block;font-family:FontAwesome;font-size:22px;margin-right:8px;margin-top:8px}[_nghost-%COMP%]     nb-base-calendar.medium nb-card{width:100%}[_nghost-%COMP%]     nb-base-calendar.medium nb-card-header{padding:10px 20px;border-bottom:1px solid #eaeaea}']}),t})()},nvNi:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var o=n("OlR4"),r=n("H+bZ"),a=n("klIi"),i=n("8Y7J"),c=n("G0yt"),l=n("tKwJ"),d=n("SVse"),s=n("wD9S");function g(t,e){if(1&t&&i["\u0275\u0275element"](0,"smart-table",9),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("data",t.table.data)("settings",t.table.settings)}}let b=(()=>{class t{constructor(t,e,n){this.common=t,this.api=e,this.modalService=n,this.data=[],this.table=null,this.common.refresh=this.refresh.bind(this),this.getdriverMapping()}refresh(){this.getdriverMapping()}ngOnInit(){}getvehicleData(t){console.log(t.mobileno),console.log(t.empname),console.log(t.status),console.log(t.refid)}setTable(){return{data:{headings:{regno:{title:"Vehicle Number",placeholder:"Vehicle Number"},mainDriver:{title:"Primary Driver ",placeholder:"Primary Driver "},mappedSinceM:{title:"Mapped Since",placeholder:"Mapped Since"},mobileno:{title:"Mobile Number",placeholder:"Mobile Number"},secondaryDriver:{title:"Secondary Driver",placeholder:"Secondary Driver"},mappedSinceS:{title:"Mapped Since",placeholder:"Mapped Since"},mobileno2:{title:"Mobile  Number",placeholder:"Mobile Number"}},columns:this.getTableColumns()},settings:{hideHeader:!0}}}getTableColumns(){let t=[];return this.data.map(e=>{let n={regno:{value:e.regno,action:this.remapDriver.bind(this,e)},mainDriver:{value:e.md_name,action:""},mappedSinceM:{value:e.m_entry_dt?this.common.dateFormatter1(e.m_entry_dt):null,action:""},mobileno:{value:e.md_no,action:""},secondaryDriver:{value:e.sd_name,action:""},mappedSinceS:{value:e.s_entry_dt?this.common.dateFormatter1(e.s_entry_dt):null,action:""},mobileno2:{value:e.sd_no,action:""},rowActions:{}};t.push(n)}),t}getdriverMapping(){this.common.loading++,this.api.get("Drivers/getVehicleMapping").subscribe(t=>{this.common.loading--,console.log("Res:",t.data),this.data=t.data,this.table=this.setTable()},t=>{this.common.loading--,console.log(t)})}selectDriverStatus(t){console.log("Status :",t)}remapDriver(t){this.common.params={driver:t},this.modalService.open(a.a,{size:"lg",container:"nb-layout"}).result.then(t=>{t.response&&this.getdriverMapping()})}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](o.a),i["\u0275\u0275directiveInject"](r.a),i["\u0275\u0275directiveInject"](c.r))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["vehicle-driver-mapping"]],decls:14,vars:1,consts:[[1,"row"],[1,"col-sm-10"],[1,"col-2","text-right"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],["id","vehicleMapping",3,"data","settings",4,"ngIf"],["id","vehicleMapping",3,"data","settings"]],template:function(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"nb-card"),i["\u0275\u0275elementStart"](1,"nb-card-header"),i["\u0275\u0275elementStart"](2,"div",0),i["\u0275\u0275elementStart"](3,"h5",1),i["\u0275\u0275text"](4,"vehicle Driver Mapping"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",2),i["\u0275\u0275elementStart"](6,"span",3),i["\u0275\u0275elementStart"](7,"span",4),i["\u0275\u0275listener"]("click",(function(){return e.common.getPDFFromTableId("vehicleMapping")})),i["\u0275\u0275element"](8,"i",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"span",6),i["\u0275\u0275listener"]("click",(function(){return e.common.getCSVFromTableId("vehicleMapping")})),i["\u0275\u0275element"](10,"i",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"nb-card-body"),i["\u0275\u0275template"](12,g,1,2,"smart-table",8),i["\u0275\u0275element"](13,"br"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&t&&(i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngIf",e.data.length))},directives:[l.s,l.v,l.r,d.u,s.a],styles:[".active-pink-2[_ngcontent-%COMP%]   input[type=search][_ngcontent-%COMP%]:focus:not([readonly]){border-bottom:1px solid #f48fb1;-webkit-box-shadow:0 1px 0 0 #f48fb1;box-shadow:0 1px 0 0 #f48fb1}.active-pink[_ngcontent-%COMP%]   input[type=search][_ngcontent-%COMP%]{border-bottom:1px solid #f48fb1;-webkit-box-shadow:0 1px 0 0 #f48fb1;box-shadow:0 1px 0 0 #f48fb1}nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}[_nghost-%COMP%]     .tableFixHead{height:auto!important;max-height:calc(100vh - 178px)}.pdf-icon[_ngcontent-%COMP%]{font-size:30px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:30px;color:#217346}",'.thead[_ngcontent-%COMP%]{color:#fff;background-color:#263238}.thead[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:12px}td[_ngcontent-%COMP%]{font-weight:500;padding:8px}.thead-dark[_ngcontent-%COMP%]{color:#fff;font-size:18px;background-color:#263238}.arrow[_ngcontent-%COMP%]{font-size:18px;margin:8px}.btn[_ngcontent-%COMP%]{background:#f2f2f2;font-weight:700;margin-right:5px;margin-left:5px;margin-top:5px;display:inline-block;font-size:14px;text-align:center;height:30px;line-height:5px;border-radius:4px;font-family:Exo;color:#000;cursor:pointer}.btn.btn-danger[_ngcontent-%COMP%]{background-color:#da2240;color:#fff;background-color:#f05e77}.btn.btn-danger[_ngcontent-%COMP%]:active, .btn.btn-danger[_ngcontent-%COMP%]:focus, .btn.btn-danger[_ngcontent-%COMP%]:hover{background-color:#e22242}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#3c6ac7;color:#fff;background-color:#73a1ff}.btn.btn-primary[_ngcontent-%COMP%]:active, .btn.btn-primary[_ngcontent-%COMP%]:focus, .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0054ff}.btn.btn-default.btn-sm[_ngcontent-%COMP%]{float:right;margin-right:50%;background:#dcd9d9;color:#000;font-size:12px}.nb-theme-corporate[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:disabled):not(.disabled){cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:#f1f1f1}nb-card-body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;cursor:pointer;border-radius:0}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:start:decrement{background:linear-gradient(120deg,#696969 40%,transparent 41%),linear-gradient(240deg,#696969 40%,transparent 41%),linear-gradient(0deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:end:increment{background:linear-gradient(300deg,#696969 40%,transparent 41%),linear-gradient(60deg,#696969 40%,transparent 41%),linear-gradient(180deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:end:increment{background:linear-gradient(210deg,#696969 40%,transparent 41%),linear-gradient(330deg,#696969 40%,transparent 41%),linear-gradient(90deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:start:decrement{background:linear-gradient(30deg,#696969 40%,transparent 41%),linear-gradient(150deg,#696969 40%,transparent 41%),linear-gradient(270deg,#696969 30%,transparent 31%);background-color:#b6b6b6}.no-data[_ngcontent-%COMP%]{font-size:18px;color:#f73c3c;font-weight:600;text-align:center;width:100%}[_nghost-%COMP%]     .nb-home:before{content:"\\f015"}[_nghost-%COMP%]     .nb-notifications:before{content:"\\f145"}[_nghost-%COMP%]     .nb-title:before{content:"\\f02d"}[_nghost-%COMP%]     .nb-list:before{content:"\\f016"}[_nghost-%COMP%]     .fa-book:before{content:"\\f0d6"}[_nghost-%COMP%]     .fa-signal:before{content:"\\f043"}[_nghost-%COMP%]     .fa-truck:before{content:"\\f0d1"}[_nghost-%COMP%]     .fa-cog:before{content:"\\f013"}[_nghost-%COMP%]     .fa-database:before{content:"\\f15c";font-size:14px}[_nghost-%COMP%]     .fa-money:before{content:"\\f283";font-size:14px}[_nghost-%COMP%]     .control-icon.nb-notifications:before{content:"\\f0f3";display:block;font-family:FontAwesome;font-size:22px;margin-right:8px;margin-top:8px}[_nghost-%COMP%]     nb-base-calendar.medium nb-card{width:100%}[_nghost-%COMP%]     nb-base-calendar.medium nb-card-header{padding:10px 20px;border-bottom:1px solid #eaeaea}']}),t})()},qfjS:function(t,e,n){"use strict";n.r(e),n.d(e,"DriverModule",(function(){return v}));var o=n("vTDv"),r=n("FUS3"),a=n("8Y7J");let i=(()=>{class t{}return t.\u0275mod=a["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[o.a,r.a]]}),t})();var c=n("SVse");const l=[{title:"Home Dashboard",icon:"fa-home",link:"/pages/dashboard",home:!0},{title:"Driver List ",icon:"fa-list",link:"/driver/driver-list",home:!0},{title:"Vehicle Driver Mapping",icon:"fa-map-marker",link:"/driver/vehicle-driver-mapping",home:!0},{title:"Attendace List",icon:"fa-clock-o",link:"/driver/driver-attendance",home:!0},{title:"Driver Document",icon:"fa-book",link:"/driver/driver-document",home:!0},{title:"Licence Upload",icon:"fa-address-card",link:"/driver/licence-upload",home:!0},{title:"Pending Licence",icon:"fa-align-justify",link:"/driver/pending-licence",home:!0}],d=[{title:"Home",icon:"nb-home",link:"/driver",home:!0},{title:"Add Driver",icon:"nb-home",link:"/driver/add-driver",home:!0},{title:"Driver List",icon:"nb-home",link:"/driver/driver-list",home:!0},{title:"vehicle-driver-mapping",icon:"nb-home",link:"/driver/vehicle-driver-mapping",home:!0},{title:"driver-attendance",icon:"nb-home",link:"/driver/driver-attendance",home:!0}];var s=n("qfBg"),g=n("iInd"),b=n("IAMq"),p=n("tKwJ");let m=(()=>{class t{constructor(t,e){this.user=t,this.router=e,this.menu="admin"==this.user._loggedInBy?l:d,"customer"!=this.user._loggedInBy||this.router.navigate(["/pages"])}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](s.a),a["\u0275\u0275directiveInject"](g.c))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["ngx-driver"]],decls:3,vars:1,consts:[[3,"items"]],template:function(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"ngx-sample-layout"),a["\u0275\u0275element"](1,"nb-menu",0),a["\u0275\u0275element"](2,"router-outlet"),a["\u0275\u0275elementEnd"]()),2&t&&(a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("items",e.menu))},directives:[b.a,p.W,g.h],encapsulation:2}),t})(),h=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["dashboard"]],decls:2,vars:0,template:function(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"p"),a["\u0275\u0275text"](1," dashboard works!\n"),a["\u0275\u0275elementEnd"]())},styles:[""]}),t})();var f=n("36SD"),u=n("cSOp"),_=n("nvNi"),x=n("FgHD"),C=n("9M6I");const M=[{path:"",component:m,children:[{path:"dashboard",component:h},{path:"add-driver",component:f.a},{path:"driver-list",component:u.a},{path:"vehicle-driver-mapping",component:_.a},{path:"driver-attendance",component:x.a},{path:"driver-document",component:C.a}]}];let O=(()=>{class t{}return t.\u0275mod=a["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[g.g.forChild(M)],g.g]}),t})(),v=(()=>{class t{}return t.\u0275mod=a["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[c.f],imports:[[O,o.a,i,r.a]]}),t})()}}]);