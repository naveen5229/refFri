!function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function e(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{GywG:function(t,a,o){"use strict";o.r(a),o.d(a,"Walle8Module",(function(){return qt}));var r,l,i,d=o("vTDv"),s=o("8Y7J"),c=((r=function t(){n(this,t)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:r}),r.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||r)},imports:[[d.a]]}),r),m=o("FUS3"),h=o("qfBg"),p=o("iInd"),u=o("IAMq"),g=o("tKwJ"),b=((l=function t(e,a){n(this,t),this.user=e,this.router=a}).\u0275fac=function(t){return new(t||l)(s["\u0275\u0275directiveInject"](h.a),s["\u0275\u0275directiveInject"](p.c))},l.\u0275cmp=s["\u0275\u0275defineComponent"]({type:l,selectors:[["ngx-pages"]],decls:3,vars:1,consts:[["autoCollapse","true",3,"items"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"ngx-sample-layout"),s["\u0275\u0275element"](1,"nb-menu",0),s["\u0275\u0275element"](2,"router-outlet"),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("items",e.user._menu.walle8))},directives:[u.a,g.W,p.h],styles:['.report_bg[_ngcontent-%COMP%]   .report_form_box[_ngcontent-%COMP%]   .stopage_form[_ngcontent-%COMP%]   .k-picker-wrap[_ngcontent-%COMP%]{padding:5px!important;width:100%}.k-datepicker[_ngcontent-%COMP%]{width:100%!important;margin-left:10px}.date_start[_ngcontent-%COMP%]{margin-left:45px!important}.date_end[_ngcontent-%COMP%]{margin-left:50px!important}.date_end[_ngcontent-%COMP%]   .k-datepicker[_ngcontent-%COMP%]   .k-picker-wrap[_ngcontent-%COMP%]   .k-select[_ngcontent-%COMP%], .date_end[_ngcontent-%COMP%]   .k-datepicker[_ngcontent-%COMP%]   .k-picker-wrap[_ngcontent-%COMP%]:hover   .k-select[_ngcontent-%COMP%], .date_start[_ngcontent-%COMP%]   .k-datepicker[_ngcontent-%COMP%]   .k-picker-wrap[_ngcontent-%COMP%]   .k-select[_ngcontent-%COMP%], .date_start[_ngcontent-%COMP%]   .k-datepicker[_ngcontent-%COMP%]   .k-picker-wrap[_ngcontent-%COMP%]:hover   .k-select[_ngcontent-%COMP%]{color:#0184c5!important;background-color:transparent!important;background-image:none!important}[_nghost-%COMP%]     .custom_bg{border-radius:8px!important;background:#fff!important;-webkit-box-shadow:0 3px 6px rgba(0,0,0,.16)!important;box-shadow:0 3px 6px rgba(0,0,0,.16)!important;display:block;overflow:hidden}[_nghost-%COMP%]     .custom_bg .card_header{border-bottom:none!important;display:block;width:100%;border-radius:8px 8px 0 0;background:#e5f3f9}[_nghost-%COMP%]     .custom_bg .card_header h5{font-weight:700;font-size:20px;text-align:left;color:#4a555c;background-color:transparent!important;padding-left:10px!important;padding-top:5px!important}[_nghost-%COMP%]     .custom_bg .card_header .custom_form{border:none;display:block}[_nghost-%COMP%]     .custom_bg .custom_form_box{padding:0 0 0 15px!important}[_nghost-%COMP%]     .custom_bg .custom_form_box .custom_form select.form-control:after{content:"";position:absolute;background-repeat:no-repeat;background-size:100%;background-position:50%;width:20px;height:20px;display:block;right:0;left:auto}[_nghost-%COMP%]     .customSelect, [_nghost-%COMP%]     .customText{border-radius:23px!important;background:#fff!important;border:1px solid #a0a0a0;padding:5px!important;color:#4a555c!important;width:100%}[_nghost-%COMP%]     .customLabel{font-weight:700!important;text-align:left!important;color:#8f989e!important;margin-bottom:5px!important;font-family:lato,"sans-serif"!important}[_nghost-%COMP%]     .customButton{border-radius:29px!important;background:-webkit-gradient(linear,left top,left bottom,from(rgba(1,132,197,.3)),color-stop(49.23%,rgba(1,132,197,.7)),color-stop(100%,rgba(1,132,197,.4)),to(#014263))!important;background:linear-gradient(rgba(1,132,197,.3),rgba(1,132,197,.7) 49.23%,rgba(1,132,197,.4) 100%,#014263 0)!important;-webkit-box-shadow:0 3px 6px rgba(1,132,197,.36);box-shadow:0 3px 6px rgba(1,132,197,.36);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-top:2px!important;padding-bottom:2px!important;font-family:Lato;font-weight:700;font-size:18px!important;text-align:center;color:#fff!important;margin-top:0!important}[_nghost-%COMP%]     .customButton img{height:20px;width:20px}[_nghost-%COMP%]     .customButton span{font-family:Lato;font-weight:700;font-size:18px;text-align:left;color:#fff;padding-left:10px}.k-datepicker[_ngcontent-%COMP%]   .k-select[_ngcontent-%COMP%], .k-datetimepicker[_ngcontent-%COMP%]   .k-select[_ngcontent-%COMP%], .k-timepicker[_ngcontent-%COMP%]   .k-select[_ngcontent-%COMP%]{border-color:transparent!important;color:#0184ba!important;background-color:transparent!important;background-image:none!important}.k-datepicker[_ngcontent-%COMP%], .k-picker-wrap[_ngcontent-%COMP%]{border-radius:29px!important;padding:3px!important}.k-dateinput[_ngcontent-%COMP%]   .k-dateinput-wrap[_ngcontent-%COMP%]{border-color:rgba(0,0,0,.08)!important;color:#656565!important;background-color:#fff!important;border-radius:29px!important}.time-picker.col-4.pl-0.pr-0.form-type[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}[_nghost-%COMP%]     .nb-theme-corporate .form-control{border-radius:23px}']}),l),f=o("OlR4"),v=o("H+bZ"),y=o("G0yt"),x=((i=function(){function t(e,a,o,r){n(this,t),this.api=e,this.common=a,this.user=o,this.modalService=r,this.balance=[],this.total=[],this.remainingBalance=null,this.tollDiscount=null,this.fuelDiscount=null,this.Total=0,this.getdiscount(),this.getTotal(),this.common.refresh=this.refresh.bind(this)}return e(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.getdiscount(),this.getTotal()}},{key:"getdiscount",value:function(){var t=this;console.log("Mobileno:",this.user._details);var e="mobileno="+this.user._details.fo_mobileno;this.common.loading++,this.api.walle8Get("CardRechargeApi/AccountRemainingAmount.json?"+e).subscribe((function(e){t.common.loading--,console.log("Res:",e),t.balance=e.data,t.remainingBalance=t.balance[0].toll_balance,console.log("discount",t.remainingBalance),console.log(".......",t.tollDiscount)}),(function(e){t.common.loading--,console.log(e)}))}},{key:"getTotal",value:function(){var t=this,e="mobileno="+this.user._details.fo_mobileno;this.common.loading++,this.api.walle8Get("DiscountApi/ViewFoDiscount.json?"+e).subscribe((function(e){t.common.loading--,console.log("Res:",e),t.total=e.data,t.fuelDiscount=t.total[0].fd,t.tollDiscount=t.total[0].td,t.Total=parseInt(t.fuelDiscount)+parseInt(t.tollDiscount)}),(function(e){t.common.loading--,console.log(e)}))}}]),t}()).\u0275fac=function(t){return new(t||i)(s["\u0275\u0275directiveInject"](v.a),s["\u0275\u0275directiveInject"](f.a),s["\u0275\u0275directiveInject"](h.a),s["\u0275\u0275directiveInject"](y.r))},i.\u0275cmp=s["\u0275\u0275defineComponent"]({type:i,selectors:[["dashboard"]],decls:47,vars:4,consts:[[1,"amnout_list"],[1,"row"],[1,"col-6"],[1,"amount_box"],[1,"col-6","text-left"],[1,"rupee_icon","m-0"],[1,"fas","fa-rupee-sign"],[1,"col-6","text-right"],[1,"desc","m-0"],[1,"row","mt-4"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275elementStart"](3,"div",3),s["\u0275\u0275elementStart"](4,"div",1),s["\u0275\u0275elementStart"](5,"div",4),s["\u0275\u0275elementStart"](6,"p",5),s["\u0275\u0275element"](7,"i",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"div",7),s["\u0275\u0275elementStart"](9,"h4"),s["\u0275\u0275text"](10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"p",8),s["\u0275\u0275text"](12,"Remaning Balance"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",2),s["\u0275\u0275elementStart"](14,"div",3),s["\u0275\u0275elementStart"](15,"div",1),s["\u0275\u0275elementStart"](16,"div",4),s["\u0275\u0275elementStart"](17,"p",5),s["\u0275\u0275element"](18,"i",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",7),s["\u0275\u0275elementStart"](20,"h4"),s["\u0275\u0275text"](21),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"p",8),s["\u0275\u0275text"](23,"Fuel Discount"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](24,"div",9),s["\u0275\u0275elementStart"](25,"div",2),s["\u0275\u0275elementStart"](26,"div",3),s["\u0275\u0275elementStart"](27,"div",1),s["\u0275\u0275elementStart"](28,"div",4),s["\u0275\u0275elementStart"](29,"p",5),s["\u0275\u0275element"](30,"i",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](31,"div",7),s["\u0275\u0275elementStart"](32,"h4"),s["\u0275\u0275text"](33),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](34,"p",8),s["\u0275\u0275text"](35,"Total Discount"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](36,"div",2),s["\u0275\u0275elementStart"](37,"div",3),s["\u0275\u0275elementStart"](38,"div",1),s["\u0275\u0275elementStart"](39,"div",4),s["\u0275\u0275elementStart"](40,"p",5),s["\u0275\u0275element"](41,"i",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](42,"div",7),s["\u0275\u0275elementStart"](43,"h4"),s["\u0275\u0275text"](44),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](45,"p",8),s["\u0275\u0275text"](46,"Toll Discount"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](10),s["\u0275\u0275textInterpolate"](e.remainingBalance),s["\u0275\u0275advance"](11),s["\u0275\u0275textInterpolate"](e.fuelDiscount),s["\u0275\u0275advance"](12),s["\u0275\u0275textInterpolate"](e.Total),s["\u0275\u0275advance"](11),s["\u0275\u0275textInterpolate"](e.tollDiscount))},styles:[".amnout_list[_ngcontent-%COMP%]{padding:30px}.amnout_list[_ngcontent-%COMP%]   .amount_box[_ngcontent-%COMP%]{-webkit-box-shadow:2px 0 10px #dcdcdc;box-shadow:2px 0 10px #dcdcdc;border-radius:3px;padding:30px 20px}.amnout_list[_ngcontent-%COMP%]   .amount_box[_ngcontent-%COMP%]   .rupee_icon[_ngcontent-%COMP%]{width:60px;height:60px;display:inline-block;line-height:60px;text-align:center;font-size:30px;border-radius:100%;float:left;margin-right:40px;color:#fff;background-color:#29b6f6}.amnout_list[_ngcontent-%COMP%]   .amount_box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;color:#6b6b6b;margin-top:10px}"]}),i),C=o("iJpb"),_=o("1+iI"),S=o("SVse"),M=o("wD9S");function P(t,e){if(1&t&&s["\u0275\u0275element"](0,"smart-table",11),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("data",n.table.data)("settings",n.table.settings)}}var O,k=((O=function(){function t(e,a,o,r,l){n(this,t),this.common=e,this.pdfService=a,this.csvService=o,this.api=r,this.user=l,this.data=[],this.table=null,this.getDetail(),this.common.refresh=this.refresh.bind(this)}return e(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.getDetail()}},{key:"getDetail",value:function(){var t=this;this.common.loading++,this.api.walle8Get("CardRechargeApi/getFoCardResults.json?mobileno="+this.user._details.fo_mobileno).subscribe((function(e){t.common.loading--,console.log("Res:",e),t.data=e.data,t.table=t.setTable()}),(function(e){t.common.loading--,console.log(e)}))}},{key:"setTable",value:function(){return{data:{headings:{Vehicle:{title:"Vehicle",placeholder:"Vehicle"},IOCL:{title:"\tIOCL",placeholder:"\tIOCL"},BPCL:{title:"BPCL",placeholder:"BPCL"},ATM:{title:"ATM",placeholder:"ATM"},HPCL:{title:"HPCL",placeholder:"HPCL"},TagId:{title:"Tag Id",placeholder:"Tag Id"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}}},{key:"getTableColumns",value:function(){var t=[];return this.data.map((function(e){t.push({Vehicle:{value:e.vehicle},IOCL:{value:null==e.bpcl?"-":e.bpcl},BPCL:{value:null==e.bpcl?"-":e.bpcl},ATM:{value:null==e.atm?"-":e.atm},HPCL:{value:null==e.hpcl?"-":e.hpcl},TagId:{value:null==e.tag_id?"-":e.tag_id}})})),t}},{key:"printPDF",value:function(){var t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t),this.pdfService.jrxTablesPDF(["cardMapping"],"card-mapping",[["Name: "+t,"Report: Card-Mapping"]])}},{key:"printCSV",value:function(){this.csvService.byMultiIds(["cardMapping"],"card-mapping",[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),report:"Report:Card-Mapping"}])}}]),t}()).\u0275fac=function(t){return new(t||O)(s["\u0275\u0275directiveInject"](f.a),s["\u0275\u0275directiveInject"](C.a),s["\u0275\u0275directiveInject"](_.a),s["\u0275\u0275directiveInject"](v.a),s["\u0275\u0275directiveInject"](h.a))},O.\u0275cmp=s["\u0275\u0275defineComponent"]({type:O,selectors:[["card-mapping"]],decls:14,vars:1,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[2,"width","96%","margin-left","2%"],["id","cardMapping",3,"data","settings",4,"ngIf"],["id","cardMapping",3,"data","settings"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"h5",2),s["\u0275\u0275text"](5,"Card Mapping"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",3),s["\u0275\u0275elementStart"](7,"span",4),s["\u0275\u0275elementStart"](8,"span",5),s["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),s["\u0275\u0275element"](9,"i",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"span",7),s["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),s["\u0275\u0275element"](11,"i",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"nb-card-body",9),s["\u0275\u0275template"](13,P,1,2,"smart-table",10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](13),s["\u0275\u0275property"]("ngIf",e.data.length))},directives:[g.s,g.v,g.r,S.u,M.a],styles:[".btn-primary[_ngcontent-%COMP%]{padding:6px 15px;border-radius:3px}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#ddd}.pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),O),E=o("Xy1B"),w=o("GMTD");function D(t,e){if(1&t&&s["\u0275\u0275element"](0,"smart-table",17),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("data",n.table.data)("settings",n.table.settings)}}var I,F=((I=function(){function t(e,a,o,r,l,i){n(this,t),this.api=e,this.pdfService=a,this.csvService=o,this.common=r,this.user=l,this.modalService=i,this.cardUsage=[],this.total=0,this.headings=[],this.valobj={},this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.dates={start:null,end:this.common.dateFormatter1(new Date)};var d=new Date;this.dates.start=this.common.dateFormatter1(new Date(d.setDate(d.getDate()-30))),this.getcardUsage(),this.common.refresh=this.refresh.bind(this)}return e(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.getcardUsage()}},{key:"ngAfterViewInit",value:function(){}},{key:"getDate",value:function(t){var e=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then((function(n){"start"==t&&(e.dates.start=e.common.dateFormatter(n.date).split(" ")[0]),"end"==t&&(e.dates.end=e.common.dateFormatter(n.date).split(" ")[0])}))}},{key:"getcardUsage",value:function(){var t=this,e="&mobileno="+this.user._details.fo_mobileno+"&startdate="+this.dates.start+"&enddate="+this.dates.end;console.log("-----------",e),this.common.loading++,this.api.walle8Get("AccountSummaryApi/ViewCardUsages.json?"+e).subscribe((function(e){t.common.loading--,console.log("res: "+e.data),t.cardUsage=e.data;var n=t.cardUsage[0],a={};for(var o in n)if("_"!=o.charAt(0)){if("vid"==o)continue;t.headings.push(o);var r={title:t.formatTitle(o),placeholder:t.formatTitle(o)};a[o]=r}t.table.data={headings:a,columns:t.getTableColumns()}}),(function(e){t.common.loading--,console.log(e)}))}},{key:"getTableColumns",value:function(){var t=this,e=[];return console.log("Data=",this.cardUsage),this.cardUsage.map((function(n){t.valobj={};for(var a=0;a<t.headings.length;a++)t.valobj[t.headings[a]]="vehicle"==t.headings[a]?{value:n[t.headings[a]],class:"blue",action:t.showdata.bind(t,n)}:{value:n[t.headings[a]],class:"black",action:""};e.push(t.valobj)})),e}},{key:"formatTitle",value:function(t){return t.length<=4?t.toUpperCase():t.charAt(0).toUpperCase()+t.slice(1)}},{key:"showdata",value:function(t){this.common.params={vehicleName:t.vehicle,vehicleid:t.vid,startdate:this.dates.start,enddate:this.dates.end,name:"admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name,mobileno:this.user._details.fo_mobileno},this.modalService.open(w.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then((function(t){}))}},{key:"printPDF",value:function(){var t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t),this.pdfService.jrxTablesPDF(["cardUsage"],"card-usage",[["Name: "+t,"Start Date: "+this.dates.start,"End Date: "+this.dates.end,"Report: Card-Usage"]])}},{key:"printCSV",value:function(){this.csvService.byMultiIds(["cardUsage"],"card-usage",[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),startdate:"Start Date:"+this.dates.start,enddate:"End Date: "+this.dates.end,report:"Report:Card-Usage"}])}}]),t}()).\u0275fac=function(t){return new(t||I)(s["\u0275\u0275directiveInject"](v.a),s["\u0275\u0275directiveInject"](C.a),s["\u0275\u0275directiveInject"](_.a),s["\u0275\u0275directiveInject"](f.a),s["\u0275\u0275directiveInject"](h.a),s["\u0275\u0275directiveInject"](y.r))},I.\u0275cmp=s["\u0275\u0275defineComponent"]({type:I,selectors:[["card-usage"]],decls:24,vars:9,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[1,"row","m-0","p-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],["id","cardUsage",3,"data","settings",4,"ngIf"],["id","cardUsage",3,"data","settings"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"h5",2),s["\u0275\u0275text"](5,"Card Usage"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",3),s["\u0275\u0275elementStart"](7,"span",4),s["\u0275\u0275elementStart"](8,"span",5),s["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),s["\u0275\u0275element"](9,"i",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"span",7),s["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),s["\u0275\u0275element"](11,"i",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",9),s["\u0275\u0275elementStart"](13,"div",10),s["\u0275\u0275elementStart"](14,"input",11),s["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),s["\u0275\u0275pipe"](15,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",12),s["\u0275\u0275elementStart"](17,"input",13),s["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),s["\u0275\u0275pipe"](18,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",12),s["\u0275\u0275elementStart"](20,"button",14),s["\u0275\u0275listener"]("click",(function(){return e.getcardUsage()})),s["\u0275\u0275text"](21,"Submit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"nb-card-body",15),s["\u0275\u0275template"](23,D,1,2,"smart-table",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](14),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](15,3,e.dates.start,"dd MMM yyyy")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](18,6,e.dates.end,"dd MMM yyyy")),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",e.cardUsage&&e.cardUsage.length))},directives:[g.s,g.v,g.r,S.u,M.a],pipes:[S.f],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#ddd}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:30px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:200px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:30px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:200px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#e4e4e4}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}",'.thead[_ngcontent-%COMP%]{color:#fff;background-color:#263238}.thead[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:12px}td[_ngcontent-%COMP%]{font-weight:500;padding:8px}.thead-dark[_ngcontent-%COMP%]{color:#fff;font-size:18px;background-color:#263238}.arrow[_ngcontent-%COMP%]{font-size:18px;margin:8px}.btn[_ngcontent-%COMP%]{background:#f2f2f2;font-weight:700;margin-right:5px;margin-left:5px;margin-top:5px;display:inline-block;font-size:14px;text-align:center;height:30px;line-height:5px;border-radius:4px;font-family:Exo;color:#000;cursor:pointer}.btn.btn-danger[_ngcontent-%COMP%]{background-color:#da2240;color:#fff;background-color:#f05e77}.btn.btn-danger[_ngcontent-%COMP%]:active, .btn.btn-danger[_ngcontent-%COMP%]:focus, .btn.btn-danger[_ngcontent-%COMP%]:hover{background-color:#e22242}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#3c6ac7;color:#fff;background-color:#73a1ff}.btn.btn-primary[_ngcontent-%COMP%]:active, .btn.btn-primary[_ngcontent-%COMP%]:focus, .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0054ff}.btn.btn-default.btn-sm[_ngcontent-%COMP%]{float:right;margin-right:50%;background:#dcd9d9;color:#000;font-size:12px}.nb-theme-corporate[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:disabled):not(.disabled){cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:#f1f1f1}nb-card-body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;cursor:pointer;border-radius:0}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:start:decrement{background:linear-gradient(120deg,#696969 40%,transparent 41%),linear-gradient(240deg,#696969 40%,transparent 41%),linear-gradient(0deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:vertical:end:increment{background:linear-gradient(300deg,#696969 40%,transparent 41%),linear-gradient(60deg,#696969 40%,transparent 41%),linear-gradient(180deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:end:increment{background:linear-gradient(210deg,#696969 40%,transparent 41%),linear-gradient(330deg,#696969 40%,transparent 41%),linear-gradient(90deg,#696969 30%,transparent 31%);background-color:#b6b6b6}[_ngcontent-%COMP%]::-webkit-scrollbar-button:horizontal:start:decrement{background:linear-gradient(30deg,#696969 40%,transparent 41%),linear-gradient(150deg,#696969 40%,transparent 41%),linear-gradient(270deg,#696969 30%,transparent 31%);background-color:#b6b6b6}.no-data[_ngcontent-%COMP%]{font-size:18px;color:#f73c3c;font-weight:600;text-align:center;width:100%}[_nghost-%COMP%]     .nb-home:before{content:"\\f015"}[_nghost-%COMP%]     .nb-notifications:before{content:"\\f145"}[_nghost-%COMP%]     .nb-title:before{content:"\\f02d"}[_nghost-%COMP%]     .nb-list:before{content:"\\f016"}[_nghost-%COMP%]     .fa-book:before{content:"\\f0d6"}[_nghost-%COMP%]     .fa-signal:before{content:"\\f043"}[_nghost-%COMP%]     .fa-truck:before{content:"\\f0d1"}[_nghost-%COMP%]     .fa-cog:before{content:"\\f013"}[_nghost-%COMP%]     .fa-database:before{content:"\\f15c";font-size:14px}[_nghost-%COMP%]     .fa-money:before{content:"\\f283";font-size:14px}[_nghost-%COMP%]     .control-icon.nb-notifications:before{content:"\\f0f3";display:block;font-family:FontAwesome;font-size:22px;margin-right:8px;margin-top:8px}[_nghost-%COMP%]     nb-base-calendar.medium nb-card{width:100%}[_nghost-%COMP%]     nb-base-calendar.medium nb-card-header{padding:10px 20px;border-bottom:1px solid #eaeaea}']}),I),T=o("csNM");function A(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"tr"),s["\u0275\u0275elementStart"](1,"td"),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"td"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"td"),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"td"),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit,a=e.index,o=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](a+1),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](o.common.dateFormatter1(n.dttime)),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.amt),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.rema)}}function j(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"table",17),s["\u0275\u0275elementStart"](1,"thead",18),s["\u0275\u0275elementStart"](2,"tr"),s["\u0275\u0275elementStart"](3,"th"),s["\u0275\u0275text"](4,"#"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"th"),s["\u0275\u0275text"](6,"Date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"th"),s["\u0275\u0275text"](8,"Amonut"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"th"),s["\u0275\u0275text"](10,"Remark"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"tbody"),s["\u0275\u0275template"](12,A,9,4,"tr",19),s["\u0275\u0275elementStart"](13,"tr"),s["\u0275\u0275element"](14,"td"),s["\u0275\u0275elementStart"](15,"td"),s["\u0275\u0275text"](16,"Total"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"td"),s["\u0275\u0275text"](18),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](19,"td"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](12),s["\u0275\u0275property"]("ngForOf",n.data),s["\u0275\u0275advance"](6),s["\u0275\u0275textInterpolate"](n.total)}}var B,R=((B=function(){function t(e,a,o,r,l,i){n(this,t),this.api=e,this.pdfService=a,this.csvService=o,this.common=r,this.user=l,this.modalService=i,this.data=[],this.total=0,this.userId=this.user._details.id,this.startTime=new Date((new Date).setMonth((new Date).getMonth()-1)),this.endTime=new Date,this.table=null,this.getPaymentMade(),this.common.refresh=this.refresh.bind(this)}return e(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.getPaymentMade()}},{key:"getDate",value:function(t){var e=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then((function(n){"start"==t&&(e.startTime=e.common.dateFormatter(n.date).split(" ")[0]),"end"==t&&(e.endTime=e.common.dateFormatter(n.date).split(" ")[0])}))}},{key:"getPaymentMade",value:function(){var t=this;this.total=0;var e="aduserid="+this.user._details.id+"&mobileno="+this.user._details.fo_mobileno+"&startdate="+this.common.dateFormatter(new Date(this.startTime))+"&enddate="+this.common.dateFormatter(new Date(this.endTime));this.common.loading++,this.api.walle8Get("PaymentApi/FoPaymentsView.json?"+e).subscribe((function(e){t.common.loading--,console.log("Res:",e.data),t.data=e.data;for(var n=0;n<t.data.length;n+=1)t.total+=Number(t.data[n].amt)}),(function(e){t.common.loading--,console.log(e)}))}},{key:"printPDF",value:function(){var t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t);var e=[["Name: "+t,"Start Date: "+this.common.dateFormatter1(this.startTime),"End Date: "+this.common.dateFormatter1(this.endTime),"Report: Payment-Made"]];this.pdfService.jrxTablesPDF(["paymentsMade"],"pqyment-made",e)}},{key:"printCSV",value:function(){var t=[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),startdate:"Start Date:"+this.common.dateFormatter1(this.startTime),enddate:"End Date:"+this.common.dateFormatter1(this.endTime),report:"Report:Payment-Made"}];this.csvService.byMultiIds(["paymentsMade"],"payment-made",t)}}]),t}()).\u0275fac=function(t){return new(t||B)(s["\u0275\u0275directiveInject"](v.a),s["\u0275\u0275directiveInject"](C.a),s["\u0275\u0275directiveInject"](_.a),s["\u0275\u0275directiveInject"](f.a),s["\u0275\u0275directiveInject"](h.a),s["\u0275\u0275directiveInject"](y.r))},B.\u0275cmp=s["\u0275\u0275defineComponent"]({type:B,selectors:[["payments-made"]],decls:23,vars:6,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[1,"row","m-0","pt-3",2,"background-color","white"],[1,"col-3","pl-3"],[3,"isTime","dateTimeValue","onChanged"],[1,"col-3"],[3,"isTime","isStart","dateTimeValue","onChanged"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],["class","table table-bordered","style","width:100%","id","paymentsMade",4,"ngIf"],["id","paymentsMade",1,"table","table-bordered",2,"width","100%"],[2,"background","#E5F3F9!important","color","black!important"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"h5",2),s["\u0275\u0275text"](5,"Payment Made"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",3),s["\u0275\u0275elementStart"](7,"span",4),s["\u0275\u0275elementStart"](8,"span",5),s["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),s["\u0275\u0275element"](9,"i",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"span",7),s["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),s["\u0275\u0275element"](11,"i",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",9),s["\u0275\u0275elementStart"](13,"div",10),s["\u0275\u0275elementStart"](14,"uj-date-time-picker",11),s["\u0275\u0275listener"]("onChanged",(function(t){return e.startTime=t})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"div",12),s["\u0275\u0275elementStart"](16,"uj-date-time-picker",13),s["\u0275\u0275listener"]("onChanged",(function(t){return e.endTime=t})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"div",12),s["\u0275\u0275elementStart"](18,"button",14),s["\u0275\u0275listener"]("click",(function(){return e.getPaymentMade()})),s["\u0275\u0275text"](19,"Submit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"nb-card-body",15),s["\u0275\u0275template"](21,j,20,2,"table",16),s["\u0275\u0275element"](22,"br"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](14),s["\u0275\u0275property"]("isTime",!1)("dateTimeValue",e.startTime),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("isTime",!1)("isStart",!1)("dateTimeValue",e.endTime),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngIf",e.data.length))},directives:[g.s,g.v,T.a,g.r,S.u,S.t],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#ddd}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:70px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:70px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#e4e4e4}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),B);function z(t,e){if(1&t){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",6),s["\u0275\u0275elementStart"](1,"span",7),s["\u0275\u0275elementStart"](2,"span",8),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().printPDF()})),s["\u0275\u0275element"](3,"i",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"span",10),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().printCSV()})),s["\u0275\u0275element"](5,"i",11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function H(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"tr"),s["\u0275\u0275elementStart"](1,"td"),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"td"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"td"),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"td"),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"td"),s["\u0275\u0275text"](10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.vehicle),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.nbal),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.cardno),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.dttime),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.rema)}}function V(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"table",12),s["\u0275\u0275elementStart"](1,"thead"),s["\u0275\u0275elementStart"](2,"tr"),s["\u0275\u0275elementStart"](3,"th"),s["\u0275\u0275text"](4,"Vehicle"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"th"),s["\u0275\u0275text"](6,"Recharge"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"th"),s["\u0275\u0275text"](8,"Card Number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"th"),s["\u0275\u0275text"](10,"Date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"th"),s["\u0275\u0275text"](12,"Remark"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"tbody"),s["\u0275\u0275template"](14,H,11,5,"tr",13),s["\u0275\u0275elementStart"](15,"tr"),s["\u0275\u0275elementStart"](16,"td"),s["\u0275\u0275text"](17,"Total"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"td"),s["\u0275\u0275text"](19),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](20,"td"),s["\u0275\u0275element"](21,"td"),s["\u0275\u0275element"](22,"td"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](14),s["\u0275\u0275property"]("ngForOf",n.data),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](n.total)}}var N,U=((N=function(){function t(e,a,o,r,l,i){n(this,t),this.api=e,this.pdfService=a,this.csvService=o,this.common=r,this.user=l,this.modalService=i,this.data=[],this.mobileno=this.user._details.fo_mobileno,this.userId=this.user._details.id,this.dates={start:null,end:null},this.table=null,this.total=null;var d=new Date;this.dates.start=this.common.dateFormatter1(new Date(d.setDate(d.getDate()-1))),this.dates.end=this.common.dateFormatter1(new Date),this.getLatestRecharge(),this.common.refresh=this.refresh.bind(this)}return e(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.getLatestRecharge()}},{key:"getDate",value:function(t){var e=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then((function(n){e.dates[t]=e.common.dateFormatter(n.date).split(" ")[0],console.log("Date:",e.dates)}))}},{key:"getLatestRecharge",value:function(){var t=this,e="mobileno="+this.user._details.fo_mobileno+"&startdate="+this.dates.start+"&enddate="+this.dates.end;this.common.loading++,this.api.walle8Get("CardRechargeApi/FoCardRechargeView.json?"+e).subscribe((function(e){t.common.loading--,console.log("Res:",e.data),t.data=e.data;for(var n=0;n<t.data.length;n+=1)t.total+=Number(t.data[n].nbal);null==t.data&&t.common.showToast("NO DATA FOUND")}),(function(e){t.common.loading--,console.log(e)}))}},{key:"printPDF",value:function(){var t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t),this.pdfService.jrxTablesPDF(["latestrecharge"],"latest-recharge",[["Name: "+t,"Report: Latest-Recharge"]])}},{key:"printCSV",value:function(){this.csvService.byMultiIds(["latestrecharge"],"latest-recharge",[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),report:"Report:Latest-Recharge"}])}}]),t}()).\u0275fac=function(t){return new(t||N)(s["\u0275\u0275directiveInject"](v.a),s["\u0275\u0275directiveInject"](C.a),s["\u0275\u0275directiveInject"](_.a),s["\u0275\u0275directiveInject"](f.a),s["\u0275\u0275directiveInject"](h.a),s["\u0275\u0275directiveInject"](y.r))},N.\u0275cmp=s["\u0275\u0275defineComponent"]({type:N,selectors:[["latest-recharge"]],decls:9,vars:2,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],["style","display:inline-block;","class","p-2 float",4,"ngIf"],[2,"width","96%","margin-left","2%"],["class","table table-bordered","id","latestrecharge","style","width:100%;",4,"ngIf"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],["id","latestrecharge",1,"table","table-bordered",2,"width","100%"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"h5",2),s["\u0275\u0275text"](5,"Latest Recharge"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](6,z,6,0,"div",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"nb-card-body",4),s["\u0275\u0275template"](8,V,23,2,"table",5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",e.data.length),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",e.data.length))},directives:[g.s,g.v,S.u,g.r,S.t],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#ddd}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#a9aaaa;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:200px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:200px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#e4e4e4}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),N);function G(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"tr"),s["\u0275\u0275elementStart"](1,"td"),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"td"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.vehicle),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.tolls)}}function K(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"table",17),s["\u0275\u0275elementStart"](1,"thead",18),s["\u0275\u0275elementStart"](2,"tr"),s["\u0275\u0275elementStart"](3,"th"),s["\u0275\u0275text"](4,"Vehicle"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"th"),s["\u0275\u0275text"](6,"Amount"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"tbody"),s["\u0275\u0275template"](8,G,5,2,"tr",19),s["\u0275\u0275elementStart"](9,"tr"),s["\u0275\u0275elementStart"](10,"td"),s["\u0275\u0275text"](11,"Total"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"td"),s["\u0275\u0275text"](13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("ngForOf",n.data),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](n.total)}}var q,Y=((q=function(){function t(e,a,o,r,l,i){n(this,t),this.api=e,this.pdfService=a,this.csvService=o,this.common=r,this.user=l,this.modalService=i,this.userId=this.user._details.id,this.mobile=null,this.dates={start:null,end:null},this.tollSummary=[],this.data=[],this.total=null,this.table=null;var d=new Date;this.dates.start=this.common.dateFormatter1(new Date(d.setDate(d.getDate()-30))),this.dates.end=this.common.dateFormatter1(new Date),this.gettollUsageSummary(),this.common.refresh=this.refresh.bind(this)}return e(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.gettollUsageSummary()}},{key:"getDate",value:function(t){var e=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then((function(n){e.dates[t]=e.common.dateFormatter(n.date).split(" ")[0],console.log("Date:",e.dates)}))}},{key:"printPDF",value:function(){var t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t);var e=[["Name: "+t,"Start Date: "+this.common.dateFormatter1(this.dates.start),"End Date: "+this.common.dateFormatter1(this.dates.end),"Report: Toll-Usage-Summary"]];this.pdfService.jrxTablesPDF(["tollUsageSummary"],"toll-usage-summary",e)}},{key:"printCSV",value:function(){var t=[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),startdate:"Start Date:"+this.common.dateFormatter1(this.dates.start),enddate:"End Date:"+this.common.dateFormatter1(this.dates.end),report:"Report:Toll-Usage-Summary"}];this.csvService.byMultiIds(["tollUsageSummary"],"toll-usage-summary",t)}},{key:"gettollUsageSummary",value:function(){var t=this;this.mobile="admin"==this.user._loggedInBy?this.user._details.fo_mobileno:this.user._details.mobile;var e="startDate="+this.dates.start+"&endDate="+this.dates.end+"&mobileno="+this.mobile;this.common.loading++,this.api.walle8Get("TollSummary/getTollUsageSummary.json?"+e).subscribe((function(e){if(t.common.loading--,console.log("Res:",e.data),t.data=e.data,null==t.data&&(t.data=[]),e.data)for(var n=0;n<t.data.length;n+=1)t.total+=Number(t.data[n].tolls)}),(function(e){t.common.loading--,console.log(e)}))}}]),t}()).\u0275fac=function(t){return new(t||q)(s["\u0275\u0275directiveInject"](v.a),s["\u0275\u0275directiveInject"](C.a),s["\u0275\u0275directiveInject"](_.a),s["\u0275\u0275directiveInject"](f.a),s["\u0275\u0275directiveInject"](h.a),s["\u0275\u0275directiveInject"](y.r))},q.\u0275cmp=s["\u0275\u0275defineComponent"]({type:q,selectors:[["toll-usage-summary"]],decls:24,vars:9,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[1,"row","m-0","pt-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],["class","table table-bordered","id","tollUsageSummary","style","width:100%",4,"ngIf"],["id","tollUsageSummary",1,"table","table-bordered",2,"width","100%"],[2,"background","#E5F3F9!important","color","black!important"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"h5",2),s["\u0275\u0275text"](5,"Toll Usage Summary"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",3),s["\u0275\u0275elementStart"](7,"span",4),s["\u0275\u0275elementStart"](8,"span",5),s["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),s["\u0275\u0275element"](9,"i",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"span",7),s["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),s["\u0275\u0275element"](11,"i",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",9),s["\u0275\u0275elementStart"](13,"div",10),s["\u0275\u0275elementStart"](14,"input",11),s["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),s["\u0275\u0275pipe"](15,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",12),s["\u0275\u0275elementStart"](17,"input",13),s["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),s["\u0275\u0275pipe"](18,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",12),s["\u0275\u0275elementStart"](20,"button",14),s["\u0275\u0275listener"]("click",(function(){return e.gettollUsageSummary()})),s["\u0275\u0275text"](21,"SUMMARY"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"nb-card-body",15),s["\u0275\u0275template"](23,K,14,2,"table",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](14),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](15,3,e.dates.start,"dd MMM yyyy")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](18,6,e.dates.end,"dd MMM yyyy")),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",e.data.length))},directives:[g.s,g.v,g.r,S.u,S.t],pipes:[S.f],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#ddd}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:hsla(0,0%,96.1%,.22)!important}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#edf1f7!important}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),q);function L(t,e){if(1&t){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",19),s["\u0275\u0275elementStart"](1,"h5",20),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"div",21),s["\u0275\u0275elementStart"](4,"table"),s["\u0275\u0275elementStart"](5,"thead"),s["\u0275\u0275elementStart"](6,"tr"),s["\u0275\u0275elementStart"](7,"th"),s["\u0275\u0275text"](8,"Fuel"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"th"),s["\u0275\u0275text"](10,"Toll"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"th"),s["\u0275\u0275text"](12,"Total"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"tbody"),s["\u0275\u0275elementStart"](14,"tr"),s["\u0275\u0275elementStart"](15,"td"),s["\u0275\u0275text"](16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"td"),s["\u0275\u0275text"](18),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"td"),s["\u0275\u0275text"](20),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"div",22),s["\u0275\u0275elementStart"](22,"a",23),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var t=e.index;return s["\u0275\u0275nextContext"]().getdiscountDetails(t+1)})),s["\u0275\u0275text"](23,"Details info"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&t){var a=e.$implicit;s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](a.title),s["\u0275\u0275advance"](14),s["\u0275\u0275textInterpolate"](a.fdisc),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](a.tdisc),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](+a.fdisc+ +a.tdisc)}}function X(t,e){if(1&t&&s["\u0275\u0275element"](0,"smart-table",24),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("data",n.table.data)("settings",n.table.settings)}}var W,Z=((W=function(){function t(e,a,o,r,l,i){n(this,t),this.api=e,this.pdfService=a,this.csvService=o,this.common=r,this.user=l,this.modalService=i,this.params=null,this.discounts=null,this.discount=null,this.tollDiscount=[],this.dates={start:"",end:""},this.foid=this.user._details.id,this.singleValue=[],this.data=[],this.table=null;var d=new Date;this.dates.start=this.common.dateFormatter1(new Date(d.getFullYear(),d.getMonth()-12,1,0,0,0)),this.dates.end=this.common.dateFormatter1(d),this.getdetails(),this.getdiscountDetails(0),this.gettollDiscount(),this.common.refresh=this.refresh.bind(this)}return e(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.getdetails(),this.getdiscountDetails(0),this.gettollDiscount()}},{key:"getDate",value:function(t){var e=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then((function(n){e.dates[t]=e.common.dateFormatter(n.date).split(" ")[0],console.log("Date:",e.dates)}))}},{key:"printPDF",value:function(){var t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t);var e=[["Name: "+t,"Start Date: "+this.common.dateFormatter1(this.dates.start),"End Date: "+this.common.dateFormatter1(this.dates.end),"Report: Toll-Discount"]];this.pdfService.jrxTablesPDF(["tollDiscount"],"toll-discount",e)}},{key:"printCSV",value:function(){var t=[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),startdate:"Start Date:"+this.common.dateFormatter1(this.dates.start),enddate:"End Date:"+this.common.dateFormatter1(this.dates.end),report:"Report:Toll-Discount"}];this.csvService.byMultiIds(["tollDiscount"],"toll-discount",t)}},{key:"sortDiscount",value:function(t){t.sort((function(t,e){return t.id>e.id?1:e.id>t.id?-1:0})),console.log(t),this.discounts=t}},{key:"calculateTotal",value:function(t){for(var e=0;e<t.length;e++)return parseInt(t[e].fdisc)+parseInt(t[e].tdisc)}},{key:"gettollDiscount",value:function(){var t=this,e="foid="+this.user._details.foid;this.common.loading++,this.api.walle8Get("DiscountApi/getUserDiscountHistory.json?"+e).subscribe((function(e){t.common.loading--,console.log("Res:",e.data),t.tollDiscount=e.data,console.log("..........",t.tollDiscount),1==e.responsecode&&(t.sortDiscount(t.tollDiscount),t.total=t.calculateTotal(t.tollDiscount),console.log("total",t.total))}),(function(e){t.common.loading--,console.log(e)}))}},{key:"getdiscountDetails",value:function(t){console.log(t);var e=new Date,n="",a="";switch(t){case 1:console.log("Here1"),n=this.common.dateFormatter1(new Date(e.getFullYear(),e.getMonth()-1,1,0,0,0)),this.dates.start=n,a=this.common.dateFormatter1(new Date(e.getFullYear(),e.getMonth(),1,0,0,0)),this.dates.end=a,this.getdetails();break;case 2:n=this.common.dateFormatter1(new Date(e.getFullYear(),e.getMonth()-2,1,0,0,0)),this.dates.start=n,a=this.common.dateFormatter1(new Date(e.getFullYear(),e.getMonth()-1,1,0,0,0)),this.dates.end=a,this.getdetails();break;case 3:n=this.common.dateFormatter1(new Date(e.getFullYear(),e.getMonth()-3,1,0,0,0)),this.dates.start=n,a=this.common.dateFormatter1(new Date(e.getFullYear(),e.getMonth()-2,1,0,0,0)),this.dates.end=a,this.getdetails();break;case 4:n=this.common.dateFormatter1(new Date(e.getFullYear(),e.getMonth()-6,1,0,0,0)),this.dates.start=n,a=this.common.dateFormatter1(new Date(e.getFullYear(),e.getMonth(),1,0,0,0)),this.dates.end=a,this.getdetails();break;case 5:n=this.common.dateFormatter1(new Date(e.getFullYear(),e.getMonth()-12,1,0,0,0)),this.dates.start=n,a=this.common.dateFormatter1(new Date),this.dates.end=a,this.getdetails()}}},{key:"getdetails",value:function(){var t=this,e=new Date,n="mobileNo="+this.user._details.fo_mobileno+"&startDate="+this.common.dateFormatter1(new Date(e.getFullYear(),e.getMonth()-12,1,0,0,0))+"&endDate="+this.common.dateFormatter1(e);this.common.loading++,this.api.walle8Get("TollSummary/getTollDiscount.json?"+n).subscribe((function(e){if(t.common.loading--,console.log("Res:",e.data),t.data=e.data,null==t.data)return t.data=[],void(t.table=null);t.table=t.setTable()}),(function(e){t.common.loading--,console.log(e)}))}},{key:"setTable",value:function(){return{data:{headings:{transdate:{title:"Date",placeholder:"Date"},amount:{title:"Amount",placeholder:"Amount"},remark:{title:"Remark",placeholder:"Remark"},disc_type:{title:"Discount Type",placeholder:"Discount Type"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}}},{key:"getTableColumns",value:function(){var t=this,e=[];return this.data.map((function(n){var a={transdate:{value:null==n.transdate?"-":t.common.changeDateformat4(n.transdate)},amount:{value:null==n.amount?"-":n.amount},remark:{value:null==n.remark?"-":n.remark},disc_type:{value:null==n.disc_type?"-":n.disc_type}};e.push(a)})),e}}]),t}()).\u0275fac=function(t){return new(t||W)(s["\u0275\u0275directiveInject"](v.a),s["\u0275\u0275directiveInject"](C.a),s["\u0275\u0275directiveInject"](_.a),s["\u0275\u0275directiveInject"](f.a),s["\u0275\u0275directiveInject"](h.a),s["\u0275\u0275directiveInject"](y.r))},W.\u0275cmp=s["\u0275\u0275defineComponent"]({type:W,selectors:[["toll-discount"]],decls:26,vars:10,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[1,"row","m-0","pt-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["type","button",1,"btn","customButton",3,"click"],[1,"row","mt-4","ml-2"],["class","col-2",4,"ngFor","ngForOf"],[2,"width","96%","margin-left","2%"],["id","tollDiscount",3,"data","settings",4,"ngIf"],[1,"col-2"],[1,"panel-heading"],[1,"small_tabel"],[1,"mini-stat-info"],["href","javascript:void(0)",3,"click"],["id","tollDiscount",3,"data","settings"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"h5",2),s["\u0275\u0275text"](5,"Toll Discount"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",3),s["\u0275\u0275elementStart"](7,"span",4),s["\u0275\u0275elementStart"](8,"span",5),s["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),s["\u0275\u0275element"](9,"i",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"span",7),s["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),s["\u0275\u0275element"](11,"i",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",9),s["\u0275\u0275elementStart"](13,"div",10),s["\u0275\u0275elementStart"](14,"input",11),s["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),s["\u0275\u0275pipe"](15,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",12),s["\u0275\u0275elementStart"](17,"input",13),s["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),s["\u0275\u0275pipe"](18,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",12),s["\u0275\u0275elementStart"](20,"button",14),s["\u0275\u0275listener"]("click",(function(){return e.getdetails()})),s["\u0275\u0275text"](21,"Submit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"div",15),s["\u0275\u0275template"](23,L,24,4,"div",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](24,"nb-card-body",17),s["\u0275\u0275template"](25,X,1,2,"smart-table",18),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](14),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](15,4,e.dates.start,"dd MMM yyyy")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](18,7,e.dates.end,"dd MMM yyyy")),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngForOf",e.tollDiscount),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",e.data.length))},directives:[g.s,g.v,S.t,g.r,S.u,M.a],pipes:[S.f],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#ddd}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:30px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:200px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:30px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:200px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#e4e4e4}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}.panel-heading[_ngcontent-%COMP%]{font-size:14px;padding:0;font-weight:700}.small_tabel[_ngcontent-%COMP%]{border:1px solid #e6e6e6;padding:5px;border-radius:3px}.small_tabel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#97bbef;color:#fff}.small_tabel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#c9daf1;color:#fff}.small_tabel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#97bbef;color:#fff}.small_tabel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .small_tabel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:auto;padding:5px;font-size:12px}.small_tabel[_ngcontent-%COMP%]   .mini-stat-info[_ngcontent-%COMP%]{font-size:12px;text-align:right;font-weight:400;padding:7px 0 0}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),W);function J(t,e){if(1&t){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",12),s["\u0275\u0275elementStart"](1,"span",13),s["\u0275\u0275elementStart"](2,"span",14),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().printPDF()})),s["\u0275\u0275element"](3,"i",15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"span",16),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().printCSV()})),s["\u0275\u0275element"](5,"i",17),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function Q(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"tr"),s["\u0275\u0275elementStart"](1,"td"),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"td"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"td"),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"td"),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.cardno),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.trtime),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.deal),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.amt)}}function $(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"table",18),s["\u0275\u0275elementStart"](1,"thead"),s["\u0275\u0275elementStart"](2,"tr"),s["\u0275\u0275elementStart"](3,"th"),s["\u0275\u0275text"](4,"Vehicle"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"th"),s["\u0275\u0275text"](6,"Transaction Time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"th"),s["\u0275\u0275text"](8,"Plaza Code"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"th"),s["\u0275\u0275text"](10,"Amount"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"tbody"),s["\u0275\u0275template"](12,Q,9,4,"tr",19),s["\u0275\u0275elementStart"](13,"tr"),s["\u0275\u0275element"](14,"td"),s["\u0275\u0275element"](15,"td"),s["\u0275\u0275elementStart"](16,"td"),s["\u0275\u0275text"](17,"Total"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"td"),s["\u0275\u0275text"](19),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](12),s["\u0275\u0275property"]("ngForOf",n.data),s["\u0275\u0275advance"](7),s["\u0275\u0275textInterpolate"](n.total)}}var tt,et=((tt=function(){function t(e,a,o,r,l,i){n(this,t),this.api=e,this.pdfService=a,this.csvService=o,this.common=r,this.user=l,this.modalService=i,this.data=[],this.total=0,this.tollUsage=[],this.userId=this.user._details.id,this.cardType=1,this.table=null,this.dates={start:null,end:this.common.dateFormatter(new Date)};var d=new Date;this.dates.start=this.common.dateFormatter1(new Date(d.setDate(d.getDate()-1))),this.gettollUsage(),this.common.refresh=this.refresh.bind(this)}return e(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.gettollUsage()}},{key:"getDate",value:function(t){var e=this;this.common.params={ref_page:"toll Usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then((function(n){e.dates[t]=e.common.dateFormatter(n.date).split(" ")[0],console.log("Date:",e.dates)}))}},{key:"gettollUsage",value:function(){var t=this;this.total=0;var e="startDate="+this.dates.start+"&endDate="+this.dates.end;this.common.loading++,this.api.walle8Get("TollSummary/getEntireTollUsage.json?"+e).subscribe((function(e){if(t.common.loading--,console.log("Res:",e.data),t.data=e.data,e.data)for(var n=0;n<t.data.length;n+=1)t.total+=Number(t.data[n].amt)}),(function(e){t.common.loading--,console.log(e)}))}},{key:"printPDF",value:function(){var t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t);var e=[["Name: "+t,"Start Date: "+this.common.dateFormatter1(this.dates.start),"End Date: "+this.common.dateFormatter1(this.dates.end),"Report: Toll-Usage"]];this.pdfService.jrxTablesPDF(["tollUsage"],"toll-usage",e)}},{key:"printCSV",value:function(){var t=[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),startdate:"Start Date:"+this.common.dateFormatter1(this.dates.start),enddate:"End Date:"+this.common.dateFormatter1(this.dates.end),report:"Report:Toll-Usage"}];this.csvService.byMultiIds(["tollUsage"],"toll-usage",t)}}]),t}()).\u0275fac=function(t){return new(t||tt)(s["\u0275\u0275directiveInject"](v.a),s["\u0275\u0275directiveInject"](C.a),s["\u0275\u0275directiveInject"](_.a),s["\u0275\u0275directiveInject"](f.a),s["\u0275\u0275directiveInject"](h.a),s["\u0275\u0275directiveInject"](y.r))},tt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:tt,selectors:[["toll-usage"]],decls:19,vars:10,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],["style","display:inline-block;","class","p-2 float",4,"ngIf"],[1,"row","m-0","p-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],["id","tollUsage","class","table table-bordered","style","width:100%",4,"ngIf"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],["id","tollUsage",1,"table","table-bordered",2,"width","100%"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"h5",2),s["\u0275\u0275text"](5,"Toll Usage"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](6,J,6,0,"div",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"div",4),s["\u0275\u0275elementStart"](8,"div",5),s["\u0275\u0275elementStart"](9,"input",6),s["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),s["\u0275\u0275pipe"](10,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"div",7),s["\u0275\u0275elementStart"](12,"input",8),s["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),s["\u0275\u0275pipe"](13,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"div",7),s["\u0275\u0275elementStart"](15,"button",9),s["\u0275\u0275listener"]("click",(function(){return e.gettollUsage()})),s["\u0275\u0275text"](16,"Submit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"nb-card-body",10),s["\u0275\u0275template"](18,$,20,2,"table",11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",e.data),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](10,4,e.dates.start,"dd MMM yyyy")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](13,7,e.dates.end,"dd MMM yyyy")),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",e.data))},directives:[g.s,g.v,S.u,g.r,S.t],pipes:[S.f],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),tt);function nt(t,e){if(1&t&&s["\u0275\u0275element"](0,"smart-table",17),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("data",n.table.data)("settings",n.table.settings)}}var at,ot=((at=function(){function t(e,a,o,r,l,i){n(this,t),this.api=e,this.pdfService=a,this.csvService=o,this.common=r,this.user=l,this.modalService=i,this.dates={start:null,end:this.common.dateFormatter(new Date)},this.table=null,this.data=[];var d=new Date;this.dates.start=this.common.dateFormatter1(d.setDate(d.getDate()-1)),this.gettollSetteledReq(),this.common.refresh=this.refresh.bind(this)}return e(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.gettollSetteledReq()}},{key:"getDate",value:function(t){var e=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then((function(n){e.dates[t]=e.common.dateFormatter(n.date).split(" ")[0],console.log("Date:",e.dates)}))}},{key:"setTable",value:function(){return{data:{headings:{toll_usage_id:{title:"Toll Id",placeholder:"Toll Id"},toll_plaza:{title:"TOll Plaza",placeholder:"\tToll Plaza"},regno:{title:"Registration No",placeholder:"Registration No"},transtime:{title:"transtime",placeholder:"Transmit Time"},amount:{title:"Amount",placeholder:"Amount"},issueid:{title:"Issue Type",placeholder:"Issue Type"},issue_remark:{title:"Issue Remark",placeholder:"Issue Remark"},status:{title:"status",placeholder:"status"},cashback:{title:"cashback",placeholder:"cashback"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}}},{key:"getTableColumns",value:function(){var t=[];return this.data.map((function(e){t.push({toll_usage_id:{value:e.toll_usage_id},toll_plaza:{value:e.toll_plaza},regno:{value:null==e.regno?"-":e.regno},transtime:{value:null==e.transtime?"-":e.transtime},amount:{value:null==e.amount?"-":e.amount},issueid:{value:null==e.issueid?"-":e.issueid},issue_remark:{value:null==e.issue_remark?"-":e.issue_remark},status:{value:null==e.status?"-":e.status},cashback:{value:null==e.cashback?"-":e.cashback}})})),t}},{key:"gettollSetteledReq",value:function(){var t=this,e="startDate="+this.dates.start+"&endDate="+this.dates.end;this.common.loading++,this.api.walle8Get("TollSummary/getTollSettledRequests.json?"+e).subscribe((function(e){if(t.common.loading--,console.log("Res:",e),t.data=e.data,null==t.data)return t.data=[],void(t.table=null);t.table=t.setTable()}),(function(e){t.common.loading--,console.log(e)}))}},{key:"printPDF",value:function(){var t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t);var e=[["Name: "+t,"Start Date: "+this.common.dateFormatter1(this.dates.start),"End Date: "+this.common.dateFormatter1(this.dates.end),"Report: Toll-Setteled"]];this.pdfService.jrxTablesPDF(["tollsettel"],"toll-setteled",e)}},{key:"printCSV",value:function(){var t=[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),startdate:"Start Date:"+this.common.dateFormatter1(this.dates.start),enddate:"End Date:"+this.common.dateFormatter1(this.dates.end),report:"Report:Toll-Setteled"}];this.csvService.byMultiIds(["tollsettel"],"toll-setteled",t)}}]),t}()).\u0275fac=function(t){return new(t||at)(s["\u0275\u0275directiveInject"](v.a),s["\u0275\u0275directiveInject"](C.a),s["\u0275\u0275directiveInject"](_.a),s["\u0275\u0275directiveInject"](f.a),s["\u0275\u0275directiveInject"](h.a),s["\u0275\u0275directiveInject"](y.r))},at.\u0275cmp=s["\u0275\u0275defineComponent"]({type:at,selectors:[["toll-setteled-request"]],decls:24,vars:9,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[1,"row","m-0","p-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],["id","tollsettel",3,"data","settings",4,"ngIf"],["id","tollsettel",3,"data","settings"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"h5",2),s["\u0275\u0275text"](5,"Toll Settled Request"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",3),s["\u0275\u0275elementStart"](7,"span",4),s["\u0275\u0275elementStart"](8,"span",5),s["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),s["\u0275\u0275element"](9,"i",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"span",7),s["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),s["\u0275\u0275element"](11,"i",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",9),s["\u0275\u0275elementStart"](13,"div",10),s["\u0275\u0275elementStart"](14,"input",11),s["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),s["\u0275\u0275pipe"](15,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",12),s["\u0275\u0275elementStart"](17,"input",13),s["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),s["\u0275\u0275pipe"](18,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",12),s["\u0275\u0275elementStart"](20,"button",14),s["\u0275\u0275listener"]("click",(function(){return e.gettollSetteledReq()})),s["\u0275\u0275text"](21,"Submit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"nb-card-body",15),s["\u0275\u0275template"](23,nt,1,2,"smart-table",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](14),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](15,3,e.dates.start,"dd MMM yyyy")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](18,6,e.dates.end,"dd MMM yyyy")),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",e.data.length))},directives:[g.s,g.v,g.r,S.u,M.a],pipes:[S.f],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),at);function rt(t,e){if(1&t&&s["\u0275\u0275element"](0,"smart-table",11),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("data",n.table.data)("settings",n.table.settings)}}var lt,it=((lt=function(){function t(e,a,o,r,l){n(this,t),this.common=e,this.pdfService=a,this.csvService=o,this.api=r,this.user=l,this.data=[],this.table=null,this.getDetail(),this.common.refresh=this.refresh.bind(this)}return e(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.getDetail()}},{key:"getDetail",value:function(){var t=this;this.common.loading++,this.api.walle8Get("CurrentTagBalance/getCurrentTagBalance.json").subscribe((function(e){t.common.loading--,console.log("Res:",e),t.data=e.data,t.table=t.setTable()}),(function(e){t.common.loading--,console.log(e)}))}},{key:"setTable",value:function(){return{data:{headings:{regno:{title:"Vehicle",placeholder:"Vehicle"},balance:{title:"\tBalance",placeholder:"Balance"},balance_time:{title:"Balance Time",placeholder:"Balance Time"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}}},{key:"getTableColumns",value:function(){var t=[];return this.data.map((function(e){t.push({regno:{value:e.regno},balance:{value:e.balance},balance_time:{value:null==e.balance_time?"-":e.balance_time}})})),t}},{key:"printPDF",value:function(){var t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t),this.pdfService.jrxTablesPDF(["currentTagBalance"],"toll-setteled",[["Name: "+t,"Report: Current-Tag-Balance"]])}},{key:"printCSV",value:function(){this.csvService.byMultiIds(["currentTagBalance"],"toll-setteled",[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),report:"Report:Current-Tag-Balance"}])}}]),t}()).\u0275fac=function(t){return new(t||lt)(s["\u0275\u0275directiveInject"](f.a),s["\u0275\u0275directiveInject"](C.a),s["\u0275\u0275directiveInject"](_.a),s["\u0275\u0275directiveInject"](v.a),s["\u0275\u0275directiveInject"](h.a))},lt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:lt,selectors:[["current-tag-balance"]],decls:14,vars:1,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[2,"width","96%","margin-left","2%"],["id","currentTagBalance",3,"data","settings",4,"ngIf"],["id","currentTagBalance",3,"data","settings"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"h5",2),s["\u0275\u0275text"](5,"Current Tag Balance"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",3),s["\u0275\u0275elementStart"](7,"span",4),s["\u0275\u0275elementStart"](8,"span",5),s["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),s["\u0275\u0275element"](9,"i",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"span",7),s["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),s["\u0275\u0275element"](11,"i",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"nb-card-body",9),s["\u0275\u0275template"](13,rt,1,2,"smart-table",10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](13),s["\u0275\u0275property"]("ngIf",e.data.length))},directives:[g.s,g.v,g.r,S.u,M.a],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),lt);function dt(t,e){if(1&t&&s["\u0275\u0275element"](0,"smart-table",17),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("data",n.table.data)("settings",n.table.settings)}}var st,ct=((st=function(){function t(e,a,o,r,l,i){n(this,t),this.api=e,this.pdfService=a,this.csvService=o,this.common=r,this.user=l,this.modalService=i,this.dates={start:null,end:this.common.dateFormatter(new Date)},this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.data=[];var d,s=new Date;d=this.common.dateFormatter1(s.setDate(s.getDate()-30)),this.dates.start=d,this.getdoubleTollReport(),this.common.refresh=this.refresh.bind(this)}return e(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.getdoubleTollReport()}},{key:"getDate",value:function(t){var e=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then((function(n){e.dates[t]=e.common.dateFormatter(n.date).split(" ")[0],console.log("Date:",e.dates)}))}},{key:"setTable",value:function(){return{data:{headings:{vehreg:{title:"Vehicle",placeholder:"Vehicle"},remark:{title:"TOll Plaza",placeholder:"\tToll Plaza"},transtime:{title:"Transaction Time",placeholder:"Transaction Time"},amount:{title:"Amount",placeholder:"Amount"},action:{title:"Action",placeholder:"Action"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}}},{key:"getTableColumns",value:function(){var t=this,e=[];return this.data.map((function(n){var a={vehreg:{value:n.vehreg},remark:{value:n.remark},regno:{value:null==n.regno?"-":n.regno},transtime:{value:null==n.transtime?"-":n.transtime},amount:{value:null==n.amount?"-":n.amount},action:{value:"",action:null,html:!0,icons:t.actionIcons(n)}};e.push(a)})),e}},{key:"actionIcons",value:function(t){var e=[];return e.push({class:"icon fa fa-eye gray",action:this.raiseIssue.bind(this,t)}),e}},{key:"getdoubleTollReport",value:function(){var t=this,e="startDate="+this.dates.start+"&endDate="+this.dates.end;this.common.loading++,this.api.walle8Get("TollSummary/getDoubleTollReport.json?"+e).subscribe((function(e){if(t.common.loading--,console.log("Res333:",e.data),t.data=e.data,null==t.data)return t.data=[],void(t.table=null);t.table=t.setTable()}),(function(e){t.common.loading--,console.log(e)}))}},{key:"printPDF",value:function(){var t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t);var e=[["Name: "+t,"Start Date: "+this.common.dateFormatter1(this.dates.start),"End Date: "+this.common.dateFormatter1(this.dates.end),"Report: Double-Toll"]];this.pdfService.jrxTablesPDF(["doubleToll"],"double-toll",e)}},{key:"printCSV",value:function(){var t=[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),startdate:"Start Date:"+this.common.dateFormatter1(this.dates.start),enddate:"End Date:"+this.common.dateFormatter1(this.dates.end),report:"Report:Double-Toll"}];this.csvService.byMultiIds(["doubleToll"],"double-toll",t)}},{key:"raiseIssue",value:function(t){var e=this;if(confirm("Do you want to submit this entry ?")){var n={tollUseId:t.id,tollProof:"iVBORw0KGgoAAAANSUhEUgAAAkEAAABdCAIAAAAt7SUzAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAkBSURBVHhe7d3tYSMpDIDhrcsFuR5X42ZczB7z5REDQmKGdazL+/y7GAsBQXJ8WefPXwAAYqKHAQCioocBAKKihwEAoqKHAQCioocBAKKihwEAoqKHAQCioocBAKKihwEAoqKHAQCioocBAKKihwEAoqKHfZ/X8/5ndXs81y/+aq/n4367rXuS3G73x/O1PvidOETgI+hh3+f12Mv1/deXP7kbme/eGg4R+Ah62Pf5HeXv9XrO2j9O7T/NFG4P8VRftA+ihwEfYfew/HXwjftYIzbp+jtHv6D8Za1JX+Phe+/xfM2e81uL+9Oc0T6KHgZ8hNnDihfC2ctfLOQuXa5Y///yd+xNyneU3NXGt50z2mfRw4CPMHpYXh4WP1Ykvvh/k9PDuk7H13XkqNY3nS/ah8U8RCCcdg/Lq8Pmp6rEF5cFelhf1qnhbaNvd+3byb2prmgfRg8DPqLZw8Q9vN3fZSL5mUtJD/tm47MWm/olP1x1oIcBH9HqYbKFPV7yUv7MrfziskAPo4flYh4iEE6jh4lbOJcQeSt/5Fp+cVmgh/2DrOlhACx6D6tUkKGVuh897JvRwzL0MOAj1B4mCsh+BXtLdcfvqqlD5Zwt7TL3Wj6uaK8rk/Tf98eQDy3q3JgimezDkzrLX2Vl88LsdT23ibIdr3+wkxLs7Om8pz7+i0NfwEM4NVrd+R2Thh4igHO0HiZKibyBssI4Xht3XGRtqPx6k5bOXGrWMapU+rrq15G/h71a2SxpuHdN/D5enVGX96yXadJWWbkdnD4dsWHZQ96A+b5o0QpXd2w18hABXKH0MFEU1GrhaGIdF1kberpKztzPTlwv4RVyWxphrAo6ST8TuXbNE2umH9OedZrGs1VFNqdPR+06cid1h3BqtMyAHZuMPEQAF9V7mKgJx/sna0z7ridaY6poDF0+YGh6N1AOWb/4tg4WygI7vdvzWD5Y7/HI/rXAwlyQRu6KttAinXc2KZf8na2dEiyPlQLJN/uW903XxybasmTpP8RbdqnMq8xn3f7O02l1nfUp4t3lqSesX1ysIzetaKsxOzb0EAFcV+th8p6W10+Wa6vmtyNlHEM7oiWHajNVwfUR6fjmkrUihdwUJTU5pJpO9X2uarBsaWrRtg8qT2lWvmOYxWlsUN/piKBqRM+YhTny3+zYpUMEMEKlh1nFSD5u1JaOuuYY2hEtG2ulmRemUwVHhqgGyPNR5yhKYG2kOdnGGpgvvFHcZfKeQc2sZmJq9XA8YxbWSGsj3toDRx4igCHKHmbXouwqN+9nR11zDD0ZzSqAiSxdVugqq0j25GMkI0NZKxOhakOzmVqxsvSvn05iZDbzjFm0R47asYGHCGCQood5SpGnpM066ppjqD+aO8GNLDlWmauRz6/NZz2eaa+zVWUL7cH+UENPZ+KZ2p/eqGUmjcHioauHCGCQYw/zXT05qnVDOy6yY6g/Wle1mXgXpDEmlOHtMtpcZ9/SGhU5aT8qDT2diWdqf3rNkeLBS4kNPEQAoxx6mLdsyBvauKIdF9kx1B3NmZ0kC51doApGnewro811ylB9yom9p52npAx1n87MM7U/vebIUTsm41w8RACj5D1M1oLy96Mzsk2oFabjIjuGuqPJgUb125x4imTUt3HlTz7WqZxYHnd7zY7taWVd8kztT681ctiOjTtEAMNkPUze0i5aiem4yI6h7mhyoFH9NieeIhn1bVz5k491qS2qVfpzju1pZV3yTO1PrzVy2I6NO0QAw8geJi9pp+t1zTHUHS0rW74CItduFMwao76NK38nlqYTaRlrltNeP+vEM7U/vdbIYTs27hABDCN6mLyj3epFpuMiO4b6o/WVm+RqoTMmlA8b5ThprrN7aQ0ilpGVTEkZ6j+diWdqf3rNkaN2TMYx8kn6tgPASe8edqKKZ0+p3mpH6ds47ry/LHQvpq8+lYw62ZdPc53ywTOZSs3Sn3HM2sy64Jnan15z5Kgdk3EuHiKAUbYe1ndBV9mTqs8yavsu+2gDZWRHMZLz2svJ1nGqzFnr7Mgn/2yncmzHLljETEYkx6R9eXmm9qfXHjlqx4yDkaxDBDDI2sPOXnPrqsq4amDvZ/NkwYy6kCXWHpyFPVlv5HTVCFk++g7nuSSVYK49dRFJGXHknMrQntPxTe1Pzxg5ascGHiKAMZYe5ihRiuxaV+5q9ngldtG/JtqdtyaTDoWk/Czb2fEvZp0tcDKzemKHfCrpuLfCDrXbPpC9mpTI2li45xuk53RcU/vTs0aO2rGBhwhgiLmHyepjVIuCVbkO1z5NoP9hj41657PJ3pGWQEXixcxpzF3+7ZVi+t6172RiWvZ58smUzZLL4c/AiMTqwZRNXf/pXlKsrxpHZGQsXU6oDu05Hc/U/vTskYN27LDG5PwhAhhg6mHyXhrFoiK71bXbWuklhTStGKbf+aKE7GqZ114Ua/pXLsi8Wtk7diK9uPdshWdXd/XFiayN1cvZ9KEdp+OZ2p+ea+SIHUtGHiKAq1IPk5XHqBVVWeWqB2iVj/R6eH6K886roZTUq2/uHGwpnCf3oFmxHH/F3r8V08846zhd+oFDe+vM3yTkrreGuk/HM7U/Pe/Iyzu2GHmIAC75MxX59aqly9YuFYq8wGn3da4f8s2a+d2cfb49Dz3GYvoLv61IFWnyw+zTs+b3gWp/Abqb+N9qVvZz/lMy6/hkyiTLw70VyRrtzNpE1kbVFl1izOlkU69fO/Kn54m2u7Bju7GHCOCk9fcSAQAIhx4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIjp79//ABt9DOKbevLHAAAAAElFTkSuQmCC",issueId:1,remark:"Auto Identified"};console.log("params",n),this.common.loading++,this.api.walle8Post("IssueRequestApi/insertTollIsuue.json?",n).subscribe((function(t){e.common.loading--,0!=t.success?e.common.showToast(t.msg):e.common.showError(t.msg)}),(function(t){e.common.loading--,e.common.showError(),console.log(t)}))}}}]),t}()).\u0275fac=function(t){return new(t||st)(s["\u0275\u0275directiveInject"](v.a),s["\u0275\u0275directiveInject"](C.a),s["\u0275\u0275directiveInject"](_.a),s["\u0275\u0275directiveInject"](f.a),s["\u0275\u0275directiveInject"](h.a),s["\u0275\u0275directiveInject"](y.r))},st.\u0275cmp=s["\u0275\u0275defineComponent"]({type:st,selectors:[["double-toll-report"]],decls:24,vars:9,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[1,"row","m-0","p-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],["id","doubleToll",3,"data","settings",4,"ngIf"],["id","doubleToll",3,"data","settings"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"h5",2),s["\u0275\u0275text"](5,"Double Toll Report"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",3),s["\u0275\u0275elementStart"](7,"span",4),s["\u0275\u0275elementStart"](8,"span",5),s["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),s["\u0275\u0275element"](9,"i",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"span",7),s["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),s["\u0275\u0275element"](11,"i",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",9),s["\u0275\u0275elementStart"](13,"div",10),s["\u0275\u0275elementStart"](14,"input",11),s["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),s["\u0275\u0275pipe"](15,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",12),s["\u0275\u0275elementStart"](17,"input",13),s["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),s["\u0275\u0275pipe"](18,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",12),s["\u0275\u0275elementStart"](20,"button",14),s["\u0275\u0275listener"]("click",(function(){return e.getdoubleTollReport()})),s["\u0275\u0275text"](21,"Submit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"nb-card-body",15),s["\u0275\u0275template"](23,dt,1,2,"smart-table",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](14),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](15,3,e.dates.start,"dd MMM yyyy")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](18,6,e.dates.end,"dd MMM yyyy")),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",e.data.length))},directives:[g.s,g.v,g.r,S.u,M.a],pipes:[S.f],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),st);function mt(t,e){if(1&t&&s["\u0275\u0275element"](0,"smart-table",19),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("data",n.table.data)("settings",n.table.settings)}}var ht,pt=((ht=function(){function t(e,a,o,r,l,i){n(this,t),this.api=e,this.pdfService=a,this.csvService=o,this.common=r,this.user=l,this.modalService=i,this.dates={start:null,end:this.common.dateFormatter(new Date)},this.table=null,this.data=[],this.balance=[],this.openingBalance=null,this.closingBalance=null,this.vehid=6754,this.mobileno=this.user._details.mobileno;var d=new Date;this.dates.start=this.common.dateFormatter1(new Date(d.setDate(d.getDate()-30))),this.getfinancialTollReport(),this.common.refresh=this.refresh.bind(this)}return e(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.getfinancialTollReport()}},{key:"getDate",value:function(t){var e=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then((function(n){e.dates[t]=e.common.dateFormatter(n.date).split(" ")[0],console.log("Date:",e.dates)}))}},{key:"printPDF",value:function(){var t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t);var e=[["Name: "+t,"Start Date: "+this.common.dateFormatter1(this.dates.start),"End Date: "+this.common.dateFormatter1(this.dates.end),"Report: Financial-Toll-Summary"]];this.pdfService.jrxTablesPDF(["FinancialReport"],"financial-toll-summary",e)}},{key:"printCSV",value:function(){var t=[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),startdate:"Start Date:"+this.common.dateFormatter1(this.dates.start),enddate:"End Date:"+this.common.dateFormatter1(this.dates.end),report:"Report:Financial-Toll-Summary"}];this.csvService.byMultiIds(["FinancialReport"],"financial-toll-summary",t)}},{key:"setTable",value:function(){return{data:{headings:{vehid:{title:"Vehicle",placeholder:"Vehicle"},transtime:{title:"Transaction Time",placeholder:"Transaction Time"},remark:{title:"Toll Plaza",placeholder:"Toll Plaza"},amount:{title:"Amount",placeholder:"Amount"},balance:{title:"Balance",placeholder:"Balance"},entry_type:{title:"Transaction Type",placeholder:"Transaction Type"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}}},{key:"getTableColumns",value:function(){var t=[];return this.data.map((function(e){t.push({vehid:{value:e.vehid},transtime:{value:e.transtime},remark:{value:null==e.remark?"-":e.remark},amount:{value:null==e.amount?"-":e.amount},balance:{value:null==e.balance?"-":e.balance},entry_type:{value:null==e.entry_type?"-":e.entry_type}})})),t}},{key:"getfinancialTollReport",value:function(){var t=this,e="startDate="+this.dates.start+"&endDate="+this.dates.end;this.common.loading++,this.api.walle8Get("FinancialAccountSummary/getOpeningAndClosingBalance.json?"+e).subscribe((function(e){t.common.loading--,console.log("Res:",e),t.balance=e.data,null==t.balance&&(t.balance=[]),t.openingBalance=t.balance[0].opening_balance,t.closingBalance=t.balance[0].closing_balance}),(function(e){t.common.loading--,console.log(e)}));var n="startDate="+this.dates.start+"&endDate="+this.dates.end;this.common.loading++,this.api.walle8Get("FinancialAccountSummary/getFinancialAccountSummary.json?"+n).subscribe((function(e){if(t.common.loading--,console.log("Res:",e),t.data=e.data,null==t.data)return t.data=[],void(t.table=null);t.table=t.setTable()}),(function(e){t.common.loading--,console.log(e)}))}}]),t}()).\u0275fac=function(t){return new(t||ht)(s["\u0275\u0275directiveInject"](v.a),s["\u0275\u0275directiveInject"](C.a),s["\u0275\u0275directiveInject"](_.a),s["\u0275\u0275directiveInject"](f.a),s["\u0275\u0275directiveInject"](h.a),s["\u0275\u0275directiveInject"](y.r))},ht.\u0275cmp=s["\u0275\u0275defineComponent"]({type:ht,selectors:[["financial-toll-summary"]],decls:38,vars:11,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[1,"row","m-0","p-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],[1,"table","table-bordered",2,"font-size","14px"],["colspan","4",1,"thead"],["id","FinancialReport",3,"data","settings",4,"ngIf"],["id","FinancialReport",3,"data","settings"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"h5",2),s["\u0275\u0275text"](5,"Financial Toll Summary"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",3),s["\u0275\u0275elementStart"](7,"span",4),s["\u0275\u0275elementStart"](8,"span",5),s["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),s["\u0275\u0275element"](9,"i",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"span",7),s["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),s["\u0275\u0275element"](11,"i",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",9),s["\u0275\u0275elementStart"](13,"div",10),s["\u0275\u0275elementStart"](14,"input",11),s["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),s["\u0275\u0275pipe"](15,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",12),s["\u0275\u0275elementStart"](17,"input",13),s["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),s["\u0275\u0275pipe"](18,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",12),s["\u0275\u0275elementStart"](20,"button",14),s["\u0275\u0275listener"]("click",(function(){return e.getfinancialTollReport()})),s["\u0275\u0275text"](21,"Submit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"nb-card-body",15),s["\u0275\u0275elementStart"](23,"table",16),s["\u0275\u0275elementStart"](24,"tr"),s["\u0275\u0275elementStart"](25,"th",17),s["\u0275\u0275text"](26,"Account Summary"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](27,"tr"),s["\u0275\u0275elementStart"](28,"td"),s["\u0275\u0275text"](29,"Opening Balance(Rs.)"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](30,"td"),s["\u0275\u0275text"](31,"Closing Balance(Rs.)"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](32,"tr"),s["\u0275\u0275elementStart"](33,"td"),s["\u0275\u0275text"](34),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](35,"td"),s["\u0275\u0275text"](36),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](37,mt,1,2,"smart-table",18),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](14),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](15,5,e.dates.start,"dd MMM yyyy")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](18,8,e.dates.end,"dd MMM yyyy")),s["\u0275\u0275advance"](17),s["\u0275\u0275textInterpolate"](e.openingBalance),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.closingBalance),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.data.length))},directives:[g.s,g.v,g.r,S.u,M.a],pipes:[S.f],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.thead[_ngcontent-%COMP%]{background-color:#e5f3f9;color:#000}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),ht),ut=o("5RHE"),gt=o.n(ut),bt=(o("DaQG"),o("0zba")),ft=o("s7LF");function vt(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"tr"),s["\u0275\u0275elementStart"](1,"td"),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"td"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"td"),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"td"),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"td"),s["\u0275\u0275text"](10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"td"),s["\u0275\u0275text"](12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"td"),s["\u0275\u0275text"](14),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"td"),s["\u0275\u0275text"](16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"td"),s["\u0275\u0275text"](18),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.vehid),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.addtime),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.transtime),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.remark),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.amount_credit),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.amount_debit),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.entry_type),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.balance),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.txn_id)}}function yt(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"div",19),s["\u0275\u0275elementStart"](1,"div",26),s["\u0275\u0275elementStart"](2,"table",29),s["\u0275\u0275elementStart"](3,"thead",30),s["\u0275\u0275elementStart"](4,"tr"),s["\u0275\u0275elementStart"](5,"th"),s["\u0275\u0275text"](6,"Vehicle"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"th"),s["\u0275\u0275text"](8,"Accounting Time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"th"),s["\u0275\u0275text"](10,"Transaction Time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"th"),s["\u0275\u0275text"](12,"Toll Plaza"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"th"),s["\u0275\u0275text"](14,"Amount(CR)"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"th"),s["\u0275\u0275text"](16,"Amount(DR)"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"th"),s["\u0275\u0275text"](18,"Transaction Type"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"th"),s["\u0275\u0275text"](20,"Balance"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"th"),s["\u0275\u0275text"](22,"Transaction Id"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"tbody"),s["\u0275\u0275template"](24,vt,19,9,"tr",31),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](24),s["\u0275\u0275property"]("ngForOf",n.data)}}var xt,Ct=((xt=function(){function t(e,a,o,r,l,i){n(this,t),this.api=e,this.common=a,this.user=o,this.modalService=r,this.datePipe=l,this.csvService=i,this.dates={currentdate:this.common.dateFormatter1(new Date),start:null,end:this.common.dateFormatter1(new Date)},this.fo={id:null,name:null,mobileNo:null},this.customerFoid=null,this.foid=null,this.regno=null,this.typedKey="",this.vehId="",this.result=[],this.data=[],this.openingBalance=0,this.closingBalance=0,this.creditAmount=0,this.debitAmount=0,this.vehid=this.user._details.vehid,this.mobileno=this.user._details.fo_mobileno,this.foAgents=[],this.foid="admin"==this.user._loggedInBy?this.user._customer.foid:this.user._details.foid,console.log("FOID:",this.foid),console.log("this.user._details.",this.user._details),this.fo.id=this.user._details.foid,this.fo.mobileNo=this.user._details.fo_mobileno,this.fo.name="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name,this.common.refresh=this.refresh.bind(this),this.dates.start=this.common.dateFormatter1(new Date((new Date).setDate((new Date).getDate()-15)))}return e(t,[{key:"ngOnInit",value:function(){}},{key:"selectVehicle",value:function(t){var e=this;this.vehId=t.id,this.regno=t.regno,this.data=this.result.filter((function(t){return!e.regno||(console.log("ele",t),t.vehid==e.regno)})),console.log(this.data)}},{key:"refresh",value:function(){this.getaddTimeFinancialTollReport()}},{key:"calculateAmount",value:function(t){var e=t[0].entry_type,n=t[0].balance,a=t[0].amount;console.log("usageStatus",e.toLowerCase,"opening_balance_new",n,"usageAmount",a),this.openingBalance="usage"==e.toLowerCase()||"balance recharge"==e.toLowerCase()?parseInt(n)-a:parseInt(n)+a,this.closingBalance=t[t.length-1].balance}},{key:"getDate",value:function(t){var e=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then((function(n){e.dates[t]=e.common.dateFormatter(n.date).split(" ")[0],console.log("Date:",e.dates)}))}},{key:"getaddTimeFinancialTollReport",value:function(){var t=this;if(this.openingBalance=0,this.closingBalance=0,this.data=[],console.log("mobile no",this.mobileno),this.mobileno){var e="&startDate="+this.dates.start+"&endDate="+this.dates.end+"&mobileno="+this.mobileno+"&vehid="+this.vehId;this.common.loading++,this.api.walle8Get("FinancialAccountSummary/getFinancialAccountSummaryAddTime.json?"+e).subscribe((function(e){t.common.loading--,console.log("Res:",e),e&&e.data&&e.data.length>0?(t.result=e.data,t.data=e.data,t.calculateAmount(t.data)):t.common.showError("data not found")}),(function(e){t.common.loading--,console.log(e)}))}}},{key:"selectFo",value:function(t){this.fo.id=t.foid,this.fo.name=t.name,this.fo.mobileNo=t.mobileno}},{key:"getFoAgents",value:function(){var t=this,e=document.getElementById("agentFo").value;console.log("searvh ",e),this.api.walle8Get("Suggestion/getFoAgents.json?search="+e).subscribe((function(e){console.log("res",e),t.foAgents=e.data,console.log("-0-0-0",t.foAgents)}),(function(t){console.log(t)}))}},{key:"filterData",value:function(t){var e=this;console.log("typedKey",this.typedKey),this.data=this.result.filter((function(t){return!e.typedKey||(console.log("ele",t),!!t.vehid&&t.vehid.toLowerCase().includes(e.typedKey))})),console.log("data",this.data)}},{key:"generatePDF",value:function(){var t=new gt.a({orientation:"l",unit:"px",format:"a4"}),e=(t=this.setPdfHeader(t)).internal.getCurrentPageInfo().pageNumber;t.autoTable(this.getPdfTableConfig("provider",{right:330,left:30,top:20},null,70,140)),t.setPage(e),t.autoTable(this.getPdfTableConfig("customer",{left:330,right:30,top:20},null,70,140)),t.autoTable(this.getPdfTableConfig("account",{left:30,right:30,top:0},null,null,290)),t.autoTable(this.getPdfTableConfig("tblData",{left:30,right:30,top:0},this.setPdfPageFooter.bind(this,t))),t.save("financial-toll-summary.pdf")}},{key:"setPdfHeader",value:function(t){t.setFontSize(12),t.setFontStyle("bold"),t.text(30,30,"eLogist Solutions Pvt. Ltd."),t.setFontSize(8),t.setFontStyle("normal"),t.text(30,39,"Address: 605-21, Jaipur Electronic Market,"),t.text(30,46,"Riddhi Siddhi Circle, Gopalpura Bypass, Jaipur, Rajasthan - 302018"),t.text(30,53,"Support: 8081604455"),t.text(30,60,"Website: www.walle8.com");var e=this.getImgTagToBase64("logo");return t.addImage(e,"PNG",550,15,40,40),t}},{key:"setPdfPageFooter",value:function(t,e){t.setFont("times","bold"),t.setFontSize(10),t.text("Page "+e.pageCount,e.settings.margin.left,t.internal.pageSize.height-10),e.settings.margin.top=20}},{key:"getPdfTableConfig",value:function(t,e,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:65,r={html:"#"+t,theme:"grid",margin:e,rowPageBreak:"avoid",headStyles:{fillColor:[98,98,98],fontSize:10,halign:"center",valign:"middle"},styles:{fontSize:10,cellPadding:3,minCellHeight:11,minCellWidth:10,cellWidth:o,valign:"middle",halign:"center"},columnStyles:{text:{cellWidth:o,halign:"center",valign:"middle"}}};return a&&(r.startY=a),n&&(r.didDrawPage=n),r}},{key:"getImgTagToBase64",value:function(t){var e=document.createElement("canvas"),n=document.getElementById(t);return e.height=n.naturalHeight,e.width=n.naturalWidth,e.getContext("2d").drawImage(n,0,0,e.width,e.height),e.toDataURL()}},{key:"printCsv",value:function(t,e){this.user._customer.name,"customer"==this.user._loggedInBy&&this.user._details.name;var n=[{customer:"Customer : "+this.fo.name},{report:"Report : Financial Toll Summary (Add Time)"},{period:"Period : "+this.common.dateFormatter1(this.dates.start)+" To "+this.common.dateFormatter1(this.dates.end)},{time:"Time : "+this.datePipe.transform(new Date,"dd-MM-yyyy hh:mm:ss a")}];this.csvService.byMultiIds([e],"Financial Toll Summary",n)}}]),t}()).\u0275fac=function(t){return new(t||xt)(s["\u0275\u0275directiveInject"](v.a),s["\u0275\u0275directiveInject"](f.a),s["\u0275\u0275directiveInject"](h.a),s["\u0275\u0275directiveInject"](y.r),s["\u0275\u0275directiveInject"](S.f),s["\u0275\u0275directiveInject"](_.a))},xt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:xt,selectors:[["financial-toll-summary-addtime"]],decls:117,vars:18,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","10px",3,"click"],[1,"fas","fa-file-excel"],[1,"row","m-0","p-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["display","regno","placeholder","search vehicle","value","yes","aria-disabled","true",2,"width","60%",3,"ngModel","url","keyup","ngModelChange","onSelected"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],["id","financialaccount"],[2,"height","40px"],[1,"row"],[1,"col-6"],["src","http://elogist.in/transtruck/admindashboard/assets/images/left-logo.png","id","logo","crossorigin","anonymous",2,"width","150px","height","120px"],[1,"row",2,"margin-top","10px"],["id","provider",1,"table","table-bordered"],["colspan","2",1,"thead"],["id","customer",1,"table","table-bordered"],[1,"col-12"],["id","account",1,"table","table-bordered"],["class","row",4,"ngIf"],["id","tblData",1,"table","table-bordered"],[2,"background-color","#E5F3F9"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"h5",2),s["\u0275\u0275text"](5,"Financial Toll Summary"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",3),s["\u0275\u0275elementStart"](7,"span",4),s["\u0275\u0275elementStart"](8,"span",5),s["\u0275\u0275listener"]("click",(function(){return e.generatePDF()})),s["\u0275\u0275element"](9,"i",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"span",7),s["\u0275\u0275listener"]("click",(function(){return e.printCsv("account","tblData")})),s["\u0275\u0275element"](11,"i",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",9),s["\u0275\u0275elementStart"](13,"div",10),s["\u0275\u0275elementStart"](14,"input",11),s["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),s["\u0275\u0275pipe"](15,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",12),s["\u0275\u0275elementStart"](17,"input",13),s["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),s["\u0275\u0275pipe"](18,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",12),s["\u0275\u0275elementStart"](20,"auto-suggestion",14),s["\u0275\u0275listener"]("keyup",(function(t){return e.filterData(t)}))("ngModelChange",(function(t){return e.typedKey=t}))("onSelected",(function(t){return e.selectVehicle(t)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"div",12),s["\u0275\u0275elementStart"](22,"button",15),s["\u0275\u0275listener"]("click",(function(){return e.getaddTimeFinancialTollReport()})),s["\u0275\u0275text"](23,"Submit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](24,"nb-card-body",16),s["\u0275\u0275elementStart"](25,"div",17),s["\u0275\u0275element"](26,"div",18),s["\u0275\u0275elementStart"](27,"div",19),s["\u0275\u0275elementStart"](28,"div",20),s["\u0275\u0275elementStart"](29,"b"),s["\u0275\u0275text"](30,"eLogist Solutions Pvt. Ltd."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](31,"br"),s["\u0275\u0275text"](32," Address: 605-21, Jaipur Electronic Market,"),s["\u0275\u0275element"](33,"br"),s["\u0275\u0275text"](34," Riddhi Siddhi Circle, Gopalpura Bypass, Jaipur, Rajasthan - 302018"),s["\u0275\u0275element"](35,"br"),s["\u0275\u0275text"](36," Support: 8081604455"),s["\u0275\u0275element"](37,"br"),s["\u0275\u0275text"](38," Website: www.walle8.com "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](39,"div",12),s["\u0275\u0275elementStart"](40,"div",12),s["\u0275\u0275element"](41,"img",21),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](42,"div",22),s["\u0275\u0275elementStart"](43,"div",20),s["\u0275\u0275elementStart"](44,"table",23),s["\u0275\u0275elementStart"](45,"thead"),s["\u0275\u0275elementStart"](46,"tr"),s["\u0275\u0275elementStart"](47,"th",24),s["\u0275\u0275text"](48,"Provider Details"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](49,"tbody"),s["\u0275\u0275elementStart"](50,"tr"),s["\u0275\u0275elementStart"](51,"td"),s["\u0275\u0275text"](52,"Provider Name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](53,"td"),s["\u0275\u0275text"](54,"eLogist"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](55,"tr"),s["\u0275\u0275elementStart"](56,"td"),s["\u0275\u0275text"](57,"Provider Address"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](58,"td"),s["\u0275\u0275text"](59,"Jaipur"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](60,"tr"),s["\u0275\u0275elementStart"](61,"td"),s["\u0275\u0275text"](62,"GSTIN"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](63,"td"),s["\u0275\u0275text"](64,"08AAECE3933F1ZS"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](65,"tr"),s["\u0275\u0275elementStart"](66,"td"),s["\u0275\u0275text"](67,"Place Of Supply"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](68,"td"),s["\u0275\u0275text"](69,"Rajasthan"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](70,"div",20),s["\u0275\u0275elementStart"](71,"table",25),s["\u0275\u0275elementStart"](72,"thead"),s["\u0275\u0275elementStart"](73,"tr"),s["\u0275\u0275elementStart"](74,"th",24),s["\u0275\u0275text"](75,"Customer Details"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](76,"tbody"),s["\u0275\u0275elementStart"](77,"tr"),s["\u0275\u0275elementStart"](78,"td"),s["\u0275\u0275text"](79,"Customer Id"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](80,"td"),s["\u0275\u0275text"](81),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](82,"tr"),s["\u0275\u0275elementStart"](83,"td"),s["\u0275\u0275text"](84,"Name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](85,"td"),s["\u0275\u0275text"](86),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](87,"tr"),s["\u0275\u0275elementStart"](88,"td"),s["\u0275\u0275text"](89,"Statement Date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](90,"td"),s["\u0275\u0275text"](91),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](92,"tr"),s["\u0275\u0275elementStart"](93,"td"),s["\u0275\u0275text"](94,"Statement Period"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](95,"td"),s["\u0275\u0275text"](96),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](97,"br"),s["\u0275\u0275elementStart"](98,"div",19),s["\u0275\u0275elementStart"](99,"div",26),s["\u0275\u0275elementStart"](100,"table",27),s["\u0275\u0275elementStart"](101,"thead"),s["\u0275\u0275elementStart"](102,"tr"),s["\u0275\u0275elementStart"](103,"th",24),s["\u0275\u0275text"](104,"Account Summary"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](105,"tbody"),s["\u0275\u0275elementStart"](106,"tr"),s["\u0275\u0275elementStart"](107,"td"),s["\u0275\u0275text"](108,"Opening Balance(Rs.)"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](109,"td"),s["\u0275\u0275text"](110,"Closing Balance(Rs.)"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](111,"tr"),s["\u0275\u0275elementStart"](112,"td"),s["\u0275\u0275text"](113),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](114,"td"),s["\u0275\u0275text"](115),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](116,yt,25,1,"div",28),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](14),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](15,12,e.dates.start,"dd MMM yyyy")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](18,15,e.dates.end,"dd MMM yyyy")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngModel",e.typedKey)("url","Suggestion/getFoVehicleList.json?foid="+e.foid),s["\u0275\u0275advance"](61),s["\u0275\u0275textInterpolate"](e.foid),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](e.fo.name),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](e.dates.currentdate),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate2"]("",e.dates.start," To ",e.dates.end,""),s["\u0275\u0275advance"](17),s["\u0275\u0275textInterpolate"](e.openingBalance),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.closingBalance),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.data.length>0))},directives:[g.s,g.v,bt.a,ft.r,ft.u,g.r,S.u,S.t],pipes:[S.f],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#5bbe88}.thead[_ngcontent-%COMP%]{background-color:#e5f3f9;color:#000}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),xt);function _t(t,e){if(1&t&&s["\u0275\u0275element"](0,"smart-table",17),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("data",n.table.data)("settings",n.table.settings)}}var St,Mt=((St=function(){function t(e,a,o,r,l,i){n(this,t),this.api=e,this.pdfService=a,this.csvService=o,this.common=r,this.user=l,this.modalService=i,this.dates={start:null,end:this.common.dateFormatter(new Date)},this.table=null,this.data=[],this.mobileNo=null,console.log("this.user._customer",this.user._customer),this.dates.start=this.common.dateFormatter1(new Date((new Date).setDate((new Date).getDate()-30))),this.getfinancialMainSummary(),this.common.refresh=this.refresh.bind(this)}return e(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.getfinancialMainSummary()}},{key:"getDate",value:function(t){var e=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then((function(n){e.dates[t]=e.common.dateFormatter(n.date).split(" ")[0],console.log("Date:",e.dates)}))}},{key:"setTable",value:function(){return{data:{headings:{vehid:{title:"Vehicle",placeholder:"Vehicle"},transtime:{title:"Transaction Time",placeholder:"Transaction Time"},remark:{title:"Remark",placeholder:"Remark"},amount:{title:"Amount",placeholder:"Amount"},balance:{title:"Balance",placeholder:"Balance"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}}},{key:"getTableColumns",value:function(){var t=this,e=[];return this.data.map((function(n){var a={vehid:{value:n.vehid},transtime:{value:t.common.changeDateformat4(n.transtime)},remark:{value:null==n.remark?"-":n.remark},amount:{value:null==n.amount?"-":n.amount},balance:{value:null==n.balance?"-":n.balance}};e.push(a)})),e}},{key:"getfinancialMainSummary",value:function(){var t=this,e=this.user._customer.mobileNo;"customer"==this.user._loggedInBy&&(e=this.user._details.mobileNo);var n="startDate="+this.dates.start+"&endDate="+this.dates.end+"&mobileno="+e;this.common.loading++,this.api.walle8Get("FinancialAccountSummary/getFinancialAccountMainSummary.json?"+n).subscribe((function(e){if(t.common.loading--,console.log("Res:",e),t.data=e.data,null==t.data)return t.data=[],void(t.table=null);t.table=t.setTable()}),(function(e){t.common.loading--,console.log(e)}))}},{key:"printPDF",value:function(){var t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t);var e=[["Name: "+t,"Start Date: "+this.common.dateFormatter1(this.dates.start),"End Date: "+this.common.dateFormatter1(this.dates.end),"Report: Financial-Main-Summary"]];this.pdfService.jrxTablesPDF(["FinancialReport"],"financial-main-summary",e)}},{key:"printCSV",value:function(){var t=[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),startdate:"Start Date:"+this.common.dateFormatter1(this.dates.start),enddate:"End Date:"+this.common.dateFormatter1(this.dates.end),report:"Report:Financial-Main-Summary"}];this.csvService.byMultiIds(["FinancialReport"],"financial-main-summary",t)}}]),t}()).\u0275fac=function(t){return new(t||St)(s["\u0275\u0275directiveInject"](v.a),s["\u0275\u0275directiveInject"](C.a),s["\u0275\u0275directiveInject"](_.a),s["\u0275\u0275directiveInject"](f.a),s["\u0275\u0275directiveInject"](h.a),s["\u0275\u0275directiveInject"](y.r))},St.\u0275cmp=s["\u0275\u0275defineComponent"]({type:St,selectors:[["financial-main-summary"]],decls:24,vars:9,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[1,"row","m-0","p-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],["id","FinancialReport",3,"data","settings",4,"ngIf"],["id","FinancialReport",3,"data","settings"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"h5",2),s["\u0275\u0275text"](5,"Financial Main Summary"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",3),s["\u0275\u0275elementStart"](7,"span",4),s["\u0275\u0275elementStart"](8,"span",5),s["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),s["\u0275\u0275element"](9,"i",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"span",7),s["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),s["\u0275\u0275element"](11,"i",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",9),s["\u0275\u0275elementStart"](13,"div",10),s["\u0275\u0275elementStart"](14,"input",11),s["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),s["\u0275\u0275pipe"](15,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",12),s["\u0275\u0275elementStart"](17,"input",13),s["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),s["\u0275\u0275pipe"](18,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",12),s["\u0275\u0275elementStart"](20,"button",14),s["\u0275\u0275listener"]("click",(function(){return e.getfinancialMainSummary()})),s["\u0275\u0275text"](21,"Submit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"nb-card-body",15),s["\u0275\u0275template"](23,_t,1,2,"smart-table",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](14),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](15,3,e.dates.start,"dd MMM yyyy")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](18,6,e.dates.end,"dd MMM yyyy")),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",e.data.length))},directives:[g.s,g.v,g.r,S.u,M.a],pipes:[S.f],styles:[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]}),St),Pt=o("z+eI");function Ot(t,e){if(1&t&&s["\u0275\u0275element"](0,"chart",16),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("type",n.chartObject.type)("data",n.chartObject.data)("options",n.chartObject.options)}}function kt(t,e){if(1&t&&s["\u0275\u0275element"](0,"chart",17),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("type",n.chartObject1.type)("data",n.chartObject1.data)("options",n.chartObject1.options)}}var Et,wt=((Et=function(){function t(e,a,o,r,l,i){n(this,t),this.api=e,this.common=a,this.theme=o,this.user=r,this.datepipe=l,this.modalService=i,this.chartObject={type:"",data:{},options:{},elements:{},lables:[],yAxes:[],ticks:{},min:"",max:"",stepSize:""},this.chartObject1={type:"",data:{},options:{},elements:{},lables:[],yAxes:[],ticks:{},min:"",max:"",stepSize:"",backgroundColor:""},this.chartObject2={type:"",data:{},options:{},elements:{},lables:[],yAxes:[],ticks:{},min:"",max:"",stepSize:"",startAngle:"",backgroundColor:""},this.zone=[],this.amounts=[],this.showGraph=!1,this.amount=[],this.date=[],this.flag="Loading",this.bgColor="#0000FF",this.yScale="Hours",this.dates={start:null,end:null},this.data=[],this.data1=[],this.remark=[],this.amt=[],this.type="line",this.datax={labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",data:[65,59,80,81,56,55,40]}]},this.options={responsive:!0,maintainAspectRatio:!1};var d,s,c=new Date;s=this.common.dateFormatter1(new Date(c.getFullYear(),c.getMonth()-12,1,0,0,0)),d=this.common.dateFormatter1(new Date(c.getFullYear(),c.getMonth(),1,0,0,0)),this.dates.start=s,this.dates.end=d,this.getTollAnalatics(),this.common.refresh=this.refresh.bind(this)}return e(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.getTollAnalatics()}},{key:"getDate",value:function(t){var e=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then((function(n){e.dates[t]=e.common.dateFormatter(n.date).split(" ")[0],console.log("Date:",e.dates)}))}},{key:"showChart",value:function(){this.chartObject.type="line",this.chartObject.data={labels:this.date,datasets:[{label:"Toll Consumption",percentFormatString:"#0.##",borderColor:this.bgColor,data:this.amount,fill:!1,pointHoverRadius:8,pointHoverBackgroundColor:"#0000FF",lineTension:0}]},this.chartObject.options={responsive:!0,maintainAspectRatio:!1},console.log("This:",this.chartObject)}},{key:"showbarGraph",value:function(){this.chartObject1.type="horizontalBar",this.chartObject1.data={labels:this.remark,datasets:[{label:"Top Toll Plaza",data:this.amt,fill:!1,pointHoverRadius:8,pointHoverBackgroundColor:"#0000FF",backgroundColor:this.bgColor}]},this.chartObject1.options={responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{display:!1}]}},console.log("This:",this.chartObject)}},{key:"showdoughnut",value:function(){this.chartObject2.type="doughnut",this.chartObject2.data={labels:this.zone,percentFormatString:"#0.##",datasets:[{label:"Zones",percentFormatString:"#0.##",render:"percentage",data:this.amounts,backgroundColor:["#0074D9","#FF4136","#2ECC40","#39CCCC","#01FF70","#85144b","#F012BE","#3D9970","#111111","#AAAAAA"]}]},this.chartObject2.options={responsive:!0,render:"percentage",percentFormatString:"#0.##",maintainAspectRatio:!1},console.log("This:",this.chartObject)}},{key:"getTollAnalatics",value:function(){var t=this,e="startDate="+this.dates.start+"&endDate="+this.dates.end;this.common.loading++,this.api.walle8Get("TollSummary/getTollAnalytics.json?"+e).subscribe((function(e){if(t.common.loading--,console.log("Res:",e.data),t.data=e.data,e.data){t.amount=[],t.date=[];for(var n=0;n<t.data.length;n++)t.amount.push(t.data[n].amt),t.common.changeDateformat(t.date.push(t.data[n].transtime))}t.showChart()}),(function(e){t.common.loading--,console.log(e)}));var n="startDate="+this.dates.start+"&endDate="+this.dates.end+"&type=1";this.common.loading++,this.api.walle8Get("TollSummary/getTollAnalytics.json?"+n).subscribe((function(e){if(t.common.loading--,console.log("Res:",e.data),t.data=e.data,e.data){t.amt=[],t.remark=[];for(var n=0;n<t.data.length;n++)t.amt.push(t.data[n].amount),t.remark.push(t.data[n].remark)}t.showbarGraph()}),(function(e){t.common.loading--,console.log(e)}));var a="startDate="+this.dates.start+"&endDate="+this.dates.end+"&type=2";this.common.loading++,this.api.walle8Get("TollSummary/getTollAnalytics.json?"+a).subscribe((function(e){if(t.common.loading--,console.log("Res:",e.data),t.data1=e.data,e.data){t.zone=[],t.amounts=[];for(var n=0;n<t.data1.length;n++)t.zone.push(t.data1[n].zone?t.data1[n].zone:"N.A"),t.amounts.push(t.data1[n].amount),console.log("zone",t.zone,"",t.amounts)}t.showdoughnut()}),(function(e){t.common.loading--,console.log(e)}))}}]),t}()).\u0275fac=function(t){return new(t||Et)(s["\u0275\u0275directiveInject"](v.a),s["\u0275\u0275directiveInject"](f.a),s["\u0275\u0275directiveInject"](g.Kb),s["\u0275\u0275directiveInject"](h.a),s["\u0275\u0275directiveInject"](S.f),s["\u0275\u0275directiveInject"](y.r))},Et.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Et,selectors:[["toll-analatics"]],decls:31,vars:13,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"row","m-0","pt-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],[1,"row"],[1,"col-sm-11"],["style","margin-right:5px;min-height: 200px;",3,"type","data","options",4,"ngIf"],[1,"col-sm-12"],[1,"col-sm-6"],["class","chart chart-horizontal-bar","style","margin-right:5px;min-height: 200px;",3,"type","data","options",4,"ngIf"],[2,"margin-right","5px","min-height","200px",3,"type","data","options"],[1,"chart","chart-horizontal-bar",2,"margin-right","5px","min-height","200px",3,"type","data","options"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"h5",2),s["\u0275\u0275text"](5,"Toll Analytics"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",3),s["\u0275\u0275elementStart"](7,"div",4),s["\u0275\u0275elementStart"](8,"input",5),s["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),s["\u0275\u0275pipe"](9,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"div",6),s["\u0275\u0275elementStart"](11,"input",7),s["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),s["\u0275\u0275pipe"](12,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",6),s["\u0275\u0275elementStart"](14,"button",8),s["\u0275\u0275listener"]("click",(function(){return e.getTollAnalatics()})),s["\u0275\u0275text"](15,"Submit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"nb-card-body",9),s["\u0275\u0275elementStart"](17,"div",10),s["\u0275\u0275elementStart"](18,"div",11),s["\u0275\u0275elementStart"](19,"label"),s["\u0275\u0275text"](20,"Toll Consumption"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"div",11),s["\u0275\u0275template"](22,Ot,1,3,"chart",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"div",10),s["\u0275\u0275elementStart"](24,"div",13),s["\u0275\u0275elementStart"](25,"label"),s["\u0275\u0275text"](26,"Top Toll"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](27,"div",14),s["\u0275\u0275template"](28,kt,1,3,"chart",15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](29,"div",14),s["\u0275\u0275element"](30,"chart",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](9,7,e.dates.start,"dd MMM yyyy")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](12,10,e.dates.end,"dd MMM yyyy")),s["\u0275\u0275advance"](11),s["\u0275\u0275property"]("ngIf",e.chartObject.type),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",e.chartObject1.type),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("type",e.chartObject2.type)("data",e.chartObject2.data)("options",e.chartObject2.options))},directives:[g.s,g.v,g.r,S.u,Pt.ChartComponent],pipes:[S.f],styles:[""]}),Et);function Dt(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"tr"),s["\u0275\u0275elementStart"](1,"td",20),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"td"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"td"),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"td"),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"td"),s["\u0275\u0275text"](10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit,a=e.index,o=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](a+1),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](o.common.changeDateformat4(n.dttime)),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.veh),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.amt),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.rema)}}function It(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"table",17),s["\u0275\u0275elementStart"](1,"thead",18),s["\u0275\u0275elementStart"](2,"tr"),s["\u0275\u0275elementStart"](3,"th"),s["\u0275\u0275text"](4,"#"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"th"),s["\u0275\u0275text"](6,"Date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"th"),s["\u0275\u0275text"](8,"Vehicle"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"th"),s["\u0275\u0275text"](10,"Amount"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"th"),s["\u0275\u0275text"](12,"Remark"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"tbody"),s["\u0275\u0275template"](14,Dt,11,5,"tr",19),s["\u0275\u0275elementStart"](15,"tr"),s["\u0275\u0275element"](16,"td"),s["\u0275\u0275element"](17,"td"),s["\u0275\u0275elementStart"](18,"td"),s["\u0275\u0275text"](19,"Total"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"td"),s["\u0275\u0275text"](21),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](22,"td"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](14),s["\u0275\u0275property"]("ngForOf",n.data),s["\u0275\u0275advance"](7),s["\u0275\u0275textInterpolate"](n.total)}}var Ft,Tt=((Ft=function(){function t(e,a,o,r,l,i){n(this,t),this.common=e,this.pdfService=a,this.csvService=o,this.api=r,this.modalService=l,this.user=i,this.data=[],this.dates={start:null,end:this.common.dateFormatter(new Date)},this.total=null,this.table=null,this.dates.start=this.common.dateFormatter1(new Date((new Date).setDate((new Date).getDate()-30))),this.getOtherUsageDetail(),this.common.refresh=this.refresh.bind(this)}return e(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.getOtherUsageDetail()}},{key:"getOtherUsageDetail",value:function(){var t=this,e="aduserid="+this.user._details.id+"&mobileno="+this.user._details.fo_mobileno+"&startdate="+this.dates.start+"&enddate="+this.dates.end;this.common.loading++,this.api.walle8Get("AccountSummaryApi/ViewOtherUsages.json?"+e).subscribe((function(e){t.common.loading--,console.log("Res:",e),t.data=e.data,null==t.data&&t.common.showToast("no Data Found");for(var n=0;n<t.data.length;n++)t.total=t.total+t.data[n].amt}),(function(e){t.common.loading--,console.log(e)}))}},{key:"getDate",value:function(t){var e=this;this.common.params={ref_page:"other-usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then((function(n){n.date&&(e.dates[t]=e.common.dateFormatter(n.date).split(" ")[0],console.log("Date:",e.dates[t]))}))}},{key:"printPDF",value:function(){var t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t);var e=[["Name: "+t,"Start Date: "+this.common.dateFormatter1(this.dates.start),"End Date: "+this.common.dateFormatter1(this.dates.end),"Report: Other-Usage"]];this.pdfService.jrxTablesPDF(["otherUsage"],"other-usage",e)}},{key:"printCSV",value:function(){var t=[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),startdate:"Start Date:"+this.common.dateFormatter1(this.dates.start),enddate:"End Date:"+this.common.dateFormatter1(this.dates.end),report:"Report:Other-Usage"}];this.csvService.byMultiIds(["otherUsage"],"other-usage",t)}}]),t}()).\u0275fac=function(t){return new(t||Ft)(s["\u0275\u0275directiveInject"](f.a),s["\u0275\u0275directiveInject"](C.a),s["\u0275\u0275directiveInject"](_.a),s["\u0275\u0275directiveInject"](v.a),s["\u0275\u0275directiveInject"](y.r),s["\u0275\u0275directiveInject"](h.a))},Ft.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Ft,selectors:[["other-usage"]],decls:24,vars:9,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[1,"row","m-0","p-3",2,"background-color","white"],[1,"col-3","pl-3"],["type","text","autocomplete","off","placeholder","Start Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],[1,"col-3"],["type","text","autocomplete","off","placeholder","End Date","readonly","",1,"form-control","customSelect",2,"cursor","pointer",3,"value","click"],["type","button",1,"btn","customButton",3,"click"],[2,"width","96%","margin-left","2%"],["class","table table-bordered table-hover","id","otherUsage",4,"ngIf"],["id","otherUsage",1,"table","table-bordered","table-hover"],[1,"thead"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"h5",2),s["\u0275\u0275text"](5,"Other Usage"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",3),s["\u0275\u0275elementStart"](7,"span",4),s["\u0275\u0275elementStart"](8,"span",5),s["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),s["\u0275\u0275element"](9,"i",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"span",7),s["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),s["\u0275\u0275element"](11,"i",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",9),s["\u0275\u0275elementStart"](13,"div",10),s["\u0275\u0275elementStart"](14,"input",11),s["\u0275\u0275listener"]("click",(function(){return e.getDate("start")})),s["\u0275\u0275pipe"](15,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",12),s["\u0275\u0275elementStart"](17,"input",13),s["\u0275\u0275listener"]("click",(function(){return e.getDate("end")})),s["\u0275\u0275pipe"](18,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",12),s["\u0275\u0275elementStart"](20,"button",14),s["\u0275\u0275listener"]("click",(function(){return e.getOtherUsageDetail()})),s["\u0275\u0275text"](21,"Submit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"nb-card-body",15),s["\u0275\u0275template"](23,It,23,2,"table",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](14),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](15,3,e.dates.start,"dd MMM yyyy")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](18,6,e.dates.end,"dd MMM yyyy")),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",e.data.length))},directives:[g.s,g.v,g.r,S.u,S.t],pipes:[S.f],styles:["nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}.btn-primary[_ngcontent-%COMP%]{padding:6px 15px;border-radius:3px}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#ddd}.pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#e5f3f9;color:#000}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:50px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:278px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:278px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#e4e4e4}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}[_nghost-%COMP%]     thead{border-top-left-radius:5px;border-top-right-radius:5px}"]}),Ft);function At(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"tr"),s["\u0275\u0275elementStart"](1,"td",16),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"td"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"td",12),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"td",12),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"td",12),s["\u0275\u0275text"](10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"td",12),s["\u0275\u0275text"](12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit,a=e.index;s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](a+1),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.vehicle),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.bpcl),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.hpcl),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.atm),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.tolls)}}function jt(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"tbody",17),s["\u0275\u0275elementStart"](1,"tr"),s["\u0275\u0275element"](2,"td"),s["\u0275\u0275elementStart"](3,"td"),s["\u0275\u0275text"](4," Subtotal"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"td",18),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"td",19),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"td",20),s["\u0275\u0275text"](10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](6),s["\u0275\u0275textInterpolate"](n.sum.bpcl),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.sum.hpcl),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.sum.atm)}}function Bt(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"tbody",21),s["\u0275\u0275elementStart"](1,"tr"),s["\u0275\u0275element"](2,"td"),s["\u0275\u0275elementStart"](3,"td"),s["\u0275\u0275text"](4,"Total"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"td",22),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](6),s["\u0275\u0275textInterpolate"](n.total)}}var Rt,zt,Ht,Vt=((Rt=function(){function t(e,a,o,r,l,i){n(this,t),this.common=e,this.pdfService=a,this.csvService=o,this.api=r,this.modalService=l,this.user=i,this.data=[],this.total=0,this.sum={bpcl:0,hpcl:0,atm:0},this.vehicle=[{}],this.mobileno=this.user._details.mobileno,this.userId=this.user._details.id,this.dates={start:this.common.dateFormatter(new Date),end:this.common.dateFormatter(new Date)},this.table=null,this.common.refresh=this.refresh.bind(this),console.log("Detailsssss:",this.user._details),this.getCardBalance()}return e(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.getCardBalance()}},{key:"getDate",value:function(t){var e=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then((function(n){e.dates[t]=e.common.dateFormatter(n.date).split(" ")[0],console.log("Date:",e.dates)}))}},{key:"getCardBalance",value:function(){var t=this,e="aduserid="+this.user._details.id+"&mobileno="+this.user._details.fo_mobileno+"&startdate="+this.dates.start+"&enddate="+this.dates.end;console.log("api hit"),this.common.loading++,this.api.walle8Get("AccountSummaryApi/ViewCardBalance.json?"+e).subscribe((function(e){t.common.loading--,console.log("Res:",e),t.data=e.data;for(var n=0;n<t.data.length;n++)t.sum.bpcl=t.sum.bpcl+t.data[n].bpcl,t.sum.hpcl=t.sum.hpcl+t.data[n].hpcl,t.sum.atm=t.sum.atm+t.data[n].atm,console.log("............",t.sum);t.total=t.total+t.sum.bpcl+t.sum.hpcl+t.sum.atm,console.log("card",t.total)}),(function(e){t.common.loading--,console.log(e)}))}},{key:"printPDF",value:function(){var t="admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name;console.log("Name:",t),this.pdfService.jrxTablesPDF(["cardBalance"],"card-balance",[["Name: "+t,"Report: Card-Balance"]])}},{key:"printCSV",value:function(){this.csvService.byMultiIds(["cardBalance"],"card-balance",[{name:"Name:"+("admin"==this.user._loggedInBy?this.user._details.username:this.user._details.name),report:"Report:Card-Balance"}])}}]),t}()).\u0275fac=function(t){return new(t||Rt)(s["\u0275\u0275directiveInject"](f.a),s["\u0275\u0275directiveInject"](C.a),s["\u0275\u0275directiveInject"](_.a),s["\u0275\u0275directiveInject"](v.a),s["\u0275\u0275directiveInject"](y.r),s["\u0275\u0275directiveInject"](h.a))},Rt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Rt,selectors:[["card-balance"]],decls:33,vars:3,consts:[[1,"ml-4","mr-4","pb-4",2,"border-bottom-left-radius","5px","border-bottom-right-radius","5px","box-shadow","5px 10px 54px 0px whitesmoke"],[1,"row","m-0",2,"width","100%","background-color","#E5F3F9","border-top-right-radius","5px","border-top-left-radius","5px","display","inline-block"],[1,"p-2",2,"font-weight","bold","display","inline-block"],[1,"p-2","float",2,"display","inline-block"],[2,"display","block"],["title","PDF Export",1,"pdf-icon",2,"cursor","pointer",3,"click"],[1,"fa","fa-file-pdf"],["title","CSV Export",1,"exel-icon",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"fas","fa-file-excel"],[2,"width","96%","margin-left","2%"],["id","cardBalance",1,"table","table-bordered","table-hover"],[1,"thead"],[2,"text-align","center"],[4,"ngFor","ngForOf"],["class","tbody-two",4,"ngIf"],["class","tbody-three",4,"ngIf"],["scope","row"],[1,"tbody-two"],[2,"text-align","center","padding-right","12px"],[2,"text-align","center","padding-right","10px"],[2,"text-align","center","padding-right","171px"],[1,"tbody-three"],[2,"padding-left","121px!important"]],template:function(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"h5",2),s["\u0275\u0275text"](5,"Card Balance"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",3),s["\u0275\u0275elementStart"](7,"span",4),s["\u0275\u0275elementStart"](8,"span",5),s["\u0275\u0275listener"]("click",(function(){return e.printPDF()})),s["\u0275\u0275element"](9,"i",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"span",7),s["\u0275\u0275listener"]("click",(function(){return e.printCSV()})),s["\u0275\u0275element"](11,"i",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"nb-card-body",9),s["\u0275\u0275elementStart"](13,"div"),s["\u0275\u0275elementStart"](14,"table",10),s["\u0275\u0275elementStart"](15,"thead",11),s["\u0275\u0275elementStart"](16,"tr"),s["\u0275\u0275elementStart"](17,"th"),s["\u0275\u0275text"](18,"#"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"th"),s["\u0275\u0275text"](20,"Vehicle"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"th",12),s["\u0275\u0275text"](22,"BPCL"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"th",12),s["\u0275\u0275text"](24,"HPCL"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"th",12),s["\u0275\u0275text"](26,"ATM"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](27,"th",12),s["\u0275\u0275text"](28,"Tolls"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](29,"tbody"),s["\u0275\u0275template"](30,At,13,6,"tr",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](31,jt,11,3,"tbody",14),s["\u0275\u0275template"](32,Bt,7,1,"tbody",15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275advance"](30),s["\u0275\u0275property"]("ngForOf",e.data),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.data.length),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.data.length))},directives:[g.s,g.v,g.r,S.t,S.u],styles:["nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}.pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:left;padding:4px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#ddd}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:50px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:250px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:50px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:250px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#e4e4e4}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}.tbody-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{color:#000;background-color:#d3d3d3!important}.tbody-three[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{color:#000;background-color:#a9a9a9!important}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(2n){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:hsla(0,0%,96.1%,.22)!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td, [_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}[_nghost-%COMP%]     table thead{background:#e5f3f9!important;color:#000!important;border-top-left-radius:5px!important;border-top-right-radius:5px!important}"]}),Rt),Nt=o("UTcu"),Ut=o("mNmA"),Gt=[{path:"",component:b,children:[{path:"",component:x},{path:"card-mapping",component:k,canActivate:[Nt.a,Ut.b]},{path:"card-usage",component:F,canActivate:[Nt.a,Ut.b]},{path:"payments-made",component:R,canActivate:[Nt.a,Ut.b]},{path:"latest-recharge",component:U,canActivate:[Nt.a,Ut.b]},{path:"toll-usage-summary",component:Y,canActivate:[Nt.a,Ut.b]},{path:"toll-discount",component:Z,canActivate:[Nt.a,Ut.b]},{path:"toll-usage",component:et,canActivate:[Nt.a,Ut.b]},{path:"toll-setteled-request",component:ot,canActivate:[Nt.a,Ut.b]},{path:"current-tag-balance",component:it,canActivate:[Nt.a,Ut.b]},{path:"double-toll-report",component:ct,canActivate:[Nt.a,Ut.b]},{path:"financial-toll-summary",component:pt,canActivate:[Nt.a,Ut.b]},{path:"financial-toll-summary-addtime",component:Ct,canActivate:[Nt.a,Ut.b]},{path:"financial-main-summary",component:Mt,canActivate:[Nt.a,Ut.b]},{path:"toll-analatics",component:wt,canActivate:[Nt.a,Ut.b]},{path:"other-usage",component:Tt,canActivate:[Nt.a,Ut.b]},{path:"card-balance",component:Vt,canActivate:[Nt.a,Ut.b]}]}],Kt=((Ht=function t(){n(this,t)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:Ht}),Ht.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||Ht)},imports:[[p.g.forChild(Gt)],p.g]}),Ht),qt=((zt=function t(){n(this,t)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:zt}),zt.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||zt)},providers:[S.f],imports:[[Kt,d.a,c,m.a,Pt.ChartModule]]}),zt)}}])}();