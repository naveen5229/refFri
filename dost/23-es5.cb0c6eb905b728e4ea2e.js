!function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function t(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{yEUo:function(e,a,i){"use strict";i.r(a),i.d(a,"WareHouseModule",(function(){return xe}));var o,l,r=i("SVse"),s=i("iInd"),d=i("qfBg"),m=i("8Y7J"),c=i("IAMq"),u=i("tKwJ"),h=((l=function e(t,a){n(this,e),this.user=t,this.router=a}).\u0275fac=function(e){return new(e||l)(m["\u0275\u0275directiveInject"](d.a),m["\u0275\u0275directiveInject"](s.c))},l.\u0275cmp=m["\u0275\u0275defineComponent"]({type:l,selectors:[["ngx-pages"]],decls:3,vars:1,consts:[["autoCollapse","true",3,"items"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"ngx-sample-layout"),m["\u0275\u0275element"](1,"nb-menu",0),m["\u0275\u0275element"](2,"router-outlet"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("items",t.user._menu.wareHouse))},directives:[c.a,u.W,s.h],encapsulation:2}),l),p=((o=function(){function e(){n(this,e)}return t(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=m["\u0275\u0275defineComponent"]({type:o,selectors:[["ware-house-dashbord"]],decls:2,vars:0,template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"p"),m["\u0275\u0275text"](1," ware-house-dashbord works!\n"),m["\u0275\u0275elementEnd"]())},styles:[""]}),o),g=i("H+bZ"),v=i("OlR4"),f=i("G0yt"),y=i("s7LF"),S=i("csNM"),b=i("wD9S");function E(e,t){if(1&e&&m["\u0275\u0275element"](0,"smart-table",16),2&e){var n=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("data",n.table.data)("settings",n.table.settings)}}function I(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"tr"),m["\u0275\u0275elementStart"](1,"td"),m["\u0275\u0275elementStart"](2,"input",17),m["\u0275\u0275listener"]("ngModelChange",(function(e){return m["\u0275\u0275restoreView"](n),t.$implicit.selected=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"td"),m["\u0275\u0275text"](4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"td"),m["\u0275\u0275text"](6),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"td"),m["\u0275\u0275text"](8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"td"),m["\u0275\u0275elementStart"](10,"input",18),m["\u0275\u0275listener"]("ngModelChange",(function(e){return m["\u0275\u0275restoreView"](n),t.$implicit.item_name=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](11,"td"),m["\u0275\u0275elementStart"](12,"input",19),m["\u0275\u0275listener"]("ngModelChange",(function(e){return m["\u0275\u0275restoreView"](n),t.$implicit.qty=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,i=t.index;m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("name","list-"+i)("ngModel",a.selected),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](a.receipt_no),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](a.source),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](a.destination),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",a.item_name),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",a.qty)}}var x,M=((x=function(){function e(t,a,i){n(this,e),this.activeModal=t,this.api=a,this.common=i,this.manifestId=null,this.wareHouseId=null,this.lrList=[],this.data=[],this.result=[],this.itmeName=this.common.params.item_name,this.remarks=null,this.startDate=new Date,this.selectedLr=[],this.Today=new Date,this.getLrList(),console.log("params",this.common.params)}return t(e,[{key:"ngOnInit",value:function(){}},{key:"closeModal",value:function(){this.activeModal.close()}},{key:"getLrList",value:function(){var e=this;this.api.get("WareHouse/getLrWrtManifest?manifestId="+this.common.params.manifestId).subscribe((function(t){e.lrList=[],e.lrList=t.data,e.lrList.map((function(t,n){t.item_name=e.common.params.item_name+"-"+(null!=t.consignee_id?t.consignee_id:"")})),console.log("datA",e.lrList)}),(function(e){console.log(e)}))}},{key:"selectAll",value:function(){if(console.log("select all::::::::::::"),this.selectedAll)for(var e=0;e<this.lrList.length;e++)this.lrList[e].selected=!0;else for(e=0;e<this.lrList.length;e++)this.lrList[e].selected=!1;console.log("select All",this.selectAll)}},{key:"saveLr",value:function(){var e=this,t={whId:this.common.params.warehouseId,dttime:this.startDate,remarks:this.remarks,whDetails:JSON.stringify(this.lrList.filter((function(e){return!!e.selected})).map((function(e){return{material_id:e.materialid,unitype_id:e.unittype,company_id:e.consignee_id,ref_type:11,ref_id:e.lrid,qty:e.qty,item_name:e.item_name}})))};2==t.whDetails.length?this.common.showToast("Please Select At Least One Row"):(console.log("LRLIST: ",t.whDetails.length),console.log("LR List:",this.lrList),this.common.loading++,console.log("params",t),this.api.post("WareHouse/saveWhDetails",t).subscribe((function(t){t.data[0].y_id>0?(e.common.loading--,e.common.showToast(t.data[0].y_msg),e.result=t.data,e.activeModal.close({response:e.result})):(e.common.loading--,e.common.showError(t.data[0].y_msg))}),(function(e){})))}}]),e}()).\u0275fac=function(e){return new(e||x)(m["\u0275\u0275directiveInject"](f.b),m["\u0275\u0275directiveInject"](g.a),m["\u0275\u0275directiveInject"](v.a))},x.\u0275cmp=m["\u0275\u0275defineComponent"]({type:x,selectors:[["receive-items"]],decls:48,vars:6,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"mt-2"],["id","lrmanifest",3,"data","settings",4,"ngIf"],["frame","box",2,"width","100%"],["type","checkbox","name","vlist",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"row","mt-2"],[1,"col-3"],[1,"col-4"],[3,"maxd","dateTimeValue","onChanged"],["name","comment","form","usrform",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"click"],["id","lrmanifest",3,"data","settings"],["type","checkbox",3,"name","ngModel","ngModelChange"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","number",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"h5",1),m["\u0275\u0275text"](2," Receive Items"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"button",2),m["\u0275\u0275listener"]("click",(function(){return t.closeModal()})),m["\u0275\u0275elementStart"](4,"span",3),m["\u0275\u0275text"](5,"\xd7"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"div",4),m["\u0275\u0275elementStart"](7,"div",5),m["\u0275\u0275template"](8,E,1,2,"smart-table",6),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"div"),m["\u0275\u0275elementStart"](10,"table",7),m["\u0275\u0275elementStart"](11,"thead"),m["\u0275\u0275elementStart"](12,"tr"),m["\u0275\u0275elementStart"](13,"th"),m["\u0275\u0275elementStart"](14,"b"),m["\u0275\u0275elementStart"](15,"input",8),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.selectedAll=e}))("ngModelChange",(function(){return t.selectAll()})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](16,"th"),m["\u0275\u0275elementStart"](17,"b"),m["\u0275\u0275text"](18,"Receipt_no"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](19,"th"),m["\u0275\u0275elementStart"](20,"b"),m["\u0275\u0275text"](21,"Source"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](22,"th"),m["\u0275\u0275elementStart"](23,"b"),m["\u0275\u0275text"](24,"Destination"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](25,"th"),m["\u0275\u0275elementStart"](26,"b"),m["\u0275\u0275text"](27,"Item Name"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](28,"th"),m["\u0275\u0275elementStart"](29,"b"),m["\u0275\u0275text"](30,"Quantity"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](31,"tbody"),m["\u0275\u0275template"](32,I,13,7,"tr",9),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](33,"div",10),m["\u0275\u0275elementStart"](34,"div",11),m["\u0275\u0275elementStart"](35,"label"),m["\u0275\u0275text"](36,"Date"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](37,"div",12),m["\u0275\u0275elementStart"](38,"uj-date-time-picker",13),m["\u0275\u0275listener"]("onChanged",(function(e){return t.startDate=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](39,"div",10),m["\u0275\u0275elementStart"](40,"div",11),m["\u0275\u0275elementStart"](41,"label"),m["\u0275\u0275text"](42,"Remark"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](43,"div",12),m["\u0275\u0275elementStart"](44,"textarea",14),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.remarks=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](45,"div",5),m["\u0275\u0275elementStart"](46,"button",15),m["\u0275\u0275listener"]("click",(function(){return t.saveLr()})),m["\u0275\u0275text"](47,"save"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](8),m["\u0275\u0275property"]("ngIf",t.data&&t.data.length),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("ngModel",t.selectedAll),m["\u0275\u0275advance"](17),m["\u0275\u0275property"]("ngForOf",t.lrList),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("maxd",t.Today)("dateTimeValue",t.startDate),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("ngModel",t.remarks))},directives:[r.u,y.a,y.r,y.u,r.t,S.a,y.d,b.a,y.x],styles:["table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}th[_ngcontent-%COMP%]{background-color:#737373;color:#fff}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:left;padding:8px}td[_ngcontent-%COMP%]{color:#000}"]}),x),w=i("F9Xm"),C=i("ZkqS"),k=i("0zba");function D(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",35),m["\u0275\u0275elementStart"](1,"span"),m["\u0275\u0275text"](2," value is mandatory "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]())}function O(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",35),m["\u0275\u0275elementStart"](1,"span",36),m["\u0275\u0275text"](2," value is mandatory "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){m["\u0275\u0275nextContext"]();var n=m["\u0275\u0275reference"](22);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("hidden",!n.errors.required)}}function _(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",35),m["\u0275\u0275elementStart"](1,"span"),m["\u0275\u0275text"](2," value is mandatory "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]())}function T(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",35),m["\u0275\u0275elementStart"](1,"span",36),m["\u0275\u0275text"](2," value is mandatory "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){m["\u0275\u0275nextContext"]();var n=m["\u0275\u0275reference"](43);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("hidden",!n.errors.required)}}function P(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"option",37),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;m["\u0275\u0275property"]("value",n.id),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function H(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",35),m["\u0275\u0275elementStart"](1,"span",36),m["\u0275\u0275text"](2," value is mandatory "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){m["\u0275\u0275nextContext"]();var n=m["\u0275\u0275reference"](52);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("hidden",!n.errors.required)}}function j(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",8),m["\u0275\u0275elementStart"](1,"button",38),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"](2).addMore()})),m["\u0275\u0275element"](2,"i",22),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}}function q(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",8),m["\u0275\u0275elementStart"](1,"button",39),m["\u0275\u0275listener"]("click",(function(){m["\u0275\u0275restoreView"](n);var e=m["\u0275\u0275nextContext"]().index;return m["\u0275\u0275nextContext"]().selectLr.splice(e,1)})),m["\u0275\u0275element"](2,"i",40),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}}function L(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",13),m["\u0275\u0275elementStart"](1,"form",14,15),m["\u0275\u0275listener"]("submit",(function(){m["\u0275\u0275restoreView"](n);var e=m["\u0275\u0275reference"](2),t=m["\u0275\u0275nextContext"]();return e.valid&&t.saveLr()})),m["\u0275\u0275elementStart"](3,"div",16),m["\u0275\u0275elementStart"](4,"div",8),m["\u0275\u0275elementStart"](5,"label"),m["\u0275\u0275text"](6,"Material"),m["\u0275\u0275elementStart"](7,"span",17),m["\u0275\u0275text"](8,"*"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"div",18),m["\u0275\u0275elementStart"](10,"auto-suggestion",19),m["\u0275\u0275listener"]("onSelected",(function(e){return m["\u0275\u0275restoreView"](n),t.$implicit.material_id=e.id}))("focusout",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().setMaterialValue("GetMaterialTypes")}))("unSelected",(function(e){return m["\u0275\u0275restoreView"](n),t.$implicit.material_id=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](11,D,3,0,"div",20),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"div",8),m["\u0275\u0275elementStart"](13,"button",21),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().addmaterial()})),m["\u0275\u0275element"](14,"i",22),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](15,"div",23),m["\u0275\u0275elementStart"](16,"label"),m["\u0275\u0275text"](17,"Item name"),m["\u0275\u0275elementStart"](18,"span",17),m["\u0275\u0275text"](19,"*"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](20,"div",18),m["\u0275\u0275elementStart"](21,"input",24,25),m["\u0275\u0275listener"]("ngModelChange",(function(e){return m["\u0275\u0275restoreView"](n),t.$implicit.item_name=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](23,O,3,1,"div",20),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](24,"div",8),m["\u0275\u0275elementStart"](25,"label"),m["\u0275\u0275text"](26,"Party"),m["\u0275\u0275elementStart"](27,"span",17),m["\u0275\u0275text"](28,"*"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](29,"div",18),m["\u0275\u0275elementStart"](30,"auto-suggestion",26),m["\u0275\u0275listener"]("onSelected",(function(e){return m["\u0275\u0275restoreView"](n),t.$implicit.company_id=e.id}))("focusout",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().setParty("company")}))("unSelected",(function(e){return m["\u0275\u0275restoreView"](n),t.$implicit.company_id=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](31,_,3,0,"div",20),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](32,"div",8),m["\u0275\u0275elementStart"](33,"button",21),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().addCompany()})),m["\u0275\u0275element"](34,"i",22),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](35,"div",27),m["\u0275\u0275elementStart"](36,"div",8),m["\u0275\u0275elementStart"](37,"label"),m["\u0275\u0275text"](38,"Quantity"),m["\u0275\u0275elementStart"](39,"span",17),m["\u0275\u0275text"](40,"*"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](41,"div",9),m["\u0275\u0275elementStart"](42,"input",28,29),m["\u0275\u0275listener"]("ngModelChange",(function(e){return m["\u0275\u0275restoreView"](n),t.$implicit.qty=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](44,T,3,1,"div",20),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](45,"div",23),m["\u0275\u0275elementStart"](46,"label"),m["\u0275\u0275text"](47,"Unit Type"),m["\u0275\u0275elementStart"](48,"span",17),m["\u0275\u0275text"](49,"*"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](50,"div",18),m["\u0275\u0275elementStart"](51,"select",30,31),m["\u0275\u0275listener"]("ngModelChange",(function(e){return m["\u0275\u0275restoreView"](n),t.$implicit.unitype_id=e})),m["\u0275\u0275template"](53,P,2,2,"option",32),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](54,H,3,1,"div",20),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](55,"div",8),m["\u0275\u0275elementStart"](56,"label"),m["\u0275\u0275text"](57,"Remark"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](58,"div",18),m["\u0275\u0275elementStart"](59,"textarea",33),m["\u0275\u0275listener"]("ngModelChange",(function(e){return m["\u0275\u0275restoreView"](n),t.$implicit.remarks=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](60,j,3,0,"div",34),m["\u0275\u0275template"](61,q,3,0,"div",34),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,i=t.index,o=m["\u0275\u0275reference"](22),l=m["\u0275\u0275reference"](43),r=m["\u0275\u0275reference"](52),s=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](11),m["\u0275\u0275property"]("ngIf",null==a.material_id&&s.isFormSubmit),m["\u0275\u0275advance"](10),m["\u0275\u0275property"]("ngModel",a.item_name),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",s.isFormSubmit&&o.errors),m["\u0275\u0275advance"](8),m["\u0275\u0275property"]("ngIf",null==a.company_id&&s.isFormSubmit),m["\u0275\u0275advance"](11),m["\u0275\u0275property"]("ngModel",a.qty),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",s.isFormSubmit&&l.errors),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("ngModel",a.unitype_id),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngForOf",s.unitList),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",s.isFormSubmit&&r.errors),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("ngModel",a.remarks),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",i==s.selectLr.length-1),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",0!=i)}}var F,V=((F=function(){function e(t,a,i,o){n(this,e),this.activeModal=t,this.api=a,this.modalService=i,this.common=o,this.unitList=[],this.wareHouseId=null,this.isFormSubmit=!1,this.startDate=new Date,this.Today=new Date,this.material=null,this.selectLr=[{material_id:null,unitype_id:null,item_name:null,company_id:null,ref_type:-1,ref_id:null,qty:null,remarks:null}],this.common.handleModalSize("class","modal-lg","1200"),this.getUnitList()}return t(e,[{key:"ngOnInit",value:function(){}},{key:"closeModal",value:function(){this.activeModal.close()}},{key:"getUnitList",value:function(){var e=this;this.api.post("Suggestion/getUnit",{search:""}).subscribe((function(t){e.unitList=t.data,console.log("type",e.unitList)}),(function(t){e.common.showError()}))}},{key:"addMore",value:function(){this.selectLr.push({material_id:null,unitype_id:null,item_name:null,company_id:null,ref_type:-1,ref_id:null,qty:null,remarks:null})}},{key:"setMaterialValue",value:function(e){console.log("8888888"),null==this.selectLr.material_id&&(document.getElementById(e).value="")}},{key:"setParty",value:function(e){null==this.selectLr.company_id&&(document.getElementById(e).value="")}},{key:"saveLr",value:function(){var e=this,t={whId:this.common.params.warehouseId,dttime:this.startDate,whDetails:JSON.stringify(this.selectLr)};this.common.loading++,console.log("params",t),this.api.post("WareHouse/saveWhDetailsManually",t).subscribe((function(t){t.data[0].y_id>0?(e.common.loading--,e.common.showToast(t.data[0].y_msg),e.activeModal.close()):(e.common.loading--,e.common.showError(t.data[0].y_msg))}),(function(e){}))}},{key:"addCompany",value:function(){this.modalService.open(w.a,{size:"sm",container:"nb-layout",backdrop:"static",windowClass:"drag-box"})}},{key:"addmaterial",value:function(){this.modalService.open(C.a,{size:"sm",container:"nb-layout"})}}]),e}()).\u0275fac=function(e){return new(e||F)(m["\u0275\u0275directiveInject"](f.b),m["\u0275\u0275directiveInject"](g.a),m["\u0275\u0275directiveInject"](f.r),m["\u0275\u0275directiveInject"](v.a))},F.\u0275cmp=m["\u0275\u0275defineComponent"]({type:F,selectors:[["manual-items"]],decls:19,vars:3,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"table-conan","filter-coff"],["class","mb-3",4,"ngFor","ngForOf"],[1,"row","mt-2"],[1,"col-1"],[1,"col-3"],[3,"maxd","dateTimeValue","onChanged"],[1,"modal-footer","text-right"],["form","company-form",1,"btn","btn-primary","pt-2","pb-2","rounded-sm",3,"click"],[1,"mb-3"],["name","company-form","id","company-form",3,"submit"],["formFilling","ngForm"],[1,"row","align-items-center"],[1,"text-red"],[1,"col-2"],["inputId","GetMaterialTypes","name","GetMaterialTypes","url","Suggestion/GetMaterialTypes","display","name","placeholder","Enter value",1,"w-100",2,"width","75%","display","inline-block",3,"onSelected","focusout","unSelected"],["class","err",4,"ngIf"],["type","button",1,"btn","btn-primary","pt-1","pb-1","rounded-sm","w-100",3,"click"],[1,"fa","fa-plus","add"],[1,"col-1","p-0"],["type","text","name","itemName","id","itemName","required","",1,"form-control",3,"ngModel","ngModelChange"],["itemName","ngModel"],["inputId","company","name","company","url","Suggestion/GetCompanies2?type=ALL","display","name","placeholder","Enter Company name",1,"w-100",2,"width","75%","display","inline-block",3,"onSelected","focusout","unSelected"],[1,"row","mt-3"],["type","number","id","quantity","name","quantity","required","",1,"form-control",3,"ngModel","ngModelChange"],["quantity","ngModel"],["id","unitType","name","unitType","required","",1,"form-control",3,"ngModel","ngModelChange"],["unitType","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","comment","id","remarks","name","remarks","form","usrform",1,"form-control",3,"ngModel","ngModelChange"],["class","col-1",4,"ngIf"],[1,"err"],[3,"hidden"],[3,"value"],[1,"btn","btn-primary","pt-1","pb-1","rounded-sm",3,"click"],[1,"btn","btn-danger","pt-1","pb-1","rounded-sm","w-100",3,"click"],[1,"fa","fa-trash","remove"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"h5",1),m["\u0275\u0275text"](2,"Manual Items"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"button",2),m["\u0275\u0275listener"]("click",(function(){return t.closeModal()})),m["\u0275\u0275elementStart"](4,"span",3),m["\u0275\u0275text"](5,"\xd7"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"div",4),m["\u0275\u0275elementStart"](7,"div",5),m["\u0275\u0275elementStart"](8,"div"),m["\u0275\u0275template"](9,L,62,12,"div",6),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"div",7),m["\u0275\u0275elementStart"](11,"div",8),m["\u0275\u0275elementStart"](12,"label"),m["\u0275\u0275text"](13,"Date"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"div",9),m["\u0275\u0275elementStart"](15,"uj-date-time-picker",10),m["\u0275\u0275listener"]("onChanged",(function(e){return t.startDate=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](16,"div",11),m["\u0275\u0275elementStart"](17,"button",12),m["\u0275\u0275listener"]("click",(function(){return t.isFormSubmit=!0})),m["\u0275\u0275text"](18,"submit"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](9),m["\u0275\u0275property"]("ngForOf",t.selectLr),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("maxd",t.Today)("dateTimeValue",t.startDate))},directives:[r.t,S.a,y.H,y.s,y.t,k.a,r.u,y.d,y.C,y.r,y.u,y.x,y.D,y.w,y.G],styles:['.table-conan[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.table-conan[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:2px;font-size:12px;font-weight:700;width:190px}.table-conan[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.table-conan[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:3px;padding:3px 7px;width:100%}.submit[_ngcontent-%COMP%]{border-radius:3px;padding:8px 15px;text-transform:capitalize}[_nghost-%COMP%]     .tableFixHead{height:auto!important}[_nghost-%COMP%]     .fa-trash-alt{color:#000;font-size:18px}[_nghost-%COMP%]     .fa-trash-alt span{position:absolute;display:none;padding:10px 28px;font-weight:400;font-size:11px;left:-22px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-trash-alt span:before{content:"Delete";display:block;position:absolute;top:0;left:0;background-color:#000;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-trash-alt span:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #000;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-trash-alt:hover span{display:block}.err[_ngcontent-%COMP%]{font-size:14px}.err[_ngcontent-%COMP%], .text-red[_ngcontent-%COMP%]{color:red}']}),F);function W(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"option",11),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;m["\u0275\u0275property"]("value",n.id),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"]("",n.name," ")}}function A(e,t){if(1&e&&m["\u0275\u0275element"](0,"smart-table",12),2&e){var n=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("data",n.table.data)("settings",n.table.settings)}}var R,z=((R=function(){function e(t,a,i,o){n(this,e),this.api=t,this.user=a,this.common=i,this.modalService=o,this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.wareHouseId=null,this.dataReceive="",this.endDate=new Date,this.startDate=new Date((new Date).setDate(new Date(this.endDate).getDate()-10)),this.headings=[],this.valobj={},this.getWareData(),this.common.refresh=this.refresh.bind(this)}return t(e,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.getWareData()}},{key:"getTableColumns",value:function(){var e=this,t=[];return console.log("Data=",this.data),this.data.map((function(n){e.valobj={};for(var a=0;a<e.headings.length;a++)console.log("doc index value:",n[e.headings[a]]),"Action"==e.headings[a]?e.valobj.Action={class:"fa fa-edit",action:e.showAction.bind(e,n)}:e.valobj[e.headings[a]]={value:n[e.headings[a]],class:"black",action:""};t.push(e.valobj)})),t}},{key:"getdata",value:function(){var e=this;if(this.startDate<this.endDate)if(null!=this.wareHouseId){var t={startDate:this.common.dateFormatter(this.startDate),endDate:this.common.dateFormatter(this.endDate),whId:this.wareHouseId};console.log("ap"),this.common.loading++,this.api.post("WareHouse/getManifestPendingList",t).subscribe((function(t){if(e.common.loading--,null==t.data)e.data=[],e.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},e.headings=[],e.valobj={},e.common.showToast("No data Found");else{e.data=[],e.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},e.headings=[],e.valobj={},e.data=t.data,console.log("result",t);var n=e.data[0];for(var a in n)if("_"!=a.charAt(0)){e.headings.push(a);var i={title:e.formatTitle(a),placeholder:e.formatTitle(a)};e.table.data.headings[a]=i}e.table.data.columns=e.getTableColumns()}}))}else this.common.showToast("Please Select WareHouse");else this.common.showToast("Start Date should be less then EndDate")}},{key:"showAction",value:function(e){var t=this;console.log("doc",e),null!=this.wareHouseId?(this.common.params={warehouseId:this.wareHouseId,manifestId:e._manifest_id,item_name:e["Challan No"]},console.log("id",this.common.params),this.modalService.open(M,{size:"lg",container:"nb-layout"}).result.then((function(e){e.response&&t.getdata()}))):this.common.showToast("please select WareHouse")}},{key:"getWareData",value:function(){var e=this;this.api.get("Suggestion/getWarehouseList").subscribe((function(t){e.dataReceive=t.data,console.log("autosugg",e.dataReceive)}))}},{key:"formatTitle",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"Manual",value:function(){null!=this.wareHouseId?(this.common.params={warehouseId:this.wareHouseId},this.modalService.open(V,{size:"lg",container:"nb-layout",backdrop:"static"})):this.common.showToast("please select wareHouse")}}]),e}()).\u0275fac=function(e){return new(e||R)(m["\u0275\u0275directiveInject"](g.a),m["\u0275\u0275directiveInject"](d.a),m["\u0275\u0275directiveInject"](v.a),m["\u0275\u0275directiveInject"](f.r))},R.\u0275cmp=m["\u0275\u0275defineComponent"]({type:R,selectors:[["ware-house-receipts"]],decls:22,vars:8,consts:[[1,"clearfix"],[1,"row",2,"margin-top","10px"],[1,"col-2"],[3,"dateTimeValue","isTime","onChanged"],[3,"dateTimeValue","isTime","isStart","onChanged"],["classs","col-4"],["placeholder","Name",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["id","button",1,"btn","btn-primary","w-100","pt-2","pb-2","rounded-sm","text-capitalize",3,"click"],[1,"mt-2"],["id","wareHouse",3,"data","settings",4,"ngIf"],[3,"value"],["id","wareHouse",3,"data","settings"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"nb-card"),m["\u0275\u0275elementStart"](1,"nb-card-header"),m["\u0275\u0275elementStart"](2,"h5"),m["\u0275\u0275text"](3,"Ware House Receipt"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"nb-card-body"),m["\u0275\u0275elementStart"](5,"div",0),m["\u0275\u0275elementStart"](6,"div",1),m["\u0275\u0275elementStart"](7,"div",2),m["\u0275\u0275elementStart"](8,"uj-date-time-picker",3),m["\u0275\u0275listener"]("onChanged",(function(e){return t.startDate=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"div",2),m["\u0275\u0275elementStart"](10,"uj-date-time-picker",4),m["\u0275\u0275listener"]("onChanged",(function(e){return t.endDate=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](11,"div",5),m["\u0275\u0275elementStart"](12,"select",6),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.wareHouseId=e})),m["\u0275\u0275template"](13,W,2,2,"option",7),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"div",2),m["\u0275\u0275elementStart"](15,"button",8),m["\u0275\u0275listener"]("click",(function(){return t.getdata()})),m["\u0275\u0275text"](16,"Submit"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](17,"div",2),m["\u0275\u0275elementStart"](18,"button",8),m["\u0275\u0275listener"]("click",(function(){return t.Manual()})),m["\u0275\u0275text"](19,"Manual"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](20,"div",9),m["\u0275\u0275template"](21,A,1,2,"smart-table",10),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](8),m["\u0275\u0275property"]("dateTimeValue",t.startDate)("isTime",!1),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("dateTimeValue",t.endDate)("isTime",!1)("isStart",!1),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",t.wareHouseId),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",t.dataReceive),m["\u0275\u0275advance"](8),m["\u0275\u0275property"]("ngIf",t.data&&t.data.length))},directives:[u.s,u.v,u.r,S.a,y.D,y.r,y.u,r.t,r.u,y.w,y.G,b.a],styles:["[_nghost-%COMP%]     .tableFixHead table tr td:first-child, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(4), [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(5), [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(6), [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(7){text-align:center}"]}),R),N=i("ia/1");function $(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"option",27),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;m["\u0275\u0275property"]("value",n.id),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function U(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",14),m["\u0275\u0275elementStart"](1,"select",25),m["\u0275\u0275listener"]("ngModelChange",(function(e){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().StateId=e})),m["\u0275\u0275template"](2,$,2,2,"option",26),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){var a=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngModel",a.StateId),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",a.stateType)}}function Q(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"option",27),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;m["\u0275\u0275property"]("value",n.id),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function G(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",14),m["\u0275\u0275elementStart"](1,"select",25),m["\u0275\u0275listener"]("ngModelChange",(function(e){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().StateId=e})),m["\u0275\u0275template"](2,Q,2,2,"option",26),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){var a=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngModel",a.StateId),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",a.stateType1)}}function B(e,t){if(1&e&&m["\u0275\u0275element"](0,"smart-table",28),2&e){var n=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("data",n.table.data)("settings",n.table.settings)}}var J,Y=((J=function(){function e(t,a,i,o){n(this,e),this.common=t,this.modalService=a,this.api=i,this.activeModal=o,this.itemList=[],this.Test=null,this.dataItems=[],this.itemId=null,this.quantityId=null,this.unitTypeId=null,this.unitList=[],this.Date=new Date,this.remark="",this.itemsId=null,this.selectOption="In",this.stateData=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.stateType=[{id:null,name:null}],this.stateType1=[{id:null,name:null}],this.userInput="",this.StateId=null,this.boolean=0,this.stateFind=null,this.getUnitList(),this.getItems(),this.getStateData(),console.log("para",this.common.params),this.quantityId=this.common.params.quantity,this.stateFind=this.common.params.quantity,this.itemId=this.common.params.itemId,this.StateId=this.common.params.stateId,this.selectOption=this.StateId>0?"In":"Out",console.log("items1",this.itemId),this.common.handleModalSize("class","modal-lg","550"),this.stateType=[{name:"Transhipment",id:2},{name:"Out for Delivery",id:4},{name:"Damage",id:5},{name:"Missing/theft",id:6},{name:" Delivered",id:1}],this.stateType1=[{name:"Receive Manifest",id:-1},{name:"Received By GP",id:-2},{name:"Received Lr",id:-3},{name:"Returned Back",id:-4},{name:"Increase In Count",id:-6}]}return t(e,[{key:"ngOnInit",value:function(){}},{key:"getItems",value:function(){var e=this;this.api.get("WareHouse/getWhStockItem").subscribe((function(t){e.dataItems=t.data,console.log("autosugg",e.dataItems)}))}},{key:"getUnitList",value:function(){var e=this;this.common.loading++,this.api.post("Suggestion/getUnit",{search:""}).subscribe((function(t){e.common.loading--,e.unitList=t.data,console.log("type",e.unitList)}),(function(t){e.common.loading--,e.common.showError()}))}},{key:"closeModal",value:function(){this.activeModal.close()}},{key:"cancelRequest",value:function(){this.activeModal.close()}},{key:"onSet",value:function(e){return this.selectOption=null,this.selectOption=e,console.log("select type:",this.selectOption),"Out"==this.selectOption?(console.log("stateFind",this.selectOption),this.stateType):this.stateType1}},{key:"getAdvice",value:function(){var e=this;if(console.log(this.selectOption),this.StateId){if(this.quantityId<0)return this.common.showError("Quantity should not  be in nagative ");if("Out"==this.selectOption){if(console.log("stateFind",this.selectOption),0==this.quantityId)return this.common.showError("You have no items in stock ");if(this.quantityId===this.stateFind)this.common.params={title:"Closing Stock",description:"Are you sure you want close this stock?",btn2:"No",btn1:"Yes"},console.log("Inside confirm model"),this.modalService.open(N.a,{size:"sm",container:"nb-layout"}).result.then((function(t){console.log("res",t),t.response?(e.boolean=1,e.saveStock()):0==t.apiHit&&(e.boolean=0,e.saveStock())}));else{if(this.quantityId>this.stateFind)return console.log("out1"),this.common.showError("Quantity should be less  than  and equal  your stock ");this.quantityId<this.stateFind&&this.saveStock()}}else"In"==this.selectOption&&this.saveStock()}else this.common.showError("State Type Missing")}},{key:"saveStock",value:function(){var e=this,t=this.common.dateFormatter(this.Date),n={stateId:this.StateId,itemId:this.itemId,qty:this.quantityId,dttime:t,remarks:this.remark,perDetail:this.userInput,isClose:this.boolean};if(null==this.userInput)return this.common.showError("Detail is required ");console.log("result",n),this.common.loading++,this.api.post("WareHouse/saveWhStockItemState",n).subscribe((function(t){e.common.loading--,e.unitList=t.data,console.log("type",e.unitList),e.quantityId<t.data.qty&&e.common.showError(t.msg),t.data[0].y_id>0?(e.common.showToast("Sucessfully insert"),e.activeModal.close({data:!0})):e.common.showError(t.msg)}),(function(t){e.common.showError()}))}},{key:"getTableColumns",value:function(){var e=this,t=[];return console.log("Data=",this.stateData),this.stateData.map((function(n){e.valobj={};for(var a=0;a<e.headings.length;a++)console.log("doc index value:",n[e.headings[a]]),e.valobj[e.headings[a]]={value:n[e.headings[a]],class:"black",action:""};t.push(e.valobj)})),t}},{key:"getStateData",value:function(){var e=this;console.log("ap"),this.api.get("wareHouse/getAllStatesWrtItem?itemId="+this.common.params.itemId).subscribe((function(t){e.stateData=[],e.stateData=t.data,console.log("result",t);var n=e.stateData[0];for(var a in n)if("_"!=a.charAt(0)){e.headings.push(a);var i={title:e.formatTitle(a),placeholder:e.formatTitle(a)};e.table.data.headings[a]=i}e.table.data.columns=e.getTableColumns()}))}},{key:"formatTitle",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}]),e}()).\u0275fac=function(e){return new(e||J)(m["\u0275\u0275directiveInject"](v.a),m["\u0275\u0275directiveInject"](f.r),m["\u0275\u0275directiveInject"](g.a),m["\u0275\u0275directiveInject"](f.b))},J.\u0275cmp=m["\u0275\u0275defineComponent"]({type:J,selectors:[["got-pass"]],decls:60,vars:9,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","in-out-radio"],[1,"col-6","text-center"],[1,"checkpointer"],["type","radio","name","In","value","In","checked","",3,"ngModel","ngModelChange","change"],["type","radio","name","Out","value","Out",3,"ngModel","change","ngModelChange"],[1,"row","mb-3"],[1,"col-3"],["class","col-9",4,"ngIf","ngIfElse"],["state2",""],[1,"col-9"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[3,"dateTimeValue","onChanged"],["rows","2","cols","55",1,"form-control",3,"ngModel","ngModelChange"],["rows","4","cols","55","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"row"],[1,"col-12","text-right"],["id","button",1,"btn","btn-danger","mr-3","pt-2","pb-2","rounded-sm","text-capitalize",3,"click"],["id","button",1,"btn","btn-primary","pt-2","pb-2","rounded-sm","text-capitalize",3,"click"],[1,"modal-footer"],["id","wareHouseInventory",3,"data","settings",4,"ngIf"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","wareHouseInventory",3,"data","settings"]],template:function(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"h5",1),m["\u0275\u0275text"](2,"Stock Exchange"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"button",2),m["\u0275\u0275listener"]("click",(function(){return t.closeModal()})),m["\u0275\u0275elementStart"](4,"span",3),m["\u0275\u0275text"](5,"\xd7"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"div",4),m["\u0275\u0275elementStart"](7,"div",5),m["\u0275\u0275elementStart"](8,"div",6),m["\u0275\u0275elementStart"](9,"label",7),m["\u0275\u0275elementStart"](10,"i"),m["\u0275\u0275text"](11,"In"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"input",8),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.selectOption=e}))("change",(function(){return t.onSet(t.selectOption)})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](13,"span"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"div",6),m["\u0275\u0275elementStart"](15,"label",7),m["\u0275\u0275elementStart"](16,"i"),m["\u0275\u0275text"](17,"Out"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](18,"input",9),m["\u0275\u0275listener"]("change",(function(){return t.onSet(t.selectOption)}))("ngModelChange",(function(e){return t.selectOption=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](19,"span"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](20,"hr"),m["\u0275\u0275elementStart"](21,"div",10),m["\u0275\u0275elementStart"](22,"div",11),m["\u0275\u0275elementStart"](23,"label"),m["\u0275\u0275text"](24,"State*:"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](25,U,3,2,"div",12),m["\u0275\u0275template"](26,G,3,2,"ng-template",null,13,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](28,"div",10),m["\u0275\u0275elementStart"](29,"div",11),m["\u0275\u0275elementStart"](30,"label"),m["\u0275\u0275text"](31,"Quantity*:"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](32,"div",14),m["\u0275\u0275elementStart"](33,"input",15),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.quantityId=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](34,"div",10),m["\u0275\u0275elementStart"](35,"div",11),m["\u0275\u0275elementStart"](36,"label"),m["\u0275\u0275text"](37,"Date Time*:"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](38,"div",14),m["\u0275\u0275elementStart"](39,"uj-date-time-picker",16),m["\u0275\u0275listener"]("onChanged",(function(e){return t.Date=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](40,"div",10),m["\u0275\u0275elementStart"](41,"div",11),m["\u0275\u0275elementStart"](42,"label"),m["\u0275\u0275text"](43,"Remark:"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](44,"div",14),m["\u0275\u0275elementStart"](45,"textarea",17),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.remark=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](46,"div",10),m["\u0275\u0275elementStart"](47,"div",11),m["\u0275\u0275elementStart"](48,"label"),m["\u0275\u0275text"](49,"User Details*:"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](50,"div",14),m["\u0275\u0275elementStart"](51,"textarea",18),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.userInput=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](52,"div",19),m["\u0275\u0275elementStart"](53,"div",20),m["\u0275\u0275elementStart"](54,"button",21),m["\u0275\u0275listener"]("click",(function(){return t.cancelRequest()})),m["\u0275\u0275text"](55,"Cancel"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](56,"button",22),m["\u0275\u0275listener"]("click",(function(){return t.getAdvice()})),m["\u0275\u0275text"](57,"Submit"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](58,"div",23),m["\u0275\u0275template"](59,B,1,2,"smart-table",24),m["\u0275\u0275elementEnd"]()),2&e){var n=m["\u0275\u0275reference"](27);m["\u0275\u0275advance"](12),m["\u0275\u0275property"]("ngModel",t.selectOption),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("ngModel",t.selectOption),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("ngIf","Out"==t.selectOption)("ngIfElse",n),m["\u0275\u0275advance"](8),m["\u0275\u0275property"]("ngModel",t.quantityId),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("dateTimeValue",t.Date),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("ngModel",t.remark),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("ngModel",t.userInput),m["\u0275\u0275advance"](8),m["\u0275\u0275property"]("ngIf",t.stateData&&t.stateData.length)}},directives:[y.z,y.d,y.r,y.u,r.u,y.x,S.a,y.C,y.D,r.t,y.w,y.G,b.a],styles:['[_nghost-%COMP%]     .tableFixHead{height:auto!important}.in-out-radio[_ngcontent-%COMP%]   .checkpointer[_ngcontent-%COMP%]{position:relative;padding-left:32px}.in-out-radio[_ngcontent-%COMP%]   .checkpointer[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-style:normal;margin-top:3px;display:inline-block;font-size:16px}.in-out-radio[_ngcontent-%COMP%]   .checkpointer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:1;width:24px;margin:0;height:24px!important;opacity:0}.in-out-radio[_ngcontent-%COMP%]   .checkpointer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#eee;border-radius:50%}.in-out-radio[_ngcontent-%COMP%]   .checkpointer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]{background-color:#26a69a}.in-out-radio[_ngcontent-%COMP%]   .checkpointer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;top:9px;left:9px;width:8px;height:8px;border-radius:50%;background:#fff}.in-out-radio[_ngcontent-%COMP%]   .checkpointer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:after{display:block}']}),J);function Z(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"option",11),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;m["\u0275\u0275property"]("value",n.id),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"]("",n.name," ")}}function K(e,t){if(1&e&&m["\u0275\u0275element"](0,"smart-table",12),2&e){var n=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("data",n.table.data)("settings",n.table.settings)}}var X,ee=((X=function(){function e(t,a,i){n(this,e),this.common=t,this.modalService=a,this.api=i,this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.request=0,this.dataInventory=null,this.endDate=new Date,this.startDate=new Date((new Date).setDate(new Date(this.endDate).getDate()-10)),this.headings=[],this.valobj={},this.data=[],this.wareHouseId="",this.stateDetail=[],this.getWareData(),this.common.refresh=this.refresh.bind(this)}return t(e,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.getWareData()}},{key:"getWareData",value:function(){var e=this;this.api.get("Suggestion/getWarehouseList").subscribe((function(t){e.dataInventory=t.data,console.log("autosugg",e.dataInventory[0].id),e.wareHouseId=e.dataInventory[0].id}))}},{key:"formatTitle",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"getTableColumns",value:function(){var e=this,t=[];return console.log("Data=",this.data),this.data.map((function(n){e.valobj={};for(var a=0;a<e.headings.length;a++)console.log("doc index value:",n[e.headings[a]]),console.log("ico1n"),"Action"==e.headings[a]?e.valobj.Action={class:"fas fa-eye",action:e.showAction.bind(e,n._item_id,n.State,n._state_id,n.RemQauantity)}:e.valobj[e.headings[a]]={value:n[e.headings[a]],class:"blue",action:""};t.push(e.valobj)})),t}},{key:"getdata",value:function(){var e=this;if(this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.startDate>this.endDate)return this.common.showError("Start Date should not be Greater than End Date");var t=null!=this.startDate?this.common.dateFormatter(this.startDate):null,n=null!=this.endDate?this.common.dateFormatter(this.endDate.setDate(this.endDate.getDate()+1)):null;if(console.log("end date:",n),1==this.request){if(null==t)return this.common.showError("Start Date is missing");if(null==n)return this.common.showError("End Date is missing")}var a={startDate:t,endDate:n,whId:this.wareHouseId,status:this.request};console.log("params",a),this.common.loading++,this.api.post("WareHouse/getStockItemPendingList",a).subscribe((function(t){e.common.loading--,e.data=[],e.data=t.data,console.log("result",t),null==e.data&&e.common.showToast("No record found");var n=e.data[0];for(var a in n)if("_"!=a.charAt(0)){e.headings.push(a);var i={title:e.formatTitle(a),placeholder:e.formatTitle(a)};e.table.data.headings[a]=i}e.table.data.columns=e.getTableColumns()}))}},{key:"showAction",value:function(e,t,n,a){var i=this;this.common.params={itemId:e,stateName:t,stateId:n,quantity:a},console.log("Item",this.common.params),this.modalService.open(Y,{size:"lg",container:"nb-layout"}).result.then((function(e){e&&i.getdata()}))}}]),e}()).\u0275fac=function(e){return new(e||X)(m["\u0275\u0275directiveInject"](v.a),m["\u0275\u0275directiveInject"](f.r),m["\u0275\u0275directiveInject"](g.a))},X.\u0275cmp=m["\u0275\u0275defineComponent"]({type:X,selectors:[["warehouse-inventory"]],decls:24,vars:10,consts:[[1,"row","mt-3","align-items-center"],[1,"col-2"],["placeholder","Name",1,"name","form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"dateTimeValue","isTime","onChanged"],[3,"isStart","dateTimeValue","isTime","onChanged"],[1,"form-control",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["id","button",1,"btn","btn-primary","w-100","pt-2","pb-2","rounded-sm","text-capitalize",3,"click"],["id","wareHouseInventory",3,"data","settings",4,"ngIf"],[3,"value"],["id","wareHouseInventory",3,"data","settings"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"nb-card"),m["\u0275\u0275elementStart"](1,"nb-card-header"),m["\u0275\u0275elementStart"](2,"h5"),m["\u0275\u0275text"](3,"Ware House Inventory"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"nb-card-body"),m["\u0275\u0275elementStart"](5,"div",0),m["\u0275\u0275elementStart"](6,"div",1),m["\u0275\u0275elementStart"](7,"select",2),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.wareHouseId=e})),m["\u0275\u0275template"](8,Z,2,2,"option",3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"div",1),m["\u0275\u0275elementStart"](10,"uj-date-time-picker",4),m["\u0275\u0275listener"]("onChanged",(function(e){return t.startDate=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](11,"div",1),m["\u0275\u0275elementStart"](12,"uj-date-time-picker",5),m["\u0275\u0275listener"]("onChanged",(function(e){return t.endDate=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](13,"div",1),m["\u0275\u0275elementStart"](14,"select",6),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.request=e})),m["\u0275\u0275elementStart"](15,"option",7),m["\u0275\u0275text"](16,"Pending"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](17,"option",8),m["\u0275\u0275text"](18,"Completed"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](19,"div",1),m["\u0275\u0275elementStart"](20,"button",9),m["\u0275\u0275listener"]("click",(function(){return t.getdata()})),m["\u0275\u0275text"](21,"Submit"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](22,"div"),m["\u0275\u0275template"](23,K,1,2,"smart-table",10),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("ngModel",t.wareHouseId),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",t.dataInventory),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("dateTimeValue",t.startDate)("isTime",!1),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("isStart",!1)("dateTimeValue",t.endDate)("isTime",!1)("isStart",!1),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",t.request),m["\u0275\u0275advance"](9),m["\u0275\u0275property"]("ngIf",t.data&&t.data.length))},directives:[u.s,u.v,u.r,y.D,y.r,y.u,r.t,S.a,y.w,y.G,r.u,b.a],styles:[""]}),X);function te(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"option",12),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;m["\u0275\u0275property"]("value",n.id),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"]("",n.name," ")}}function ne(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"option",12),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;m["\u0275\u0275property"]("value",n.id),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"]("",n.description," ")}}function ae(e,t){if(1&e&&m["\u0275\u0275element"](0,"smart-table",13),2&e){var n=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("data",n.table.data)("settings",n.table.settings)}}var ie,oe=((ie=function(){function e(t,a){n(this,e),this.api=t,this.common=a,this.dataState=[],this.dataWareHouse=[],this.stateId=2,this.wareHouseId=20,this.stateData=[],this.endDate=new Date,this.startDate=new Date((new Date).setDate(new Date(this.endDate).getDate()-10)),this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.getWareData(),this.getData(),this.common.refresh=this.refresh.bind(this)}return t(e,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.getWareData(),this.getData()}},{key:"getWareData",value:function(){var e=this;this.api.get("Suggestion/getWarehouseList").subscribe((function(t){e.dataWareHouse=t.data,console.log("autosugg",e.dataState)}))}},{key:"getData",value:function(){var e=this;this.api.get("Suggestion/getTypeMasterList?id=62").subscribe((function(t){e.dataState=t.data,console.log("autosugg1",e.dataState)}))}},{key:"getState",value:function(){var e=this,t=null!=this.startDate?this.common.dateFormatter(this.startDate):null,n=null!=this.endDate?this.common.dateFormatter(this.endDate):null;if(null==t)return this.common.showError("Start Date is Missing");if(null==n)return this.common.showError("End Date is Missing");var a="whId=".concat(this.wareHouseId,"&stateId=").concat(this.stateId,"&startDate=").concat(t,"&endDate=").concat(n);console.log(a),this.common.loading++,this.api.get("WareHouse/getStateLogsWrtWh?"+a).subscribe((function(t){e.stateData=[],e.common.loading--,e.stateData=t.data,console.log("result",t);var n=e.stateData[0];for(var a in n)if("_"!=a.charAt(0)){e.headings.push(a);var i={title:e.formatTitle(a),placeholder:e.formatTitle(a)};e.table.data.headings[a]=i}e.table.data.columns=e.getTableColumns()}))}},{key:"getTableColumns",value:function(){var e=this,t=[];return console.log("Data=",this.stateData),this.stateData.map((function(n){e.valobj={};for(var a=0;a<e.headings.length;a++)console.log("doc index value:",n[e.headings[a]]),e.valobj[e.headings[a]]={value:n[e.headings[a]],class:"black",action:""};t.push(e.valobj)})),t}},{key:"formatTitle",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}]),e}()).\u0275fac=function(e){return new(e||ie)(m["\u0275\u0275directiveInject"](g.a),m["\u0275\u0275directiveInject"](v.a))},ie.\u0275cmp=m["\u0275\u0275defineComponent"]({type:ie,selectors:[["state-logs"]],decls:21,vars:10,consts:[[1,"container"],[1,"row"],["classs","col-3"],["placeholder","Name",1,"name",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-3"],[1,"col-2",2,"margin-left","-91px"],[3,"dateTimeValue","isTime","onChanged"],[1,"col-2"],[3,"dateTimeValue","isTime","isStart","onChanged"],["id","button",1,"btn","btn-primary",2,"border-radius","2px","padding","6px 17px",3,"click"],["id","wareHouseInventory",3,"data","settings",4,"ngIf"],[3,"value"],["id","wareHouseInventory",3,"data","settings"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"nb-card"),m["\u0275\u0275elementStart"](1,"nb-card-header"),m["\u0275\u0275text"](2,"State Logs"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"nb-card-body"),m["\u0275\u0275elementStart"](4,"div",0),m["\u0275\u0275elementStart"](5,"div",1),m["\u0275\u0275elementStart"](6,"div",2),m["\u0275\u0275elementStart"](7,"select",3),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.wareHouseId=e})),m["\u0275\u0275template"](8,te,2,2,"option",4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"div",5),m["\u0275\u0275elementStart"](10,"select",3),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.stateId=e})),m["\u0275\u0275template"](11,ne,2,2,"option",4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"div",6),m["\u0275\u0275elementStart"](13,"uj-date-time-picker",7),m["\u0275\u0275listener"]("onChanged",(function(e){return t.startDate=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"div",8),m["\u0275\u0275elementStart"](15,"uj-date-time-picker",9),m["\u0275\u0275listener"]("onChanged",(function(e){return t.endDate=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](16,"div",8),m["\u0275\u0275elementStart"](17,"button",10),m["\u0275\u0275listener"]("click",(function(){return t.getState()})),m["\u0275\u0275text"](18,"Submit"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](19,"div"),m["\u0275\u0275template"](20,ae,1,2,"smart-table",11),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("ngModel",t.wareHouseId),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",t.dataWareHouse),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",t.stateId),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",t.dataState),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("dateTimeValue",t.startDate)("isTime",!1),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("dateTimeValue",t.endDate)("isTime",!1)("isStart",!1),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("ngIf",t.stateData&&t.stateData.length))},directives:[u.s,u.v,u.r,y.D,y.r,y.u,r.t,S.a,r.u,y.w,y.G,b.a],styles:[""]}),ie);function le(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"option",25),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;m["\u0275\u0275property"]("value",n.id),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](n.name)}}function re(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"option",25),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;m["\u0275\u0275property"]("value",n.id),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](n.name)}}function se(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",4),m["\u0275\u0275elementStart"](1,"div",10),m["\u0275\u0275elementStart"](2,"label"),m["\u0275\u0275text"](3,"State"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"select",26),m["\u0275\u0275listener"]("ngModelChange",(function(e){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().StateId=e})),m["\u0275\u0275template"](5,re,2,2,"option",12),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){var a=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngModel",a.StateId),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",a.stateType)}}function de(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"option",25),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;m["\u0275\u0275property"]("value",n.id),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](n.name)}}function me(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",4),m["\u0275\u0275elementStart"](1,"div",10),m["\u0275\u0275elementStart"](2,"label"),m["\u0275\u0275text"](3,"State"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"select",27),m["\u0275\u0275listener"]("ngModelChange",(function(e){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().StateId=e})),m["\u0275\u0275template"](5,de,2,2,"option",12),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){var a=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngModel",a.StateId),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",a.stateType1)}}function ce(e,t){if(1&e&&m["\u0275\u0275element"](0,"smart-table",28),2&e){var n=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("data",n.table.data)("settings",n.table.settings)}}var ue,he,pe,ge=((ue=function(){function e(t,a,i,o){n(this,e),this.common=t,this.modalService=a,this.api=i,this.activeModal=o,this.itemList=[],this.Test=null,this.dataItems=[],this.itemId=null,this.itemName=null,this.quantityId=null,this.unitTypeId=null,this.unitList=[],this.Date=new Date,this.remark="",this.itemsId=null,this.wareHouseId=20,this.sitesDatalist=[],this.siteName=null,this.siteId=null,this.dataReceive=[],this.selectOption="In",this.stateData=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.remainingQuantityId=null,this.headings=[],this.valobj={},this.stateType=[{id:null,name:null}],this.stateType1=[{id:null,name:null}],this.userInput=null,this.StateId=null,this.boolean=0,this.stateFind=null,this.getStateData(),this.getWareData(),this.selectOption=this.StateId>0?"In":"Out",console.log("items1",this.itemId),this.common.handleModalSize("class","modal-lg","550"),this.stateType=[{name:"Transhipment",id:2},{name:"Out for Delivery",id:4},{name:"Damage",id:5},{name:"Missing/theft",id:6},{name:" Delivered",id:1}],this.stateType1=[{name:"Receive Manifest",id:-1},{name:"Received By GP",id:-2},{name:"Received Lr",id:-3},{name:"Returned Back",id:-4},{name:"Increase In Count",id:-6}],this.common.refresh=this.refresh.bind(this)}return t(e,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){this.getStateData(),this.getWareData()}},{key:"getWareData",value:function(){var e=this;this.api.get("Suggestion/getWarehouseList").subscribe((function(t){e.dataReceive=t.data,console.log("autosugg",e.dataReceive),e.getItems()}))}},{key:"getItems",value:function(){var e=this,t="whId="+this.wareHouseId;console.log("id",t),this.common.loading++,this.api.get("WareHouse/getWhStockItem?"+t).subscribe((function(t){e.common.loading--,console.log("items",t),e.sitesDatalist=t.data}),(function(t){e.common.loading--,console.log(t)}))}},{key:"changeRefernceType",value:function(e){console.log("Type: ",e),this.itemId=this.sitesDatalist.find((function(t){return console.log(t.name==e),t.id==e.id})).id,this.quantityId=this.sitesDatalist.find((function(t){return console.log(t.name==e),t.rem_qty==e.rem_qty})).rem_qty,console.log("pa",this.quantityId),this.remainingQuantityId=this.quantityId,this.getStateData()}},{key:"onSet",value:function(e){return this.selectOption=null,this.selectOption=e,console.log("select type:",this.selectOption),"Out"==this.selectOption?(console.log("stateFind",this.selectOption),this.stateType):this.stateType1}},{key:"getAdvice",value:function(){var e=this;if(console.log(this.selectOption),console.log(this.remainingQuantityId),this.StateId){if(this.quantityId<0)return this.common.showError("Quantity should not  be in nagative ");if(null==this.userInput)return this.common.showError("User Detail is missing");if("Out"==this.selectOption){if(console.log("stateFind",this.selectOption),0==this.quantityId)return this.common.showError("You have no items in stock ");if(this.quantityId==this.remainingQuantityId)this.common.params={title:"Closing Stock",description:"Are you sure you want close this stock?",btn2:"No",btn1:"Yes"},console.log("Inside confirm model"),this.modalService.open(N.a,{size:"sm",container:"nb-layout"}).result.then((function(t){console.log("res",t),t.response?(e.boolean=1,e.saveStock()):0==t.apiHit&&(e.boolean=0,e.saveStock())}));else{if(this.quantityId>this.remainingQuantityId)return console.log("out1"),this.common.showError("Quantity should be less  than  and equal  your stock ");this.quantityId<this.remainingQuantityId&&this.saveStock()}}else"In"==this.selectOption&&this.saveStock()}else this.common.showError("State Type Missing")}},{key:"saveStock",value:function(){var e=this,t=this.common.dateFormatter(this.Date),n={stateId:this.StateId,itemId:this.itemId,qty:this.quantityId,dttime:t,perDetail:this.userInput,isClose:this.boolean,remarks:this.remark};console.log("result",n),this.common.loading++,this.api.post("WareHouse/saveWhStockItemState",n).subscribe((function(t){e.common.loading--,e.unitList=t.data,console.log("type",e.unitList),e.quantityId<t.data.qty&&e.common.showError(t.msg),t.data[0].y_id>0?(e.common.showToast("Sucessfully insert"),e.getStateData(),e.getItems(),e.StateId=null,e.itemId=null,e.quantityId=null,e.userInput=null,e.remark=null,e.remainingQuantityId=e.quantityId,e.activeModal.close({data:!0})):e.common.showError(t.msg)}),(function(t){e.common.showError()}))}},{key:"getTableColumns",value:function(){var e=this,t=[];return console.log("Data=",this.stateData),this.stateData.map((function(n){e.valobj={};for(var a=0;a<e.headings.length;a++)console.log("doc index value:",n[e.headings[a]]),e.valobj[e.headings[a]]={value:n[e.headings[a]],class:"black",action:""};t.push(e.valobj)})),t}},{key:"getStateData",value:function(){var e=this;this.stateData=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},console.log("ap"),this.api.get("wareHouse/getAllStatesWrtItem?itemId="+this.itemId).subscribe((function(t){e.stateData=[],e.stateData=t.data,console.log("result",t);var n=e.stateData[0];for(var a in n)if("_"!=a.charAt(0)){e.headings.push(a);var i={title:e.formatTitle(a),placeholder:e.formatTitle(a)};e.table.data.headings[a]=i}e.table.data.columns=e.getTableColumns()}))}},{key:"formatTitle",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}]),e}()).\u0275fac=function(e){return new(e||ue)(m["\u0275\u0275directiveInject"](v.a),m["\u0275\u0275directiveInject"](f.r),m["\u0275\u0275directiveInject"](g.a),m["\u0275\u0275directiveInject"](f.b))},ue.\u0275cmp=m["\u0275\u0275defineComponent"]({type:ue,selectors:[["manage-stock-exchange"]],decls:60,vars:12,consts:[[1,"row"],[1,"col-10"],[1,"clearfix"],[1,"row","mb-3"],[1,"col-2"],[1,"row","in-out-radio"],[1,"col-5"],["type","radio","name","In","value","In","checked","",3,"ngModel","ngModelChange","change"],[1,"col-7","text-left"],["type","radio","name","Out","value","Out",3,"ngModel","change","ngModelChange"],[1,"form-group"],["placeholder","Name",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["display","item_name","inputId","itemId",3,"data","onSelected"],["class","col-2",4,"ngIf","ngIfElse"],["state2",""],["type","number","placeholder","Quantity",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-4"],[3,"dateTimeValue","onChanged"],[1,"row","align-items-end","mb-3"],["rows","3","cols","70","placeholder","User Details",1,"form-control",3,"ngModel","ngModelChange"],["rows","3","cols","70","placeholder","Remark",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-4","text-right"],["id","button",1,"btn","btn-primary","text-capitalize",2,"border-radius","2px","padding","5px 15px","margin-right","5px","font-weight","bold",3,"click"],["class","mt-3","id","wareHouseInventory",3,"data","settings",4,"ngIf"],[3,"value"],["placeholder","State",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["id","wareHouseInventory",1,"mt-3",3,"data","settings"]],template:function(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"nb-card"),m["\u0275\u0275elementStart"](1,"nb-card-header"),m["\u0275\u0275elementStart"](2,"div",0),m["\u0275\u0275elementStart"](3,"div",1),m["\u0275\u0275elementStart"](4,"h5"),m["\u0275\u0275text"](5,"Manage Stock Exchange"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"nb-card-body"),m["\u0275\u0275elementStart"](7,"div",2),m["\u0275\u0275elementStart"](8,"div",3),m["\u0275\u0275elementStart"](9,"div",4),m["\u0275\u0275elementStart"](10,"div",5),m["\u0275\u0275elementStart"](11,"div",6),m["\u0275\u0275elementStart"](12,"input",7),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.selectOption=e}))("change",(function(){return t.onSet(t.selectOption)})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](13,"span"),m["\u0275\u0275text"](14,"In"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](15,"div",8),m["\u0275\u0275elementStart"](16,"input",9),m["\u0275\u0275listener"]("change",(function(){return t.onSet(t.selectOption)}))("ngModelChange",(function(e){return t.selectOption=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](17,"span"),m["\u0275\u0275text"](18,"Out"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](19,"div",3),m["\u0275\u0275elementStart"](20,"div",4),m["\u0275\u0275elementStart"](21,"div",10),m["\u0275\u0275elementStart"](22,"label"),m["\u0275\u0275text"](23,"Ware House"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](24,"select",11),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.wareHouseId=e})),m["\u0275\u0275template"](25,le,2,2,"option",12),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](26,"div",4),m["\u0275\u0275elementStart"](27,"div",10),m["\u0275\u0275elementStart"](28,"label"),m["\u0275\u0275text"](29,"Item Id"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](30,"auto-suggestion",13),m["\u0275\u0275listener"]("onSelected",(function(e){return t.changeRefernceType(e)})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](31,se,6,2,"div",14),m["\u0275\u0275template"](32,me,6,2,"ng-template",null,15,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementStart"](34,"div",4),m["\u0275\u0275elementStart"](35,"div",10),m["\u0275\u0275elementStart"](36,"label"),m["\u0275\u0275text"](37,"Quantity"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](38,"input",16),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.quantityId=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](39,"div",17),m["\u0275\u0275elementStart"](40,"div",10),m["\u0275\u0275elementStart"](41,"label"),m["\u0275\u0275text"](42,"Date And Time"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](43,"uj-date-time-picker",18),m["\u0275\u0275listener"]("onChanged",(function(e){return t.Date=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](44,"div",19),m["\u0275\u0275elementStart"](45,"div",4),m["\u0275\u0275elementStart"](46,"div",10),m["\u0275\u0275elementStart"](47,"label"),m["\u0275\u0275text"](48,"User Detail"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](49,"textarea",20),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.userInput=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](50,"div",4),m["\u0275\u0275elementStart"](51,"div",10),m["\u0275\u0275elementStart"](52,"label"),m["\u0275\u0275text"](53,"Remark"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](54,"textarea",21),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.remark=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](55,"div",22),m["\u0275\u0275elementStart"](56,"button",23),m["\u0275\u0275listener"]("click",(function(){return t.getAdvice()})),m["\u0275\u0275text"](57,"Submit"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](58,"div",2),m["\u0275\u0275template"](59,ce,1,2,"smart-table",24),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){var n=m["\u0275\u0275reference"](33);m["\u0275\u0275advance"](12),m["\u0275\u0275property"]("ngModel",t.selectOption),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngModel",t.selectOption),m["\u0275\u0275advance"](8),m["\u0275\u0275property"]("ngModel",t.wareHouseId),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",t.dataReceive),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("data",t.sitesDatalist),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf","Out"==t.selectOption)("ngIfElse",n),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("ngModel",t.quantityId),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("dateTimeValue",t.Date),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("ngModel",t.userInput),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("ngModel",t.remark),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("ngIf",t.stateData&&t.stateData.length)}},directives:[u.s,u.v,u.r,y.z,y.d,y.r,y.u,y.D,r.t,k.a,r.u,y.x,S.a,y.w,y.G,b.a],styles:[".in-out-radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:0;margin-right:5px;vertical-align:middle;width:18px;height:18px}.in-out-radio[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400;font-size:16px}"]}),ue),ve=i("UTcu"),fe=i("mNmA"),ye=[{path:"",component:h,children:[{path:"ware-house-dashbord",component:p,canActivate:[ve.a,fe.b]},{path:"ware-house-receipts",component:z,canActivate:[ve.a,fe.b]},{path:"warehouse-inventory",component:ee,canActivate:[ve.a,fe.b]},{path:"state-logs",component:oe,canActivate:[ve.a,fe.b]},{path:"manage-stock-exchange",component:ge,canActivate:[ve.a,fe.b]}]}],Se=((he=function e(){n(this,e)}).\u0275mod=m["\u0275\u0275defineNgModule"]({type:he}),he.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(e){return new(e||he)},imports:[[s.g.forChild(ye)],s.g]}),he),be=i("vTDv"),Ee=i("FUS3"),Ie=i("i+lE"),xe=((pe=function e(){n(this,e)}).\u0275mod=m["\u0275\u0275defineNgModule"]({type:pe}),pe.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(e){return new(e||pe)},imports:[[r.c,Se,be.a,Ee.a,Ie.c,Ie.e]]}),pe)}}])}();