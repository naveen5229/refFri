(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Kkpf:function(l,n,e){"use strict";e.d(n,"a",function(){return t}),e("wgNR");var t=function(){}},P1qZ:function(l,n,e){"use strict";e.d(n,"a",function(){return o});var t=e("Xy1B"),u=(e("OlR4"),e("H+bZ"),e("ia/1")),o=function(){function l(l,n,e){this.modalService=l,this.common=n,this.api=e,this.refmode="701",this.vehicleBattery=[{refmode:"701",refid:null,batteryId:null,date:this.common.dateFormatter(new Date).split(" ")[0],details:null}],this.vehicleNo="",this.vehicleId=null,this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){console.log("refresh")},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"Tyre Inputs",date:this.vehicleBattery[l].date},this.modalService.open(t.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(e){n.vehicleBattery[l].date=n.common.dateFormatter(e.date).split(" ")[0],console.log("Date:",n.vehicleBattery[l].date)})},l.prototype.getBatteryDetails=function(l,n){this.vehicleBattery[n].batteryId=l.id,this.getBatteryCurrentStatus(this.vehicleBattery[n].batteryId,n)},l.prototype.getvehicleData=function(l,n){this.vehicleBattery[n].refid=l.id,this.vehicleId=l.id,console.log("refid",l)},l.prototype.resetVehDetails=function(){},l.prototype.addMore=function(){this.vehicleBattery.push({refmode:"701",refid:null,batteryId:null,date:this.common.dateFormatter(new Date).split(" ")[0],details:null})},l.prototype.saveDetails=function(){var l=this;if(this.vehicleId){this.common.loading++;var n={vehicleBattery:JSON.stringify(this.vehicleBattery)};console.log("Params:",n),this.api.post("Battery/saveBatteryMappingWrtVeh",n).subscribe(function(n){l.common.loading--,console.log("return id ",n.data[0].r_id),n.data[0].r_id>0?(console.log("sucess"),l.common.showToast("sucess")):(console.log("fail"),l.common.showError(n.data[0].r_msg))},function(n){l.common.loading--,console.error(n),l.common.showError()})}else this.common.showError("Please Select Vehicle")},l.prototype.getBatteryCurrentStatus=function(l,n){var e=this;if(console.log("vehicle Id ---",this.vehicleId,"battery====",l),l){var t="batteryId="+l;console.log("params ",t),this.api.get("Battery/getBatteryCurrentStatus?"+t).subscribe(function(l){console.log("Res: ",l.data),l.data[0].r_id>0&&e.openConrirmationAlert(l.data[0].r_msg,n)},function(l){console.error(l),e.common.showError()})}else alert("Vehicle id and battery Id is Mandatory")},l.prototype.openConrirmationAlert=function(l,n){var e=this;this.common.params={title:"Current Postion Of Battery",description:l+" Do you want to change ?"},this.modalService.open(u.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(l){l.response||(e.vehicleBattery[n].batteryId=null,document.getElementById("batteryNo-"+n).value="")})},l.prototype.getWarehouseData=function(l,n){},l}()},PFtd:function(l,n,e){"use strict";var t=e("CcnG"),u=e("hB/K"),o=e("0zba"),a=e("H+bZ"),i=e("gIcY"),r=e("OlR4"),d=e("Ip0R"),c=e("4bAE"),s=e("mc3f"),m=e("P1qZ"),g=e("4GxJ");e.d(n,"a",function(){return I});var v=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function p(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"auto-suggestion",[["display","regno"],["placeholder","Enter Vehicle Number"],["style","width:60%;"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var u=!0,o=l.component;return"document:click"===n&&(u=!1!==t["\u0275nov"](l,2).hideSuggestions(e)&&u),"onSelected"===n&&(u=!1!==o.getvehicleData(e,l.parent.context.index)&&u),u},u.b,u.a)),t["\u0275did"](2,4833280,null,0,o.a,[a.a,t.ChangeDetectorRef,i.e,r.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"]},{onSelected:"onSelected"})],function(l,n){l(n,2,0,t["\u0275inlineInterpolate"](1,"Suggestion/getFoVehList?vehicleType=",n.parent.context.$implicit.refmode,""),"regno","Enter Vehicle Number")},null)}function h(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"auto-suggestion",[["display","regno"],["placeholder","Enter WareHouse"],["style","width:60%;"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var u=!0,o=l.component;return"document:click"===n&&(u=!1!==t["\u0275nov"](l,2).hideSuggestions(e)&&u),"onSelected"===n&&(u=!1!==o.getWarehouseData(e,l.parent.context.index)&&u),u},u.b,u.a)),t["\u0275did"](2,4833280,null,0,o.a,[a.a,t.ChangeDetectorRef,i.e,r.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"]},{onSelected:"onSelected"})],function(l,n){l(n,2,0,t["\u0275inlineInterpolate"](1,"Suggestion/getFoVehList?vehicleType=",n.parent.context.$implicit.refmode,""),"regno","Enter WareHouse")},null)}function f(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-plus add"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addMore()&&t),t},null,null))],null,null)}function y(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"i",[["class","fa fa-trash remove"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.vehicleBattery.splice(l.parent.parent.context.index,1)&&t),t},null,null))],null,null)}function b(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](2,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,0!==n.parent.context.index)},null)}function x(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,47,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,25,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,24,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,16,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,15,"select",[["class","form-control"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var u=!0,o=l.component;return"change"===n&&(u=!1!==t["\u0275nov"](l,7).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,7).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(l.context.$implicit.refmode=e)&&u),"change"===n&&(u=!1!==o.resetVehDetails()&&u),u},null,null)),t["\u0275did"](7,16384,null,0,i.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275did"](8,16384,null,0,i.v,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,i.k,function(l){return[l]},[i.v]),t["\u0275prd"](1024,null,i.l,function(l){return[l]},[i.w]),t["\u0275did"](11,671744,null,0,i.q,[[8,null],[6,i.k],[8,null],[6,i.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,i.m,null,[i.q]),t["\u0275did"](13,16384,null,0,i.n,[[4,i.m]],null,null),(l()(),t["\u0275eld"](14,0,null,null,3,"option",[["value","701"]],null,null,null,null,null)),t["\u0275did"](15,147456,null,0,i.r,[t.ElementRef,t.Renderer2,[2,i.w]],{value:[0,"value"]},null),t["\u0275did"](16,147456,null,0,i.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Vehicle"])),(l()(),t["\u0275eld"](18,0,null,null,3,"option",[["value","703"]],null,null,null,null,null)),t["\u0275did"](19,147456,null,0,i.r,[t.ElementRef,t.Renderer2,[2,i.w]],{value:[0,"value"]},null),t["\u0275did"](20,147456,null,0,i.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Warehouse"])),(l()(),t["\u0275and"](16777216,null,null,1,null,p)),t["\u0275did"](23,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,h)),t["\u0275did"](25,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](26,0,null,null,2,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,1,"auto-suggestion",[["display","batterynum"],["placeholder","Battery No"],["url","Battery/getBatteryNumbersAccordingFO"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var u=!0,o=l.component;return"document:click"===n&&(u=!1!==t["\u0275nov"](l,28).hideSuggestions(e)&&u),"onSelected"===n&&(u=!1!==o.getBatteryDetails(e,l.context.index)&&u),u},u.b,u.a)),t["\u0275did"](28,4833280,null,0,o.a,[a.a,t.ChangeDetectorRef,i.e,r.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"],preSelected:[3,"preSelected"],inputId:[4,"inputId"]},{onSelected:"onSelected"}),(l()(),t["\u0275eld"](29,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["name","date"],["placeholder","Select Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,31)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,31).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,31)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,31)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(l.context.$implicit.date=e)&&u),"click"===n&&(u=!1!==o.getDate(l.context.index)&&u),u},null,null)),t["\u0275did"](31,16384,null,0,i.d,[t.Renderer2,t.ElementRef,[2,i.a]],null,null),t["\u0275prd"](1024,null,i.l,function(l){return[l]},[i.d]),t["\u0275did"](33,671744,null,0,i.q,[[8,null],[8,null],[8,null],[6,i.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,i.m,null,[i.q]),t["\u0275did"](35,16384,null,0,i.n,[[4,i.m]],null,null),t["\u0275ppd"](36,2),(l()(),t["\u0275eld"](37,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](38,0,null,null,5,"input",[["class","form-control"],["placeholder","Details"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,39)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,39).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,39)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,39)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(l.context.$implicit.details=e)&&u),u},null,null)),t["\u0275did"](39,16384,null,0,i.d,[t.Renderer2,t.ElementRef,[2,i.a]],null,null),t["\u0275prd"](1024,null,i.l,function(l){return[l]},[i.d]),t["\u0275did"](41,671744,null,0,i.q,[[8,null],[8,null],[8,null],[6,i.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,i.m,null,[i.q]),t["\u0275did"](43,16384,null,0,i.n,[[4,i.m]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,f)),t["\u0275did"](45,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,b)),t["\u0275did"](47,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,8,0,""),l(n,11,0,n.context.$implicit.refmode),l(n,15,0,"701"),l(n,16,0,"701"),l(n,19,0,"703"),l(n,20,0,"703"),l(n,23,0,701==n.context.$implicit.refmode),l(n,25,0,703==n.context.$implicit.refmode),l(n,28,0,"Battery/getBatteryNumbersAccordingFO","batterynum","Battery No",null,"batteryNo-"+n.context.index),l(n,33,0,"date",n.context.$implicit.date),l(n,41,0,n.context.$implicit.details),l(n,45,0,0==n.context.index),l(n,47,0,0!==n.context.index)},function(l,n){l(n,2,0,n.context.index+1),l(n,6,0,t["\u0275nov"](n,8).required?"":null,t["\u0275nov"](n,13).ngClassUntouched,t["\u0275nov"](n,13).ngClassTouched,t["\u0275nov"](n,13).ngClassPristine,t["\u0275nov"](n,13).ngClassDirty,t["\u0275nov"](n,13).ngClassValid,t["\u0275nov"](n,13).ngClassInvalid,t["\u0275nov"](n,13).ngClassPending),l(n,30,0,t["\u0275unv"](n,30,0,l(n,36,0,t["\u0275nov"](n.parent,0),n.context.$implicit.date,"dd MMM yyyy")),t["\u0275nov"](n,35).ngClassUntouched,t["\u0275nov"](n,35).ngClassTouched,t["\u0275nov"](n,35).ngClassPristine,t["\u0275nov"](n,35).ngClassDirty,t["\u0275nov"](n,35).ngClassValid,t["\u0275nov"](n,35).ngClassInvalid,t["\u0275nov"](n,35).ngClassPending),l(n,38,0,t["\u0275nov"](n,43).ngClassUntouched,t["\u0275nov"](n,43).ngClassTouched,t["\u0275nov"](n,43).ngClassPristine,t["\u0275nov"](n,43).ngClassDirty,t["\u0275nov"](n,43).ngClassValid,t["\u0275nov"](n,43).ngClassInvalid,t["\u0275nov"](n,43).ngClassPending)})}function C(l){return t["\u0275vid"](0,[t["\u0275pid"](0,d.DatePipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,28,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,c.e,c.b)),t["\u0275did"](2,49152,null,0,s.b,[],null,null),(l()(),t["\u0275eld"](3,0,null,0,5,"nb-card-header",[],null,null,null,c.f,c.c)),t["\u0275did"](4,49152,null,0,s.d,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"div",[["class","col-sm-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle Battery"])),(l()(),t["\u0275eld"](9,0,null,1,20,"nb-card-body",[["style","padding:10px 15px;"]],null,null,null,c.d,c.a)),t["\u0275did"](10,49152,null,0,s.a,[],null,null),(l()(),t["\u0275eld"](11,0,null,0,15,"table",[["class","table table-bordered"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,11,"thead",[["class","thead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["#"])),(l()(),t["\u0275eld"](16,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Battery Details"])),(l()(),t["\u0275eld"](18,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Date"])),(l()(),t["\u0275eld"](20,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Details"])),(l()(),t["\u0275eld"](22,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Action"])),(l()(),t["\u0275eld"](24,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,x)),t["\u0275did"](26,278528,null,0,d.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](27,0,null,0,2,"div",[["class","submit_button"]],null,null,null,null,null)),(l()(),t["\u0275eld"](28,0,null,null,1,"button",[["class","btn btn-primary"],["id","saveDetails"],["outline",""],["style","cursor: pointer;margin-top:10px;"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveDetails()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Save"]))],function(l,n){l(n,26,0,n.component.vehicleBattery)},function(l,n){l(n,1,1,[t["\u0275nov"](n,2).xxsmall,t["\u0275nov"](n,2).xsmall,t["\u0275nov"](n,2).small,t["\u0275nov"](n,2).medium,t["\u0275nov"](n,2).large,t["\u0275nov"](n,2).xlarge,t["\u0275nov"](n,2).xxlarge,t["\u0275nov"](n,2).active,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2).primary,t["\u0275nov"](n,2).info,t["\u0275nov"](n,2).success,t["\u0275nov"](n,2).warning,t["\u0275nov"](n,2).danger,t["\u0275nov"](n,2).hasAccent,t["\u0275nov"](n,2).primaryAccent,t["\u0275nov"](n,2).infoAccent,t["\u0275nov"](n,2).successAccent,t["\u0275nov"](n,2).warningAccent,t["\u0275nov"](n,2).dangerAccent,t["\u0275nov"](n,2).activeAccent,t["\u0275nov"](n,2).disabledAccent])})}var I=t["\u0275ccf"]("vehicle-battery",m.a,function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"vehicle-battery",[],null,null,null,C,v)),t["\u0275did"](1,114688,null,0,m.a,[g.u,r.a,a.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[])},SIjM:function(l,n,e){"use strict";var t=e("CcnG"),u=e("aGMT"),o=e("wD9S"),a=e("OlR4"),i=e("4bAE"),r=e("mc3f"),d=e("Ip0R"),c=e("Vmcj"),s=e("H+bZ"),m=e("4GxJ");e.d(n,"a",function(){return f});var g=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]    .blue{color:#00f;font-weight:700}"]],data:{}});function v(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","mt-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"smart-table",[],null,null,null,u.b,u.a)),t["\u0275did"](2,4833280,null,0,o.a,[t.ChangeDetectorRef,a.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,2,0,e.table.data,e.table.settings)},null)}function p(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","alert alert-danger text-center mt-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"h4",[["class","no-record"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["No Record Found"]))],null,null)}function h(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"nb-card",[["style"," margin:0px; padding-top: 0px; border: 0px; height: 100%;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,i.e,i.b)),t["\u0275did"](1,49152,null,0,r.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,5,"nb-card-header",[],null,null,null,i.f,i.c)),t["\u0275did"](3,49152,null,0,r.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Battery Summary"])),(l()(),t["\u0275eld"](8,0,null,1,5,"nb-card-body",[["style","padding-bottom: 0px; height:calc(100vh - 80px);"]],null,null,null,i.d,i.a)),t["\u0275did"](9,49152,null,0,r.a,[],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,v)),t["\u0275did"](11,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,p)),t["\u0275did"](13,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,11,0,e.data&&e.data.length),l(n,13,0,!e.data||!e.data.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}var f=t["\u0275ccf"]("battery-summary",c.a,function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"battery-summary",[],null,null,null,h,g)),t["\u0275did"](1,114688,null,0,c.a,[s.a,a.a,m.u],null,null)],function(l,n){l(n,1,0)},null)},{},{},[])},Vmcj:function(l,n,e){"use strict";e.d(n,"a",function(){return u}),e("H+bZ"),e("OlR4");var t=e("86iY"),u=function(){function l(l,n,e){this.api=l,this.common=n,this.modalService=e,this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.common.refresh=this.refresh.bind(this),this.getBetterySummary()}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.getBetterySummary()},l.prototype.getBetterySummary=function(){var l=this;this.common.loading++,this.api.get("Battery/getBatterySummary").subscribe(function(n){if(l.common.loading--,l.data=JSON.parse(n.data),l.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},l.headings=[],l.valobj={},l.data&&l.data.length){var e=l.data[0];for(var t in e)if("_"!=t.charAt(0)){l.headings.push(t);var u={title:l.formatTitle(t),placeholder:l.formatTitle(t)};l.table.data.headings[t]=u}l.table.data.columns=l.getTableColumns()}},function(n){l.common.loading--,console.log(n)})},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.getTableColumns=function(){var l=this,n=[];return console.log("Data=",this.data),this.data.map(function(e){l.valobj={};for(var t=0;t<l.headings.length;t++)console.log("doc index value:",e[l.headings[t]]),l.valobj[l.headings[t]]="Action"==l.headings[t]?{value:e[l.headings[t]],class:"blue",action:l.openBatterySummary.bind(l,e,"site")}:{value:e[l.headings[t]],class:"black",action:""};n.push(l.valobj)}),n},l.prototype.openBatterySummary=function(l){console.log("Battery summary Modal",l),this.common.params={vehicle:{id:l._vid,regno:l.Vehicle,refMode:l._refmode},ref_page:"battery-summary"},this.modalService.open(t.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){})},l}()},auFE:function(l,n,e){"use strict";var t=e("CcnG"),u=e("hB/K"),o=e("0zba"),a=e("H+bZ"),i=e("gIcY"),r=e("OlR4"),d=e("Ip0R"),c=e("aGMT"),s=e("wD9S"),m=e("4bAE"),g=e("mc3f"),v=e("pvyk"),p=e("4GxJ"),h=e("qfBg");e.d(n,"a",function(){return R});var f=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function y(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-primary add"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addMore()&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null))],null,null)}function b(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-danger remove"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.inventories.splice(l.parent.context.index,1)&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-trash"]],null,null,null,null,null))],null,null)}function x(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,26,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,2,"td",[["width","35%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"auto-suggestion",[["display","modelname"],["placeholder","Model No"],["url","Suggestion/getBatteryNamesWithBrands?typeId=-2"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var u=!0,o=l.component;return"document:click"===n&&(u=!1!==t["\u0275nov"](l,5).hideSuggestions(e)&&u),"onSelected"===n&&(u=!1!==o.selectModel(e,l.context.index)&&u),u},u.b,u.a)),t["\u0275did"](5,4833280,null,0,o.a,[a.a,t.ChangeDetectorRef,i.e,r.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"],inputId:[3,"inputId"]},{onSelected:"onSelected"}),(l()(),t["\u0275eld"](6,0,null,null,6,"td",[["width","15%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["id","battNo"],["name","battNo"],["placeholder","Enter battery number"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,8)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,8).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,8)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,8)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(l.context.$implicit.batteryNo=e)&&u),"focus"===n&&(u=!1!==o.size(l.context.index)&&u),u},null,null)),t["\u0275did"](8,16384,null,0,i.d,[t.Renderer2,t.ElementRef,[2,i.a]],null,null),t["\u0275prd"](1024,null,i.l,function(l){return[l]},[i.d]),t["\u0275did"](10,671744,null,0,i.q,[[8,null],[8,null],[8,null],[6,i.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,i.m,null,[i.q]),t["\u0275did"](12,16384,null,0,i.n,[[4,i.m]],null,null),(l()(),t["\u0275eld"](13,0,null,null,6,"td",[["width","20%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["name","date"],["placeholder","Warrenty Month"],["style","cursor: pointer;"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,15)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,15).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,15)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,15)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(l.context.$implicit.months=e)&&u),u},null,null)),t["\u0275did"](15,16384,null,0,i.d,[t.Renderer2,t.ElementRef,[2,i.a]],null,null),t["\u0275prd"](1024,null,i.l,function(l){return[l]},[i.d]),t["\u0275did"](17,671744,null,0,i.q,[[8,null],[8,null],[8,null],[6,i.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,i.m,null,[i.q]),t["\u0275did"](19,16384,null,0,i.n,[[4,i.m]],null,null),(l()(),t["\u0275eld"](20,0,null,null,2,"td",[["width","20%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,1,"input",[["autocomplete","off"],["class","form-control"],["name","date"],["placeholder","Select Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate(l.context.index)&&t),t},null,null)),t["\u0275ppd"](22,2),(l()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](24,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,b)),t["\u0275did"](26,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,5,0,"Suggestion/getBatteryNamesWithBrands?typeId=-2","modelname","Model No","modelNo_"+n.context.index),l(n,10,0,"battNo",n.context.$implicit.batteryNo),l(n,17,0,"date",n.context.$implicit.months),l(n,24,0,0==n.context.index),l(n,26,0,0!==n.context.index)},function(l,n){l(n,2,0,n.context.index+1),l(n,7,0,t["\u0275nov"](n,12).ngClassUntouched,t["\u0275nov"](n,12).ngClassTouched,t["\u0275nov"](n,12).ngClassPristine,t["\u0275nov"](n,12).ngClassDirty,t["\u0275nov"](n,12).ngClassValid,t["\u0275nov"](n,12).ngClassInvalid,t["\u0275nov"](n,12).ngClassPending),l(n,14,0,t["\u0275nov"](n,19).ngClassUntouched,t["\u0275nov"](n,19).ngClassTouched,t["\u0275nov"](n,19).ngClassPristine,t["\u0275nov"](n,19).ngClassDirty,t["\u0275nov"](n,19).ngClassValid,t["\u0275nov"](n,19).ngClassInvalid,t["\u0275nov"](n,19).ngClassPending),l(n,21,0,t["\u0275unv"](n,21,0,l(n,22,0,t["\u0275nov"](n.parent.parent,0),n.context.$implicit.buydate,"dd MMM yyyy")))})}function C(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,17,"table",[["class","table table-bordered table-hover"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,13,"thead",[["class","thead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,12,"tr",[["style","text-align:center"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["# "])),(l()(),t["\u0275eld"](5,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Battery Model"])),(l()(),t["\u0275eld"](7,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Battery No"])),(l()(),t["\u0275eld"](9,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Warrenty Month "])),(l()(),t["\u0275eld"](11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Purchase Date"])),(l()(),t["\u0275eld"](13,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["\xa0"])),(l()(),t["\u0275eld"](15,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,x)),t["\u0275did"](17,278528,null,0,d.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,17,0,n.component.inventories)},null)}function I(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[],null,null,null,c.b,c.a)),t["\u0275did"](1,4833280,null,0,s.a,[t.ChangeDetectorRef,r.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function D(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","alert alert-danger text-center mt-3"],["style","margin-top:4rem"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"h4",[["class","no-record"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["No Record Found"]))],null,null)}function w(l){return t["\u0275vid"](0,[t["\u0275pid"](0,d.DatePipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,50,"nb-card",[["style","border: 0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,m.e,m.b)),t["\u0275did"](2,49152,null,0,g.b,[],null,null),(l()(),t["\u0275eld"](3,0,null,0,5,"nb-card-header",[],null,null,null,m.f,m.c)),t["\u0275did"](4,49152,null,0,g.d,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Battery Inventory"])),(l()(),t["\u0275eld"](9,0,null,1,42,"nb-card-body",[],null,null,null,m.d,m.a)),t["\u0275did"](10,49152,null,0,g.a,[],null,null),(l()(),t["\u0275eld"](11,0,null,0,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,C)),t["\u0275did"](13,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](14,0,null,0,3,"div",[["class","row-width clearfix"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,2,"div",[["class","text-left"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,1,"button",[["class","btn btn-primary"],["id","saveDetails"],["outline",""],["style","cursor: pointer;"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.testFilledData()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Save"])),(l()(),t["\u0275eld"](18,0,null,0,28,"div",[["class","row mt-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,18,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,17,"select",[["class","form Control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var u=!0,o=l.component;return"change"===n&&(u=!1!==t["\u0275nov"](l,21).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,21).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(o.mapped=e)&&u),u},null,null)),t["\u0275did"](21,16384,null,0,i.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,i.l,function(l){return[l]},[i.w]),t["\u0275did"](23,671744,null,0,i.q,[[8,null],[8,null],[8,null],[6,i.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,i.m,null,[i.q]),t["\u0275did"](25,16384,null,0,i.n,[[4,i.m]],null,null),(l()(),t["\u0275eld"](26,0,null,null,3,"option",[["value","-1"]],null,null,null,null,null)),t["\u0275did"](27,147456,null,0,i.r,[t.ElementRef,t.Renderer2,[2,i.w]],{value:[0,"value"]},null),t["\u0275did"](28,147456,null,0,i.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["All"])),(l()(),t["\u0275eld"](30,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),t["\u0275did"](31,147456,null,0,i.r,[t.ElementRef,t.Renderer2,[2,i.w]],{value:[0,"value"]},null),t["\u0275did"](32,147456,null,0,i.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Mapped"])),(l()(),t["\u0275eld"](34,0,null,null,3,"option",[["value","0"]],null,null,null,null,null)),t["\u0275did"](35,147456,null,0,i.r,[t.ElementRef,t.Renderer2,[2,i.w]],{value:[0,"value"]},null),t["\u0275did"](36,147456,null,0,i.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Unmapped"])),(l()(),t["\u0275eld"](38,0,null,null,2,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](39,0,null,null,1,"input",[["class","form-control"],["name","date"],["placeholder","Start Date"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate2("start")&&t),t},null,null)),t["\u0275ppd"](40,2),(l()(),t["\u0275eld"](41,0,null,null,2,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](42,0,null,null,1,"input",[["class","form-control"],["name","date1"],["placeholder","End Date"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate2("end")&&t),t},null,null)),t["\u0275ppd"](43,2),(l()(),t["\u0275eld"](44,0,null,null,2,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](45,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getBatteries()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Search"])),(l()(),t["\u0275eld"](47,0,null,0,2,"div",[["class","mt-3"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,I)),t["\u0275did"](49,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,D)),t["\u0275did"](51,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,13,0,e.inventories),l(n,23,0,e.mapped),l(n,27,0,"-1"),l(n,28,0,"-1"),l(n,31,0,"1"),l(n,32,0,"1"),l(n,35,0,"0"),l(n,36,0,"0"),l(n,49,0,e.data&&e.data.length),l(n,51,0,!e.data||!e.data.length)},function(l,n){var e=n.component;l(n,1,1,[t["\u0275nov"](n,2).xxsmall,t["\u0275nov"](n,2).xsmall,t["\u0275nov"](n,2).small,t["\u0275nov"](n,2).medium,t["\u0275nov"](n,2).large,t["\u0275nov"](n,2).xlarge,t["\u0275nov"](n,2).xxlarge,t["\u0275nov"](n,2).active,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2).primary,t["\u0275nov"](n,2).info,t["\u0275nov"](n,2).success,t["\u0275nov"](n,2).warning,t["\u0275nov"](n,2).danger,t["\u0275nov"](n,2).hasAccent,t["\u0275nov"](n,2).primaryAccent,t["\u0275nov"](n,2).infoAccent,t["\u0275nov"](n,2).successAccent,t["\u0275nov"](n,2).warningAccent,t["\u0275nov"](n,2).dangerAccent,t["\u0275nov"](n,2).activeAccent,t["\u0275nov"](n,2).disabledAccent]),l(n,20,0,t["\u0275nov"](n,25).ngClassUntouched,t["\u0275nov"](n,25).ngClassTouched,t["\u0275nov"](n,25).ngClassPristine,t["\u0275nov"](n,25).ngClassDirty,t["\u0275nov"](n,25).ngClassValid,t["\u0275nov"](n,25).ngClassInvalid,t["\u0275nov"](n,25).ngClassPending),l(n,39,0,t["\u0275unv"](n,39,0,l(n,40,0,t["\u0275nov"](n,0),e.startDate,"dd MMM yyyy"))),l(n,42,0,t["\u0275unv"](n,42,0,l(n,43,0,t["\u0275nov"](n,0),e.endDate,"dd MMM yyyy")))})}var R=t["\u0275ccf"]("battery-inventory",v.a,function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"battery-inventory",[],null,null,null,w,f)),t["\u0275did"](1,114688,null,0,v.a,[p.u,r.a,a.a,h.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[])},d29k:function(l,n,e){"use strict";e.d(n,"a",function(){return t}),e("pvyk"),e("wgNR"),e("P1qZ"),e("Vmcj"),e("UTcu"),e("mNmA");var t=function(){}},mVYv:function(l,n,e){"use strict";e.d(n,"a",function(){return b});var t=e("CcnG"),u=e("xDct"),o=e("IAMq"),a=e("5MUS"),i=e("SUpF"),r=e("/PiY"),d=e("U1+q"),c=e("trYH"),s=e("S9Dc"),m=e("3bPa"),g=e("ZlY8"),v=e("ZYCi"),p=e("wgNR"),h=e("qfBg"),f=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function y(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"ngx-sample-layout",[],null,null,null,u.b,u.a)),t["\u0275did"](1,180224,null,0,o.a,[a.a,i.b,r.a,d.b,c.a],null,null),(l()(),t["\u0275eld"](2,0,null,0,1,"nb-menu",[],[[2,"inverse",null]],null,null,s.b,s.a)),t["\u0275did"](3,4440064,null,0,m.a,[g.f,i.a,v.l],{items:[0,"items"]},null),(l()(),t["\u0275eld"](4,16777216,null,1,1,"router-outlet",[],null,null,null,null,null)),t["\u0275did"](5,212992,null,0,v.p,[v.b,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null)],function(l,n){l(n,3,0,n.component.user._menu.battery),l(n,5,0)},function(l,n){l(n,2,0,t["\u0275nov"](n,3).inverseValue)})}var b=t["\u0275ccf"]("ngx-pages",p.a,function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"ngx-pages",[],null,null,null,y,f)),t["\u0275did"](1,49152,null,0,p.a,[h.a,v.l],null,null)],null,null)},{},{},[])},pvyk:function(l,n,e){"use strict";e.d(n,"a",function(){return u}),e("OlR4"),e("H+bZ");var t=e("Xy1B"),u=(e("qfBg"),function(){function l(l,n,e,t){var u;this.modalService=l,this.common=n,this.api=e,this.user=t,this.csv=null,this.startDate="",this.endDate="",this.mapped=-1,this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.inventories=[{modelId:null,months:null,batteryNo:null,buydate:this.common.dateFormatter(new Date)},{modelId:null,months:null,batteryNo:null,buydate:this.common.dateFormatter(new Date)},{modelId:null,months:null,batteryNo:null,buydate:this.common.dateFormatter(new Date)}],this.activeRow=-1,this.modelSuggestion=!1,this.models=[],this.sizeSuggestion=[],this.userType=null,console.log("user",t._loggedInBy),this.userType=this.common.user._loggedInBy,u=new Date,this.endDate=this.common.dateFormatter(u),this.startDate=this.common.dateFormatter(new Date(u.setDate(u.getDate()-7))),console.log("dates ",this.endDate,this.startDate),this.getBatteries(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getBatteries()},l.prototype.searchModels=function(l,n){var e=this;this.modelSuggestion=!0;var t="search="+l+"&typeId=-2";console.log("params",t),this.activeRow=n,l.length>2&&setTimeout(function(){console.log("length=",l.length),console.log("parmas",t),e.api.get("Suggestion/getBatteryNamesWithBrands?"+t).subscribe(function(l){e.models=l.data,console.log("suggestions",e.models)},function(l){console.error(l),e.common.showError()})},3e3)},l.prototype.selectModel=function(l,n){console.log("model",l),this.inventories[n].modelId=""+l.item_id,this.inventories[n].months=l.max_limit,this.modelSuggestion=!1},l.prototype.testFilledData=function(){for(var l=this.inventories.length,n=[],e=0;e<l;e++){if(console.log("batteryno.",this.inventories[e].batteryNo),null==this.inventories[e].batteryNo&&null!=this.inventories[e].modelId)return void this.common.showToast("fill battery number to continue");if(null!=this.inventories[e].batteryNo&&null!=this.inventories[e].modelId){if(this.inventories[e].months&&this.inventories[e].months>99)return void this.common.showToast("warrenty month can not be exceeded 99");n.push(this.inventories[e])}}for(console.log("inv",n),this.inventories=n,e=0;e<this.inventories.length;e++)this.inventories[e].buydate=this.common.dateFormatter(new Date(this.inventories[e].buydate)).split(" ")[0];this.saveDetails()},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"Inventory"},this.modalService.open(t.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(e){n.inventories[l].buydate=n.common.dateFormatter(e.date).split(" ")[0],console.log("Date:",n.inventories[l].buydate)})},l.prototype.size=function(l){console.log("size-"+l),this.inventories[l].batteryNo=document.getElementById("size-"+l).value},l.prototype.saveDetails=function(){var l=this;console.log("inventories",this.inventories),this.common.loading++;var n={batterydetails:JSON.stringify(this.inventories)};console.log("Params:",n),this.api.post("Battery/saveBatteryInventory",n).subscribe(function(n){l.common.loading--,console.log("return id ",n.data[0].r_id),n.data[0].r_id>0?l.common.showToast("sucess"):(l.common.showError(n.data[0].r_msg),l.addMore())},function(n){l.common.loading--,console.error(n),l.common.showError()})},l.prototype.getDate2=function(l){var n=this;this.common.params={ref_page:"LrView"},this.modalService.open(t.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(e){if(e.date){if("start"==l)return n.startDate="",n.startDate=n.common.dateFormatter1(e.date).split(" ")[0];n.endDate=n.common.dateFormatter1(e.date).split(" ")[0],console.log("endDate",n.endDate)}})},l.prototype.getBatteries=function(){var l=this,n=new Date(this.common.dateFormatter1(this.endDate).split(" ")[0]),e={startDate:this.common.dateFormatter1(this.startDate).split(" ")[0],endDate:this.common.dateFormatter1(n.setDate(n.getDate()+1)).split(" ")[0],mapped:this.mapped};++this.common.loading,this.api.post("Battery/getBatteryInventory",e).subscribe(function(n){--l.common.loading,l.data=n.data,l.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},l.headings=[],l.valobj={};var e=l.data[0];for(var t in e)if("_"!=t.charAt(0)){l.headings.push(t);var u={title:l.formatTitle(t),placeholder:l.formatTitle(t)};l.table.data.headings[t]=u}l.table.data.columns=l.getTableColumns()},function(n){--l.common.loading,console.log("Err:",n)})},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.getTableColumns=function(){var l=this,n=[];return console.log("Data=",this.data),this.data.map(function(e){l.valobj={};for(var t=0;t<l.headings.length;t++)l.valobj[l.headings[t]]={value:e[l.headings[t]],class:"black",action:""};n.push(l.valobj)}),n},l.prototype.addMore=function(){this.inventories.push({modelId:null,months:null,batteryNo:null,buydate:this.common.dateFormatter(new Date)})},l.prototype.remove=function(){this.inventories.pop()},l.prototype.handleFileSelection=function(l){var n=this;this.common.loading++,this.common.getBase64(l.target.files[0]).then(function(e){if(n.common.loading--,"text/csv"!=l.target.files[0].type)return alert("valid Format Are : CSV"),!1;e=e.toString().replace("vnd.ms-excel","csv"),console.log("Base 64: ",e),n.csv=e},function(l){n.common.loading--,console.error("Base Err: ",l)})},l.prototype.importCsv=function(){var l=this,n={inventoryCsv:this.csv};if(!n.inventoryCsv)return this.common.showError("Select csv");console.log("Data :",n),this.common.loading++,this.api.post("Tyres/importTyreInventoryCsv ",n).subscribe(function(n){l.common.loading--,console.log("upload result",n),console.log("error: ",n.data.f),alert(n.msg)},function(n){l.common.loading--,console.log(n)})},l}())},wgNR:function(l,n,e){"use strict";e.d(n,"a",function(){return t}),e("qfBg");var t=function(l,n){this.user=l,this.router=n}}}]);