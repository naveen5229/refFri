(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{cZKX:function(l,n,t){"use strict";t.r(n);var e=t("CcnG"),o=t("qfBg"),u=function(l,n){this.user=l,this.router=n},a=function(){},i=t("pMnS"),r=t("xDct"),d=t("IAMq"),c=t("5MUS"),s=t("SUpF"),p=t("/PiY"),m=t("U1+q"),g=t("trYH"),h=t("S9Dc"),f=t("3bPa"),b=t("ZlY8"),v=t("ZYCi"),y=e["\u0275crt"]({encapsulation:0,styles:[['.report_bg[_ngcontent-%COMP%]   .report_form_box[_ngcontent-%COMP%]   .stopage_form[_ngcontent-%COMP%]   .k-picker-wrap[_ngcontent-%COMP%]{padding:5px!important;width:100%}.k-datepicker[_ngcontent-%COMP%]{width:100%!important;margin-left:10px}.date_start[_ngcontent-%COMP%]{margin-left:45px!important}.date_end[_ngcontent-%COMP%]{margin-left:50px!important}.date_end[_ngcontent-%COMP%]   .k-datepicker[_ngcontent-%COMP%]   .k-picker-wrap[_ngcontent-%COMP%]   .k-select[_ngcontent-%COMP%], .date_end[_ngcontent-%COMP%]   .k-datepicker[_ngcontent-%COMP%]   .k-picker-wrap[_ngcontent-%COMP%]:hover   .k-select[_ngcontent-%COMP%], .date_start[_ngcontent-%COMP%]   .k-datepicker[_ngcontent-%COMP%]   .k-picker-wrap[_ngcontent-%COMP%]   .k-select[_ngcontent-%COMP%], .date_start[_ngcontent-%COMP%]   .k-datepicker[_ngcontent-%COMP%]   .k-picker-wrap[_ngcontent-%COMP%]:hover   .k-select[_ngcontent-%COMP%]{color:#0184c5!important;background-color:transparent!important;background-image:none!important}[_nghost-%COMP%]     .custom_bg{border-radius:8px!important;background:#fff!important;-webkit-box-shadow:0 3px 6px rgba(0,0,0,.16)!important;box-shadow:0 3px 6px rgba(0,0,0,.16)!important;display:block;overflow:hidden}[_nghost-%COMP%]     .custom_bg .card_header{border-bottom:none!important;display:block;width:100%;border-radius:8px 8px 0 0;background:#e5f3f9}[_nghost-%COMP%]     .custom_bg .card_header h5{font-weight:700;font-size:20px;text-align:left;color:#4a555c;background-color:transparent!important;padding-left:10px!important;padding-top:5px!important}[_nghost-%COMP%]     .custom_bg .card_header .custom_form{border:none;display:block}[_nghost-%COMP%]     .custom_bg .custom_form_box{padding:0 0 0 15px!important}[_nghost-%COMP%]     .custom_bg .custom_form_box .custom_form select.form-control:after{content:"";position:absolute;background-repeat:no-repeat;background-size:100%;background-position:center;width:20px;height:20px;display:block;right:0;left:auto}[_nghost-%COMP%]     .customText{border-radius:23px!important;background:#fff!important;border:1px solid #a0a0a0;padding:5px!important;color:#4a555c!important;width:100%}[_nghost-%COMP%]     .customSelect{border-radius:23px!important;background:#fff!important;border:1px solid #a0a0a0;padding:5px!important;color:#4a555c!important;width:100%}[_nghost-%COMP%]     .customLabel{font-weight:700!important;text-align:left!important;color:#8f989e!important;margin-bottom:5px!important;font-family:lato,sans-serif!important}[_nghost-%COMP%]     .customButton{border-radius:29px!important;background:-webkit-gradient(linear,left top,left bottom,from(rgba(1,132,197,.3)),color-stop(49.23%,rgba(1,132,197,.7)),color-stop(100%,rgba(1,132,197,.4)),to(#014263))!important;background:linear-gradient(rgba(1,132,197,.3) 0,rgba(1,132,197,.7) 49.23%,rgba(1,132,197,.4) 100%,#014263 100%)!important;-webkit-box-shadow:0 3px 6px rgba(1,132,197,.36);box-shadow:0 3px 6px rgba(1,132,197,.36);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-top:2px!important;padding-bottom:2px!important;font-family:Lato;font-weight:700;font-size:18px!important;text-align:center;color:#fff!important;margin-top:0!important}[_nghost-%COMP%]     .customButton img{height:20px;width:20px}[_nghost-%COMP%]     .customButton span{font-family:Lato;font-weight:700;font-size:18px;text-align:left;color:#fff;padding-left:10px}.k-datepicker[_ngcontent-%COMP%]   .k-select[_ngcontent-%COMP%], .k-datetimepicker[_ngcontent-%COMP%]   .k-select[_ngcontent-%COMP%], .k-timepicker[_ngcontent-%COMP%]   .k-select[_ngcontent-%COMP%]{border-color:transparent!important;color:#0184ba!important;background-color:transparent!important;background-image:none!important}.k-datepicker[_ngcontent-%COMP%], .k-picker-wrap[_ngcontent-%COMP%]{border-radius:29px!important;padding:3px!important}.k-dateinput[_ngcontent-%COMP%]   .k-dateinput-wrap[_ngcontent-%COMP%]{border-color:rgba(0,0,0,.08)!important;color:#656565!important;background-color:#fff!important;border-radius:29px!important}.time-picker.col-4.pl-0.pr-0.form-type[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}[_nghost-%COMP%]     .nb-theme-corporate .form-control{border-radius:23px}']],data:{}});function x(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,5,"ngx-sample-layout",[],null,null,null,r.b,r.a)),e["\u0275did"](1,180224,null,0,d.a,[c.a,s.b,p.a,m.b,g.a],null,null),(l()(),e["\u0275eld"](2,0,null,0,1,"nb-menu",[["autoCollapse","true"]],[[2,"inverse",null]],null,null,h.b,h.a)),e["\u0275did"](3,4440064,null,0,f.a,[b.f,s.a,v.l],{items:[0,"items"],autoCollapse:[1,"autoCollapse"]},null),(l()(),e["\u0275eld"](4,16777216,null,1,1,"router-outlet",[],null,null,null,null,null)),e["\u0275did"](5,212992,null,0,v.p,[v.b,e.ViewContainerRef,e.ComponentFactoryResolver,[8,null],e.ChangeDetectorRef],null,null)],function(l,n){l(n,3,0,n.component.user._menu.walle8,"true"),l(n,5,0)},function(l,n){l(n,2,0,e["\u0275nov"](n,3).inverseValue)})}var C=e["\u0275ccf"]("ngx-pages",u,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"ngx-pages",[],null,null,null,x,y)),e["\u0275did"](1,49152,null,0,u,[o.a,v.l],null,null)],null,null)},{},{},[]),_=t("OlR4"),M=t("H+bZ"),P=function(){function l(l,n,t,e){this.api=l,this.common=n,this.user=t,this.modalService=e,this.balance=[],this.total=[],this.remainingBalance=null,this.tollDiscount=null,this.fuelDiscount=null,this.Total=0,this.getdiscount(),this.getTotal(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getdiscount(),this.getTotal()},l.prototype.getdiscount=function(){var l=this;console.log("Mobileno:",this.user._details);var n="mobileno="+this.user._details.fo_mobileno;this.common.loading++,this.api.walle8Get("CardRechargeApi/AccountRemainingAmount.json?"+n).subscribe(function(n){l.common.loading--,console.log("Res:",n),l.balance=n.data,l.remainingBalance=l.balance[0].toll_balance,console.log("discount",l.remainingBalance),console.log(".......",l.tollDiscount)},function(n){l.common.loading--,console.log(n)})},l.prototype.getTotal=function(){var l=this,n="mobileno="+this.user._details.fo_mobileno;this.common.loading++,this.api.walle8Get("DiscountApi/ViewFoDiscount.json?"+n).subscribe(function(n){l.common.loading--,console.log("Res:",n),l.total=n.data,l.fuelDiscount=l.total[0].fd,l.tollDiscount=l.total[0].td,l.Total=parseInt(l.fuelDiscount)+parseInt(l.tollDiscount)},function(n){l.common.loading--,console.log(n)})},l}(),O=t("4GxJ"),k=e["\u0275crt"]({encapsulation:0,styles:[[".amnout_list[_ngcontent-%COMP%]{padding:30px}.amnout_list[_ngcontent-%COMP%]   .amount_box[_ngcontent-%COMP%]{-webkit-box-shadow:2px 0 10px #dcdcdc;box-shadow:2px 0 10px #dcdcdc;border-radius:3px;padding:30px 20px}.amnout_list[_ngcontent-%COMP%]   .amount_box[_ngcontent-%COMP%]   .rupee_icon[_ngcontent-%COMP%]{width:60px;height:60px;display:inline-block;line-height:60px;text-align:center;font-size:30px;border-radius:100%;float:left;margin-right:40px;color:#fff;background-color:#29b6f6}.amnout_list[_ngcontent-%COMP%]   .amount_box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;color:#6b6b6b;margin-top:10px}"]],data:{}});function w(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,46,"div",[["class","amnout_list"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,22,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,10,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,9,"div",[["class","amount_box"]],null,null,null,null,null)),(l()(),e["\u0275eld"](4,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](5,0,null,null,2,"div",[["class","col-6 text-left"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,1,"p",[["class","rupee_icon m-0"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,0,"i",[["class","fas fa-rupee-sign"]],null,null,null,null,null)),(l()(),e["\u0275eld"](8,0,null,null,4,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),e["\u0275eld"](9,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e["\u0275ted"](10,null,["",""])),(l()(),e["\u0275eld"](11,0,null,null,1,"p",[["class","desc m-0"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Remaning Balance"])),(l()(),e["\u0275eld"](13,0,null,null,10,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),e["\u0275eld"](14,0,null,null,9,"div",[["class","amount_box"]],null,null,null,null,null)),(l()(),e["\u0275eld"](15,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](16,0,null,null,2,"div",[["class","col-6 text-left"]],null,null,null,null,null)),(l()(),e["\u0275eld"](17,0,null,null,1,"p",[["class","rupee_icon m-0"]],null,null,null,null,null)),(l()(),e["\u0275eld"](18,0,null,null,0,"i",[["class","fas fa-rupee-sign"]],null,null,null,null,null)),(l()(),e["\u0275eld"](19,0,null,null,4,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),e["\u0275eld"](20,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e["\u0275ted"](21,null,["",""])),(l()(),e["\u0275eld"](22,0,null,null,1,"p",[["class","desc m-0"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Fuel Discount"])),(l()(),e["\u0275eld"](24,0,null,null,22,"div",[["class","row mt-4"]],null,null,null,null,null)),(l()(),e["\u0275eld"](25,0,null,null,10,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),e["\u0275eld"](26,0,null,null,9,"div",[["class","amount_box"]],null,null,null,null,null)),(l()(),e["\u0275eld"](27,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](28,0,null,null,2,"div",[["class","col-6 text-left"]],null,null,null,null,null)),(l()(),e["\u0275eld"](29,0,null,null,1,"p",[["class","rupee_icon m-0"]],null,null,null,null,null)),(l()(),e["\u0275eld"](30,0,null,null,0,"i",[["class","fas fa-rupee-sign"]],null,null,null,null,null)),(l()(),e["\u0275eld"](31,0,null,null,4,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),e["\u0275eld"](32,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e["\u0275ted"](33,null,["",""])),(l()(),e["\u0275eld"](34,0,null,null,1,"p",[["class","desc m-0"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Total Discount"])),(l()(),e["\u0275eld"](36,0,null,null,10,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),e["\u0275eld"](37,0,null,null,9,"div",[["class","amount_box"]],null,null,null,null,null)),(l()(),e["\u0275eld"](38,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](39,0,null,null,2,"div",[["class","col-6 text-left"]],null,null,null,null,null)),(l()(),e["\u0275eld"](40,0,null,null,1,"p",[["class","rupee_icon m-0"]],null,null,null,null,null)),(l()(),e["\u0275eld"](41,0,null,null,0,"i",[["class","fas fa-rupee-sign"]],null,null,null,null,null)),(l()(),e["\u0275eld"](42,0,null,null,4,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),e["\u0275eld"](43,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e["\u0275ted"](44,null,["",""])),(l()(),e["\u0275eld"](45,0,null,null,1,"p",[["class","desc m-0"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Toll Discount"]))],null,function(l,n){var t=n.component;l(n,10,0,t.remainingBalance),l(n,21,0,t.fuelDiscount),l(n,33,0,t.Total),l(n,44,0,t.tollDiscount)})}var D=e["\u0275ccf"]("dashboard",P,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"dashboard",[],null,null,null,w,k)),e["\u0275did"](1,114688,null,0,P,[M.a,_.a,o.a,O.u],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),A=t("aGMT"),F=t("wD9S"),T=t("4bAE"),I=t("mc3f"),S=t("Ip0R"),R=function(){function l(l,n,t){this.common=l,this.api=n,this.user=t,this.data=[],this.table=null,this.getDetail(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getDetail()},l.prototype.getDetail=function(){var l=this;this.common.loading++,this.api.walle8Get("CardRechargeApi/getFoCardResults.json?mobileno="+this.user._details.fo_mobileno).subscribe(function(n){l.common.loading--,console.log("Res:",n),l.data=n.data,l.table=l.setTable()},function(n){l.common.loading--,console.log(n)})},l.prototype.setTable=function(){return{data:{headings:{Vehicle:{title:"Vehicle",placeholder:"Vehicle"},IOCL:{title:"\tIOCL",placeholder:"\tIOCL"},BPCL:{title:"BPCL",placeholder:"BPCL"},ATM:{title:"ATM",placeholder:"ATM"},HPCL:{title:"HPCL",placeholder:"HPCL"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}},l.prototype.getTableColumns=function(){var l=[];return this.data.map(function(n){l.push({Vehicle:{value:n.vehicle},IOCL:{value:null==n.bpcl?"-":n.bpcl},BPCL:{value:null==n.bpcl?"-":n.bpcl},ATM:{value:null==n.atm?"-":n.atm},HPCL:{value:null==n.hpcl?"-":n.hpcl}})}),l},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getPDFFromTableId(l,t.data.name,"Card Mapping",null,"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCSV=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getCSVFromTableId(l)},function(l){n.common.loading--,console.log(l)})},l}(),B=e["\u0275crt"]({encapsulation:0,styles:[[".btn-primary[_ngcontent-%COMP%]{padding:6px 15px;border-radius:3px}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#ddd}.pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(even){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:#f5f5f538!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td{border:none!important}[_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]],data:{}});function V(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"smart-table",[["id","cardMapping"]],null,null,null,A.b,A.a)),e["\u0275did"](1,4833280,null,0,F.a,[e.ChangeDetectorRef,_.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var t=n.component;l(n,1,0,t.table.data,t.table.settings)},null)}function H(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,17,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,T.e,T.b)),e["\u0275did"](1,49152,null,0,I.b,[],null,null),(l()(),e["\u0275eld"](2,0,null,0,11,"nb-card-header",[],null,null,null,T.f,T.c)),e["\u0275did"](3,49152,null,0,I.d,[],null,null),(l()(),e["\u0275eld"](4,0,null,0,9,"div",[["class","ml-4 mr-4 pb-4"],["style","border-bottom-left-radius:5px;border-bottom-right-radius:5px; box-shadow: 5px 10px 54px 0px whitesmoke;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](5,0,null,null,8,"div",[["class","row m-0"],["style","width:100%;background-color: #E5F3F9;border-top-right-radius: 5px; border-top-left-radius:5px;display:inline-block"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,1,"h5",[["class","p-2"],["style","font-weight:bold; display: inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Card Mapping"])),(l()(),e["\u0275eld"](8,0,null,null,5,"div",[["class","p-2 float"],["style","display:inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](9,0,null,null,4,"span",[["style","display: block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](10,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printPDF("cardMapping")&&e),e},null,null)),(l()(),e["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),e["\u0275eld"](12,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 5px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printCSV("cardMapping")&&e),e},null,null)),(l()(),e["\u0275eld"](13,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),e["\u0275eld"](14,0,null,1,3,"nb-card-body",[["style","width:96%;margin-left:2%;"]],null,null,null,T.d,T.a)),e["\u0275did"](15,49152,null,0,I.a,[],null,null),(l()(),e["\u0275and"](16777216,null,0,1,null,V)),e["\u0275did"](17,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,17,0,n.component.data.length)},function(l,n){l(n,0,1,[e["\u0275nov"](n,1).xxsmall,e["\u0275nov"](n,1).xsmall,e["\u0275nov"](n,1).small,e["\u0275nov"](n,1).medium,e["\u0275nov"](n,1).large,e["\u0275nov"](n,1).xlarge,e["\u0275nov"](n,1).xxlarge,e["\u0275nov"](n,1).active,e["\u0275nov"](n,1).disabled,e["\u0275nov"](n,1).primary,e["\u0275nov"](n,1).info,e["\u0275nov"](n,1).success,e["\u0275nov"](n,1).warning,e["\u0275nov"](n,1).danger,e["\u0275nov"](n,1).hasAccent,e["\u0275nov"](n,1).primaryAccent,e["\u0275nov"](n,1).infoAccent,e["\u0275nov"](n,1).successAccent,e["\u0275nov"](n,1).warningAccent,e["\u0275nov"](n,1).dangerAccent,e["\u0275nov"](n,1).activeAccent,e["\u0275nov"](n,1).disabledAccent])})}var z=e["\u0275ccf"]("card-mapping",R,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"card-mapping",[],null,null,null,H,B)),e["\u0275did"](1,114688,null,0,R,[_.a,M.a,o.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),U=t("AO+O"),E=t("Xy1B"),N=t("GMTD"),G=function(){function l(l,n,t,e){this.api=l,this.common=n,this.user=t,this.modalService=e,this.cardUsage=[],this.total=0,this.headings=[],this.valobj={},this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.dates={start:null,end:this.common.dateFormatter1(new Date)};var o=new Date;this.dates.start=this.common.dateFormatter1(new Date(o.setDate(o.getDate()-30))),this.getcardUsage(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getcardUsage()},l.prototype.ngAfterViewInit=function(){},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(t){"start"==l&&(n.dates.start=n.common.dateFormatter(t.date).split(" ")[0]),"end"==l&&(n.dates.end=n.common.dateFormatter(t.date).split(" ")[0])})},l.prototype.getcardUsage=function(){var l=this,n="&mobileno="+this.user._details.fo_mobileno+"&startdate="+this.dates.start+"&enddate="+this.dates.end;console.log("-----------",n),this.common.loading++,this.api.walle8Get("AccountSummaryApi/ViewCardUsages.json?"+n).subscribe(function(n){l.common.loading--,console.log("res: "+n.data),l.cardUsage=n.data;var t=l.cardUsage[0],e={};for(var o in t)if("_"!=o.charAt(0)){if("vid"==o)continue;l.headings.push(o);var u={title:l.formatTitle(o),placeholder:l.formatTitle(o)};e[o]=u}l.table.data={headings:e,columns:l.getTableColumns()}},function(n){l.common.loading--,console.log(n)})},l.prototype.getTableColumns=function(){var l=this,n=[];return console.log("Data=",this.cardUsage),this.cardUsage.map(function(t){l.valobj={};for(var e=0;e<l.headings.length;e++)l.valobj[l.headings[e]]="vehicle"==l.headings[e]?{value:t[l.headings[e]],class:"blue",action:l.showdata.bind(l,t)}:{value:t[l.headings[e]],class:"black",action:""};n.push(l.valobj)}),n},l.prototype.formatTitle=function(l){return l.length<=4?l.toUpperCase():l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.showdata=function(l){this.common.params={vehicleid:l.vid,startdate:this.dates.start,enddate:this.dates.end},this.modalService.open(N.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){})},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getPDFFromTableId(l,t.data.name,"Card Usage",null,"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCSV=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getCSVFromTableId(l,t.data.name,"Card Usage",["Action"],"")},function(l){n.common.loading--,console.log(l)})},l}(),L=e["\u0275crt"]({encapsulation:0,styles:[[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#ddd}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1), table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:30px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:200px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;width:100%;table-layout:fixed;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed;width:100%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#e4e4e4}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(even){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:#f5f5f538!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td{border:none!important}[_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"],U.a],data:{}});function j(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"smart-table",[["id","cardUsage"]],null,null,null,A.b,A.a)),e["\u0275did"](1,4833280,null,0,F.a,[e.ChangeDetectorRef,_.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var t=n.component;l(n,1,0,t.table.data,t.table.settings)},null)}function q(l){return e["\u0275vid"](0,[e["\u0275pid"](0,S.DatePipe,[e.LOCALE_ID]),(l()(),e["\u0275eld"](1,0,null,null,27,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,T.e,T.b)),e["\u0275did"](2,49152,null,0,I.b,[],null,null),(l()(),e["\u0275eld"](3,0,null,0,21,"nb-card-header",[],null,null,null,T.f,T.c)),e["\u0275did"](4,49152,null,0,I.d,[],null,null),(l()(),e["\u0275eld"](5,0,null,0,19,"div",[["class","ml-4 mr-4 pb-4"],["style","border-bottom-left-radius:5px;border-bottom-right-radius:5px; box-shadow: 5px 10px 54px 0px whitesmoke;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,8,"div",[["class","row m-0"],["style","width:100%;background-color: #E5F3F9;border-top-right-radius: 5px; border-top-left-radius:5px;display:inline-block"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,1,"h5",[["class","p-2"],["style","font-weight:bold; display: inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Card Usage"])),(l()(),e["\u0275eld"](9,0,null,null,5,"div",[["class","p-2 float"],["style","display:inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](10,0,null,null,4,"span",[["style","display: block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](11,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printPDF("cardUsage")&&e),e},null,null)),(l()(),e["\u0275eld"](12,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),e["\u0275eld"](13,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 5px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printCSV("cardUsage")&&e),e},null,null)),(l()(),e["\u0275eld"](14,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),e["\u0275eld"](15,0,null,null,9,"div",[["class","row m-0 p-3"],["style","background-color:white;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](16,0,null,null,2,"div",[["class","col-3 pl-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](17,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","Start Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("start")&&e),e},null,null)),e["\u0275ppd"](18,2),(l()(),e["\u0275eld"](19,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](20,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","End Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("end")&&e),e},null,null)),e["\u0275ppd"](21,2),(l()(),e["\u0275eld"](22,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](23,0,null,null,1,"button",[["class","btn customButton"],["type","button"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getcardUsage()&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["Submit"])),(l()(),e["\u0275eld"](25,0,null,1,3,"nb-card-body",[["style","width:96%;margin-left:2%;"]],null,null,null,T.d,T.a)),e["\u0275did"](26,49152,null,0,I.a,[],null,null),(l()(),e["\u0275and"](16777216,null,0,1,null,j)),e["\u0275did"](28,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,28,0,t.cardUsage&&t.cardUsage.length)},function(l,n){var t=n.component;l(n,1,1,[e["\u0275nov"](n,2).xxsmall,e["\u0275nov"](n,2).xsmall,e["\u0275nov"](n,2).small,e["\u0275nov"](n,2).medium,e["\u0275nov"](n,2).large,e["\u0275nov"](n,2).xlarge,e["\u0275nov"](n,2).xxlarge,e["\u0275nov"](n,2).active,e["\u0275nov"](n,2).disabled,e["\u0275nov"](n,2).primary,e["\u0275nov"](n,2).info,e["\u0275nov"](n,2).success,e["\u0275nov"](n,2).warning,e["\u0275nov"](n,2).danger,e["\u0275nov"](n,2).hasAccent,e["\u0275nov"](n,2).primaryAccent,e["\u0275nov"](n,2).infoAccent,e["\u0275nov"](n,2).successAccent,e["\u0275nov"](n,2).warningAccent,e["\u0275nov"](n,2).dangerAccent,e["\u0275nov"](n,2).activeAccent,e["\u0275nov"](n,2).disabledAccent]),l(n,17,0,e["\u0275unv"](n,17,0,l(n,18,0,e["\u0275nov"](n,0),t.dates.start,"dd MMM yyyy"))),l(n,20,0,e["\u0275unv"](n,20,0,l(n,21,0,e["\u0275nov"](n,0),t.dates.end,"dd MMM yyyy")))})}var K=e["\u0275ccf"]("card-usage",G,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"card-usage",[],null,null,null,q,L)),e["\u0275did"](1,4308992,null,0,G,[M.a,_.a,o.a,O.u],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),Y=t("q5i4"),Z=t("csNM"),X=function(){function l(l,n,t,e){this.api=l,this.common=n,this.user=t,this.modalService=e,this.data=[],this.total=0,this.userId=this.user._details.id,this.startTime=new Date((new Date).setMonth((new Date).getMonth()-1)),this.endTime=new Date,this.table=null,this.getPaymentMade(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getPaymentMade()},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(t){"start"==l&&(n.startTime=n.common.dateFormatter(t.date).split(" ")[0]),"end"==l&&(n.endTime=n.common.dateFormatter(t.date).split(" ")[0])})},l.prototype.getPaymentMade=function(){var l=this,n="aduserid="+this.user._details.id+"&mobileno="+this.user._details.fo_mobileno+"&startdate="+this.common.dateFormatter(new Date(this.startTime))+"&enddate="+this.common.dateFormatter(new Date(this.endTime));this.common.loading++,this.api.walle8Get("PaymentApi/FoPaymentsView.json?"+n).subscribe(function(n){l.common.loading--,console.log("Res:",n.data),l.data=n.data,l.table=l.setTable();for(var t=0;t<l.data.length;t+=1)l.total+=Number(l.data[t].amt)},function(n){l.common.loading--,console.log(n)})},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getPDFFromTableId(l,t.data.name,"Payments Made",null,"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCSV=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getCSVFromTableId(l,t.data.name,"Payments Made")},function(l){n.common.loading--,console.log(l)})},l.prototype.setTable=function(){return{data:{headings:{dttime:{title:"Date",placeholder:"Date"},amt:{title:"Amount",placeholder:"Amount"},rema:{title:"Remark",placeholder:"Remark"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}},l.prototype.getTableColumns=function(){var l=this,n=[];return this.data.map(function(t){var e={dttime:{value:null==t.dttime?"-":l.common.changeDateformat4(t.dttime)},amt:{value:null==t.amt?"-":t.amt},rema:{value:null==t.rema?"-":t.rema}};n.push(e)}),n},l}(),W=e["\u0275crt"]({encapsulation:0,styles:[[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#ddd}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1), table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:30px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:200px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;width:100%;table-layout:fixed;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed;width:100%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#e4e4e4}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(even){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:#f5f5f538!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td{border:none!important}[_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]],data:{}});function J(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"smart-table",[["id","paymentsMade"]],null,null,null,A.b,A.a)),e["\u0275did"](1,4833280,null,0,F.a,[e.ChangeDetectorRef,_.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var t=n.component;l(n,1,0,t.table.data,t.table.settings)},null)}function Q(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,7,"table",[["style","margin-top:-15px"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,6,"tbody",[],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,0,"th",[["style","width: 40px"]],null,null,null,null,null)),(l()(),e["\u0275eld"](4,0,null,null,1,"th",[["style","width: 340px"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Total: "])),(l()(),e["\u0275eld"](6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](7,null,[" "," "]))],null,function(l,n){l(n,7,0,n.component.total)})}function $(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,30,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,T.e,T.b)),e["\u0275did"](1,49152,null,0,I.b,[],null,null),(l()(),e["\u0275eld"](2,0,null,0,21,"nb-card-header",[],null,null,null,T.f,T.c)),e["\u0275did"](3,49152,null,0,I.d,[],null,null),(l()(),e["\u0275eld"](4,0,null,0,19,"div",[["class","ml-4 mr-4 pb-4"],["style","border-bottom-left-radius:5px;border-bottom-right-radius:5px; box-shadow: 5px 10px 54px 0px whitesmoke;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](5,0,null,null,8,"div",[["class","row m-0"],["style","width:100%;background-color: #E5F3F9;border-top-right-radius: 5px; border-top-left-radius:5px;display:inline-block"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,1,"h5",[["class","p-2"],["style","font-weight:bold; display: inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Payment Made"])),(l()(),e["\u0275eld"](8,0,null,null,5,"div",[["class","p-2 float"],["style","display:inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](9,0,null,null,4,"span",[["style","display: block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](10,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printPDF("paymentsMade")&&e),e},null,null)),(l()(),e["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),e["\u0275eld"](12,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 5px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printCSV("paymentsMade")&&e),e},null,null)),(l()(),e["\u0275eld"](13,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),e["\u0275eld"](14,0,null,null,9,"div",[["class","row m-0 pt-3"],["style","background-color:white;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](15,0,null,null,2,"div",[["class","col-3 pl-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](16,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,t){var e=!0;return"onChanged"===n&&(e=!1!==(l.component.startTime=t)&&e),e},Y.b,Y.a)),e["\u0275did"](17,4308992,null,0,Z.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),e["\u0275eld"](18,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](19,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,t){var e=!0;return"onChanged"===n&&(e=!1!==(l.component.endTime=t)&&e),e},Y.b,Y.a)),e["\u0275did"](20,4308992,null,0,Z.a,[],{isTime:[0,"isTime"],isStart:[1,"isStart"],dateTimeValue:[2,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),e["\u0275eld"](21,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](22,0,null,null,1,"button",[["class","btn customButton"],["type","button"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getPaymentMade()&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["Submit"])),(l()(),e["\u0275eld"](24,0,null,1,6,"nb-card-body",[["style","width:96%;margin-left:2%;"]],null,null,null,T.d,T.a)),e["\u0275did"](25,49152,null,0,I.a,[],null,null),(l()(),e["\u0275and"](16777216,null,0,1,null,J)),e["\u0275did"](27,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275and"](16777216,null,0,1,null,Q)),e["\u0275did"](29,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275eld"](30,0,null,0,0,"br",[],null,null,null,null,null))],function(l,n){var t=n.component;l(n,17,0,!1,t.startTime),l(n,20,0,!1,!1,t.endTime),l(n,27,0,t.data.length),l(n,29,0,t.data.length)},function(l,n){l(n,0,1,[e["\u0275nov"](n,1).xxsmall,e["\u0275nov"](n,1).xsmall,e["\u0275nov"](n,1).small,e["\u0275nov"](n,1).medium,e["\u0275nov"](n,1).large,e["\u0275nov"](n,1).xlarge,e["\u0275nov"](n,1).xxlarge,e["\u0275nov"](n,1).active,e["\u0275nov"](n,1).disabled,e["\u0275nov"](n,1).primary,e["\u0275nov"](n,1).info,e["\u0275nov"](n,1).success,e["\u0275nov"](n,1).warning,e["\u0275nov"](n,1).danger,e["\u0275nov"](n,1).hasAccent,e["\u0275nov"](n,1).primaryAccent,e["\u0275nov"](n,1).infoAccent,e["\u0275nov"](n,1).successAccent,e["\u0275nov"](n,1).warningAccent,e["\u0275nov"](n,1).dangerAccent,e["\u0275nov"](n,1).activeAccent,e["\u0275nov"](n,1).disabledAccent])})}var ll=e["\u0275ccf"]("payments-made",X,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"payments-made",[],null,null,null,$,W)),e["\u0275did"](1,114688,null,0,X,[M.a,_.a,o.a,O.u],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),nl=function(){function l(l,n,t,e){this.api=l,this.common=n,this.user=t,this.modalService=e,this.data=[],this.mobileno=this.user._details.fo_mobileno,this.userId=this.user._details.id,this.dates={start:null,end:null},this.table=null,this.total=null;var o=new Date;this.dates.start=this.common.dateFormatter1(new Date(o.setDate(o.getDate()-1))),this.dates.end=this.common.dateFormatter1(new Date),this.getLatestRecharge(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getLatestRecharge()},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(t){n.dates[l]=n.common.dateFormatter(t.date).split(" ")[0],console.log("Date:",n.dates)})},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getPDFFromTableId(l,t.data.name,"Latest Recharge",null,"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCSV=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getCSVFromTableId(l,t.data.name,"Latest Recharge")},function(l){n.common.loading--,console.log(l)})},l.prototype.getLatestRecharge=function(){var l=this,n="mobileno="+this.user._details.fo_mobileno+"&startdate="+this.dates.start+"&enddate="+this.dates.end;this.common.loading++,this.api.walle8Get("CardRechargeApi/FoCardRechargeView.json?"+n).subscribe(function(n){l.common.loading--,console.log("Res:",n.data),l.data=n.data;for(var t=0;t<l.data.length;t+=1)l.total+=Number(l.data[t].nbal);null==l.data&&l.common.showToast("NO DATA FOUND")},function(n){l.common.loading--,console.log(n)})},l.prototype.setTable=function(){return{data:{headings:{vehicle:{title:"vehicle",placeholder:"vehicle"},cardno:{title:"card Number",placeholder:"card Number"},dttime:{title:"Date",placeholder:"Date"},nbal:{title:"Recharge",placeholder:"Recharge"},rema:{title:"Remark",placeholder:"Remark"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}},l.prototype.getTableColumns=function(){var l=[];return this.data.map(function(n){l.push({vehicle:{value:n.vehicle},cardno:{value:n.cardno},dttime:{value:n.dttime},nbal:{value:null==n.nbal?"-":n.nbal},rema:{value:null==n.rema?"-":n.rema}})}),l},l}(),tl=e["\u0275crt"]({encapsulation:0,styles:[[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#ddd}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1), table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:30px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:200px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;width:100%;table-layout:fixed;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed;width:100%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#e4e4e4}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(even){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:#f5f5f538!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td{border:none!important}[_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]],data:{}});function el(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"smart-table",[["id","latestrecharge"]],null,null,null,A.b,A.a)),e["\u0275did"](1,4833280,null,0,F.a,[e.ChangeDetectorRef,_.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var t=n.component;l(n,1,0,t.table.data,t.table.settings)},null)}function ol(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,7,"table",[["style","margin-top:-15px"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,6,"tbody",[],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,0,"th",[["style","width: 40px"]],null,null,null,null,null)),(l()(),e["\u0275eld"](4,0,null,null,1,"th",[["style","width: 416px"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Total: "])),(l()(),e["\u0275eld"](6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](7,null,[" "," "]))],null,function(l,n){l(n,7,0,n.component.total)})}function ul(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,20,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,T.e,T.b)),e["\u0275did"](1,49152,null,0,I.b,[],null,null),(l()(),e["\u0275eld"](2,0,null,0,11,"nb-card-header",[],null,null,null,T.f,T.c)),e["\u0275did"](3,49152,null,0,I.d,[],null,null),(l()(),e["\u0275eld"](4,0,null,0,9,"div",[["class","ml-4 mr-4 pb-4"],["style","border-bottom-left-radius:5px;border-bottom-right-radius:5px; box-shadow: 5px 10px 54px 0px whitesmoke;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](5,0,null,null,8,"div",[["class","row m-0"],["style","width:100%;background-color: #E5F3F9;border-top-right-radius: 5px; border-top-left-radius:5px;display:inline-block"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,1,"h5",[["class","p-2"],["style","font-weight:bold; display: inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Latest Recharge"])),(l()(),e["\u0275eld"](8,0,null,null,5,"div",[["class","p-2 float"],["style","display:inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](9,0,null,null,4,"span",[["style","display: block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](10,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printPDF("latestrecharge")&&e),e},null,null)),(l()(),e["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),e["\u0275eld"](12,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 5px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printCSV("latestrecharge")&&e),e},null,null)),(l()(),e["\u0275eld"](13,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),e["\u0275eld"](14,0,null,1,6,"nb-card-body",[["style","width:96%;margin-left:2%;"]],null,null,null,T.d,T.a)),e["\u0275did"](15,49152,null,0,I.a,[],null,null),(l()(),e["\u0275and"](16777216,null,0,1,null,el)),e["\u0275did"](17,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275and"](16777216,null,0,1,null,ol)),e["\u0275did"](19,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275eld"](20,0,null,0,0,"br",[],null,null,null,null,null))],function(l,n){var t=n.component;l(n,17,0,t.data.length),l(n,19,0,t.data.length)},function(l,n){l(n,0,1,[e["\u0275nov"](n,1).xxsmall,e["\u0275nov"](n,1).xsmall,e["\u0275nov"](n,1).small,e["\u0275nov"](n,1).medium,e["\u0275nov"](n,1).large,e["\u0275nov"](n,1).xlarge,e["\u0275nov"](n,1).xxlarge,e["\u0275nov"](n,1).active,e["\u0275nov"](n,1).disabled,e["\u0275nov"](n,1).primary,e["\u0275nov"](n,1).info,e["\u0275nov"](n,1).success,e["\u0275nov"](n,1).warning,e["\u0275nov"](n,1).danger,e["\u0275nov"](n,1).hasAccent,e["\u0275nov"](n,1).primaryAccent,e["\u0275nov"](n,1).infoAccent,e["\u0275nov"](n,1).successAccent,e["\u0275nov"](n,1).warningAccent,e["\u0275nov"](n,1).dangerAccent,e["\u0275nov"](n,1).activeAccent,e["\u0275nov"](n,1).disabledAccent])})}var al=e["\u0275ccf"]("latest-recharge",nl,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"latest-recharge",[],null,null,null,ul,tl)),e["\u0275did"](1,114688,null,0,nl,[M.a,_.a,o.a,O.u],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),il=function(){function l(l,n,t,e){this.api=l,this.common=n,this.user=t,this.modalService=e,this.userId=this.user._details.id,this.dates={start:null,end:null},this.tollSummary=[],this.data=[],this.total=null,this.table=null;var o=new Date;this.dates.start=this.common.dateFormatter1(new Date(o.setDate(o.getDate()-30))),this.dates.end=this.common.dateFormatter1(new Date),this.gettollUsageSummary(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.gettollUsageSummary()},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(t){n.dates[l]=n.common.dateFormatter(t.date).split(" ")[0],console.log("Date:",n.dates)})},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getPDFFromTableId(l,t.data.name,"Card Usage",null,"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCSV=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getCSVFromTableId(l,t.data.name,"Card Usage")},function(l){n.common.loading--,console.log(l)})},l.prototype.gettollUsageSummary=function(){var l=this,n="startDate="+this.dates.start+"&endDate="+this.dates.end;this.common.loading++,this.api.walle8Get("TollSummary/getTollUsageSummary.json?"+n).subscribe(function(n){l.common.loading--,console.log("Res:",n.data),l.data=n.data,null==l.data&&(l.data=[],l.table=null),l.table=l.setTable();for(var t=0;t<l.data.length;t+=1)l.total+=Number(l.data[t].tolls)},function(n){l.common.loading--,console.log(n)})},l.prototype.setTable=function(){return{data:{headings:{vehicle:{title:"Vehicle",placeholder:"Vehicle"},tolls:{title:"Amount",placeholder:"Amount"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}},l.prototype.getTableColumns=function(){var l=[];return this.data.map(function(n){l.push({vehicle:{value:null==n.vehicle?"-":n.vehicle},tolls:{value:null==n.tolls?"-":n.tolls}})}),l},l}(),rl=e["\u0275crt"]({encapsulation:0,styles:[[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#ddd}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1), table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:30px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:200px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;width:100%;table-layout:fixed;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed;width:100%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#edf1f7!important}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#e4ecf8!important}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(even){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:#f5f5f538!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td{border:none!important}[_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]],data:{}});function dl(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"smart-table",[["id","latestrecharge"]],null,null,null,A.b,A.a)),e["\u0275did"](1,4833280,null,0,F.a,[e.ChangeDetectorRef,_.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var t=n.component;l(n,1,0,t.table.data,t.table.settings)},null)}function cl(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,7,"table",[["style","margin-top:-15px"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,6,"tbody",[],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,0,"th",[["style","width: 40px"]],null,null,null,null,null)),(l()(),e["\u0275eld"](4,0,null,null,1,"th",[["style","width: 509px"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Total: "])),(l()(),e["\u0275eld"](6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](7,null,[" "," "]))],null,function(l,n){l(n,7,0,n.component.total)})}function sl(l){return e["\u0275vid"](0,[e["\u0275pid"](0,S.DatePipe,[e.LOCALE_ID]),(l()(),e["\u0275eld"](1,0,null,null,30,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,T.e,T.b)),e["\u0275did"](2,49152,null,0,I.b,[],null,null),(l()(),e["\u0275eld"](3,0,null,0,21,"nb-card-header",[],null,null,null,T.f,T.c)),e["\u0275did"](4,49152,null,0,I.d,[],null,null),(l()(),e["\u0275eld"](5,0,null,0,19,"div",[["class","ml-4 mr-4 pb-4"],["style","border-bottom-left-radius:5px;border-bottom-right-radius:5px; box-shadow: 5px 10px 54px 0px whitesmoke;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,8,"div",[["class","row m-0"],["style","width:100%;background-color: #E5F3F9;border-top-right-radius: 5px; border-top-left-radius:5px;display:inline-block"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,1,"h5",[["class","p-2"],["style","font-weight:bold; display: inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Toll Usage Summary"])),(l()(),e["\u0275eld"](9,0,null,null,5,"div",[["class","p-2 float"],["style","display:inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](10,0,null,null,4,"span",[["style","display: block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](11,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printPDF("latestrecharge")&&e),e},null,null)),(l()(),e["\u0275eld"](12,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),e["\u0275eld"](13,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 5px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printCSV("latestrecharge")&&e),e},null,null)),(l()(),e["\u0275eld"](14,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),e["\u0275eld"](15,0,null,null,9,"div",[["class","row m-0 pt-3"],["style","background-color:white;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](16,0,null,null,2,"div",[["class","col-3 pl-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](17,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","Start Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("start")&&e),e},null,null)),e["\u0275ppd"](18,2),(l()(),e["\u0275eld"](19,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](20,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","End Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("end")&&e),e},null,null)),e["\u0275ppd"](21,2),(l()(),e["\u0275eld"](22,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](23,0,null,null,1,"button",[["class","btn customButton"],["type","button"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.gettollUsageSummary()&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["SUMMARY"])),(l()(),e["\u0275eld"](25,0,null,1,6,"nb-card-body",[["style","width:96%;margin-left:2%;"]],null,null,null,T.d,T.a)),e["\u0275did"](26,49152,null,0,I.a,[],null,null),(l()(),e["\u0275and"](16777216,null,0,1,null,dl)),e["\u0275did"](28,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275and"](16777216,null,0,1,null,cl)),e["\u0275did"](30,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275eld"](31,0,null,0,0,"br",[],null,null,null,null,null))],function(l,n){var t=n.component;l(n,28,0,t.data.length),l(n,30,0,t.data.length)},function(l,n){var t=n.component;l(n,1,1,[e["\u0275nov"](n,2).xxsmall,e["\u0275nov"](n,2).xsmall,e["\u0275nov"](n,2).small,e["\u0275nov"](n,2).medium,e["\u0275nov"](n,2).large,e["\u0275nov"](n,2).xlarge,e["\u0275nov"](n,2).xxlarge,e["\u0275nov"](n,2).active,e["\u0275nov"](n,2).disabled,e["\u0275nov"](n,2).primary,e["\u0275nov"](n,2).info,e["\u0275nov"](n,2).success,e["\u0275nov"](n,2).warning,e["\u0275nov"](n,2).danger,e["\u0275nov"](n,2).hasAccent,e["\u0275nov"](n,2).primaryAccent,e["\u0275nov"](n,2).infoAccent,e["\u0275nov"](n,2).successAccent,e["\u0275nov"](n,2).warningAccent,e["\u0275nov"](n,2).dangerAccent,e["\u0275nov"](n,2).activeAccent,e["\u0275nov"](n,2).disabledAccent]),l(n,17,0,e["\u0275unv"](n,17,0,l(n,18,0,e["\u0275nov"](n,0),t.dates.start,"dd MMM yyyy"))),l(n,20,0,e["\u0275unv"](n,20,0,l(n,21,0,e["\u0275nov"](n,0),t.dates.end,"dd MMM yyyy")))})}var pl=e["\u0275ccf"]("toll-usage-summary",il,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"toll-usage-summary",[],null,null,null,sl,rl)),e["\u0275did"](1,114688,null,0,il,[M.a,_.a,o.a,O.u],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),ml=function(){function l(l,n,t,e){this.api=l,this.common=n,this.user=t,this.modalService=e,this.params=null,this.discounts=null,this.discount=null,this.tollDiscount=[],this.dates={start:"",end:""},this.foid=this.user._details.id,this.singleValue=[],this.data=[],this.table=null;var o=new Date;this.dates.start=this.common.dateFormatter1(new Date(o.getFullYear(),o.getMonth()-12,1,0,0,0)),this.dates.end=this.common.dateFormatter1(o),this.getdetails(),this.getdiscountDetails(0),this.gettollDiscount(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getdetails(),this.getdiscountDetails(0),this.gettollDiscount()},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(t){n.dates[l]=n.common.dateFormatter(t.date).split(" ")[0],console.log("Date:",n.dates)})},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getPDFFromTableId(l,t.data.name,"Toll Discount",null,"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCSV=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getCSVFromTableId(l,t.data.name,"Toll Discount")},function(l){n.common.loading--,console.log(l)})},l.prototype.sortDiscount=function(l){l.sort(function(l,n){return l.id>n.id?1:n.id>l.id?-1:0}),console.log(l),this.discounts=l},l.prototype.calculateTotal=function(l){for(var n=0;n<l.length;n++)return parseInt(l[n].fdisc)+parseInt(l[n].tdisc)},l.prototype.gettollDiscount=function(){var l=this,n="foid="+this.user._details.foid;this.common.loading++,this.api.walle8Get("DiscountApi/getUserDiscountHistory.json?"+n).subscribe(function(n){l.common.loading--,console.log("Res:",n.data),l.tollDiscount=n.data,console.log("..........",l.tollDiscount),1==n.responsecode&&(l.sortDiscount(l.tollDiscount),l.total=l.calculateTotal(l.tollDiscount),console.log("total",l.total))},function(n){l.common.loading--,console.log(n)})},l.prototype.getdiscountDetails=function(l){console.log(l);var n=new Date,t="",e="";switch(l){case 1:console.log("Here1"),t=this.common.dateFormatter1(new Date(n.getFullYear(),n.getMonth()-1,1,0,0,0)),this.dates.start=t,e=this.common.dateFormatter1(new Date(n.getFullYear(),n.getMonth(),1,0,0,0)),this.dates.end=e,this.getdetails();break;case 2:t=this.common.dateFormatter1(new Date(n.getFullYear(),n.getMonth()-2,1,0,0,0)),this.dates.start=t,e=this.common.dateFormatter1(new Date(n.getFullYear(),n.getMonth()-1,1,0,0,0)),this.dates.end=e,this.getdetails();break;case 3:t=this.common.dateFormatter1(new Date(n.getFullYear(),n.getMonth()-3,1,0,0,0)),this.dates.start=t,e=this.common.dateFormatter1(new Date(n.getFullYear(),n.getMonth()-2,1,0,0,0)),this.dates.end=e,this.getdetails();break;case 4:t=this.common.dateFormatter1(new Date(n.getFullYear(),n.getMonth()-6,1,0,0,0)),this.dates.start=t,e=this.common.dateFormatter1(new Date(n.getFullYear(),n.getMonth(),1,0,0,0)),this.dates.end=e,this.getdetails();break;case 5:t=this.common.dateFormatter1(new Date(n.getFullYear(),n.getMonth()-12,1,0,0,0)),this.dates.start=t,e=this.common.dateFormatter1(new Date),this.dates.end=e,this.getdetails()}},l.prototype.getdetails=function(){var l=this,n=new Date,t="mobileNo="+this.user._details.fo_mobileno+"&startDate="+this.common.dateFormatter1(new Date(n.getFullYear(),n.getMonth()-12,1,0,0,0))+"&endDate="+this.common.dateFormatter1(n);this.common.loading++,this.api.walle8Get("TollSummary/getTollDiscount.json?"+t).subscribe(function(n){if(l.common.loading--,console.log("Res:",n.data),l.data=n.data,null==l.data)return l.data=[],void(l.table=null);l.table=l.setTable()},function(n){l.common.loading--,console.log(n)})},l.prototype.setTable=function(){return{data:{headings:{transdate:{title:"Date",placeholder:"Date"},amount:{title:"Amount",placeholder:"Amount"},remark:{title:"Remark",placeholder:"Remark"},disc_type:{title:"Discount Type",placeholder:"Discount Type"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}},l.prototype.getTableColumns=function(){var l=this,n=[];return this.data.map(function(t){var e={transdate:{value:null==t.transdate?"-":l.common.changeDateformat4(t.transdate)},amount:{value:null==t.amount?"-":t.amount},remark:{value:null==t.remark?"-":t.remark},disc_type:{value:null==t.disc_type?"-":t.disc_type}};n.push(e)}),n},l}(),gl=e["\u0275crt"]({encapsulation:0,styles:[[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#ddd}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1), table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:30px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:200px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;width:100%;table-layout:fixed;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed;width:100%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#e4e4e4}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}.panel-heading[_ngcontent-%COMP%]{font-size:14px;padding:0;font-weight:700}.small_tabel[_ngcontent-%COMP%]{border:1px solid #e6e6e6;padding:5px;border-radius:3px}.small_tabel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#97bbef;color:#fff}.small_tabel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#c9daf1;color:#fff}.small_tabel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#97bbef;color:#fff}.small_tabel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .small_tabel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:auto;padding:5px;font-size:12px}.small_tabel[_ngcontent-%COMP%]   .mini-stat-info[_ngcontent-%COMP%]{font-size:12px;text-align:right;font-weight:400;padding:7px 0 0}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(even){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:#f5f5f538!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td{border:none!important}[_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]],data:{}});function hl(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,23,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,1,"h5",[["class","panel-heading"]],null,null,null,null,null)),(l()(),e["\u0275ted"](2,null,["",""])),(l()(),e["\u0275eld"](3,0,null,null,20,"div",[["class","small_tabel"]],null,null,null,null,null)),(l()(),e["\u0275eld"](4,0,null,null,16,"table",[],null,null,null,null,null)),(l()(),e["\u0275eld"](5,0,null,null,7,"thead",[],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Fuel"])),(l()(),e["\u0275eld"](9,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Toll"])),(l()(),e["\u0275eld"](11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Total"])),(l()(),e["\u0275eld"](13,0,null,null,7,"tbody",[],null,null,null,null,null)),(l()(),e["\u0275eld"](14,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](15,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](16,null,["",""])),(l()(),e["\u0275eld"](17,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](18,null,["",""])),(l()(),e["\u0275eld"](19,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](20,null,["",""])),(l()(),e["\u0275eld"](21,0,null,null,2,"div",[["class","mini-stat-info"]],null,null,null,null,null)),(l()(),e["\u0275eld"](22,0,null,null,1,"a",[["href","javascript:void(0)"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getdiscountDetails(l.context.index+1)&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["Details info"]))],null,function(l,n){l(n,2,0,n.context.$implicit.title),l(n,16,0,n.context.$implicit.fdisc),l(n,18,0,n.context.$implicit.tdisc),l(n,20,0,n.context.$implicit.fdisc-0+(n.context.$implicit.tdisc-0))})}function fl(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"smart-table",[["id","FinancialReport"]],null,null,null,A.b,A.a)),e["\u0275did"](1,4833280,null,0,F.a,[e.ChangeDetectorRef,_.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var t=n.component;l(n,1,0,t.table.data,t.table.settings)},null)}function bl(l){return e["\u0275vid"](0,[e["\u0275pid"](0,S.DatePipe,[e.LOCALE_ID]),(l()(),e["\u0275eld"](1,0,null,null,30,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,T.e,T.b)),e["\u0275did"](2,49152,null,0,I.b,[],null,null),(l()(),e["\u0275eld"](3,0,null,0,24,"nb-card-header",[],null,null,null,T.f,T.c)),e["\u0275did"](4,49152,null,0,I.d,[],null,null),(l()(),e["\u0275eld"](5,0,null,0,22,"div",[["class","ml-4 mr-4 pb-4"],["style","border-bottom-left-radius:5px;border-bottom-right-radius:5px; box-shadow: 5px 10px 54px 0px whitesmoke;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,8,"div",[["class","row m-0"],["style","width:100%;background-color: #E5F3F9;border-top-right-radius: 5px; border-top-left-radius:5px;display:inline-block"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,1,"h5",[["class","p-2"],["style","font-weight:bold; display: inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Toll Discount"])),(l()(),e["\u0275eld"](9,0,null,null,5,"div",[["class","p-2 float"],["style","display:inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](10,0,null,null,4,"span",[["style","display: block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](11,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printPDF("FinancialReport")&&e),e},null,null)),(l()(),e["\u0275eld"](12,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),e["\u0275eld"](13,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 5px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printCSV("FinancialReport")&&e),e},null,null)),(l()(),e["\u0275eld"](14,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),e["\u0275eld"](15,0,null,null,9,"div",[["class","row m-0 pt-3"],["style","background-color:white;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](16,0,null,null,2,"div",[["class","col-3 pl-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](17,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","Start Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("start")&&e),e},null,null)),e["\u0275ppd"](18,2),(l()(),e["\u0275eld"](19,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](20,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","End Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("end")&&e),e},null,null)),e["\u0275ppd"](21,2),(l()(),e["\u0275eld"](22,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](23,0,null,null,1,"button",[["class","btn customButton"],["type","button"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getdetails()&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["Submit"])),(l()(),e["\u0275eld"](25,0,null,null,2,"div",[["class","row mt-4 ml-2"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,hl)),e["\u0275did"](27,278528,null,0,S.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),e["\u0275eld"](28,0,null,1,3,"nb-card-body",[["style","width:96%;margin-left:2%;"]],null,null,null,T.d,T.a)),e["\u0275did"](29,49152,null,0,I.a,[],null,null),(l()(),e["\u0275and"](16777216,null,0,1,null,fl)),e["\u0275did"](31,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,27,0,t.tollDiscount),l(n,31,0,t.data.length)},function(l,n){var t=n.component;l(n,1,1,[e["\u0275nov"](n,2).xxsmall,e["\u0275nov"](n,2).xsmall,e["\u0275nov"](n,2).small,e["\u0275nov"](n,2).medium,e["\u0275nov"](n,2).large,e["\u0275nov"](n,2).xlarge,e["\u0275nov"](n,2).xxlarge,e["\u0275nov"](n,2).active,e["\u0275nov"](n,2).disabled,e["\u0275nov"](n,2).primary,e["\u0275nov"](n,2).info,e["\u0275nov"](n,2).success,e["\u0275nov"](n,2).warning,e["\u0275nov"](n,2).danger,e["\u0275nov"](n,2).hasAccent,e["\u0275nov"](n,2).primaryAccent,e["\u0275nov"](n,2).infoAccent,e["\u0275nov"](n,2).successAccent,e["\u0275nov"](n,2).warningAccent,e["\u0275nov"](n,2).dangerAccent,e["\u0275nov"](n,2).activeAccent,e["\u0275nov"](n,2).disabledAccent]),l(n,17,0,e["\u0275unv"](n,17,0,l(n,18,0,e["\u0275nov"](n,0),t.dates.start,"dd MMM yyyy"))),l(n,20,0,e["\u0275unv"](n,20,0,l(n,21,0,e["\u0275nov"](n,0),t.dates.end,"dd MMM yyyy")))})}var vl=e["\u0275ccf"]("toll-discount",ml,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"toll-discount",[],null,null,null,bl,gl)),e["\u0275did"](1,114688,null,0,ml,[M.a,_.a,o.a,O.u],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),yl=function(){function l(l,n,t,e){this.api=l,this.common=n,this.user=t,this.modalService=e,this.data=[],this.tollUsage=[],this.userId=this.user._details.id,this.cardType=1,this.table=null,this.dates={start:null,end:this.common.dateFormatter(new Date)};var o=new Date;this.dates.start=this.common.dateFormatter1(new Date(o.setDate(o.getDate()-1))),this.gettollUsage(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.gettollUsage()},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"toll Usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(t){n.dates[l]=n.common.dateFormatter(t.date).split(" ")[0],console.log("Date:",n.dates)})},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getPDFFromTableId(l,t.data.name,"Toll Usage",null,"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCSV=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getCSVFromTableId(l,t.data.name,"Toll Usage")},function(l){n.common.loading--,console.log(l)})},l.prototype.setTable=function(){return{data:{headings:{cardno:{title:"Vehicle",placeholder:"Vehicle"},trtime:{title:"Transaction Time",placeholder:"Transaction Time"},deal:{title:"Plaza Name",placeholder:"Plaza Name"},amt:{title:"Amount",placeholder:"Amount"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}},l.prototype.getTableColumns=function(){var l=this,n=[];return this.data.map(function(t){var e={cardno:{value:t.cardno},trtime:{value:l.common.changeDateformat4(t.trtime)},deal:{value:null==t.deal?"-":t.deal},amt:{value:null==t.amt?"-":parseInt(t.amt)}};n.push(e)}),n},l.prototype.gettollUsage=function(){var l=this,n="startDate="+this.dates.start+"&endDate="+this.dates.end;this.common.loading++,this.api.walle8Get("TollSummary/getEntireTollUsage.json?"+n).subscribe(function(n){if(l.common.loading--,console.log("Res:",n.data),l.data=n.data,null==l.data)return l.data=[],void(l.table=null);l.table=l.setTable()},function(n){l.common.loading--,console.log(n)})},l}(),xl=e["\u0275crt"]({encapsulation:0,styles:[[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(even){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:#f5f5f538!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td{border:none!important}[_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]],data:{}});function Cl(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"smart-table",[["id","tollUsage"]],null,null,null,A.b,A.a)),e["\u0275did"](1,4833280,null,0,F.a,[e.ChangeDetectorRef,_.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var t=n.component;l(n,1,0,t.table.data,t.table.settings)},null)}function _l(l){return e["\u0275vid"](0,[e["\u0275pid"](0,S.DatePipe,[e.LOCALE_ID]),(l()(),e["\u0275eld"](1,0,null,null,27,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,T.e,T.b)),e["\u0275did"](2,49152,null,0,I.b,[],null,null),(l()(),e["\u0275eld"](3,0,null,0,21,"nb-card-header",[],null,null,null,T.f,T.c)),e["\u0275did"](4,49152,null,0,I.d,[],null,null),(l()(),e["\u0275eld"](5,0,null,0,19,"div",[["class","ml-4 mr-4 pb-4"],["style","border-bottom-left-radius:5px;border-bottom-right-radius:5px; box-shadow: 5px 10px 54px 0px whitesmoke;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,8,"div",[["class","row m-0"],["style","width:100%;background-color: #E5F3F9;border-top-right-radius: 5px; border-top-left-radius:5px;display:inline-block"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,1,"h5",[["class","p-2"],["style","font-weight:bold; display: inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Toll Usage"])),(l()(),e["\u0275eld"](9,0,null,null,5,"div",[["class","p-2 float"],["style","display:inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](10,0,null,null,4,"span",[["style","display: block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](11,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printPDF("tollUsage")&&e),e},null,null)),(l()(),e["\u0275eld"](12,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),e["\u0275eld"](13,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 5px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printCSV("tollUsage")&&e),e},null,null)),(l()(),e["\u0275eld"](14,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),e["\u0275eld"](15,0,null,null,9,"div",[["class","row m-0 p-3"],["style","background-color:white;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](16,0,null,null,2,"div",[["class","col-3 pl-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](17,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","Start Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("start")&&e),e},null,null)),e["\u0275ppd"](18,2),(l()(),e["\u0275eld"](19,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](20,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","End Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("end")&&e),e},null,null)),e["\u0275ppd"](21,2),(l()(),e["\u0275eld"](22,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](23,0,null,null,1,"button",[["class","btn customButton"],["type","button"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.gettollUsage()&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["Submit"])),(l()(),e["\u0275eld"](25,0,null,1,3,"nb-card-body",[["style","width:96%;margin-left:2%;"]],null,null,null,T.d,T.a)),e["\u0275did"](26,49152,null,0,I.a,[],null,null),(l()(),e["\u0275and"](16777216,null,0,1,null,Cl)),e["\u0275did"](28,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,28,0,n.component.data.length)},function(l,n){var t=n.component;l(n,1,1,[e["\u0275nov"](n,2).xxsmall,e["\u0275nov"](n,2).xsmall,e["\u0275nov"](n,2).small,e["\u0275nov"](n,2).medium,e["\u0275nov"](n,2).large,e["\u0275nov"](n,2).xlarge,e["\u0275nov"](n,2).xxlarge,e["\u0275nov"](n,2).active,e["\u0275nov"](n,2).disabled,e["\u0275nov"](n,2).primary,e["\u0275nov"](n,2).info,e["\u0275nov"](n,2).success,e["\u0275nov"](n,2).warning,e["\u0275nov"](n,2).danger,e["\u0275nov"](n,2).hasAccent,e["\u0275nov"](n,2).primaryAccent,e["\u0275nov"](n,2).infoAccent,e["\u0275nov"](n,2).successAccent,e["\u0275nov"](n,2).warningAccent,e["\u0275nov"](n,2).dangerAccent,e["\u0275nov"](n,2).activeAccent,e["\u0275nov"](n,2).disabledAccent]),l(n,17,0,e["\u0275unv"](n,17,0,l(n,18,0,e["\u0275nov"](n,0),t.dates.start,"dd MMM yyyy"))),l(n,20,0,e["\u0275unv"](n,20,0,l(n,21,0,e["\u0275nov"](n,0),t.dates.end,"dd MMM yyyy")))})}var Ml=e["\u0275ccf"]("toll-usage",yl,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"toll-usage",[],null,null,null,_l,xl)),e["\u0275did"](1,114688,null,0,yl,[M.a,_.a,o.a,O.u],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),Pl=function(){function l(l,n,t,e){this.api=l,this.common=n,this.user=t,this.modalService=e,this.dates={start:null,end:this.common.dateFormatter(new Date)},this.table=null,this.data=[];var o=new Date;this.dates.start=this.common.dateFormatter1(o.setDate(o.getDate()-1)),this.gettollSetteledReq(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.gettollSetteledReq()},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(t){n.dates[l]=n.common.dateFormatter(t.date).split(" ")[0],console.log("Date:",n.dates)})},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getPDFFromTableId(l,t.data.name,"Toll Setteled Request",null,"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCSV=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getCSVFromTableId(l,t.data.name,"Toll Setteled Request")},function(l){n.common.loading--,console.log(l)})},l.prototype.setTable=function(){return{data:{headings:{toll_usage_id:{title:"Toll Id",placeholder:"Toll Id"},toll_plaza:{title:"TOll Plaza",placeholder:"\tToll Plaza"},regno:{title:"Registration No",placeholder:"Registration No"},transtime:{title:"transtime",placeholder:"Transmit Time"},amount:{title:"Amount",placeholder:"Amount"},issueid:{title:"Issue Type",placeholder:"Issue Type"},issue_remark:{title:"Issue Remark",placeholder:"Issue Remark"},status:{title:"status",placeholder:"status"},cashback:{title:"cashback",placeholder:"cashback"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}},l.prototype.getTableColumns=function(){var l=[];return this.data.map(function(n){l.push({toll_usage_id:{value:n.toll_usage_id},toll_plaza:{value:n.toll_plaza},regno:{value:null==n.regno?"-":n.regno},transtime:{value:null==n.transtime?"-":n.transtime},amount:{value:null==n.amount?"-":n.amount},issueid:{value:null==n.issueid?"-":n.issueid},issue_remark:{value:null==n.issue_remark?"-":n.issue_remark},status:{value:null==n.status?"-":n.status},cashback:{value:null==n.cashback?"-":n.cashback}})}),l},l.prototype.gettollSetteledReq=function(){var l=this,n="startDate="+this.dates.start+"&endDate="+this.dates.end;this.common.loading++,this.api.walle8Get("TollSummary/getTollSettledRequests.json?"+n).subscribe(function(n){if(l.common.loading--,console.log("Res:",n),l.data=n.data,null==l.data)return l.data=[],void(l.table=null);l.table=l.setTable()},function(n){l.common.loading--,console.log(n)})},l}(),Ol=e["\u0275crt"]({encapsulation:0,styles:[[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(even){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:#f5f5f538!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td{border:none!important}[_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]],data:{}});function kl(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"smart-table",[["id","tollsettel"]],null,null,null,A.b,A.a)),e["\u0275did"](1,4833280,null,0,F.a,[e.ChangeDetectorRef,_.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var t=n.component;l(n,1,0,t.table.data,t.table.settings)},null)}function wl(l){return e["\u0275vid"](0,[e["\u0275pid"](0,S.DatePipe,[e.LOCALE_ID]),(l()(),e["\u0275eld"](1,0,null,null,27,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,T.e,T.b)),e["\u0275did"](2,49152,null,0,I.b,[],null,null),(l()(),e["\u0275eld"](3,0,null,0,21,"nb-card-header",[],null,null,null,T.f,T.c)),e["\u0275did"](4,49152,null,0,I.d,[],null,null),(l()(),e["\u0275eld"](5,0,null,0,19,"div",[["class","ml-4 mr-4 pb-4"],["style","border-bottom-left-radius:5px;border-bottom-right-radius:5px; box-shadow: 5px 10px 54px 0px whitesmoke;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,8,"div",[["class","row m-0"],["style","width:100%;background-color: #E5F3F9;border-top-right-radius: 5px; border-top-left-radius:5px;display:inline-block"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,1,"h5",[["class","p-2"],["style","font-weight:bold; display: inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Toll Settled Request"])),(l()(),e["\u0275eld"](9,0,null,null,5,"div",[["class","p-2 float"],["style","display:inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](10,0,null,null,4,"span",[["style","display: block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](11,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printPDF("tollsettel")&&e),e},null,null)),(l()(),e["\u0275eld"](12,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),e["\u0275eld"](13,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 5px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printCSV("tollsettel")&&e),e},null,null)),(l()(),e["\u0275eld"](14,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),e["\u0275eld"](15,0,null,null,9,"div",[["class","row m-0 p-3"],["style","background-color:white;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](16,0,null,null,2,"div",[["class","col-3 pl-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](17,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","Start Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("start")&&e),e},null,null)),e["\u0275ppd"](18,2),(l()(),e["\u0275eld"](19,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](20,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","End Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("end")&&e),e},null,null)),e["\u0275ppd"](21,2),(l()(),e["\u0275eld"](22,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](23,0,null,null,1,"button",[["class","btn customButton"],["type","button"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.gettollSetteledReq()&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["Submit"])),(l()(),e["\u0275eld"](25,0,null,1,3,"nb-card-body",[["style","width:96%;margin-left:2%;"]],null,null,null,T.d,T.a)),e["\u0275did"](26,49152,null,0,I.a,[],null,null),(l()(),e["\u0275and"](16777216,null,0,1,null,kl)),e["\u0275did"](28,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,28,0,n.component.data.length)},function(l,n){var t=n.component;l(n,1,1,[e["\u0275nov"](n,2).xxsmall,e["\u0275nov"](n,2).xsmall,e["\u0275nov"](n,2).small,e["\u0275nov"](n,2).medium,e["\u0275nov"](n,2).large,e["\u0275nov"](n,2).xlarge,e["\u0275nov"](n,2).xxlarge,e["\u0275nov"](n,2).active,e["\u0275nov"](n,2).disabled,e["\u0275nov"](n,2).primary,e["\u0275nov"](n,2).info,e["\u0275nov"](n,2).success,e["\u0275nov"](n,2).warning,e["\u0275nov"](n,2).danger,e["\u0275nov"](n,2).hasAccent,e["\u0275nov"](n,2).primaryAccent,e["\u0275nov"](n,2).infoAccent,e["\u0275nov"](n,2).successAccent,e["\u0275nov"](n,2).warningAccent,e["\u0275nov"](n,2).dangerAccent,e["\u0275nov"](n,2).activeAccent,e["\u0275nov"](n,2).disabledAccent]),l(n,17,0,e["\u0275unv"](n,17,0,l(n,18,0,e["\u0275nov"](n,0),t.dates.start,"dd MMM yyyy"))),l(n,20,0,e["\u0275unv"](n,20,0,l(n,21,0,e["\u0275nov"](n,0),t.dates.end,"dd MMM yyyy")))})}var Dl=e["\u0275ccf"]("toll-setteled-request",Pl,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"toll-setteled-request",[],null,null,null,wl,Ol)),e["\u0275did"](1,114688,null,0,Pl,[M.a,_.a,o.a,O.u],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),Al=function(){function l(l,n,t){this.common=l,this.api=n,this.user=t,this.data=[],this.table=null,this.getDetail(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getDetail()},l.prototype.getDetail=function(){var l=this;this.common.loading++,this.api.walle8Get("CurrentTagBalance/getCurrentTagBalance.json").subscribe(function(n){l.common.loading--,console.log("Res:",n),l.data=n.data,l.table=l.setTable()},function(n){l.common.loading--,console.log(n)})},l.prototype.setTable=function(){return{data:{headings:{regno:{title:"Vehicle",placeholder:"Vehicle"},balance:{title:"\tBalance",placeholder:"Balance"},balance_time:{title:"Balance Time",placeholder:"Balance Time"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}},l.prototype.getTableColumns=function(){var l=[];return this.data.map(function(n){l.push({regno:{value:n.regno},balance:{value:n.balance},balance_time:{value:null==n.balance_time?"-":n.balance_time}})}),l},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getPDFFromTableId(l,t.data.name,"Current Tag Balance",null,"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCSV=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getCSVFromTableId(l)},function(l){n.common.loading--,console.log(l)})},l}(),Fl=e["\u0275crt"]({encapsulation:0,styles:[[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(even){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:#f5f5f538!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td{border:none!important}[_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]],data:{}});function Tl(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"smart-table",[["id","currentTagBalance"]],null,null,null,A.b,A.a)),e["\u0275did"](1,4833280,null,0,F.a,[e.ChangeDetectorRef,_.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var t=n.component;l(n,1,0,t.table.data,t.table.settings)},null)}function Il(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,17,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,T.e,T.b)),e["\u0275did"](1,49152,null,0,I.b,[],null,null),(l()(),e["\u0275eld"](2,0,null,0,11,"nb-card-header",[],null,null,null,T.f,T.c)),e["\u0275did"](3,49152,null,0,I.d,[],null,null),(l()(),e["\u0275eld"](4,0,null,0,9,"div",[["class","ml-4 mr-4 pb-4"],["style","border-bottom-left-radius:5px;border-bottom-right-radius:5px; box-shadow: 5px 10px 54px 0px whitesmoke;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](5,0,null,null,8,"div",[["class","row m-0"],["style","width:100%;background-color: #E5F3F9;border-top-right-radius: 5px; border-top-left-radius:5px;display:inline-block"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,1,"h5",[["class","p-2"],["style","font-weight:bold; display: inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Current Tag Balance"])),(l()(),e["\u0275eld"](8,0,null,null,5,"div",[["class","p-2 float"],["style","display:inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](9,0,null,null,4,"span",[["style","display: block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](10,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printPDF("currentTagBalance")&&e),e},null,null)),(l()(),e["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),e["\u0275eld"](12,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 5px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printCSV("currentTagBalance")&&e),e},null,null)),(l()(),e["\u0275eld"](13,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),e["\u0275eld"](14,0,null,1,3,"nb-card-body",[["style","width:96%;margin-left:2%;"]],null,null,null,T.d,T.a)),e["\u0275did"](15,49152,null,0,I.a,[],null,null),(l()(),e["\u0275and"](16777216,null,0,1,null,Tl)),e["\u0275did"](17,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,17,0,n.component.data.length)},function(l,n){l(n,0,1,[e["\u0275nov"](n,1).xxsmall,e["\u0275nov"](n,1).xsmall,e["\u0275nov"](n,1).small,e["\u0275nov"](n,1).medium,e["\u0275nov"](n,1).large,e["\u0275nov"](n,1).xlarge,e["\u0275nov"](n,1).xxlarge,e["\u0275nov"](n,1).active,e["\u0275nov"](n,1).disabled,e["\u0275nov"](n,1).primary,e["\u0275nov"](n,1).info,e["\u0275nov"](n,1).success,e["\u0275nov"](n,1).warning,e["\u0275nov"](n,1).danger,e["\u0275nov"](n,1).hasAccent,e["\u0275nov"](n,1).primaryAccent,e["\u0275nov"](n,1).infoAccent,e["\u0275nov"](n,1).successAccent,e["\u0275nov"](n,1).warningAccent,e["\u0275nov"](n,1).dangerAccent,e["\u0275nov"](n,1).activeAccent,e["\u0275nov"](n,1).disabledAccent])})}var Sl=e["\u0275ccf"]("current-tag-balance",Al,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"current-tag-balance",[],null,null,null,Il,Fl)),e["\u0275did"](1,114688,null,0,Al,[_.a,M.a,o.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),Rl=function(){function l(l,n,t,e){this.api=l,this.common=n,this.user=t,this.modalService=e,this.dates={start:null,end:this.common.dateFormatter(new Date)},this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.data=[];var o,u=new Date;o=this.common.dateFormatter1(u.setDate(u.getDate()-30)),this.dates.start=o,this.getdoubleTollReport(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getdoubleTollReport()},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(t){n.dates[l]=n.common.dateFormatter(t.date).split(" ")[0],console.log("Date:",n.dates)})},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getPDFFromTableId(l,t.data.name,"Double Toll Report",null,"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCSV=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getCSVFromTableId(l,t.data.name,"Double Toll Report")},function(l){n.common.loading--,console.log(l)})},l.prototype.setTable=function(){return{data:{headings:{vehreg:{title:"Vehicle",placeholder:"Vehicle"},remark:{title:"TOll Plaza",placeholder:"\tToll Plaza"},transtime:{title:"Transaction Time",placeholder:"Transaction Time"},amount:{title:"Amount",placeholder:"Amount"},action:{title:"Action",placeholder:"Action"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}},l.prototype.getTableColumns=function(){var l=this,n=[];return this.data.map(function(t){var e={vehreg:{value:t.vehreg},remark:{value:t.remark},regno:{value:null==t.regno?"-":t.regno},transtime:{value:null==t.transtime?"-":t.transtime},amount:{value:null==t.amount?"-":t.amount},action:{value:"",action:null,html:!0,icons:l.actionIcons(t)}};n.push(e)}),n},l.prototype.actionIcons=function(l){var n=[];return n.push({class:"icon fa fa-eye gray",action:this.raiseIssue.bind(this,l)}),n},l.prototype.getdoubleTollReport=function(){var l=this,n="startDate="+this.dates.start+"&endDate="+this.dates.end;this.common.loading++,this.api.walle8Get("TollSummary/getDoubleTollReport.json?"+n).subscribe(function(n){if(l.common.loading--,console.log("Res333:",n.data),l.data=n.data,null==l.data)return l.data=[],void(l.table=null);l.table=l.setTable()},function(n){l.common.loading--,console.log(n)})},l.prototype.raiseIssue=function(l){var n=this;if(confirm("Do you want to submit this entry ?")){var t={tollUseId:l.id,tollProof:"iVBORw0KGgoAAAANSUhEUgAAAkEAAABdCAIAAAAt7SUzAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAkBSURBVHhe7d3tYSMpDIDhrcsFuR5X42ZczB7z5REDQmKGdazL+/y7GAsBQXJ8WefPXwAAYqKHAQCioocBAKKihwEAoqKHAQCioocBAKKihwEAoqKHAQCioocBAKKihwEAoqKHAQCioocBAKKihwEAoqKHfZ/X8/5ndXs81y/+aq/n4367rXuS3G73x/O1PvidOETgI+hh3+f12Mv1/deXP7kbme/eGg4R+Ah62Pf5HeXv9XrO2j9O7T/NFG4P8VRftA+ihwEfYfew/HXwjftYIzbp+jtHv6D8Za1JX+Phe+/xfM2e81uL+9Oc0T6KHgZ8hNnDihfC2ctfLOQuXa5Y///yd+xNyneU3NXGt50z2mfRw4CPMHpYXh4WP1Ykvvh/k9PDuk7H13XkqNY3nS/ah8U8RCCcdg/Lq8Pmp6rEF5cFelhf1qnhbaNvd+3byb2prmgfRg8DPqLZw8Q9vN3fZSL5mUtJD/tm47MWm/olP1x1oIcBH9HqYbKFPV7yUv7MrfziskAPo4flYh4iEE6jh4lbOJcQeSt/5Fp+cVmgh/2DrOlhACx6D6tUkKGVuh897JvRwzL0MOAj1B4mCsh+BXtLdcfvqqlD5Zwt7TL3Wj6uaK8rk/Tf98eQDy3q3JgimezDkzrLX2Vl88LsdT23ibIdr3+wkxLs7Om8pz7+i0NfwEM4NVrd+R2Thh4igHO0HiZKibyBssI4Xht3XGRtqPx6k5bOXGrWMapU+rrq15G/h71a2SxpuHdN/D5enVGX96yXadJWWbkdnD4dsWHZQ96A+b5o0QpXd2w18hABXKH0MFEU1GrhaGIdF1kberpKztzPTlwv4RVyWxphrAo6ST8TuXbNE2umH9OedZrGs1VFNqdPR+06cid1h3BqtMyAHZuMPEQAF9V7mKgJx/sna0z7ridaY6poDF0+YGh6N1AOWb/4tg4WygI7vdvzWD5Y7/HI/rXAwlyQRu6KttAinXc2KZf8na2dEiyPlQLJN/uW903XxybasmTpP8RbdqnMq8xn3f7O02l1nfUp4t3lqSesX1ysIzetaKsxOzb0EAFcV+th8p6W10+Wa6vmtyNlHEM7oiWHajNVwfUR6fjmkrUihdwUJTU5pJpO9X2uarBsaWrRtg8qT2lWvmOYxWlsUN/piKBqRM+YhTny3+zYpUMEMEKlh1nFSD5u1JaOuuYY2hEtG2ulmRemUwVHhqgGyPNR5yhKYG2kOdnGGpgvvFHcZfKeQc2sZmJq9XA8YxbWSGsj3toDRx4igCHKHmbXouwqN+9nR11zDD0ZzSqAiSxdVugqq0j25GMkI0NZKxOhakOzmVqxsvSvn05iZDbzjFm0R47asYGHCGCQood5SpGnpM066ppjqD+aO8GNLDlWmauRz6/NZz2eaa+zVWUL7cH+UENPZ+KZ2p/eqGUmjcHioauHCGCQYw/zXT05qnVDOy6yY6g/Wle1mXgXpDEmlOHtMtpcZ9/SGhU5aT8qDT2diWdqf3rNkeLBS4kNPEQAoxx6mLdsyBvauKIdF9kx1B3NmZ0kC51doApGnewro811ylB9yom9p52npAx1n87MM7U/vebIUTsm41w8RACj5D1M1oLy96Mzsk2oFabjIjuGuqPJgUb125x4imTUt3HlTz7WqZxYHnd7zY7taWVd8kztT681ctiOjTtEAMNkPUze0i5aiem4yI6h7mhyoFH9NieeIhn1bVz5k491qS2qVfpzju1pZV3yTO1PrzVy2I6NO0QAw8geJi9pp+t1zTHUHS0rW74CItduFMwao76NK38nlqYTaRlrltNeP+vEM7U/vdbIYTs27hABDCN6mLyj3epFpuMiO4b6o/WVm+RqoTMmlA8b5ThprrN7aQ0ilpGVTEkZ6j+diWdqf3rNkaN2TMYx8kn6tgPASe8edqKKZ0+p3mpH6ds47ry/LHQvpq8+lYw62ZdPc53ywTOZSs3Sn3HM2sy64Jnan15z5Kgdk3EuHiKAUbYe1ndBV9mTqs8yavsu+2gDZWRHMZLz2svJ1nGqzFnr7Mgn/2yncmzHLljETEYkx6R9eXmm9qfXHjlqx4yDkaxDBDDI2sPOXnPrqsq4amDvZ/NkwYy6kCXWHpyFPVlv5HTVCFk++g7nuSSVYK49dRFJGXHknMrQntPxTe1Pzxg5ascGHiKAMZYe5ihRiuxaV+5q9ngldtG/JtqdtyaTDoWk/Czb2fEvZp0tcDKzemKHfCrpuLfCDrXbPpC9mpTI2li45xuk53RcU/vTs0aO2rGBhwhgiLmHyepjVIuCVbkO1z5NoP9hj41657PJ3pGWQEXixcxpzF3+7ZVi+t6172RiWvZ58smUzZLL4c/AiMTqwZRNXf/pXlKsrxpHZGQsXU6oDu05Hc/U/vTskYN27LDG5PwhAhhg6mHyXhrFoiK71bXbWuklhTStGKbf+aKE7GqZ114Ua/pXLsi8Wtk7diK9uPdshWdXd/XFiayN1cvZ9KEdp+OZ2p+ea+SIHUtGHiKAq1IPk5XHqBVVWeWqB2iVj/R6eH6K886roZTUq2/uHGwpnCf3oFmxHH/F3r8V08846zhd+oFDe+vM3yTkrreGuk/HM7U/Pe/Iyzu2GHmIAC75MxX59aqly9YuFYq8wGn3da4f8s2a+d2cfb49Dz3GYvoLv61IFWnyw+zTs+b3gWp/Abqb+N9qVvZz/lMy6/hkyiTLw70VyRrtzNpE1kbVFl1izOlkU69fO/Kn54m2u7Bju7GHCOCk9fcSAQAIhx4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIiKHgYAiIoeBgCIih4GAIjp79//ABt9DOKbevLHAAAAAElFTkSuQmCC",issueId:1,remark:"Auto Identified"};console.log("params",t),this.common.loading++,this.api.walle8Post("IssueRequestApi/insertTollIsuue.json?",t).subscribe(function(l){n.common.loading--,0!=l.success?n.common.showToast(l.msg):n.common.showError(l.msg)},function(l){n.common.loading--,n.common.showError(),console.log(l)})}},l}(),Bl=e["\u0275crt"]({encapsulation:0,styles:[[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(even){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:#f5f5f538!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td{border:none!important}[_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]],data:{}});function Vl(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"smart-table",[["id","doubleToll"]],null,null,null,A.b,A.a)),e["\u0275did"](1,4833280,null,0,F.a,[e.ChangeDetectorRef,_.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var t=n.component;l(n,1,0,t.table.data,t.table.settings)},null)}function Hl(l){return e["\u0275vid"](0,[e["\u0275pid"](0,S.DatePipe,[e.LOCALE_ID]),(l()(),e["\u0275eld"](1,0,null,null,27,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,T.e,T.b)),e["\u0275did"](2,49152,null,0,I.b,[],null,null),(l()(),e["\u0275eld"](3,0,null,0,21,"nb-card-header",[],null,null,null,T.f,T.c)),e["\u0275did"](4,49152,null,0,I.d,[],null,null),(l()(),e["\u0275eld"](5,0,null,0,19,"div",[["class","ml-4 mr-4 pb-4"],["style","border-bottom-left-radius:5px;border-bottom-right-radius:5px; box-shadow: 5px 10px 54px 0px whitesmoke;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,8,"div",[["class","row m-0"],["style","width:100%;background-color: #E5F3F9;border-top-right-radius: 5px; border-top-left-radius:5px;display:inline-block"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,1,"h5",[["class","p-2"],["style","font-weight:bold; display: inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Double Toll Report"])),(l()(),e["\u0275eld"](9,0,null,null,5,"div",[["class","p-2 float"],["style","display:inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](10,0,null,null,4,"span",[["style","display: block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](11,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printPDF("doubleToll")&&e),e},null,null)),(l()(),e["\u0275eld"](12,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),e["\u0275eld"](13,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 5px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printCSV("doubleToll")&&e),e},null,null)),(l()(),e["\u0275eld"](14,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),e["\u0275eld"](15,0,null,null,9,"div",[["class","row m-0 p-3"],["style","background-color:white;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](16,0,null,null,2,"div",[["class","col-3 pl-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](17,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","Start Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("start")&&e),e},null,null)),e["\u0275ppd"](18,2),(l()(),e["\u0275eld"](19,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](20,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","End Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("end")&&e),e},null,null)),e["\u0275ppd"](21,2),(l()(),e["\u0275eld"](22,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](23,0,null,null,1,"button",[["class","btn customButton"],["type","button"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getdoubleTollReport()&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["Submit"])),(l()(),e["\u0275eld"](25,0,null,1,3,"nb-card-body",[["style","width:96%;margin-left:2%;"]],null,null,null,T.d,T.a)),e["\u0275did"](26,49152,null,0,I.a,[],null,null),(l()(),e["\u0275and"](16777216,null,0,1,null,Vl)),e["\u0275did"](28,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,28,0,n.component.data.length)},function(l,n){var t=n.component;l(n,1,1,[e["\u0275nov"](n,2).xxsmall,e["\u0275nov"](n,2).xsmall,e["\u0275nov"](n,2).small,e["\u0275nov"](n,2).medium,e["\u0275nov"](n,2).large,e["\u0275nov"](n,2).xlarge,e["\u0275nov"](n,2).xxlarge,e["\u0275nov"](n,2).active,e["\u0275nov"](n,2).disabled,e["\u0275nov"](n,2).primary,e["\u0275nov"](n,2).info,e["\u0275nov"](n,2).success,e["\u0275nov"](n,2).warning,e["\u0275nov"](n,2).danger,e["\u0275nov"](n,2).hasAccent,e["\u0275nov"](n,2).primaryAccent,e["\u0275nov"](n,2).infoAccent,e["\u0275nov"](n,2).successAccent,e["\u0275nov"](n,2).warningAccent,e["\u0275nov"](n,2).dangerAccent,e["\u0275nov"](n,2).activeAccent,e["\u0275nov"](n,2).disabledAccent]),l(n,17,0,e["\u0275unv"](n,17,0,l(n,18,0,e["\u0275nov"](n,0),t.dates.start,"dd MMM yyyy"))),l(n,20,0,e["\u0275unv"](n,20,0,l(n,21,0,e["\u0275nov"](n,0),t.dates.end,"dd MMM yyyy")))})}var zl=e["\u0275ccf"]("double-toll-report",Rl,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"double-toll-report",[],null,null,null,Hl,Bl)),e["\u0275did"](1,114688,null,0,Rl,[M.a,_.a,o.a,O.u],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),Ul=function(){function l(l,n,t,e){this.api=l,this.common=n,this.user=t,this.modalService=e,this.dates={start:null,end:this.common.dateFormatter(new Date)},this.table=null,this.data=[],this.balance=[],this.openingBalance=null,this.closingBalance=null,this.vehid=6754,this.mobileno=this.user._details.mobileno;var o=new Date;this.dates.start=this.common.dateFormatter1(new Date(o.setDate(o.getDate()-30))),this.getfinancialTollReport(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getfinancialTollReport()},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(t){n.dates[l]=n.common.dateFormatter(t.date).split(" ")[0],console.log("Date:",n.dates)})},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getPDFFromTableId(l,t.data.name,"Financial Report",null,"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCSV=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getCSVFromTableId(l,t.data.name,"Financial Report")},function(l){n.common.loading--,console.log(l)})},l.prototype.setTable=function(){return{data:{headings:{vehid:{title:"Vehicle",placeholder:"Vehicle"},transtime:{title:"Transaction Time",placeholder:"Transaction Time"},remark:{title:"Toll Plaza",placeholder:"Toll Plaza"},amount:{title:"Amount",placeholder:"Amount"},balance:{title:"Balance",placeholder:"Balance"},entry_type:{title:"Transaction Type",placeholder:"Transaction Type"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}},l.prototype.getTableColumns=function(){var l=[];return this.data.map(function(n){l.push({vehid:{value:n.vehid},transtime:{value:n.transtime},remark:{value:null==n.remark?"-":n.remark},amount:{value:null==n.amount?"-":n.amount},balance:{value:null==n.balance?"-":n.balance},entry_type:{value:null==n.entry_type?"-":n.entry_type}})}),l},l.prototype.getfinancialTollReport=function(){var l=this,n="startDate="+this.dates.start+"&endDate="+this.dates.end;this.common.loading++,this.api.walle8Get("FinancialAccountSummary/getOpeningAndClosingBalance.json?"+n).subscribe(function(n){l.common.loading--,console.log("Res:",n),l.balance=n.data,null==l.balance&&(l.balance=[]),l.openingBalance=l.balance[0].opening_balance,l.closingBalance=l.balance[0].closing_balance},function(n){l.common.loading--,console.log(n)});var t="startDate="+this.dates.start+"&endDate="+this.dates.end;this.common.loading++,this.api.walle8Get("FinancialAccountSummary/getFinancialAccountSummary.json?"+t).subscribe(function(n){if(l.common.loading--,console.log("Res:",n),l.data=n.data,null==l.data)return l.data=[],void(l.table=null);l.table=l.setTable()},function(n){l.common.loading--,console.log(n)})},l}(),El=e["\u0275crt"]({encapsulation:0,styles:[[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.thead[_ngcontent-%COMP%]{background-color:#e5f3f9;color:#000}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(even){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:#f5f5f538!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td{border:none!important}[_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]],data:{}});function Nl(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"smart-table",[["id","FinancialReport"]],null,null,null,A.b,A.a)),e["\u0275did"](1,4833280,null,0,F.a,[e.ChangeDetectorRef,_.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var t=n.component;l(n,1,0,t.table.data,t.table.settings)},null)}function Gl(l){return e["\u0275vid"](0,[e["\u0275pid"](0,S.DatePipe,[e.LOCALE_ID]),(l()(),e["\u0275eld"](1,0,null,null,42,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,T.e,T.b)),e["\u0275did"](2,49152,null,0,I.b,[],null,null),(l()(),e["\u0275eld"](3,0,null,0,21,"nb-card-header",[],null,null,null,T.f,T.c)),e["\u0275did"](4,49152,null,0,I.d,[],null,null),(l()(),e["\u0275eld"](5,0,null,0,19,"div",[["class","ml-4 mr-4 pb-4"],["style","border-bottom-left-radius:5px;border-bottom-right-radius:5px; box-shadow: 5px 10px 54px 0px whitesmoke;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,8,"div",[["class","row m-0"],["style","width:100%;background-color: #E5F3F9;border-top-right-radius: 5px; border-top-left-radius:5px;display:inline-block"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,1,"h5",[["class","p-2"],["style","font-weight:bold; display: inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Financial Toll Summary"])),(l()(),e["\u0275eld"](9,0,null,null,5,"div",[["class","p-2 float"],["style","display:inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](10,0,null,null,4,"span",[["style","display: block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](11,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printPDF("FinancialReport")&&e),e},null,null)),(l()(),e["\u0275eld"](12,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),e["\u0275eld"](13,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 5px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printCSV("FinancialReport")&&e),e},null,null)),(l()(),e["\u0275eld"](14,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),e["\u0275eld"](15,0,null,null,9,"div",[["class","row m-0 p-3"],["style","background-color:white;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](16,0,null,null,2,"div",[["class","col-3 pl-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](17,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","Start Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("start")&&e),e},null,null)),e["\u0275ppd"](18,2),(l()(),e["\u0275eld"](19,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](20,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","End Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("end")&&e),e},null,null)),e["\u0275ppd"](21,2),(l()(),e["\u0275eld"](22,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](23,0,null,null,1,"button",[["class","btn customButton"],["type","button"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getfinancialTollReport()&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["Submit"])),(l()(),e["\u0275eld"](25,0,null,1,18,"nb-card-body",[["style","width:96%;margin-left:2%;"]],null,null,null,T.d,T.a)),e["\u0275did"](26,49152,null,0,I.a,[],null,null),(l()(),e["\u0275eld"](27,0,null,0,14,"table",[["class","table table-bordered"],["style","font-size: 14px;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](28,0,null,null,13,"tbody",[],null,null,null,null,null)),(l()(),e["\u0275eld"](29,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](30,0,null,null,1,"th",[["class","thead"],["colspan","4"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Account Summary"])),(l()(),e["\u0275eld"](32,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](33,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Opening Balance(Rs.)"])),(l()(),e["\u0275eld"](35,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Closing Balance(Rs.)"])),(l()(),e["\u0275eld"](37,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](38,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](39,null,["",""])),(l()(),e["\u0275eld"](40,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](41,null,["",""])),(l()(),e["\u0275and"](16777216,null,0,1,null,Nl)),e["\u0275did"](43,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,43,0,n.component.data.length)},function(l,n){var t=n.component;l(n,1,1,[e["\u0275nov"](n,2).xxsmall,e["\u0275nov"](n,2).xsmall,e["\u0275nov"](n,2).small,e["\u0275nov"](n,2).medium,e["\u0275nov"](n,2).large,e["\u0275nov"](n,2).xlarge,e["\u0275nov"](n,2).xxlarge,e["\u0275nov"](n,2).active,e["\u0275nov"](n,2).disabled,e["\u0275nov"](n,2).primary,e["\u0275nov"](n,2).info,e["\u0275nov"](n,2).success,e["\u0275nov"](n,2).warning,e["\u0275nov"](n,2).danger,e["\u0275nov"](n,2).hasAccent,e["\u0275nov"](n,2).primaryAccent,e["\u0275nov"](n,2).infoAccent,e["\u0275nov"](n,2).successAccent,e["\u0275nov"](n,2).warningAccent,e["\u0275nov"](n,2).dangerAccent,e["\u0275nov"](n,2).activeAccent,e["\u0275nov"](n,2).disabledAccent]),l(n,17,0,e["\u0275unv"](n,17,0,l(n,18,0,e["\u0275nov"](n,0),t.dates.start,"dd MMM yyyy"))),l(n,20,0,e["\u0275unv"](n,20,0,l(n,21,0,e["\u0275nov"](n,0),t.dates.end,"dd MMM yyyy"))),l(n,39,0,t.openingBalance),l(n,41,0,t.closingBalance)})}var Ll=e["\u0275ccf"]("financial-toll-summary",Ul,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"financial-toll-summary",[],null,null,null,Gl,El)),e["\u0275did"](1,114688,null,0,Ul,[M.a,_.a,o.a,O.u],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),jl=t("hB/K"),ql=t("gIcY"),Kl=t("0zba"),Yl=t("5RHE"),Zl=t.n(Yl),Xl=(t("DaQG"),function(){function l(l,n,t,e){this.api=l,this.common=n,this.user=t,this.modalService=e,this.dates={currentdate:this.common.dateFormatter1(new Date),start:null,end:this.common.dateFormatter1(new Date)},this.fo={id:null,name:null,mobileNo:null},this.foid=null,this.regno=null,this.typedKey="",this.vehId="",this.result=[],this.data=[],this.openingBalance=0,this.closingBalance=0,this.creditAmount=0,this.debitAmount=0,this.vehid=this.user._details.vehid,this.mobileno=this.user._details.fo_mobileno,this.foAgents=[],this.foid=this.user._details.foid,console.log("this.user._details.",this.user._details),this.fo.id=this.user._details.foid,this.fo.mobileNo=this.user._details.fo_mobileno,this.fo.name=this.user._details.name,this.common.refresh=this.refresh.bind(this),this.dates.start=this.common.dateFormatter1(new Date((new Date).setDate((new Date).getDate()-15)))}return l.prototype.ngOnInit=function(){},l.prototype.selectVehicle=function(l){var n=this;this.vehId=l.id,this.regno=l.regno,this.data=this.result.filter(function(l){return!n.regno||(console.log("ele",l),l.vehid==n.regno)}),console.log(this.data)},l.prototype.refresh=function(){this.getaddTimeFinancialTollReport()},l.prototype.calculateAmount=function(l){var n=l[0].entry_type,t=l[0].balance,e=l[0].amount;console.log("usageStatus",n.toLowerCase,"opening_balance_new",t,"usageAmount",e),this.openingBalance="usage"==n.toLowerCase()||"balance recharge"==n.toLowerCase()?parseInt(t)-e:parseInt(t)+e,this.closingBalance=l[l.length-1].balance},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(t){n.dates[l]=n.common.dateFormatter(t.date).split(" ")[0],console.log("Date:",n.dates)})},l.prototype.getaddTimeFinancialTollReport=function(){var l=this;if(this.openingBalance=0,this.closingBalance=0,this.data=[],console.log("mobile no",this.mobileno),this.mobileno){var n="&startDate="+this.dates.start+"&endDate="+this.dates.end+"&mobileno="+this.mobileno+"&vehid="+this.vehId;this.common.loading++,this.api.walle8Get("FinancialAccountSummary/getFinancialAccountSummaryAddTime.json?"+n).subscribe(function(n){l.common.loading--,console.log("Res:",n),n&&n.data&&n.data.length>0?(l.result=n.data,l.data=n.data,l.calculateAmount(l.data)):l.common.showError("data not found")},function(n){l.common.loading--,console.log(n)})}},l.prototype.selectFo=function(l){this.fo.id=l.foid,this.fo.name=l.name,this.fo.mobileNo=l.mobileno},l.prototype.getFoAgents=function(){var l=this,n=document.getElementById("agentFo").value;console.log("searvh ",n),this.api.walle8Get("Suggestion/getFoAgents.json?search="+n).subscribe(function(n){console.log("res",n),l.foAgents=n.data,console.log("-0-0-0",l.foAgents)},function(l){console.log(l)})},l.prototype.filterData=function(l){var n=this;console.log("typedKey",this.typedKey),this.data=this.result.filter(function(l){return!n.typedKey||(console.log("ele",l),!!l.vehid&&l.vehid.toLowerCase().includes(n.typedKey))}),console.log("data",this.data)},l.prototype.generatePDF=function(){var l=new Zl.a({orientation:"l",unit:"px",format:"a4"}),n=(l=this.setPdfHeader(l)).internal.getCurrentPageInfo().pageNumber;l.autoTable(this.getPdfTableConfig("provider",{right:330,left:30,top:20},null,70)),l.setPage(n),l.autoTable(this.getPdfTableConfig("customer",{left:330,right:30,top:20},null,70)),l.autoTable(this.getPdfTableConfig("account",{left:30,right:30,top:0})),l.autoTable(this.getPdfTableConfig("tblData",{left:30,right:30,top:0},this.setPdfPageFooter.bind(this,l))),l.save("financial-toll-summary.pdf")},l.prototype.setPdfHeader=function(l){l.setFontSize(12),l.setFontStyle("bold"),l.text(30,30,"eLogist Solutions Pvt. Ltd."),l.setFontSize(8),l.setFontStyle("normal"),l.text(30,39,"Address: 605-21, Jaipur Electronic Market,"),l.text(30,46,"Riddhi Siddhi Circle, Gopalpura Bypass, Jaipur, Rajasthan - 302018"),l.text(30,53,"Support: 8081604455"),l.text(30,60,"Website: www.walle8.com");var n=this.getImgTagToBase64("logo");return l.addImage(n,"PNG",550,15,40,40),l},l.prototype.setPdfPageFooter=function(l,n){l.setFont("times","bold"),l.setFontSize(10),l.text("Page "+n.pageCount,n.settings.margin.left,l.internal.pageSize.height-10),n.settings.margin.top=20},l.prototype.getPdfTableConfig=function(l,n,t,e){var o={html:"#"+l,theme:"grid",margin:n,rowPageBreak:"avoid",headStyles:{fillColor:[98,98,98],fontSize:10,halign:"center",valign:"middle"},styles:{fontSize:10,cellPadding:3,minCellHeight:11,minCellWidth:10,cellWidth:40,valign:"middle",halign:"center"},columnStyles:{text:{cellWidth:40,halign:"center",valign:"middle"}}};return e&&(o.startY=e),t&&(o.didDrawPage=t),o},l.prototype.getImgTagToBase64=function(l){var n=document.createElement("canvas"),t=document.getElementById(l);return n.height=t.naturalHeight,n.width=t.naturalWidth,n.getContext("2d").drawImage(t,0,0,n.width,n.height),n.toDataURL()},l}()),Wl=e["\u0275crt"]({encapsulation:0,styles:[[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#5bbe88}.thead[_ngcontent-%COMP%]{background-color:#e5f3f9;color:#000}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(even){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:#f5f5f538!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td{border:none!important}[_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]],data:{}});function Jl(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,18,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](2,null,["",""])),(l()(),e["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](4,null,["",""])),(l()(),e["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](6,null,["",""])),(l()(),e["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](8,null,["",""])),(l()(),e["\u0275eld"](9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](10,null,["",""])),(l()(),e["\u0275eld"](11,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](12,null,["",""])),(l()(),e["\u0275eld"](13,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](14,null,["",""])),(l()(),e["\u0275eld"](15,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](16,null,["",""])),(l()(),e["\u0275eld"](17,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](18,null,["",""]))],null,function(l,n){l(n,2,0,n.context.$implicit.vehid),l(n,4,0,n.context.$implicit.addtime),l(n,6,0,n.context.$implicit.transtime),l(n,8,0,n.context.$implicit.remark),l(n,10,0,n.context.$implicit.amount_credit),l(n,12,0,n.context.$implicit.amount_debit),l(n,14,0,n.context.$implicit.entry_type),l(n,16,0,n.context.$implicit.balance),l(n,18,0,n.context.$implicit.txn_id)})}function Ql(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,24,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,23,"table",[["class","table table-bordered"],["id","tblData"]],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,19,"thead",[["style","background-color:#E5F3F9;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](4,0,null,null,18,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](5,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Vehicle"])),(l()(),e["\u0275eld"](7,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Accounting Time"])),(l()(),e["\u0275eld"](9,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Transaction Time"])),(l()(),e["\u0275eld"](11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Toll Plaza"])),(l()(),e["\u0275eld"](13,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Amount(CR)"])),(l()(),e["\u0275eld"](15,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Amount(DR)"])),(l()(),e["\u0275eld"](17,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Transaction Type"])),(l()(),e["\u0275eld"](19,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Balance"])),(l()(),e["\u0275eld"](21,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Transaction Id"])),(l()(),e["\u0275eld"](23,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,Jl)),e["\u0275did"](25,278528,null,0,S.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,25,0,n.component.data)},null)}function $l(l){return e["\u0275vid"](0,[e["\u0275pid"](0,S.DatePipe,[e.LOCALE_ID]),(l()(),e["\u0275eld"](1,0,null,null,127,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,T.e,T.b)),e["\u0275did"](2,49152,null,0,I.b,[],null,null),(l()(),e["\u0275eld"](3,0,null,0,25,"nb-card-header",[],null,null,null,T.f,T.c)),e["\u0275did"](4,49152,null,0,I.d,[],null,null),(l()(),e["\u0275eld"](5,0,null,0,23,"div",[["class","ml-4 mr-4 pb-4"],["style","border-bottom-left-radius:5px;border-bottom-right-radius:5px; box-shadow: 5px 10px 54px 0px whitesmoke;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,6,"div",[["class","row m-0"],["style","width:100%;background-color: #E5F3F9;border-top-right-radius: 5px; border-top-left-radius:5px;display:inline-block"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,1,"h5",[["class","p-2"],["style","font-weight:bold; display: inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Financial Toll Summary"])),(l()(),e["\u0275eld"](9,0,null,null,3,"div",[["class","p-2 float"],["style","display:inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](10,0,null,null,2,"span",[["style","display: block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](11,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.generatePDF()&&e),e},null,null)),(l()(),e["\u0275eld"](12,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),e["\u0275eld"](13,0,null,null,15,"div",[["class","row m-0 p-3"],["style","background-color:white;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](14,0,null,null,2,"div",[["class","col-3 pl-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](15,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","Start Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("start")&&e),e},null,null)),e["\u0275ppd"](16,2),(l()(),e["\u0275eld"](17,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](18,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","End Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("end")&&e),e},null,null)),e["\u0275ppd"](19,2),(l()(),e["\u0275eld"](20,0,null,null,5,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](21,0,null,null,4,"auto-suggestion",[["aria-disabled","true"],["display","regno"],["placeholder","search vehicle"],["style","width:60%;"],["url","Suggestion/getVehicleList.json?"],["value","yes"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"ngModelChange"],[null,"onSelected"],["document","click"]],function(l,n,t){var o=!0,u=l.component;return"document:click"===n&&(o=!1!==e["\u0275nov"](l,25).hideSuggestions(t)&&o),"keyup"===n&&(o=!1!==u.filterData(t)&&o),"ngModelChange"===n&&(o=!1!==(u.typedKey=t)&&o),"onSelected"===n&&(o=!1!==u.selectVehicle(t)&&o),o},jl.b,jl.a)),e["\u0275did"](22,671744,null,0,ql.q,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,ql.m,null,[ql.q]),e["\u0275did"](24,16384,null,0,ql.n,[[4,ql.m]],null,null),e["\u0275did"](25,4833280,null,0,Kl.a,[M.a,e.ChangeDetectorRef,ql.e,_.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"]},{onSelected:"onSelected"}),(l()(),e["\u0275eld"](26,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](27,0,null,null,1,"button",[["class","btn customButton"],["type","button"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getaddTimeFinancialTollReport()&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["Submit"])),(l()(),e["\u0275eld"](29,0,null,1,99,"nb-card-body",[["style","width:96%; margin-left:2%;"]],null,null,null,T.d,T.a)),e["\u0275did"](30,49152,null,0,I.a,[],null,null),(l()(),e["\u0275eld"](31,0,null,0,95,"div",[["id","financialaccount"]],null,null,null,null,null)),(l()(),e["\u0275eld"](32,0,null,null,0,"div",[["style","height:40px"]],null,null,null,null,null)),(l()(),e["\u0275eld"](33,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](34,0,null,null,10,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),e["\u0275eld"](35,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["eLogist Solutions Pvt. Ltd."])),(l()(),e["\u0275eld"](37,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Address: 605-21, Jaipur Electronic Market,"])),(l()(),e["\u0275eld"](39,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Riddhi Siddhi Circle, Gopalpura Bypass, Jaipur, Rajasthan - 302018"])),(l()(),e["\u0275eld"](41,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Support: 8081604455"])),(l()(),e["\u0275eld"](43,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Website: www.walle8.com "])),(l()(),e["\u0275eld"](45,0,null,null,0,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](46,0,null,null,1,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](47,0,null,null,0,"img",[["crossorigin","anonymous"],["id","logo"],["src","http://elogist.in/transtruck/admindashboard/assets/images/left-logo.png"],["style","width:150px;height:120px;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](48,0,null,null,59,"div",[["class","row"],["style","margin-top:10px;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](49,0,null,null,26,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),e["\u0275eld"](50,0,null,null,25,"table",[["class","table table-bordered"],["id","provider"]],null,null,null,null,null)),(l()(),e["\u0275eld"](51,0,null,null,3,"thead",[],null,null,null,null,null)),(l()(),e["\u0275eld"](52,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](53,0,null,null,1,"th",[["class","thead"],["colspan","2"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Provider Details"])),(l()(),e["\u0275eld"](55,0,null,null,20,"tbody",[],null,null,null,null,null)),(l()(),e["\u0275eld"](56,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](57,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Provider Name"])),(l()(),e["\u0275eld"](59,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["eLogist"])),(l()(),e["\u0275eld"](61,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](62,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Provider Address"])),(l()(),e["\u0275eld"](64,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Jaipur"])),(l()(),e["\u0275eld"](66,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](67,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["GSTIN"])),(l()(),e["\u0275eld"](69,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["08AAECE3933F1ZS"])),(l()(),e["\u0275eld"](71,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](72,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Place Of Supply"])),(l()(),e["\u0275eld"](74,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Rajasthan"])),(l()(),e["\u0275eld"](76,0,null,null,31,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),e["\u0275eld"](77,0,null,null,30,"table",[["class","table table-bordered"],["id","customer"]],null,null,null,null,null)),(l()(),e["\u0275eld"](78,0,null,null,3,"thead",[],null,null,null,null,null)),(l()(),e["\u0275eld"](79,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](80,0,null,null,1,"th",[["class","thead"],["colspan","2"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Customer Details"])),(l()(),e["\u0275eld"](82,0,null,null,25,"tbody",[],null,null,null,null,null)),(l()(),e["\u0275eld"](83,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](84,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Customer Id"])),(l()(),e["\u0275eld"](86,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](87,null,["",""])),(l()(),e["\u0275eld"](88,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](89,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Mobile No."])),(l()(),e["\u0275eld"](91,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](92,null,["",""])),(l()(),e["\u0275eld"](93,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](94,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Name"])),(l()(),e["\u0275eld"](96,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](97,null,["",""])),(l()(),e["\u0275eld"](98,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](99,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Statement Date"])),(l()(),e["\u0275eld"](101,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](102,null,["",""])),(l()(),e["\u0275eld"](103,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](104,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Statement Period"])),(l()(),e["\u0275eld"](106,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](107,null,[""," - ",""])),(l()(),e["\u0275eld"](108,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e["\u0275eld"](109,0,null,null,17,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](110,0,null,null,16,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),e["\u0275eld"](111,0,null,null,15,"table",[["class","table table-bordered"],["id","account"]],null,null,null,null,null)),(l()(),e["\u0275eld"](112,0,null,null,3,"thead",[],null,null,null,null,null)),(l()(),e["\u0275eld"](113,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](114,0,null,null,1,"th",[["class","thead"],["colspan","4"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Account Summary"])),(l()(),e["\u0275eld"](116,0,null,null,10,"tbody",[],null,null,null,null,null)),(l()(),e["\u0275eld"](117,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](118,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Opening Balance(Rs.)"])),(l()(),e["\u0275eld"](120,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Closing Balance(Rs.)"])),(l()(),e["\u0275eld"](122,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](123,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](124,null,["",""])),(l()(),e["\u0275eld"](125,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](126,null,["",""])),(l()(),e["\u0275and"](16777216,null,0,1,null,Ql)),e["\u0275did"](128,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,22,0,t.typedKey),l(n,25,0,"Suggestion/getVehicleList.json?","regno","search vehicle"),l(n,128,0,t.data.length>0)},function(l,n){var t=n.component;l(n,1,1,[e["\u0275nov"](n,2).xxsmall,e["\u0275nov"](n,2).xsmall,e["\u0275nov"](n,2).small,e["\u0275nov"](n,2).medium,e["\u0275nov"](n,2).large,e["\u0275nov"](n,2).xlarge,e["\u0275nov"](n,2).xxlarge,e["\u0275nov"](n,2).active,e["\u0275nov"](n,2).disabled,e["\u0275nov"](n,2).primary,e["\u0275nov"](n,2).info,e["\u0275nov"](n,2).success,e["\u0275nov"](n,2).warning,e["\u0275nov"](n,2).danger,e["\u0275nov"](n,2).hasAccent,e["\u0275nov"](n,2).primaryAccent,e["\u0275nov"](n,2).infoAccent,e["\u0275nov"](n,2).successAccent,e["\u0275nov"](n,2).warningAccent,e["\u0275nov"](n,2).dangerAccent,e["\u0275nov"](n,2).activeAccent,e["\u0275nov"](n,2).disabledAccent]),l(n,15,0,e["\u0275unv"](n,15,0,l(n,16,0,e["\u0275nov"](n,0),t.dates.start,"dd MMM yyyy"))),l(n,18,0,e["\u0275unv"](n,18,0,l(n,19,0,e["\u0275nov"](n,0),t.dates.end,"dd MMM yyyy"))),l(n,21,0,e["\u0275nov"](n,24).ngClassUntouched,e["\u0275nov"](n,24).ngClassTouched,e["\u0275nov"](n,24).ngClassPristine,e["\u0275nov"](n,24).ngClassDirty,e["\u0275nov"](n,24).ngClassValid,e["\u0275nov"](n,24).ngClassInvalid,e["\u0275nov"](n,24).ngClassPending),l(n,87,0,t.fo.id),l(n,92,0,t.fo.mobileNo),l(n,97,0,t.fo.name),l(n,102,0,t.dates.currentdate),l(n,107,0,t.dates.start,t.dates.end),l(n,124,0,t.openingBalance),l(n,126,0,t.closingBalance)})}var ln=e["\u0275ccf"]("financial-toll-summary-addtime",Xl,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"financial-toll-summary-addtime",[],null,null,null,$l,Wl)),e["\u0275did"](1,114688,null,0,Xl,[M.a,_.a,o.a,O.u],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),nn=function(){function l(l,n,t,e){this.api=l,this.common=n,this.user=t,this.modalService=e,this.dates={start:null,end:this.common.dateFormatter(new Date)},this.table=null,this.data=[],this.mobileNo=null,console.log("this.user._customer",this.user._customer),this.dates.start=this.common.dateFormatter1(new Date((new Date).setDate((new Date).getDate()-30))),this.getfinancialMainSummary(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getfinancialMainSummary()},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(t){n.dates[l]=n.common.dateFormatter(t.date).split(" ")[0],console.log("Date:",n.dates)})},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getPDFFromTableId(l,t.data.name,"Financial Report",null,"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCSV=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getCSVFromTableId(l,t.data.name,"Financial Report")},function(l){n.common.loading--,console.log(l)})},l.prototype.setTable=function(){return{data:{headings:{vehid:{title:"Vehicle",placeholder:"Vehicle"},transtime:{title:"Transaction Time",placeholder:"Transaction Time"},remark:{title:"Remark",placeholder:"Remark"},amount:{title:"Amount",placeholder:"Amount"},balance:{title:"Balance",placeholder:"Balance"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}},l.prototype.getTableColumns=function(){var l=this,n=[];return this.data.map(function(t){var e={vehid:{value:t.vehid},transtime:{value:l.common.changeDateformat4(t.transtime)},remark:{value:null==t.remark?"-":t.remark},amount:{value:null==t.amount?"-":t.amount},balance:{value:null==t.balance?"-":t.balance}};n.push(e)}),n},l.prototype.getfinancialMainSummary=function(){var l=this,n=this.user._customer.mobileNo;"customer"==this.user._loggedInBy&&(n=this.user._details.mobileNo);var t="startDate="+this.dates.start+"&endDate="+this.dates.end+"&mobileno="+n;this.common.loading++,this.api.walle8Get("FinancialAccountSummary/getFinancialAccountMainSummary.json?"+t).subscribe(function(n){if(l.common.loading--,console.log("Res:",n),l.data=n.data,null==l.data)return l.data=[],void(l.table=null);l.table=l.setTable()},function(n){l.common.loading--,console.log(n)})},l}(),tn=e["\u0275crt"]({encapsulation:0,styles:[[".pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(even){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:#f5f5f538!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td{border:none!important}[_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}"]],data:{}});function en(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"smart-table",[["id","FinancialReport"]],null,null,null,A.b,A.a)),e["\u0275did"](1,4833280,null,0,F.a,[e.ChangeDetectorRef,_.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var t=n.component;l(n,1,0,t.table.data,t.table.settings)},null)}function on(l){return e["\u0275vid"](0,[e["\u0275pid"](0,S.DatePipe,[e.LOCALE_ID]),(l()(),e["\u0275eld"](1,0,null,null,27,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,T.e,T.b)),e["\u0275did"](2,49152,null,0,I.b,[],null,null),(l()(),e["\u0275eld"](3,0,null,0,21,"nb-card-header",[],null,null,null,T.f,T.c)),e["\u0275did"](4,49152,null,0,I.d,[],null,null),(l()(),e["\u0275eld"](5,0,null,0,19,"div",[["class","ml-4 mr-4 pb-4"],["style","border-bottom-left-radius:5px;border-bottom-right-radius:5px; box-shadow: 5px 10px 54px 0px whitesmoke;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,8,"div",[["class","row m-0"],["style","width:100%;background-color: #E5F3F9;border-top-right-radius: 5px; border-top-left-radius:5px;display:inline-block"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,1,"h5",[["class","p-2"],["style","font-weight:bold; display: inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Financial Main Summary"])),(l()(),e["\u0275eld"](9,0,null,null,5,"div",[["class","p-2 float"],["style","display:inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](10,0,null,null,4,"span",[["style","display: block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](11,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printPDF("FinancialReport")&&e),e},null,null)),(l()(),e["\u0275eld"](12,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),e["\u0275eld"](13,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 5px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printCSV("FinancialReport")&&e),e},null,null)),(l()(),e["\u0275eld"](14,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),e["\u0275eld"](15,0,null,null,9,"div",[["class","row m-0 p-3"],["style","background-color:white;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](16,0,null,null,2,"div",[["class","col-3 pl-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](17,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","Start Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("start")&&e),e},null,null)),e["\u0275ppd"](18,2),(l()(),e["\u0275eld"](19,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](20,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","End Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("end")&&e),e},null,null)),e["\u0275ppd"](21,2),(l()(),e["\u0275eld"](22,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](23,0,null,null,1,"button",[["class","btn customButton"],["type","button"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getfinancialMainSummary()&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["Submit"])),(l()(),e["\u0275eld"](25,0,null,1,3,"nb-card-body",[["style","width:96%;margin-left:2%;"]],null,null,null,T.d,T.a)),e["\u0275did"](26,49152,null,0,I.a,[],null,null),(l()(),e["\u0275and"](16777216,null,0,1,null,en)),e["\u0275did"](28,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,28,0,n.component.data.length)},function(l,n){var t=n.component;l(n,1,1,[e["\u0275nov"](n,2).xxsmall,e["\u0275nov"](n,2).xsmall,e["\u0275nov"](n,2).small,e["\u0275nov"](n,2).medium,e["\u0275nov"](n,2).large,e["\u0275nov"](n,2).xlarge,e["\u0275nov"](n,2).xxlarge,e["\u0275nov"](n,2).active,e["\u0275nov"](n,2).disabled,e["\u0275nov"](n,2).primary,e["\u0275nov"](n,2).info,e["\u0275nov"](n,2).success,e["\u0275nov"](n,2).warning,e["\u0275nov"](n,2).danger,e["\u0275nov"](n,2).hasAccent,e["\u0275nov"](n,2).primaryAccent,e["\u0275nov"](n,2).infoAccent,e["\u0275nov"](n,2).successAccent,e["\u0275nov"](n,2).warningAccent,e["\u0275nov"](n,2).dangerAccent,e["\u0275nov"](n,2).activeAccent,e["\u0275nov"](n,2).disabledAccent]),l(n,17,0,e["\u0275unv"](n,17,0,l(n,18,0,e["\u0275nov"](n,0),t.dates.start,"dd MMM yyyy"))),l(n,20,0,e["\u0275unv"](n,20,0,l(n,21,0,e["\u0275nov"](n,0),t.dates.end,"dd MMM yyyy")))})}var un=e["\u0275ccf"]("financial-main-summary",nn,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"financial-main-summary",[],null,null,null,on,tn)),e["\u0275did"](1,114688,null,0,nn,[M.a,_.a,o.a,O.u],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),an=t("mcnf"),rn=t("FZvA"),dn=(t("TtU4"),function(){function l(l,n,t,e,o,u){this.api=l,this.common=n,this.theme=t,this.user=e,this.datepipe=o,this.modalService=u,this.chartObject={type:"",data:{},options:{},elements:{},lables:[],yAxes:[],ticks:{},min:"",max:"",stepSize:""},this.chartObject1={type:"",data:{},options:{},elements:{},lables:[],yAxes:[],ticks:{},min:"",max:"",stepSize:"",backgroundColor:""},this.chartObject2={type:"",data:{},options:{},elements:{},lables:[],yAxes:[],ticks:{},min:"",max:"",stepSize:"",startAngle:"",backgroundColor:""},this.zone=[],this.amounts=[],this.showGraph=!1,this.amount=[],this.date=[],this.flag="Loading",this.bgColor="#0000FF",this.yScale="Hours",this.dates={start:null,end:null},this.data=[],this.data1=[],this.remark=[],this.amt=[],this.type="line",this.datax={labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",data:[65,59,80,81,56,55,40]}]},this.options={responsive:!0,maintainAspectRatio:!1};var a,i,r=new Date;i=this.common.dateFormatter1(new Date(r.getFullYear(),r.getMonth()-12,1,0,0,0)),a=this.common.dateFormatter1(new Date(r.getFullYear(),r.getMonth(),1,0,0,0)),this.dates.start=i,this.dates.end=a,this.getTollAnalatics(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getTollAnalatics()},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(t){n.dates[l]=n.common.dateFormatter(t.date).split(" ")[0],console.log("Date:",n.dates)})},l.prototype.showChart=function(){this.chartObject.type="line",this.chartObject.data={labels:this.date,datasets:[{label:"Toll Consumption",percentFormatString:"#0.##",borderColor:this.bgColor,data:this.amount,fill:!1,pointHoverRadius:8,pointHoverBackgroundColor:"#0000FF",lineTension:0}]},this.chartObject.options={responsive:!0,maintainAspectRatio:!1},console.log("This:",this.chartObject)},l.prototype.showbarGraph=function(){this.chartObject1.type="horizontalBar",this.chartObject1.data={labels:this.remark,datasets:[{label:"Top Toll Plaza",data:this.amt,fill:!1,pointHoverRadius:8,pointHoverBackgroundColor:"#0000FF",backgroundColor:this.bgColor}]},this.chartObject1.options={responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{display:!1}]}},console.log("This:",this.chartObject)},l.prototype.showdoughnut=function(){this.chartObject2.type="doughnut",this.chartObject2.data={labels:this.zone,percentFormatString:"#0.##",datasets:[{label:"Zones",percentFormatString:"#0.##",render:"percentage",data:this.amounts,backgroundColor:["#0074D9","#FF4136","#2ECC40","#39CCCC","#01FF70","#85144b","#F012BE","#3D9970","#111111","#AAAAAA"]}]},this.chartObject2.options={responsive:!0,render:"percentage",percentFormatString:"#0.##",maintainAspectRatio:!1},console.log("This:",this.chartObject)},l.prototype.getTollAnalatics=function(){var l=this,n="startDate="+this.dates.start+"&endDate="+this.dates.end;this.common.loading++,this.api.walle8Get("TollSummary/getTollAnalytics.json?"+n).subscribe(function(n){if(l.common.loading--,console.log("Res:",n.data),l.data=n.data,n.data){l.amount=[],l.date=[];for(var t=0;t<l.data.length;t++)l.amount.push(l.data[t].amt),l.common.changeDateformat(l.date.push(l.data[t].transtime))}l.showChart()},function(n){l.common.loading--,console.log(n)});var t="startDate="+this.dates.start+"&endDate="+this.dates.end+"&type=1";this.common.loading++,this.api.walle8Get("TollSummary/getTollAnalytics.json?"+t).subscribe(function(n){if(l.common.loading--,console.log("Res:",n.data),l.data=n.data,n.data){l.amt=[],l.remark=[];for(var t=0;t<l.data.length;t++)l.amt.push(l.data[t].amount),l.remark.push(l.data[t].remark)}l.showbarGraph()},function(n){l.common.loading--,console.log(n)});var e="startDate="+this.dates.start+"&endDate="+this.dates.end+"&type=2";this.common.loading++,this.api.walle8Get("TollSummary/getTollAnalytics.json?"+e).subscribe(function(n){if(l.common.loading--,console.log("Res:",n.data),l.data1=n.data,n.data){l.zone=[],l.amounts=[];for(var t=0;t<l.data1.length;t++)l.zone.push(l.data1[t].zone?l.data1[t].zone:"N.A"),l.amounts.push(l.data1[t].amount),console.log("zone",l.zone,"",l.amounts)}l.showdoughnut()},function(n){l.common.loading--,console.log(n)})},l}()),cn=e["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function sn(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"chart",[["style","margin-right:5px;min-height: 200px;"]],null,null,null,an.b,an.a)),e["\u0275did"](1,638976,null,0,rn.ChartComponent,[e.ElementRef,e.NgZone],{type:[0,"type"],data:[1,"data"],options:[2,"options"]},null)],function(l,n){var t=n.component;l(n,1,0,t.chartObject.type,t.chartObject.data,t.chartObject.options)},null)}function pn(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"chart",[["class","chart chart-horizontal-bar"],["style","margin-right:5px;min-height: 200px;"]],null,null,null,an.b,an.a)),e["\u0275did"](1,638976,null,0,rn.ChartComponent,[e.ElementRef,e.NgZone],{type:[0,"type"],data:[1,"data"],options:[2,"options"]},null)],function(l,n){var t=n.component;l(n,1,0,t.chartObject1.type,t.chartObject1.data,t.chartObject1.options)},null)}function mn(l){return e["\u0275vid"](0,[e["\u0275pid"](0,S.DatePipe,[e.LOCALE_ID]),(l()(),e["\u0275eld"](1,0,null,null,36,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,T.e,T.b)),e["\u0275did"](2,49152,null,0,I.b,[],null,null),(l()(),e["\u0275eld"](3,0,null,0,15,"nb-card-header",[],null,null,null,T.f,T.c)),e["\u0275did"](4,49152,null,0,I.d,[],null,null),(l()(),e["\u0275eld"](5,0,null,0,13,"div",[["class","ml-4 mr-4 pb-4"],["style","border-bottom-left-radius:5px;border-bottom-right-radius:5px; box-shadow: 5px 10px 54px 0px whitesmoke;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,2,"div",[["class","row m-0"],["style","width:100%;background-color: #E5F3F9;border-top-right-radius: 5px; border-top-left-radius:5px;display:inline-block"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,1,"h5",[["class","p-2"],["style","font-weight:bold; display: inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Toll Analytics"])),(l()(),e["\u0275eld"](9,0,null,null,9,"div",[["class","row m-0 pt-3"],["style","background-color:white;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](10,0,null,null,2,"div",[["class","col-3 pl-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](11,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","Start Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("start")&&e),e},null,null)),e["\u0275ppd"](12,2),(l()(),e["\u0275eld"](13,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](14,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","End Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("end")&&e),e},null,null)),e["\u0275ppd"](15,2),(l()(),e["\u0275eld"](16,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](17,0,null,null,1,"button",[["class","btn customButton"],["type","button"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getTollAnalatics()&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["Submit"])),(l()(),e["\u0275eld"](19,0,null,1,18,"nb-card-body",[["style","width:96%;margin-left:2%;"]],null,null,null,T.d,T.a)),e["\u0275did"](20,49152,null,0,I.a,[],null,null),(l()(),e["\u0275eld"](21,0,null,0,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](22,0,null,null,2,"div",[["class","col-sm-11"]],null,null,null,null,null)),(l()(),e["\u0275eld"](23,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Toll Consumption"])),(l()(),e["\u0275eld"](25,0,null,null,2,"div",[["class","col-sm-11"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,sn)),e["\u0275did"](27,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275eld"](28,0,null,0,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](29,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),e["\u0275eld"](30,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Top Toll"])),(l()(),e["\u0275eld"](32,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,pn)),e["\u0275did"](34,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275eld"](35,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),e["\u0275eld"](36,0,null,null,1,"chart",[["style","margin-right:5px;min-height: 200px;"]],null,null,null,an.b,an.a)),e["\u0275did"](37,638976,null,0,rn.ChartComponent,[e.ElementRef,e.NgZone],{type:[0,"type"],data:[1,"data"],options:[2,"options"]},null)],function(l,n){var t=n.component;l(n,27,0,t.chartObject.type),l(n,34,0,t.chartObject1.type),l(n,37,0,t.chartObject2.type,t.chartObject2.data,t.chartObject2.options)},function(l,n){var t=n.component;l(n,1,1,[e["\u0275nov"](n,2).xxsmall,e["\u0275nov"](n,2).xsmall,e["\u0275nov"](n,2).small,e["\u0275nov"](n,2).medium,e["\u0275nov"](n,2).large,e["\u0275nov"](n,2).xlarge,e["\u0275nov"](n,2).xxlarge,e["\u0275nov"](n,2).active,e["\u0275nov"](n,2).disabled,e["\u0275nov"](n,2).primary,e["\u0275nov"](n,2).info,e["\u0275nov"](n,2).success,e["\u0275nov"](n,2).warning,e["\u0275nov"](n,2).danger,e["\u0275nov"](n,2).hasAccent,e["\u0275nov"](n,2).primaryAccent,e["\u0275nov"](n,2).infoAccent,e["\u0275nov"](n,2).successAccent,e["\u0275nov"](n,2).warningAccent,e["\u0275nov"](n,2).dangerAccent,e["\u0275nov"](n,2).activeAccent,e["\u0275nov"](n,2).disabledAccent]),l(n,11,0,e["\u0275unv"](n,11,0,l(n,12,0,e["\u0275nov"](n,0),t.dates.start,"dd MMM yyyy"))),l(n,14,0,e["\u0275unv"](n,14,0,l(n,15,0,e["\u0275nov"](n,0),t.dates.end,"dd MMM yyyy")))})}var gn=e["\u0275ccf"]("toll-analatics",dn,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"toll-analatics",[],null,null,null,mn,cn)),e["\u0275did"](1,114688,null,0,dn,[M.a,_.a,p.a,o.a,S.DatePipe,O.u],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),hn=function(){function l(l,n,t,e){this.common=l,this.api=n,this.modalService=t,this.user=e,this.data=[],this.dates={start:null,end:this.common.dateFormatter(new Date)},this.total=null,this.table=null,this.dates.start=this.common.dateFormatter1(new Date((new Date).setDate((new Date).getDate()-30))),this.getOtherUsageDetail(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getOtherUsageDetail()},l.prototype.getOtherUsageDetail=function(){var l=this,n="aduserid="+this.user._details.id+"&mobileno="+this.user._details.fo_mobileno+"&startdate="+this.dates.start+"&enddate="+this.dates.end;this.common.loading++,this.api.walle8Get("AccountSummaryApi/ViewOtherUsages.json?"+n).subscribe(function(n){l.common.loading--,console.log("Res:",n),l.data=n.data,null==l.data&&l.common.showToast("no Data Found");for(var t=0;t<l.data.length;t++)l.total=l.total+l.data[t].amt},function(n){l.common.loading--,console.log(n)})},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"other-usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(t){t.date&&(n.dates[l]=n.common.dateFormatter(t.date).split(" ")[0],console.log("Date:",n.dates[l]))})},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getPDFFromTableId(l,t.data.name,"Other Usage",null,"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCSV=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getCSVFromTableId(l,t.data.name,"Other Usage")},function(l){n.common.loading--,console.log(l)})},l}(),fn=e["\u0275crt"]({encapsulation:0,styles:[["nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}.btn-primary[_ngcontent-%COMP%]{padding:6px 15px;border-radius:3px}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#ddd}.pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#e5f3f9;color:#000}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1), table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:278px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;width:100%;table-layout:fixed;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed;width:100%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#e4e4e4}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(even){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:#f5f5f538!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td{border:none!important}[_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}[_nghost-%COMP%]     thead{border-top-left-radius:5px;border-top-right-radius:5px}"]],data:{}});function bn(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,1,"td",[["scope","row"]],null,null,null,null,null)),(l()(),e["\u0275ted"](2,null,["",""])),(l()(),e["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](4,null,["",""])),(l()(),e["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](6,null,["",""])),(l()(),e["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](8,null,["",""])),(l()(),e["\u0275eld"](9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](10,null,["",""]))],null,function(l,n){var t=n.component;l(n,2,0,n.context.index+1),l(n,4,0,t.common.changeDateformat4(n.context.$implicit.dttime)),l(n,6,0,n.context.$implicit.veh),l(n,8,0,n.context.$implicit.amt),l(n,10,0,n.context.$implicit.rema)})}function vn(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,6,"tbody",[],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Total"])),(l()(),e["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](6,null,["",""]))],null,function(l,n){l(n,6,0,n.component.total)})}function yn(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,17,"table",[["class","table table-bordered table-hover"],["id","otherUsage"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,11,"thead",[["class","thead"]],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["#"])),(l()(),e["\u0275eld"](5,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Date"])),(l()(),e["\u0275eld"](7,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Vehicle"])),(l()(),e["\u0275eld"](9,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Amount"])),(l()(),e["\u0275eld"](11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Remark"])),(l()(),e["\u0275eld"](13,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,bn)),e["\u0275did"](15,278528,null,0,S.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),e["\u0275and"](16777216,null,null,1,null,vn)),e["\u0275did"](17,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,15,0,t.data),l(n,17,0,t.data.length)},null)}function xn(l){return e["\u0275vid"](0,[e["\u0275pid"](0,S.DatePipe,[e.LOCALE_ID]),(l()(),e["\u0275eld"](1,0,null,null,27,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,T.e,T.b)),e["\u0275did"](2,49152,null,0,I.b,[],null,null),(l()(),e["\u0275eld"](3,0,null,0,21,"nb-card-header",[],null,null,null,T.f,T.c)),e["\u0275did"](4,49152,null,0,I.d,[],null,null),(l()(),e["\u0275eld"](5,0,null,0,19,"div",[["class","ml-4 mr-4 pb-4"],["style","border-bottom-left-radius:5px;border-bottom-right-radius:5px; box-shadow: 5px 10px 54px 0px whitesmoke;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,8,"div",[["class","row m-0"],["style","width:100%;background-color: #E5F3F9;border-top-right-radius: 5px; border-top-left-radius:5px;display:inline-block"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,1,"h5",[["class","p-2"],["style","font-weight:bold; display: inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Other Usage"])),(l()(),e["\u0275eld"](9,0,null,null,5,"div",[["class","p-2 float"],["style","display:inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](10,0,null,null,4,"span",[["style","display: block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](11,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printPDF("otherUsage")&&e),e},null,null)),(l()(),e["\u0275eld"](12,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),e["\u0275eld"](13,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 5px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printCSV("otherUsage")&&e),e},null,null)),(l()(),e["\u0275eld"](14,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),e["\u0275eld"](15,0,null,null,9,"div",[["class","row m-0 p-3"],["style","background-color:white;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](16,0,null,null,2,"div",[["class","col-3 pl-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](17,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","Start Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("start")&&e),e},null,null)),e["\u0275ppd"](18,2),(l()(),e["\u0275eld"](19,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](20,0,null,null,1,"input",[["autocomplete","off"],["class","form-control customSelect"],["placeholder","End Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getDate("end")&&e),e},null,null)),e["\u0275ppd"](21,2),(l()(),e["\u0275eld"](22,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](23,0,null,null,1,"button",[["class","btn customButton"],["type","button"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getOtherUsageDetail()&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["Submit"])),(l()(),e["\u0275eld"](25,0,null,1,3,"nb-card-body",[["style","width:96%;margin-left:2%;"]],null,null,null,T.d,T.a)),e["\u0275did"](26,49152,null,0,I.a,[],null,null),(l()(),e["\u0275and"](16777216,null,0,1,null,yn)),e["\u0275did"](28,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,28,0,n.component.data.length)},function(l,n){var t=n.component;l(n,1,1,[e["\u0275nov"](n,2).xxsmall,e["\u0275nov"](n,2).xsmall,e["\u0275nov"](n,2).small,e["\u0275nov"](n,2).medium,e["\u0275nov"](n,2).large,e["\u0275nov"](n,2).xlarge,e["\u0275nov"](n,2).xxlarge,e["\u0275nov"](n,2).active,e["\u0275nov"](n,2).disabled,e["\u0275nov"](n,2).primary,e["\u0275nov"](n,2).info,e["\u0275nov"](n,2).success,e["\u0275nov"](n,2).warning,e["\u0275nov"](n,2).danger,e["\u0275nov"](n,2).hasAccent,e["\u0275nov"](n,2).primaryAccent,e["\u0275nov"](n,2).infoAccent,e["\u0275nov"](n,2).successAccent,e["\u0275nov"](n,2).warningAccent,e["\u0275nov"](n,2).dangerAccent,e["\u0275nov"](n,2).activeAccent,e["\u0275nov"](n,2).disabledAccent]),l(n,17,0,e["\u0275unv"](n,17,0,l(n,18,0,e["\u0275nov"](n,0),t.dates.start,"dd MMM yyyy"))),l(n,20,0,e["\u0275unv"](n,20,0,l(n,21,0,e["\u0275nov"](n,0),t.dates.end,"dd MMM yyyy")))})}var Cn=e["\u0275ccf"]("other-usage",hn,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"other-usage",[],null,null,null,xn,fn)),e["\u0275did"](1,114688,null,0,hn,[_.a,M.a,O.u,o.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),_n=function(){function l(l,n,t,e){this.common=l,this.api=n,this.modalService=t,this.user=e,this.data=[],this.total=0,this.sum={bpcl:0,hpcl:0,atm:0},this.vehicle=[{}],this.mobileno=this.user._details.mobileno,this.userId=this.user._details.id,this.dates={start:this.common.dateFormatter(new Date),end:this.common.dateFormatter(new Date)},this.table=null,this.common.refresh=this.refresh.bind(this),this.getCardBalance()}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getCardBalance()},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"card usage"},this.modalService.open(E.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(t){n.dates[l]=n.common.dateFormatter(t.date).split(" ")[0],console.log("Date:",n.dates)})},l.prototype.getCardBalance=function(){var l=this,n="aduserid="+this.user._details.id+"&mobileno="+this.user._details.fo_mobileno+"&startdate="+this.dates.start+"&enddate="+this.dates.end;console.log("api hit"),this.common.loading++,this.api.walle8Get("AccountSummaryApi/ViewCardBalance.json?"+n).subscribe(function(n){l.common.loading--,console.log("Res:",n),l.data=n.data;for(var t=0;t<l.data.length;t++)l.sum.bpcl=l.sum.bpcl+l.data[t].bpcl,l.sum.hpcl=l.sum.hpcl+l.data[t].hpcl,l.sum.atm=l.sum.atm+l.data[t].atm,console.log("............",l.sum);l.total=l.total+l.sum.bpcl+l.sum.hpcl+l.sum.atm,console.log("card",l.total)},function(n){l.common.loading--,console.log(n)})},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getPDFFromTableId(l,t.data.name,"Card Balance",null,"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCSV=function(l){var n=this;this.common.loading++;var t=this.user._customer.id;"customer"==this.user._loggedInBy&&(t=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:t}).subscribe(function(t){n.common.loading--,n.common.getCSVFromTableId(l,t.data.name,"Card Balance",["Action"],"")},function(l){n.common.loading--,console.log(l)})},l}(),Mn=e["\u0275crt"]({encapsulation:0,styles:[["nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}.pdf-icon[_ngcontent-%COMP%]{font-size:20px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:20px;color:#217346}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:left;padding:4px}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#ddd}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1), table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:50px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:250px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;word-break:break-all}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;width:100%;table-layout:fixed;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed;width:100%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#e4e4e4}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700;cursor:pointer}[_nghost-%COMP%]    .black{color:#000}.tbody-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{color:#000;background-color:#d3d3d3!important}.tbody-three[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{color:#000;background-color:#a9a9a9!important}.float[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .tableFixHead th{background:#e5f3f9!important}[_nghost-%COMP%]     .tableFixHead{border-top-left-radius:10px;border-top-right-radius:10px}[_nghost-%COMP%]     tbody tr:nth-child(even){background:#edf1f7!important}[_nghost-%COMP%]     tbody tr:nth-child(odd){background:#f5f5f538!important}[_nghost-%COMP%]     .table-bordered{border:0!important}[_nghost-%COMP%]     tbody tr td{border:none!important}[_nghost-%COMP%]     thead tr th{border:none!important}[_nghost-%COMP%]     .filter-container{border-radius:23px!important}[_nghost-%COMP%]     table thead{background:#e5f3f9!important;color:#000!important;border-top-left-radius:5px!important;border-top-right-radius:5px!important}"]],data:{}});function Pn(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,1,"td",[["scope","row"]],null,null,null,null,null)),(l()(),e["\u0275ted"](2,null,["",""])),(l()(),e["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](4,null,["",""])),(l()(),e["\u0275eld"](5,0,null,null,1,"td",[["style","text-align: center;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](6,null,["",""])),(l()(),e["\u0275eld"](7,0,null,null,1,"td",[["style","text-align: center;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](8,null,["",""])),(l()(),e["\u0275eld"](9,0,null,null,1,"td",[["style","text-align: center;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](10,null,["",""]))],null,function(l,n){l(n,2,0,n.context.index+1),l(n,4,0,n.context.$implicit.vehicle),l(n,6,0,n.context.$implicit.bpcl),l(n,8,0,n.context.$implicit.hpcl),l(n,10,0,n.context.$implicit.atm)})}function On(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,10,"tbody",[["class","tbody-two"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Subtotal"])),(l()(),e["\u0275eld"](5,0,null,null,1,"td",[["style","text-align: center;padding-right:12px;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](6,null,["",""])),(l()(),e["\u0275eld"](7,0,null,null,1,"td",[["style","text-align: center; padding-right:10px;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](8,null,["",""])),(l()(),e["\u0275eld"](9,0,null,null,1,"td",[["style","text-align: center; padding-right:25px;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](10,null,["",""]))],null,function(l,n){var t=n.component;l(n,6,0,t.sum.bpcl),l(n,8,0,t.sum.hpcl),l(n,10,0,t.sum.atm)})}function kn(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,6,"tbody",[["class","tbody-three"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Total"])),(l()(),e["\u0275eld"](5,0,null,null,1,"td",[["style","padding-left:121px!important;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](6,null,["",""]))],null,function(l,n){l(n,6,0,n.component.total)})}function wn(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,36,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,T.e,T.b)),e["\u0275did"](1,49152,null,0,I.b,[],null,null),(l()(),e["\u0275eld"](2,0,null,0,11,"nb-card-header",[],null,null,null,T.f,T.c)),e["\u0275did"](3,49152,null,0,I.d,[],null,null),(l()(),e["\u0275eld"](4,0,null,0,9,"div",[["class","ml-4 mr-4 pb-4"],["style","border-bottom-left-radius:5px;border-bottom-right-radius:5px; box-shadow: 5px 10px 54px 0px whitesmoke;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](5,0,null,null,8,"div",[["class","row m-0"],["style","width:100%;background-color: #E5F3F9;border-top-right-radius: 5px; border-top-left-radius:5px;display:inline-block"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,1,"h5",[["class","p-2"],["style","font-weight:bold; display: inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Card Balance"])),(l()(),e["\u0275eld"](8,0,null,null,5,"div",[["class","p-2 float"],["style","display:inline-block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](9,0,null,null,4,"span",[["style","display: block;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](10,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printPDF("cardBalance")&&e),e},null,null)),(l()(),e["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),e["\u0275eld"](12,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 5px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.printCSV("cardBalance")&&e),e},null,null)),(l()(),e["\u0275eld"](13,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),e["\u0275eld"](14,0,null,1,22,"nb-card-body",[["style","width:96%;margin-left:2%;"]],null,null,null,T.d,T.a)),e["\u0275did"](15,49152,null,0,I.a,[],null,null),(l()(),e["\u0275eld"](16,0,null,0,20,"div",[],null,null,null,null,null)),(l()(),e["\u0275eld"](17,0,null,null,19,"table",[["class","table table-bordered table-hover"],["id","cardBalance"]],null,null,null,null,null)),(l()(),e["\u0275eld"](18,0,null,null,11,"thead",[["class","thead"]],null,null,null,null,null)),(l()(),e["\u0275eld"](19,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](20,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["#"])),(l()(),e["\u0275eld"](22,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Vehicle"])),(l()(),e["\u0275eld"](24,0,null,null,1,"th",[["style","text-align: center;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["BPCL"])),(l()(),e["\u0275eld"](26,0,null,null,1,"th",[["style","text-align: center;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["HPCL"])),(l()(),e["\u0275eld"](28,0,null,null,1,"th",[["style","text-align: center;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["ATM"])),(l()(),e["\u0275eld"](30,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,Pn)),e["\u0275did"](32,278528,null,0,S.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),e["\u0275and"](16777216,null,null,1,null,On)),e["\u0275did"](34,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275and"](16777216,null,null,1,null,kn)),e["\u0275did"](36,16384,null,0,S.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,32,0,t.data),l(n,34,0,t.data.length),l(n,36,0,t.data.length)},function(l,n){l(n,0,1,[e["\u0275nov"](n,1).xxsmall,e["\u0275nov"](n,1).xsmall,e["\u0275nov"](n,1).small,e["\u0275nov"](n,1).medium,e["\u0275nov"](n,1).large,e["\u0275nov"](n,1).xlarge,e["\u0275nov"](n,1).xxlarge,e["\u0275nov"](n,1).active,e["\u0275nov"](n,1).disabled,e["\u0275nov"](n,1).primary,e["\u0275nov"](n,1).info,e["\u0275nov"](n,1).success,e["\u0275nov"](n,1).warning,e["\u0275nov"](n,1).danger,e["\u0275nov"](n,1).hasAccent,e["\u0275nov"](n,1).primaryAccent,e["\u0275nov"](n,1).infoAccent,e["\u0275nov"](n,1).successAccent,e["\u0275nov"](n,1).warningAccent,e["\u0275nov"](n,1).dangerAccent,e["\u0275nov"](n,1).activeAccent,e["\u0275nov"](n,1).disabledAccent])})}var Dn=e["\u0275ccf"]("card-balance",_n,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"card-balance",[],null,null,null,wn,Mn)),e["\u0275did"](1,114688,null,0,_n,[_.a,M.a,O.u,o.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),An=t("fdPT"),Fn=t("MoCo"),Tn=t("cdOV"),In=t("9AJC"),Sn=t("8VM6"),Rn=t("Xoj0"),Bn=t("4/Py"),Vn=t("8DeE"),Hn=t("y9XU"),zn=t("y1sj"),Un=t("cMIS"),En=t("H1uz"),Nn=t("H6Y4"),Gn=t("byrr"),Ln=t("0HQI"),jn=t("81d9"),qn=t("P3h3"),Kn=t("nA+Y"),Yn=t("eDkP"),Zn=t("Fzqc"),Xn=t("U4uc"),Wn=t("AKna"),Jn=t("Bvtr"),Qn=t("gpGP"),$n=t("Hz84"),lt=t("+3l6"),nt=t("06BB"),tt=t("UTcu"),et=t("mNmA"),ot=function(){},ut=t("P8+w"),at=t("Ku2q"),it=t("w//a"),rt=t("niCt"),dt=t("UIEa"),ct=t("o0Gp"),st=t("M18m"),pt=t("zTyf"),mt=t("TcUH"),gt=t("4c35"),ht=t("dWZg"),ft=t("qAlS"),bt=t("hle7"),vt=t("lOUe"),yt=t("yHPJ"),xt=t("wZaT"),Ct=t("GGqN"),_t=t("rNHn"),Mt=t("tSKX"),Pt=t("uLH1"),Ot=t("WCnA"),kt=t("DiBj"),wt=t("6wBL"),Dt=t("TvC7"),At=t("7qhI"),Ft=t("aTFX"),Tt=t("7fDR"),It=t("y3Bk"),St=t("IR2U"),Rt=t("sE+l"),Bt=t("V6uK"),Vt=t("9mtI"),Ht=t("SdSL"),zt=t("GF5i"),Ut=t("3Zza"),Et=t("ZMzl"),Nt=t("tt4K"),Gt=t("eBEu"),Lt=t("MMI5"),jt=t("vTDv"),qt=function(){},Kt=t("FUS3"),Yt=t("AE88");t.d(n,"Walle8ModuleNgFactory",function(){return Zt});var Zt=e["\u0275cmf"](a,[],function(l){return e["\u0275mod"]([e["\u0275mpd"](512,e.ComponentFactoryResolver,e["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,C,D,z,K,ll,al,pl,vl,Ml,Dl,Sl,zl,Ll,ln,un,gn,Cn,Dn,An.a,Fn.a,Tn.a,In.a,In.b,In.f,In.g,In.c,In.d,In.e,Sn.a,Rn.a,Bn.a,Vn.a,Vn.b,Hn.a,zn.a,Un.a,En.a,Nn.a,Gn.a,Ln.a,jn.a,qn.a]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["\u0275mpd"](4608,S.NgLocalization,S.NgLocaleLocalization,[e.LOCALE_ID,[2,S["\u0275angular_packages_common_common_a"]]]),e["\u0275mpd"](4608,ql.C,ql.C,[]),e["\u0275mpd"](4608,ql.e,ql.e,[]),e["\u0275mpd"](4608,Kn.a,Kn.a,[v.l]),e["\u0275mpd"](4608,Yn.e,Yn.e,[Yn.l,Yn.g,e.ComponentFactoryResolver,Yn.j,Yn.h,e.Injector,e.NgZone,S.DOCUMENT,Zn.b,[2,S.Location]]),e["\u0275mpd"](5120,Yn.m,Yn.n,[Yn.e]),e["\u0275mpd"](4608,Xn.a,Xn.a,[]),e["\u0275mpd"](4608,O.u,O.u,[e.ComponentFactoryResolver,e.Injector,O.Ea,O.v]),e["\u0275mpd"](4608,Wn.a,Jn.a,[e.LOCALE_ID]),e["\u0275mpd"](4608,S.DatePipe,S.DatePipe,[e.LOCALE_ID]),e["\u0275mpd"](4608,Qn.a,Qn.a,[Wn.a]),e["\u0275mpd"](4608,$n.c,$n.a,[e.LOCALE_ID]),e["\u0275mpd"](4608,lt.i,lt.i,[]),e["\u0275mpd"](4608,lt.g,lt.g,[]),e["\u0275mpd"](4608,lt.x,lt.x,[]),e["\u0275mpd"](4608,lt.P,lt.P,[$n.c]),e["\u0275mpd"](4608,lt.Na,lt.Na,[$n.c]),e["\u0275mpd"](4608,lt.Ma,lt.Ma,[$n.c]),e["\u0275mpd"](4608,nt.g,nt.g,[e.ApplicationRef,e.ComponentFactoryResolver,e.Injector,[2,nt.d]]),e["\u0275mpd"](4608,lt.U,lt.U,[lt.a]),e["\u0275mpd"](4608,lt.j,lt.j,[]),e["\u0275mpd"](4608,lt.C,lt.C,[$n.c]),e["\u0275mpd"](4608,lt.O,lt.O,[$n.c]),e["\u0275mpd"](4608,lt.Y,lt.Y,[$n.c]),e["\u0275mpd"](4608,lt.w,lt.w,[$n.c]),e["\u0275mpd"](1073742336,v.o,v.o,[[2,v.u],[2,v.l]]),e["\u0275mpd"](1073742336,ot,ot,[]),e["\u0275mpd"](1073742336,S.CommonModule,S.CommonModule,[]),e["\u0275mpd"](1073742336,ql.y,ql.y,[]),e["\u0275mpd"](1073742336,ql.h,ql.h,[]),e["\u0275mpd"](1073742336,ql.u,ql.u,[]),e["\u0275mpd"](1073742336,ut.a,ut.a,[]),e["\u0275mpd"](1073742336,at.a,at.a,[]),e["\u0275mpd"](1073742336,it.a,it.a,[]),e["\u0275mpd"](1073742336,rt.a,rt.a,[]),e["\u0275mpd"](1073742336,dt.a,dt.a,[]),e["\u0275mpd"](1073742336,ct.a,ct.a,[]),e["\u0275mpd"](1073742336,st.a,st.a,[]),e["\u0275mpd"](1073742336,pt.a,pt.a,[]),e["\u0275mpd"](1073742336,mt.a,mt.a,[]),e["\u0275mpd"](1073742336,Zn.a,Zn.a,[]),e["\u0275mpd"](1073742336,gt.g,gt.g,[]),e["\u0275mpd"](1073742336,ht.b,ht.b,[]),e["\u0275mpd"](1073742336,ft.g,ft.g,[]),e["\u0275mpd"](1073742336,Yn.i,Yn.i,[]),e["\u0275mpd"](1073742336,bt.a,bt.a,[]),e["\u0275mpd"](1073742336,vt.a,vt.a,[]),e["\u0275mpd"](1073742336,yt.a,yt.a,[]),e["\u0275mpd"](1073742336,xt.a,xt.a,[]),e["\u0275mpd"](1073742336,Ct.a,Ct.a,[]),e["\u0275mpd"](1073742336,_t.a,_t.a,[]),e["\u0275mpd"](1073742336,Mt.a,Mt.a,[]),e["\u0275mpd"](1073742336,Pt.a,Pt.a,[]),e["\u0275mpd"](1073742336,O.c,O.c,[]),e["\u0275mpd"](1073742336,O.g,O.g,[]),e["\u0275mpd"](1073742336,O.h,O.h,[]),e["\u0275mpd"](1073742336,O.l,O.l,[]),e["\u0275mpd"](1073742336,O.m,O.m,[]),e["\u0275mpd"](1073742336,O.r,O.r,[]),e["\u0275mpd"](1073742336,O.s,O.s,[]),e["\u0275mpd"](1073742336,O.w,O.w,[]),e["\u0275mpd"](1073742336,O.A,O.A,[]),e["\u0275mpd"](1073742336,O.D,O.D,[]),e["\u0275mpd"](1073742336,O.G,O.G,[]),e["\u0275mpd"](1073742336,O.J,O.J,[]),e["\u0275mpd"](1073742336,O.M,O.M,[]),e["\u0275mpd"](1073742336,O.Q,O.Q,[]),e["\u0275mpd"](1073742336,O.R,O.R,[]),e["\u0275mpd"](1073742336,O.S,O.S,[]),e["\u0275mpd"](1073742336,O.x,O.x,[]),e["\u0275mpd"](1073742336,Ot.a,Ot.a,[]),e["\u0275mpd"](1073742336,kt.a,kt.a,[]),e["\u0275mpd"](1073742336,wt.a,wt.a,[]),e["\u0275mpd"](1073742336,Dt.a,Dt.a,[]),e["\u0275mpd"](1073742336,At.a,At.a,[]),e["\u0275mpd"](1073742336,Ft.a,Ft.a,[]),e["\u0275mpd"](1073742336,Tt.a,Tt.a,[]),e["\u0275mpd"](1073742336,It.a,It.a,[]),e["\u0275mpd"](1073742336,St.a,St.a,[]),e["\u0275mpd"](1073742336,Rt.a,Rt.a,[]),e["\u0275mpd"](1073742336,Bt.a,Bt.a,[]),e["\u0275mpd"](1073742336,Vt.a,Vt.a,[]),e["\u0275mpd"](1073742336,Ht.a,Ht.a,[]),e["\u0275mpd"](1073742336,zt.a,zt.a,[]),e["\u0275mpd"](1073742336,Ut.a,Ut.a,[]),e["\u0275mpd"](1073742336,Et.a,Et.a,[]),e["\u0275mpd"](1073742336,Nt.a,Nt.a,[]),e["\u0275mpd"](1073742336,Gt.a,Gt.a,[]),e["\u0275mpd"](1073742336,Lt.a,Lt.a,[]),e["\u0275mpd"](1073742336,jt.a,jt.a,[]),e["\u0275mpd"](1073742336,qt,qt,[]),e["\u0275mpd"](1073742336,lt.y,lt.y,[]),e["\u0275mpd"](1073742336,lt.b,lt.b,[]),e["\u0275mpd"](1073742336,$n.b,$n.b,[]),e["\u0275mpd"](1073742336,lt.Aa,lt.Aa,[]),e["\u0275mpd"](1073742336,lt.La,lt.La,[]),e["\u0275mpd"](1073742336,lt.e,lt.e,[]),e["\u0275mpd"](1073742336,nt.f,nt.f,[]),e["\u0275mpd"](1073742336,lt.S,lt.S,[]),e["\u0275mpd"](1073742336,lt.f,lt.f,[]),e["\u0275mpd"](1073742336,lt.m,lt.m,[]),e["\u0275mpd"](1073742336,lt.q,lt.q,[]),e["\u0275mpd"](1073742336,lt.Ea,lt.Ea,[]),e["\u0275mpd"](1073742336,lt.s,lt.s,[]),e["\u0275mpd"](1073742336,lt.n,lt.n,[]),e["\u0275mpd"](1073742336,Kt.a,Kt.a,[]),e["\u0275mpd"](1073742336,Yt.ChartModule,Yt.ChartModule,[]),e["\u0275mpd"](1073742336,a,a,[]),e["\u0275mpd"](1024,v.j,function(){return[[{path:"",component:u,children:[{path:"",component:P},{path:"card-mapping",component:R,canActivate:[tt.a,et.b]},{path:"card-usage",component:G,canActivate:[tt.a,et.b]},{path:"payments-made",component:X,canActivate:[tt.a,et.b]},{path:"latest-recharge",component:nl,canActivate:[tt.a,et.b]},{path:"toll-usage-summary",component:il,canActivate:[tt.a,et.b]},{path:"toll-discount",component:ml,canActivate:[tt.a,et.b]},{path:"toll-usage",component:yl,canActivate:[tt.a,et.b]},{path:"toll-setteled-request",component:Pl,canActivate:[tt.a,et.b]},{path:"current-tag-balance",component:Al,canActivate:[tt.a,et.b]},{path:"double-toll-report",component:Rl,canActivate:[tt.a,et.b]},{path:"financial-toll-summary",component:Ul,canActivate:[tt.a,et.b]},{path:"financial-toll-summary-addtime",component:Xl,canActivate:[tt.a,et.b]},{path:"financial-main-summary",component:nn,canActivate:[tt.a,et.b]},{path:"toll-analatics",component:dn,canActivate:[tt.a,et.b]},{path:"other-usage",component:hn,canActivate:[tt.a,et.b]},{path:"card-balance",component:_n,canActivate:[tt.a,et.b]}]}]]},[]),e["\u0275mpd"](256,lt.Z,lt.Oa,[])])})}}]);