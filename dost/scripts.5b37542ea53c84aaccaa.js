(function(){var t,e,o,i,n,r,s,a,l,c,u,p,h,d,m,f,g,v,w,y,b,_,x,S,M,C,z,T,A,k,P,E,F,I,q,V,D,H,L,W,R,O,$,X,j,Y,U,B,N=[].slice,Z={}.hasOwnProperty,G=function(t,e){function o(){this.constructor=t}for(var i in e)Z.call(e,i)&&(t[i]=e[i]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},J=[].indexOf||function(t){for(var e=0,o=this.length;o>e;e++)if(e in this&&this[e]===t)return e;return-1};for(b={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},A=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?t:+new Date},P=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,y=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==P&&(P=function(t){return setTimeout(t,50)},y=function(t){return clearTimeout(t)}),F=function(t){var e,o;return e=A(),(o=function(){var i;return(i=A()-e)>=33?(e=A(),t(i,function(){return P(o)})):setTimeout(o,33-i)})()},E=function(){var t,e,o;return o=arguments[0],e=arguments[1],t=3<=arguments.length?N.call(arguments,2):[],"function"==typeof o[e]?o[e].apply(o,t):o[e]},_=function(){var t,e,o,i,n,r,s;for(e=arguments[0],r=0,s=(i=2<=arguments.length?N.call(arguments,1):[]).length;s>r;r++)if(o=i[r])for(t in o)Z.call(o,t)&&(n=o[t],null!=e[t]&&"object"==typeof e[t]&&null!=n&&"object"==typeof n?_(e[t],n):e[t]=n);return e},g=function(t){var e,o,i,n;for(o=e=0,i=0,n=t.length;n>i;i++)o+=Math.abs(t[i]),e++;return o/e},S=function(t,e){var o,i;if(null==t&&(t="options"),null==e&&(e=!0),i=document.querySelector("[data-pace-"+t+"]")){if(o=i.getAttribute("data-pace-"+t),!e)return o;try{return JSON.parse(o)}catch(r){return"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",r):void 0}}},s=function(){function t(){}return t.prototype.on=function(t,e,o,i){var n;return null==i&&(i=!1),null==this.bindings&&(this.bindings={}),null==(n=this.bindings)[t]&&(n[t]=[]),this.bindings[t].push({handler:e,ctx:o,once:i})},t.prototype.once=function(t,e,o){return this.on(t,e,o,!0)},t.prototype.off=function(t,e){var o,i,n;if(null!=(null!=(i=this.bindings)?i[t]:void 0)){if(null==e)return delete this.bindings[t];for(o=0,n=[];o<this.bindings[t].length;)n.push(this.bindings[t][o].handler===e?this.bindings[t].splice(o,1):o++);return n}},t.prototype.trigger=function(){var t,e,o,i,n,r,s,a;if(o=arguments[0],t=2<=arguments.length?N.call(arguments,1):[],null!=(r=this.bindings)?r[o]:void 0){for(i=0,a=[];i<this.bindings[o].length;)n=(s=this.bindings[o][i]).once,s.handler.apply(null!=(e=s.ctx)?e:this,t),a.push(n?this.bindings[o].splice(i,1):i++);return a}},t}(),c=window.Pace||{},window.Pace=c,_(c,s.prototype),k=c.options=_({},b,window.paceOptions,S()),$=0,j=(U=["ajax","document","eventLag","elements"]).length;j>$;$++)!0===k[D=U[$]]&&(k[D]=b[D]);l=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return G(e,t),e}(Error),e=function(){function t(){this.progress=0}return t.prototype.getElement=function(){var t;if(null==this.el){if(!(t=document.querySelector(k.target)))throw new l;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=t.firstChild?t.insertBefore(this.el,t.firstChild):t.appendChild(this.el)}return this.el},t.prototype.finish=function(){var t;return(t=this.getElement()).className=t.className.replace("pace-active",""),t.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},t.prototype.update=function(t){return this.progress=t,this.render()},t.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(t){l=t}return this.el=void 0},t.prototype.render=function(){var t,e,o,i,n,r;if(null==document.querySelector(k.target))return!1;for(t=this.getElement(),o="translate3d("+this.progress+"%, 0, 0)",i=0,n=(r=["webkitTransform","msTransform","transform"]).length;n>i;i++)t.children[0].style[r[i]]=o;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(t.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?e="99":(e=this.progress<10?"0":"",e+=0|this.progress),t.children[0].setAttribute("data-progress",""+e)),this.lastRenderedProgress=this.progress},t.prototype.done=function(){return this.progress>=100},t}(),a=function(){function t(){this.bindings={}}return t.prototype.trigger=function(t,e){var o,i,n,r;if(null!=this.bindings[t]){for(r=[],o=0,i=(n=this.bindings[t]).length;i>o;o++)r.push(n[o].call(this,e));return r}},t.prototype.on=function(t,e){var o;return null==(o=this.bindings)[t]&&(o[t]=[]),this.bindings[t].push(e)},t}(),O=window.XMLHttpRequest,R=window.XDomainRequest,W=window.WebSocket,x=function(t,e){var o,i;for(o in i=[],e.prototype)try{null==t[o]&&"function"!=typeof e[o]?"function"==typeof Object.defineProperty?i.push(Object.defineProperty(t,o,{get:function(){return e.prototype[o]},configurable:!0,enumerable:!0})):i.push(t[o]=e.prototype[o]):i.push(void 0)}catch(r){}return i},z=[],c.ignore=function(){var t,e,o;return e=arguments[0],t=2<=arguments.length?N.call(arguments,1):[],z.unshift("ignore"),o=e.apply(null,t),z.shift(),o},c.track=function(){var t,e,o;return e=arguments[0],t=2<=arguments.length?N.call(arguments,1):[],z.unshift("track"),o=e.apply(null,t),z.shift(),o},V=function(t){var e;if(null==t&&(t="GET"),"track"===z[0])return"force";if(!z.length&&k.ajax){if("socket"===t&&k.ajax.trackWebSockets)return!0;if(e=t.toUpperCase(),J.call(k.ajax.trackMethods,e)>=0)return!0}return!1},u=function(t){function e(){var t,o=this;e.__super__.constructor.apply(this,arguments),t=function(t){var e;return e=t.open,t.open=function(i,n,r){return V(i)&&o.trigger("request",{type:i,url:n,request:t}),e.apply(t,arguments)}},window.XMLHttpRequest=function(e){var o;return o=new O(e),t(o),o};try{x(window.XMLHttpRequest,O)}catch(i){}if(null!=R){window.XDomainRequest=function(){var e;return e=new R,t(e),e};try{x(window.XDomainRequest,R)}catch(i){}}if(null!=W&&k.ajax.trackWebSockets){window.WebSocket=function(t,e){var i;return i=null!=e?new W(t,e):new W(t),V("socket")&&o.trigger("request",{type:"socket",url:t,protocols:e,request:i}),i};try{x(window.WebSocket,W)}catch(i){}}}return G(e,a),e}(),X=null,q=function(t){var e,o,i,n;for(o=0,i=(n=k.ajax.ignoreURLs).length;i>o;o++)if("string"==typeof(e=n[o])){if(-1!==t.indexOf(e))return!0}else if(e.test(t))return!0;return!1},(M=function(){return null==X&&(X=new u),X})().on("request",function(e){var o,i,n,r;return r=e.type,n=e.request,q(e.url)?void 0:c.running||!1===k.restartOnRequestAfter&&"force"!==V(r)?void 0:(i=arguments,"boolean"==typeof(o=k.restartOnRequestAfter||0)&&(o=0),setTimeout(function(){var e,o,s,a,l;if("socket"===r?n.readyState<2:0<(s=n.readyState)&&4>s){for(c.restart(),l=[],e=0,o=(a=c.sources).length;o>e;e++){if((D=a[e])instanceof t){D.watch.apply(D,i);break}l.push(void 0)}return l}},o))}),t=function(){function t(){var t=this;this.elements=[],M().on("request",function(){return t.watch.apply(t,arguments)})}return t.prototype.watch=function(t){var e,o,i;return i=t.type,e=t.request,q(t.url)?void 0:(o="socket"===i?new d(e):new m(e),this.elements.push(o))},t}(),m=function(t){var e,o,i,n,r=this;if(this.progress=0,null!=window.ProgressEvent)for(t.addEventListener("progress",function(t){return r.progress=t.lengthComputable?100*t.loaded/t.total:r.progress+(100-r.progress)/2},!1),e=0,o=(n=["load","abort","timeout","error"]).length;o>e;e++)t.addEventListener(n[e],function(){return r.progress=100},!1);else i=t.onreadystatechange,t.onreadystatechange=function(){var e;return 0===(e=t.readyState)||4===e?r.progress=100:3===t.readyState&&(r.progress=50),"function"==typeof i?i.apply(null,arguments):void 0}},d=function(t){var e,o,i,n=this;for(this.progress=0,e=0,o=(i=["error","open"]).length;o>e;e++)t.addEventListener(i[e],function(){return n.progress=100},!1)},i=function(t){var e,o,i;for(null==t&&(t={}),this.elements=[],null==t.selectors&&(t.selectors=[]),e=0,o=(i=t.selectors).length;o>e;e++)this.elements.push(new n(i[e]))},n=function(){function t(t){this.selector=t,this.progress=0,this.check()}return t.prototype.check=function(){var t=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return t.check()},k.elements.checkInterval)},t.prototype.done=function(){return this.progress=100},t}(),o=function(){function t(){var t,e,o=this;this.progress=null!=(e=this.states[document.readyState])?e:100,t=document.onreadystatechange,document.onreadystatechange=function(){return null!=o.states[document.readyState]&&(o.progress=o.states[document.readyState]),"function"==typeof t?t.apply(null,arguments):void 0}}return t.prototype.states={loading:0,interactive:50,complete:100},t}(),r=function(){var t,e,o,i,n,r=this;this.progress=0,t=0,n=[],i=0,o=A(),e=setInterval(function(){var s;return s=A()-o-50,o=A(),n.push(s),n.length>k.eventLag.sampleCount&&n.shift(),t=g(n),++i>=k.eventLag.minSamples&&t<k.eventLag.lagThreshold?(r.progress=100,clearInterval(e)):r.progress=3/(t+3)*100},50)},h=function(){function t(t){this.source=t,this.last=this.sinceLastUpdate=0,this.rate=k.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=E(this.source,"progress"))}return t.prototype.tick=function(t,e){var o;return null==e&&(e=E(this.source,"progress")),e>=100&&(this.done=!0),e===this.last?this.sinceLastUpdate+=t:(this.sinceLastUpdate&&(this.rate=(e-this.last)/this.sinceLastUpdate),this.catchup=(e-this.progress)/k.catchupTime,this.sinceLastUpdate=0,this.last=e),e>this.progress&&(this.progress+=this.catchup*t),o=1-Math.pow(this.progress/100,k.easeFactor),this.progress+=o*this.rate*t,this.progress=Math.min(this.lastProgress+k.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},t}(),H=null,I=null,v=null,L=null,f=null,w=null,c.running=!1,C=function(){return k.restartOnPushState?c.restart():void 0},null!=window.history.pushState&&(Y=window.history.pushState,window.history.pushState=function(){return C(),Y.apply(window.history,arguments)}),null!=window.history.replaceState&&(B=window.history.replaceState,window.history.replaceState=function(){return C(),B.apply(window.history,arguments)}),p={ajax:t,elements:i,document:o,eventLag:r},(T=function(){var t,o,i,n,r,s,a,l;for(c.sources=H=[],o=0,n=(s=["ajax","elements","document","eventLag"]).length;n>o;o++)!1!==k[t=s[o]]&&H.push(new p[t](k[t]));for(i=0,r=(l=null!=(a=k.extraSources)?a:[]).length;r>i;i++)H.push(new(D=l[i])(k));return c.bar=v=new e,I=[],L=new h})(),c.stop=function(){return c.trigger("stop"),c.running=!1,v.destroy(),w=!0,null!=f&&("function"==typeof y&&y(f),f=null),T()},c.restart=function(){return c.trigger("restart"),c.stop(),c.start()},c.go=function(){var t;return c.running=!0,v.render(),t=A(),w=!1,f=F(function(e,o){var i,n,r,s,a,l,u,p,d,m,f,g,y;for(i=p=0,n=!0,s=d=0,f=H.length;f>d;s=++d)for(D=H[s],u=null!=I[s]?I[s]:I[s]=[],a=m=0,g=(r=null!=(y=D.elements)?y:[D]).length;g>m;a=++m)n&=(l=null!=u[a]?u[a]:u[a]=new h(r[a])).done,l.done||(i++,p+=l.tick(e));return v.update(L.tick(e,p/i)),v.done()||n||w?(v.update(100),c.trigger("done"),setTimeout(function(){return v.finish(),c.running=!1,c.trigger("hide")},Math.max(k.ghostTime,Math.max(k.minTime-(A()-t),0)))):o()})},c.start=function(t){_(k,t),c.running=!0;try{v.render()}catch(e){l=e}return document.querySelector(".pace")?(c.trigger("start"),c.go()):setTimeout(c.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return c}):"object"==typeof exports?module.exports=c:k.startOnPageLoad&&c.start()}).call(this),function(t,e,o,i){"use strict";var n=function(){},r=t("body"),s=t(e),a=t(o);function l(t,e,o,i){return t/=i,-o*(--t*t*t*t-1)+e}!function(){for(var t=0,o=["ms","moz","webkit","o"],i=0;i<o.length&&!e.requestAnimationFrame;++i)e.requestAnimationFrame=e[o[i]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[o[i]+"CancelAnimationFrame"]||e[o[i]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(o,i){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),s=e.setTimeout(function(){o(n+r)},r);return t=n+r,s}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(t){clearTimeout(t)})}();var c='<div class="iv-loader"></div> <div class="iv-snap-view"><div class="iv-snap-image-wrap"><div class="iv-snap-handle"></div></div><div class="iv-zoom-slider"><div class="iv-zoom-handle"></div></div></div><div class="iv-image-view" ><div class="iv-image-wrap" ></div></div>';function u(t,e){this.container=t,this.onStart=e.onStart||n,this.onMove=e.onMove||n,this.onEnd=e.onEnd||n,this.sliderId=e.sliderId||"slider"+Math.ceil(1e6*Math.random())}function p(e,o){e.is("#iv-container")&&(this._fullPage=!0),this.container=e,o=this.options=t.extend({},p.defaults,o),this.zoomValue=100,e.find(".snap-view").length||e.prepend(c),e.addClass("iv-container"),"static"==e.css("position")&&e.css("position","relative"),this.snapView=e.find(".iv-snap-view"),this.snapImageWrap=e.find(".iv-snap-image-wrap"),this.imageWrap=e.find(".iv-image-wrap"),this.snapHandle=e.find(".iv-snap-handle"),this.zoomHandle=e.find(".iv-zoom-handle"),this._viewerId="iv"+Math.floor(1e6*Math.random())}t(function(){r.length||(r=t("body")),r.append('<div id="iv-container">'+c+'<div class="iv-close"></div><div>')}),u.prototype.init=function(){var t=this,e="."+this.sliderId;return this.container.on("touchstart"+e+" mousedown"+e,function(o){o.preventDefault();var i=("touchstart"==o.type?"touchmove":"mousemove")+e,n=("touchstart"==o.type?"touchend":"mouseup")+e,r=o.originalEvent,s=r.clientX||r.touches[0].clientX,l=r.clientY||r.touches[0].clientY;if(!1!==t.onStart(o,{x:s,y:l})){var c=function(e){e.preventDefault();var o=(r=e.originalEvent).clientX||r.touches[0].clientX,i=r.clientY||r.touches[0].clientY;t.onMove(e,{dx:o-s,dy:i-l,mx:o,my:i})},u=function(){a.off(i,c),a.off(n,u),t.onEnd()};a.on(i,c),a.on(n,u)}}),this},p.prototype={constructor:p,_init:function(){var t=this,e=t.options,o=!1,i=this.container,n="."+t._viewerId,r=this.snapHandle,c=this.snapImageWrap,p=this.imageWrap,h=new u(c,{sliderId:t._viewerId,onStart:function(){if(!t.loaded)return!1;var e=r[0].style;this.curHandleTop=parseFloat(e.top),this.curHandleLeft=parseFloat(e.left),this.handleWidth=parseFloat(e.width),this.handleHeight=parseFloat(e.height),this.width=c.width(),this.height=c.height(),clearInterval(d.slideMomentumCheck),cancelAnimationFrame(d.sliderMomentumFrame)},onMove:function(e,o){var i=this.curHandleLeft+100*o.dx/this.width,n=this.curHandleTop+100*o.dy/this.height;i=Math.max(0,i),i=Math.min(100-this.handleWidth,i),n=Math.max(0,n),n=Math.min(100-this.handleHeight,n);var s=t.containerDim,a=t.imageDim.w*(t.zoomValue/100),l=t.imageDim.h*(t.zoomValue/100),c=a<s.w?(s.w-a)/2:-a*i/100,u=l<s.h?(s.h-l)/2:-l*n/100;r.css({top:n+"%",left:i+"%"}),t.currentImg.css({left:c,top:u})}}).init(),d=t._imageSlider=new u(p,{sliderId:t._viewerId,onStart:function(e,i){if(!t.loaded)return!1;if(!o){var n=this;h.onStart(),n.imgWidth=t.imageDim.w*t.zoomValue/100,n.imgHeight=t.imageDim.h*t.zoomValue/100,n.positions=[i,i],n.startPosition=i,t._clearFrames(),n.slideMomentumCheck=setInterval(function(){n.currentPos&&(n.positions.shift(),n.positions.push({x:n.currentPos.mx,y:n.currentPos.my}))},50)}},onMove:function(t,e){o||(this.currentPos=e,h.onMove(t,{dx:-e.dx*h.width/this.imgWidth,dy:-e.dy*h.height/this.imgHeight}))},onEnd:function(){if(!o){var t=this,e=this.positions[1].x-this.positions[0].x,i=this.positions[1].y-this.positions[0].y;if(Math.abs(e)>30||Math.abs(i)>30){var n=1,r=t.currentPos.dx,s=t.currentPos.dy;!function o(){n<=60&&(t.sliderMomentumFrame=requestAnimationFrame(o)),r+=l(n,e/3,-e/3,60),s+=l(n,i/3,-i/3,60),h.onMove(null,{dx:-r*h.width/t.imgWidth,dy:-s*h.height/t.imgHeight}),n++}()}}}}).init(),m=0;p.on("mousewheel"+n+" DOMMouseScroll"+n,function(o){if(e.zoomOnMouseWheel&&t.loaded){t._clearFrames();var n=Math.max(-1,Math.min(1,o.originalEvent.wheelDelta||-o.originalEvent.detail)),r=t.zoomValue*(100+15*n)/100;if(r>=100&&r<=e.maxZoom?m=0:m+=Math.abs(n),!(m>5)){o.preventDefault();var s=i.offset();t.zoom(r,{x:(o.pageX||o.originalEvent.pageX)-s.left,y:(o.pageY||o.originalEvent.pageY)-s.top}),b()}}}),p.on("touchstart"+n,function(e){if(t.loaded){var n=e.originalEvent.touches[0],r=e.originalEvent.touches[1];if(n&&r){o=!0;var s=i.offset(),l=Math.sqrt(Math.pow(r.pageX-n.pageX,2)+Math.pow(r.pageY-n.pageY,2)),c=t.zoomValue,u={x:(r.pageX+n.pageX)/2-s.left,y:(r.pageY+n.pageY)/2-s.top},p=function(e){e.preventDefault();var o=e.originalEvent.touches[0],i=e.originalEvent.touches[1],n=Math.sqrt(Math.pow(i.pageX-o.pageX,2)+Math.pow(i.pageY-o.pageY,2));t.zoom(c+(n-l)/2,u)},h=function(){a.off("touchmove",p),a.off("touchend",h),o=!1};a.on("touchmove",p),a.on("touchend",h)}}});var f,g=0;p.on("click"+n,function(o){0==g?(g=Date.now(),f={x:o.pageX,y:o.pageY}):Date.now()-g<500&&Math.abs(o.pageX-f.x)<50&&Math.abs(o.pageY-f.y)<50?(t.zoomValue==e.zoomValue?t.zoom(200):t.resetZoom(),g=0):g=0});var v,w,y=t.snapView.find(".iv-zoom-slider");function b(o){e.snapView&&(w||t.zoomValue<=100||!t.loaded||(clearTimeout(v),w=!0,t.snapView.css("opacity",1),o||(v=setTimeout(function(){t.snapView.css("opacity",0),w=!1},4e3))))}new u(y,{sliderId:t._viewerId,onStart:function(e){if(!t.loaded)return!1;this.leftOffset=y.offset().left,this.handleWidth=t.zoomHandle.width(),this.onMove(e)},onMove:function(o,i){var n=(o.pageX||o.originalEvent.touches[0].pageX)-this.leftOffset-this.handleWidth/2;n=Math.max(0,n),n=Math.min(t._zoomSliderLength,n),t.zoom(100+(e.maxZoom-100)*n/t._zoomSliderLength)}}).init(),p.on("touchmove"+n+" mousemove"+n,function(){b()});var _={};_["mouseenter"+n+" touchstart"+n]=function(){w=!1,b(!0)},_["mouseleave"+n+" touchend"+n]=function(){w=!1,b()},t.snapView.on(_),e.refreshOnResize&&s.on("resize"+n,function(){t.refresh()}),t._fullPage&&(i.on("touchmove"+n+" mousewheel"+n+" DOMMouseScroll"+n,function(t){t.preventDefault()}),i.find(".iv-close").on("click"+n,function(){t.hide()}))},zoom:function(t,e){t=Math.round(Math.max(100,t)),t=Math.min(this.options.maxZoom,t),e=e||{x:this.containerDim.w/2,y:this.containerDim.h/2};var o,i=this,n=this.options.maxZoom,r=this.zoomValue,s=this.currentImg,a=parseFloat(s.css("left")),c=parseFloat(s.css("top"));i._clearFrames();var u=0,p=i.imageDim,h=((o=i.containerDim).w-p.w)/2,d=(o.h-p.h)/2,m=o.w-h,f=o.h-d;!function o(){++u<20&&(i._zoomFrame=requestAnimationFrame(o));var p=l(u,r,t-r,20),g=p/r,v=i.imageDim.w*p/100,w=i.imageDim.h*p/100,y=-((e.x-a)*g-e.x),b=-((e.y-c)*g-e.y);y=Math.min(y,h),b=Math.min(b,d),y+v<m&&(y=m-v),b+w<f&&(b=f-w),s.css({height:w+"px",width:v+"px",left:y+"px",top:b+"px"}),i.zoomValue=p,i._resizeHandle(v,w,y,b),i.zoomHandle.css("left",(p-100)*i._zoomSliderLength/(n-100)+"px")}()},_clearFrames:function(){clearInterval(this._imageSlider.slideMomentumCheck),cancelAnimationFrame(this._imageSlider.sliderMomentumFrame),cancelAnimationFrame(this._zoomFrame)},resetZoom:function(){this.zoom(this.options.zoomValue)},_calculateDimensions:function(){var t=this.currentImg,e=this.container,o=this.snapView,i=t.width(),n=t.height(),r=e.width(),s=e.height(),a=o.innerWidth(),l=o.innerHeight();this.containerDim={w:r,h:s};var c,u,p=i/n;this.imageDim={w:c=i>n&&s>=r||p*s>r?r:p*s,h:u=c/p},t.css({width:c+"px",height:u+"px",left:(r-c)/2+"px",top:(s-u)/2+"px","max-width":"none","max-height":"none"});var h=c>u?a:c*l/u,d=u>c?l:u*a/c;this.snapImageDim={w:h,h:d},this.snapImg.css({width:h,height:d}),this._zoomSliderLength=a-this.zoomHandle.outerWidth()},refresh:function(){this.loaded&&(this._calculateDimensions(),this.resetZoom())},_resizeHandle:function(t,e,o,i){var n=this.currentImg,r=t||this.imageDim.w*this.zoomValue/100,s=e||this.imageDim.h*this.zoomValue/100,a=Math.max(100*-(o||parseFloat(n.css("left")))/r,0),l=Math.max(100*-(i||parseFloat(n.css("top")))/s,0),c=Math.min(100*this.containerDim.w/r,100),u=Math.min(100*this.containerDim.h/s,100);this.snapHandle.css({top:l+"%",left:a+"%",width:c+"%",height:u+"%"})},show:function(t,e){this._fullPage&&(this.container.show(),t&&this.load(t,e))},hide:function(){this._fullPage&&this.container.hide()},options:function(t,e){if(!e)return this.options[t];this.options[t]=e},destroy:function(t,e){var o="."+this._viewerId;return this._fullPage?(container.off(o),container.find('[class^="iv"]').off(o)):this.container.remove('[class^="iv"]'),s.off(o),null},load:function(e,o){var i=this,n=this.container;n.find(".iv-snap-image,.iv-large-image").remove(),this.container.find(".iv-snap-image-wrap").prepend('<img class="iv-snap-image" src="'+e+'" />'),this.imageWrap.prepend('<img class="iv-large-image" src="'+e+'" />'),o&&this.imageWrap.append('<img class="iv-large-image" src="'+o+'" />');var r,s=this.currentImg=this.container.find(".iv-large-image");function a(){i.loaded=!0,i.zoomValue=100,s.show(),i.snapImg.show(),i.refresh(),i.resetZoom(),n.find(".iv-loader").hide()}this.snapImg=this.container.find(".iv-snap-image"),i.loaded=!1,n.find(".iv-loader").show(),s.hide(),i.snapImg.hide(),!(r=s[0]).complete||void 0!==r.naturalWidth&&0===r.naturalWidth?t(s[0]).on("load",a):a()}},p.defaults={zoomValue:100,snapView:!0,maxZoom:500,refreshOnResize:!0,zoomOnMouseWheel:!0},e.ImageViewer=function(e,o){var i,n,r;e&&("string"==typeof e||e instanceof Element||e[0]instanceof Element)||(o=e,e=t("#iv-container")),(e=t(e)).is("img")?(n=(i=e)[0].src,r=i.attr("high-res-src")||i.attr("data-high-res-src"),e=i.wrap('<div class="iv-container" style="display:inline-block; overflow:hidden"></div>').parent(),i.css({opacity:0,position:"relative",zIndex:-1})):(n=e.attr("src")||e.attr("data-src"),r=e.attr("high-res-src")||e.attr("data-high-res-src"));var s=new p(e,o);return s._init(),n&&s.load(n,r),s},t.fn.ImageViewer=function(o){return this.each(function(){var i=t(this),n=e.ImageViewer(i,o);i.data("ImageViewer",n)})}}(window.jQuery,window,document),function(t,e){"use strict";var o="tooltips",i=function(){var t,o=[],i=0,n=function(t){t-i>=15?(o.forEach(function(t){t()}),i=t):e.console.log("Skipped!")},r=function(){e.clearTimeout(t),t=e.setTimeout(function(){e.requestAnimationFrame(n)},500)};return{add:function(t){o.length||e.addEventListener("resize",r),function(t){t&&o.push(t)}(t)},remove:function(){o.length||(e.clearTimeout(t),e.removeEventListener("resize",r))}}}(),n=function(t){var e={};return t.removeAttr(o),void 0!==t.attr("tooltip-template")&&(e["tooltip-template"]=t.attr("tooltip-template"),t.removeAttr("tooltip-template")),void 0!==t.attr("tooltip-template-url")&&(e["tooltip-template-url"]=t.attr("tooltip-template-url"),t.removeAttr("tooltip-template-url")),void 0!==t.attr("tooltip-template-url-cache")&&(e["tooltip-template-url-cache"]=t.attr("tooltip-template-url-cache"),t.removeAttr("tooltip-template-url-cache")),void 0!==t.attr("tooltip-controller")&&(e["tooltip-controller"]=t.attr("tooltip-controller"),t.removeAttr("tooltip-controller")),void 0!==t.attr("tooltip-side")&&(e["tooltip-side"]=t.attr("tooltip-side"),t.removeAttr("tooltip-side")),void 0!==t.attr("tooltip-show-trigger")&&(e["tooltip-show-trigger"]=t.attr("tooltip-show-trigger"),t.removeAttr("tooltip-show-trigger")),void 0!==t.attr("tooltip-hide-trigger")&&(e["tooltip-hide-trigger"]=t.attr("tooltip-hide-trigger"),t.removeAttr("tooltip-hide-trigger")),void 0!==t.attr("tooltip-smart")&&(e["tooltip-smart"]=t.attr("tooltip-smart"),t.removeAttr("tooltip-smart")),void 0!==t.attr("tooltip-class")&&(e["tooltip-class"]=t.attr("tooltip-class"),t.removeAttr("tooltip-class")),void 0!==t.attr("tooltip-show")&&(e["tooltip-show"]=t.attr("tooltip-show"),t.removeAttr("tooltip-show")),void 0!==t.attr("tooltip-close-button")&&(e["tooltip-close-button"]=t.attr("tooltip-close-button"),t.removeAttr("tooltip-close-button")),void 0!==t.attr("tooltip-size")&&(e["tooltip-size"]=t.attr("tooltip-size"),t.removeAttr("tooltip-size")),void 0!==t.attr("tooltip-speed")&&(e["tooltip-speed"]=t.attr("tooltip-speed"),t.removeAttr("tooltip-speed")),e},r=function(t){return e.getComputedStyle?e.getComputedStyle(t,""):t.currentStyle?t.currentStyle:void 0},s=function(o){for(var i,n,r=e.document.querySelectorAll("._exradicated-tooltip"),s=0,a=r.length;s<a;s+=1)if((i=r.item(s))&&(n=t.element(i)).data("_tooltip-parent")&&n.data("_tooltip-parent")===o)return n},a=function(t){var e=s(t);e&&e.remove()},l=function(t){if(t){var o=t[0].getBoundingClientRect();return(o.top<0||o.top>e.document.body.offsetHeight||o.left<0||o.left>e.document.body.offsetWidth||o.bottom<0||o.bottom>e.document.body.offsetHeight||o.right<0||o.right>e.document.body.offsetWidth)&&(t.css({top:"",left:"",bottom:"",right:""}),!0)}throw new Error("You must provide a position")},c=function(t){return t.split(" ").map(function(t){return"_"+t}).join(" ")},u=["_top","_top _left","_left","_bottom _left","_bottom","_bottom _right","_right","_top _right"],p=function(t,e,o){for(var i=u.indexOf(c(o)),n=u.length,r=0;r<n&&l(t);r+=1)(i+=1)>=u.length&&(i=0),e.removeClass("_top _left _bottom _right"),e.addClass(u[i])},h=["$log","$http","$compile","$timeout","$controller","$injector","tooltipsConf","$templateCache","$q",function(o,l,u,h,d,m,f,g,v){return{restrict:"A",transclude:"element",priority:1,terminal:!0,link:function(m,w,y,b,_){if(y.tooltipTemplate&&y.tooltipTemplateUrl)throw new Error("You can not define tooltip-template and tooltip-template-url together");if(!y.tooltipTemplateUrl&&!y.tooltipTemplate&&y.tooltipController)throw new Error("You can not have a controller without a template or templateUrl defined");var x,S=c(f.side),M=f.showTrigger,C=f.hideTrigger,z=f.size,T="_"+f.speed;y.tooltipSide=y.tooltipSide||f.side,y.tooltipShowTrigger=y.tooltipShowTrigger||f.showTrigger,y.tooltipHideTrigger=y.tooltipHideTrigger||f.hideTrigger,y.tooltipShow=y.tooltipShow||f.show,y.tooltipClass=y.tooltipClass||f.class,y.tooltipSmart="true"===y.tooltipSmart||f.smart,y.tooltipCloseButton=y.tooltipCloseButton||f.closeButton.toString(),y.tooltipSize=y.tooltipSize||f.size,y.tooltipSpeed=y.tooltipSpeed||f.speed,y.tooltipAppendToBody="true"===y.tooltipAppendToBody,_(m,function(m,f){var b=n(m),_=t.element(e.document.createElement("tooltip")),A=t.element(e.document.createElement("tip-cont")),k=t.element(e.document.createElement("tip")),P=t.element(e.document.createElement("tip-tip")),E=t.element(e.document.createElement("span")),F=t.element(e.document.createElement("tip-arrow")),I=function(t){void 0!==t&&A[0].getClientRects().length>1?_.addClass("_multiline"):_.removeClass("_multiline")},q=function(o){if(o&&!_.hasClass("active")&&o.stopImmediatePropagation(),k.addClass("_hidden"),y.tooltipSmart)switch(y.tooltipSide){case"top":case"left":case"bottom":case"right":case"top left":case"top right":case"bottom left":case"bottom right":p(k,_,y.tooltipSide);break;default:throw new Error("Position not supported")}if(y.tooltipAppendToBody){var i,n,s,l,c,u=r(P[0]),h=r(F[0]),d=r(k[0]),m=k[0].getBoundingClientRect(),f=t.copy(k),g=0,v=u.length,w=0,b=h.length,x=0,S=d.length,M={},C={},z={};for(k.removeClass("_hidden"),f.removeClass("_hidden"),f.data("_tooltip-parent",_),a(_);g<v;g+=1)(i=u[g])&&u.getPropertyValue(i)&&(M[i]=u.getPropertyValue(i));for(;w<b;w+=1)(i=h[w])&&h.getPropertyValue(i)&&(z[i]=h.getPropertyValue(i));for(;x<S;x+=1)(i=d[x])&&"position"!==i&&"display"!==i&&"opacity"!==i&&"z-index"!==i&&"bottom"!==i&&"height"!==i&&"left"!==i&&"right"!==i&&"top"!==i&&"width"!==i&&d.getPropertyValue(i)&&(C[i]=d.getPropertyValue(i));n=e.parseInt(d.getPropertyValue("padding-top"),10),s=e.parseInt(d.getPropertyValue("padding-bottom"),10),l=e.parseInt(d.getPropertyValue("padding-left"),10),c=e.parseInt(d.getPropertyValue("padding-right"),10),C.top=m.top+e.pageYOffset+"px",C.left=m.left+e.pageXOffset+"px",C.height=m.height-(n+s)+"px",C.width=m.width-(l+c)+"px",f.css(C),f.children().css(M),f.children().next().css(z),o&&"true"!==y.tooltipHidden&&(f.addClass("_exradicated-tooltip"),t.element(e.document.body).append(f))}else k.removeClass("_hidden"),o&&"true"!==y.tooltipHidden&&_.addClass("active")},V=function(t){t&&_.hasClass("active")&&t.stopImmediatePropagation(),y.tooltipAppendToBody?a(_):_.removeClass("active")},D=function t(e){var o,i=e.parent();e[0]&&(e[0].scrollHeight>e[0].clientHeight||e[0].scrollWidth>e[0].clientWidth)&&e.on("scroll",function(){var t=this;o&&h.cancel(o),o=h(function(){var e=s(_),o=_[0].getBoundingClientRect(),i=t.getBoundingClientRect();o.top<i.top||o.bottom>i.bottom||o.left<i.left||o.right>i.right?a(_):e&&q(!0)})}),i&&i.length&&t(i)},H=function(t){_.removeClass("_force-hidden"),P.empty(),P.append(E),P.append(t),h(function(){q()})},L=function(){P.empty(),_.addClass("_force-hidden")},W=function(t){var e=g.get(t);return void 0!==e?v.resolve(e):l.get(t).then(function(e){return g.put(t,e.data),e.data})},R=y.$observe("tooltipTemplate",function(t){t?H(t):L()}),O=y.$observe("tooltipTemplateUrl",function(t){t&&!y.tooltipTemplateUrlCache?W(t).then(function(t){H(u(t)(f))}).catch(function(t){o.error(t)}):L()}),$=y.$observe("tooltipTemplateUrlCache",function(t){t&&y.tooltipTemplateUrl?W(y.tooltipTemplateUrl).then(function(t){H(u(t)(f))}).catch(function(t){o.error(t)}):L()}),X=y.$observe("tooltipSide",function(t){t&&(S&&_.removeClass(S),_.addClass(c(t)),S=t)}),j=y.$observe("tooltipShowTrigger",function(t){t&&(M&&_.off(M),_.on(t,q),M=t)}),Y=y.$observe("tooltipHideTrigger",function(t){t&&(C&&_.off(C),_.on(t,V),C=t)}),U=y.$observe("tooltipShow",function(t){"true"===t?_.addClass("active"):_.removeClass("active")}),B=y.$observe("tooltipClass",function(t){t&&(x&&k.removeClass(x),k.addClass(t),x=t)}),N=y.$observe("tooltipSmart",function(){"boolean"!=typeof y.tooltipSmart&&(y.tooltipSmart="true"===y.tooltipSmart)}),Z=y.$observe("tooltipCloseButton",function(t){"true"===t?(E.on("click",V),E.css("display","block")):(E.off("click"),E.css("display","none"))}),G=y.$observe("tooltipController",function(e){if(e){var o=d(e,{$scope:f}),i=f.$new(!1,f),n=e.indexOf("as");n>=0?i[e.substr(n+3)]=o:t.extend(i,o),P.replaceWith(u(P)(i)),G()}}),J=y.$observe("tooltipSize",function(t){t&&(z&&P.removeClass("_"+z),P.addClass("_"+t),z=t)}),Q=y.$observe("tooltipSpeed",function(t){t&&(T&&_.removeClass("_"+T),_.addClass("_"+t),T=t)}),K=f.$watch(function(){return A.html()},I);E.addClass("close-button"),E.html("&times;"),k.addClass("_hidden"),P.append(E),P.append(y.tooltipTemplate),k.append(P),k.append(F),A.append(m),_.attr(b),_.addClass("tooltips"),_.append(A),_.append(k),w.after(_),y.tooltipAppendToBody&&(i.add(function(){D(_)}),D(_)),i.add(function(){I(),q()}),h(function(){q(),k.removeClass("_hidden"),_.addClass("_ready")}),f.$on("$destroy",function(){R(),O(),$(),X(),j(),Y(),U(),B(),N(),Z(),J(),Q(),K(),i.remove(),m.off(y.tooltipShowTrigger+" "+y.tooltipHideTrigger)})})}}}];t.module("720kb.tooltips",[]).provider(o+"Conf",function(){var t={side:"top",showTrigger:"mouseenter",hideTrigger:"mouseleave",class:"",smart:!1,closeButton:!1,size:"",speed:"steady",tooltipTemplateUrlCache:!1,show:null};return{configure:function(e){var o,i=Object.keys(t),n=0;if(e)for(;n<i.length;n+=1)(o=i[n])&&e[o]&&(t[o]=e[o])},$get:function(){return t}}}).directive(o,h)}(angular,window);