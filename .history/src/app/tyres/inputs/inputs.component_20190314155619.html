<nb-card>
  <nb-card-header>
    <h2>Tyre Inputs</h2>
  </nb-card-header>
  <nb-card-body>
    <div class="col-sm-8">
      <div class="row" style="margin-top:30px">
        <div class="col-sm-2"><label class="label1"><b>Vehicle Type</b></label></div>
        <div class="col-sm-4 ">
          <select [(ngModel)]="vehicleType" class="form-control" required (change)="resetVehDetails()">
            <option value="truck">Truck</option>
            <option value="trolly">Trolly</option>
            <option value="warehouse">Warehouse</option>
          </select>
        </div>
      </div>
      <div class="row row-width">
        <div class="col-sm-2"> <label class="label1"><b>Vehicle No. </b></label></div>
        <div class="col-sm-4 ">
          <input id="vehicleNo" name="vehicleNo" type="text" placeholder=" Enter Vehicle No" (input)="searchVehicles()"
            autocomplete="off" class="form-control" [(ngModel)]="searchVehicleString">
          <div>
            <ul *ngIf=" (vehicleSuggestion)&&(vehicles.length >  0)">
              <li *ngFor="let vehicle of vehicles;" (click)="selectVehicle(vehicle)">
                {{ vehicle.regno}}
              </li>
            </ul>
          </div>
        </div>
        <div class="col-sm-2"><label><b>Tyre No.</b></label></div>
        <div class="col-sm-4 ">
          <input id="tyres" name="tyresName" type="text" placeholder=" Enter Tyre Name" (input)="searchTyres()"
            autocomplete="off" class="form-control" [(ngModel)]="searchTyreString">
          <div>
            <ul *ngIf=" (tyreSuggestion)&&(tyres.length >  0)">
              <li *ngFor="let tyre of tyres;" (click)="selectTyres(tyre)">
                {{ tyre.tyrenum}}
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="row row-width">
        <div class="col-sm-2"><label class="label1"><b>Details </b> </label> </div>
        <div class="col-sm-4">
          <input type="text" class="form-control" placeholder="Details" name="details" [(ngModel)]="details">
        </div>
        <div class="col-sm-2"><label> <b>Date</b></label> </div>
        <div class="col-sm-4">
          <input [(ngModel)]="date1" [owlDateTime]="date" [owlDateTimeTrigger]="date " placeholder="Date Time"
            class="form-control" autocomplete="off" name="date">
          <owl-date-time #date></owl-date-time>
          <!-- <input type="text" style="cursor: pointer;" class="form-control" autocomplete="off" (click)="getDate('date')" placeholder="Select Date"
              [value]="date | date: 'dd MMM yyyy'" name="date" readonly > -->
          <!-- <input id="otherDetails" name="date" type="text" placeholder="date" autocomplete="off" class="form-control"  [(ngModel)]="date"> -->
        </div>
      </div>
      <div class="row row-width">
        <div class="col-sm-1"> </div>
        <div class="col-sm-2"> </div>

        <div class="col-sm-3">
          <!-- <button class="btn btn-primary" type="button" outline (click)="searchData()" id="reminder" style="cursor: pointer;">Search</button> -->
          <button class="btn btn-primary" type="button" outline (click)="getTyreCurrentStatus()" id="saveDetails"
            style="cursor: pointer; margin-left:15px">Save</button>
        </div>
      </div>
      <!-- <div class="row " style="margin-top:40px">
        <table class="table table-bordered table-hover" *ngIf="searchedTyreDetails">
          <thead class="thead">
            <tr>
              <th># </th>
              <th>Tyre No </th>
              <th>Tyre Position </th>
              <th>Date </th>

            </tr>

          </thead>
          <tbody>
            <tr *ngFor="let tyreDetail of searchedTyreDetails; let i = index;">
              <td>{{i+1}}</td>
              <td>{{tyreDetail.tyrenum}}</td>
              <td>{{tyreDetail.tyrepos}}</td>
              <td>{{tyreDetail.dttime | date : 'dd-MMM-yyyy hh:mm a' }}</td>
            </tr>
          </tbody>
        </table>
        <div class="no-data" *ngIf="!searchedTyreDetails.length">
          No Data available !
        </div>
      </div> -->

    </div>
    <div class="col-sm-4" style="text-align:center"
      *ngIf="(vehicleType!='warehouse') && (vehicleTyreDetails.length>=1)">
      <b style="font-size:20px">Vehicle Front</b>
      <table class="table table-bordered table-hover tbl-background"
        *ngFor="let vehicleTyreDetail of vehicleTyreDetails; let i = index">
        <thead class="thead">
          <tr>
            <th>AxleNo </th>
            <th>Left</th>
            <th>Right</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let axel of vehicleTyreDetail.vdata">
            <td *ngIf="(axel.axle != '99' )"><b>Axle - {{axel.axle}}</b></td>
            <td *ngIf="(axel.axle != '99' )">
              <div class="vehicle-container">
                <span *ngFor="let axelData of axel.data">
                    <div class="hover_label" *ngIf="axelData.tyrenum">{{axelData.tyrenum}}</div>
                  <label class="tyres" *ngIf="axelData.pos=='L1'">
                    <input type="radio" [name]="i + '-' + axelData.posid" [value]="vehicleTyreDetail.vtype+'-'+axelData.posid" [(ngModel)]="tyrePosition"
                      (change)="getTyrePosition(tyrePosition,vehicleTyreDetail)">
                    <img [class]="axelData.mapped!='1'?'seclected':''" src="../../../assets/images/tyre1.jpg">
                  </label>
                  <label class="tyres" *ngIf="axelData.pos=='L2'">
                    <input type="radio" [name]="i + '-' +axelData.posid" [value]="vehicleTyreDetail.vtype+'-'+axelData.posid" [(ngModel)]="tyrePosition"
                      (change)="getTyrePosition(tyrePosition,vehicleTyreDetail)">
                    <img [class]="axelData.mapped!='1'?'seclected':''" src="../../../assets/images/tyre1.jpg">
                  </label>
                </span>
              </div>
            </td>
            <td *ngIf="(axel.axle != '99' ) ">
              <div class="vehicle-container">
                <span *ngFor="let axelData of axel.data">
                    <div class="hover_label" *ngIf="axelData.tyrenum">{{axelData.tyrenum}}</div>
                  <label class="tyres" *ngIf="axelData.pos=='R1'">
                    <input type="radio" [name]="i + '-' + axelData.posid" [value]="vehicleTyreDetail.vtype+'-'+axelData.posid" [(ngModel)]="tyrePosition"
                      (change)="getTyrePosition(tyrePosition,vehicleTyreDetail)">
                    <img [class]="axelData.mapped!='1'?'seclected':''" src="../../../assets/images/tyre1.jpg">
                  </label>
                  <label class="tyres" *ngIf="axelData.pos=='R2'">
                    <input type="radio" [name]="i + '-' + axelData.posid" [value]="vehicleTyreDetail.vtype+'-'+axelData.posid" [(ngModel)]="tyrePosition"
                      (change)="getTyrePosition(tyrePosition,vehicleTyreDetail)">
                    <img [class]="axelData.mapped!='1'?'seclected':''" src="../../../assets/images/tyre1.jpg">
                  </label>
                </span>
              </div>
            </td>
            <td *ngIf="(axel.axle == '99' ) "><b>Stephenie</b></td>
            <td colspan="2" *ngIf="(axel.axle == '99') ">
                <div class="vehicle-container">
              <span *ngFor="let axelData of axel.data">
                <div class="hover_label" *ngIf="axelData.tyrenum">{{axelData.tyrenum}}</div>
                  <label class="tyres">
                  <input type="radio" [name]="i + '-' + axelData.posid" [value]="vehicleTyreDetail.vtype+'-'+axelData.posid" [(ngModel)]="tyrePosition"
                    (change)="getTyrePosition(tyrePosition,vehicleTyreDetail)">
                  <img [class]="axelData.mapped!='1'?'seclected':''" src="../../../assets/images/step.jpg"
                    style="width:30px">
                    </label>
              </span>
              </div>
            </td>
          </tr>

        </tbody>
      </table>
    </div>


  </nb-card-body>
</nb-card>

<!-- table to display search data -->
<nb-card>
  <nb-card-body>

  </nb-card-body>
</nb-card>