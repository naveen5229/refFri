(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{tePd:function(l,n,e){"use strict";e.r(n);var t=e("CcnG"),a=(e("TtU4"),e("H+bZ")),o=e("flj8"),i=e("qfBg"),u=function(){function l(l,n,e,t,a){this.menuService=l,this.api=n,this.accountService=e,this.user=t,this.router=a,this.accountService.branches.length||(this.getBranches(),this.getFinancial()),"admin"!=this.user._loggedInBy||this.user._customer.id||(alert("Select Fo Admin First"),this.router.navigate(["/admin"]))}return l.prototype.getBranches=function(){var l=this;this.api.post("Suggestion/GetBranchList",{search:123}).subscribe(function(n){console.log("Branches :",n.data),l.accountService.branches=n.data},function(l){console.log("Error: ",l)})},l.prototype.getFinancial=function(){var l=this;this.api.post("Suggestion/GetFinancialYear",{search:123}).subscribe(function(n){console.log("financial :",n.data),l.accountService.financialYears=n.data,l.accountService.financialYears.map(function(n){n.name.split("-")[0]==(new Date).getFullYear()&&(l.accountService.selected.financialYear=n)})},function(l){console.log("Error: ",l)})},l}(),r=function(){return function(){}}(),s=e("pMnS"),d=e("AO+O"),c=e("S9Dc"),p=e("3bPa"),g=e("ZlY8"),h=e("SUpF"),m=e("ZYCi"),f=e("xDct"),v=e("IAMq"),b=e("5MUS"),x=e("/PiY"),y=e("U1+q"),C=e("trYH"),_=e("Ip0R"),w=t["\u0275crt"]({encapsulation:0,styles:[d.a],data:{}});function M(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"nb-menu",[["autoCollapse","true"]],[[2,"inverse",null]],null,null,c.b,c.a)),t["\u0275did"](1,4440064,null,0,p.a,[g.f,h.a,m.n],{items:[0,"items"],autoCollapse:[1,"autoCollapse"]},null)],function(l,n){l(n,1,0,n.component.user._menu.pages,"true")},function(l,n){l(n,0,0,t["\u0275nov"](n,1).inverseValue)})}function T(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"ngx-sample-layout",[],null,null,null,f.b,f.a)),t["\u0275did"](1,180224,null,0,v.a,[b.a,h.b,x.a,y.b,C.a],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,M)),t["\u0275did"](3,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](4,16777216,null,1,1,"router-outlet",[],null,null,null,null,null)),t["\u0275did"](5,212992,null,0,m.r,[m.b,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null)],function(l,n){l(n,3,0,n.component.user._menu.pages.length),l(n,5,0)},null)}function D(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"ngx-pages",[],null,null,null,T,w)),t["\u0275did"](1,49152,null,0,u,[h.b,a.a,o.a,i.a,m.n],null,null)],null,null)}var P=t["\u0275ccf"]("ngx-pages",u,D,{},{},[]),O=e("4bAE"),k=e("mc3f"),R=e("mcnf"),I=e("FZvA"),S=e("aGMT"),A=e("wD9S"),F=e("OlR4"),E=e("lf6A"),V=e("gIcY"),L=e("nGd9"),N=e("6Jfz"),H=e("tUv6"),z=e("LvDl"),j=e("I3j9"),U=e("5pkc"),$=e("skNO"),q=e("VJ3l"),G=e("Mfh5"),B=e("urU0"),W=e("1i8C"),K=e("M5JG"),J=e("3a3o"),Y=e("wd/R"),Z=e("INKT"),Q=e("Ig2y"),X=e("ZyeE"),ll=e("jjvj"),nl=e("iJpb"),el=e("d/uI"),tl=function(){function l(l,n,e,t,a,o,i,u,r){this.api=l,this.common=n,this.user=e,this.formBuilder=t,this.modalService=a,this.mapService=o,this.datePipe=i,this.dateService=u,this.pdfService=r,this.testingDate=this.common.dateFormatter(new Date,"",!1),this.submitted=!1,this.kpis=[],this.allKpis=[],this.searchTxt="",this.filters=[],this.today=null,this.viewType="showprim_status",this.viewName="Primary Status",this.kpiGroups=null,this.kpiGroupsKeys=[],this.keyGroups=[],this.isCluster=!1,this.markers=null,this.chartData=null,this.chartDataa=null,this.chartOptions=null,this.chartColors=[],this.textColor=[],this.viewIndex=0,this.viewOtions=[{name:"Primary Status",key:"showprim_status"},{name:"Trip Start",key:"x_showtripstart"},{name:"Trip End",key:"x_showtripend"}],this.selectedFilterKey="",this.table=null,this.primaryStatus=[],this.subPrimaryStatus={},this.secondaryStatus=[],this.activePrimaryStatus="",this.primarySubStatus=[],this.widths={smartTable:"40%",map:"60%"},this.isMapView=!1,this.infoWindow=null,this.infoStart=null,this.isZoomed=!1,this.lastRefreshTime=new Date,this.pdfData={primary:{name:"Primary",chartData:null,chartOptions:null,list:[],key:"showprim_status"},tripStart:{name:"Trip Start",chartData:null,chartOptions:null,list:[],key:"x_showtripstart",kpiGroups:null},tripEnd:{name:"Trip End",chartData:null,chartOptions:null,list:[],key:"x_showtripend",kpiGroups:null},tables:[]},this.rotate="",this.getKPIS(),this.common.currentPage="",this.common.refresh=this.refresh.bind(this),this.today=new Date}return l.prototype.ngOnInit=function(){this.registerForm=this.formBuilder.group({firstName:["",V.x.required],lastName:["",V.x.required],search:["",V.x.required]})},l.prototype.ngAfterViewInit=function(){this.common.stopScroll()},l.prototype.ngOnDestroy=function(){this.mapService.map=null,this.common.continuoueScroll()},Object.defineProperty(l.prototype,"f",{get:function(){return this.registerForm.controls},enumerable:!0,configurable:!0}),l.prototype.onSubmit=function(){this.submitted=!0,this.registerForm.invalid||alert("SUCCESS!! :-)\n\n"+JSON.stringify(this.registerForm.value))},l.prototype.refresh=function(){this.getKPIS()},l.prototype.getKPIS=function(l){var n=this;this.lastRefreshTime=new Date,!l&&this.common.loading++,this.api.get("VehicleKpis").subscribe(function(e){!l&&n.common.loading--,1==e.code&&(n.allKpis=e.data,localStorage.setItem("KPI_DATA",JSON.stringify(n.allKpis)),n.kpis=e.data,n.grouping(n.viewType),n.table=n.setTable(),n.handlePdfPrint())},function(e){!l&&n.common.loading--})},l.prototype.getTableColumns=function(l){var n=this,e=[];return(l||this.kpis).map(function(l,t){e.push({vechile:{value:l.x_showveh,action:n.getZoomAndaddShortTarget.bind(n,l),colActions:{dblclick:n.showDetails.bind(n,l),click:n.addShortTarget.bind(n,l),mouseover:n.rotateBounce.bind(n,l,t),mouseout:n.mapService.toggleBounceMF.bind(n.mapService,t,2)}},vehicleType:{value:l.x_vehicle_type,action:""},status:{value:l.showprim_status,action:n.showDetails.bind(n,l)},location:{value:l.Address,action:n.showLocation.bind(n,l)},hrs:{value:l.x_hrssince,action:""},Idle_Time:{value:n.common.changeTimeformat(l.x_idle_time),action:""},trip:{value:n.common.getTripStatusHTML(l.trip_status_type,l.x_showtripstart,l.x_showtripend,l.x_p_placement_type,l.x_p_loc_name),action:n.getUpadte.bind(n,l),isHTML:!0},kmp:{value:l.x_kmph,action:""},action:{value:"",isHTML:!1,action:null,icons:n.actionIcons(l)},rowActions:{click:"selectRow"}})}),e},l.prototype.getViewType=function(){this.table.data.columns=this.getTableColumns(),this.grouping(this.viewType)},l.prototype.grouping=function(l){var n=this;this.kpis=this.allKpis,this.kpiGroups=z.groupBy(this.allKpis,l),this.kpiGroupsKeys=Object.keys(this.kpiGroups),this.keyGroups=[],"showprim_status"==l?(this.primaryStatusGrouping(),this.primaryStatus.map(function(l){var e=Math.floor(359*Math.random()+1);n.keyGroups.push({name:l.name,bgColor:"hsl("+e+", 100%, 75%)",textColor:"hsl("+e+", 100%, 25%)"}),l.bgColor="hsl("+e+", 100%, 75%)",l.textColor="hsl("+e+", 100%, 25%)"})):this.kpiGroupsKeys.map(function(l){var e=Math.floor(359*Math.random()+1);n.keyGroups.push({name:l,bgColor:"hsl("+e+", 100%, 75%)",textColor:"hsl("+e+", 100%, 25%)"})}),this.sortData(l)},l.prototype.primaryStatusGrouping=function(){var l=this;this.primaryStatus=[],this.allKpis.map(function(n){var e=n.showprim_status.split(","),t=e.splice(0,1)[0].trim(),a=e.join(",").trim(),o=!1;"No Data 12 Hr"==t?(t="Issue",a="12 Hr +"):"Undetected"==t?(t="Issue",a="Undetected"):"No GPS Data"==t&&(t="Issue",a="No GPS Data"),l.primaryStatus.map(function(l){l.name==t&&(o=!0,l.length++,l.subStatus[a]?l.subStatus[a].push(n):l.subStatus[a]=[n])}),o||(l.primaryStatus.push({name:t,length:1,subStatus:{}}),l.primaryStatus[l.primaryStatus.length-1].subStatus[a]=[n])})},l.prototype.sortData=function(l){var n=this,e=[];this.chartColors=[];var t=[],a=[];"showprim_status"==l?(this.primaryStatus=z.sortBy(this.primaryStatus,["length"]).reverse(),this.primaryStatus.map(function(l){n.chartColors.push(l.bgColor),t.push(l.name),a.push(l.length)})):(this.keyGroups.map(function(l){e.push({group:l,length:n.kpiGroups[l.name].length})}),this.kpiGroupsKeys=[],z.sortBy(e,["length"]).reverse().map(function(l){n.kpiGroupsKeys.push(l.group)}),this.kpiGroupsKeys.map(function(l){n.chartColors.push(l.bgColor),t.push(l.name),a.push(n.kpiGroups[l.name].length)}));var o=this.common.pieChart(t,a,this.chartColors);this.chartData=o.chartData,this.chartOptions=o.chartOptions,this.selectedFilterKey&&this.filterData(this.selectedFilterKey,l)},l.prototype.filterData=function(l,n){var e=this;if("showprim_status"==this.viewType||"showprim_status"==n)if(this.kpis=[],"All"==l)this.primaryStatus.map(function(l){Object.keys(l.subStatus).map(function(n){l.subStatus[n].map(function(l){e.kpis.push(l)})})});else for(var t=function(n){if(a.primaryStatus[n].name==l)return Object.keys(a.primaryStatus[n].subStatus).map(function(l){e.primaryStatus[n].subStatus[l].map(function(l){e.kpis.push(l)})}),"break"},a=this,o=0;o<this.primaryStatus.length&&"break"!==t(o);o++);else"All"==l?this.kpis=this.allKpis:(this.selectedFilterKey=l,this.kpis=this.allKpis.filter(function(n){return n[e.viewType]==l}));this.table=this.setTable()},l.prototype.showLocation=function(l){l.x_tlat?(this.common.params={location:{lat:l.x_tlat,lng:l.x_tlong,name:"",time:""},title:"Vehicle Location"},this.modalService.open(N.a,{size:"lg",container:"nb-layout"})):this.common.showToast("Vehicle location not available!")},l.prototype.findVehicle=function(){var l=this;this.kpis=this.searchTxt?this.allKpis.filter(function(n){return n.x_showveh.toUpperCase().includes(l.searchTxt.toUpperCase())}):this.allKpis},l.prototype.findFilters=function(){var l=this;this.filters=["all"],this.allKpis.map(function(n){-1==l.filters.indexOf(n.showprim_status)&&l.filters.push(n.showprim_status)})},l.prototype.showDetails=function(l){this.common.params={kpi:l},this.modalService.open(L.a,{size:"lg",container:"nb-layout"}).componentInstance.modalHeader="kpisDetails"},l.prototype.getLR=function(l){var n=this;this.common.loading++,this.api.post("FoDetails/getLorryDetails",{x_lr_id:l.x_lr_id}).subscribe(function(l){n.common.loading--,n.showLR(l.data[0])},function(l){n.common.loading--})},l.prototype.showLR=function(l){this.common.params={images:[{name:"Lr",image:l.lr_image},{name:"Invoice",image:l.invoice_image},{name:"Other_Image",image:l.other_image}],title:"LR Details"},this.modalService.open(H.a,{size:"lg",container:"nb-layout"})},l.prototype.changeOptions=function(l){"forward"===l?(++this.viewIndex,this.viewIndex>this.viewOtions.length-1&&(this.viewIndex=0)):(--this.viewIndex,this.viewIndex<0&&(this.viewIndex=this.viewOtions.length-1)),this.viewType=this.viewOtions[this.viewIndex].key,this.viewName=this.viewOtions[this.viewIndex].name,this.grouping(this.viewType)},l.prototype.allData=function(){this.selectedFilterKey="",this.filterData("All")},l.prototype.reportIssue=function(l){var n=this;this.common.params={refPage:"db"},this.modalService.open(j.a,{size:"sm",container:"nb-layout"}).result.then(function(e){return e.status&&n.common.reportAnIssue(e.issue,l.x_vehicle_id)})},l.prototype.setTable=function(l){return{data:{headings:{vechile:{title:"Vehicle Number",placeholder:"Vehicle No"},vehicleType:{title:"Vehicle Type",placeholder:"Veh Type"},status:{title:"Status",placeholder:"Status"},location:{title:"Location",placeholder:"Location"},hrs:{title:"Hrs",placeholder:"Hrs "},Idle_Time:{title:"Idle Time",placeholder:"Idle Time"},trip:{title:"Trip",placeholder:"Trip"},kmp:{title:"Kmp",placeholder:"KMP"},action:{title:"Action",placeholder:"",hideSearch:!0}},columns:this.getTableColumns(l)},settings:{hideHeader:!0,count:{icon:"fa fa-map",action:this.handleMapView.bind(this)},tableHeight:"87vh"}}},l.prototype.choosePrimarySubStatus=function(l){if(l.name==this.activePrimaryStatus)return this.activePrimaryStatus="",void(this.primarySubStatus=[]);if(1==Object.keys(l.subStatus).length)return this.kpis=l.subStatus[Object.keys(l.subStatus)[0]],this.table=this.setTable(),this.primarySubStatus=[],void(this.activePrimaryStatus="");var n=[];Object.keys(l.subStatus).map(function(e,t){0==t&&n.push({id:0,name:"All",kpis:[]}),l.subStatus[e].map(function(l){return n[0].kpis.push(Object.assign({},l))}),n.push({id:t+1,name:(e||l.name)+" : "+l.subStatus[e].length,kpis:l.subStatus[e]})}),n[0].name+=" : "+n[0].kpis.length,this.primarySubStatus=n,this.activePrimaryStatus=l.name},l.prototype.selectSubStatus=function(l){this.kpis=l,this.table=this.setTable()},l.prototype.vehicleReport=function(l){this.common.params={vehicleId:l.x_vehicle_id,vehicleRegNo:l.x_showveh,ref_page:"consView"},this.common.handleModalHeightWidth("class","modal-lg","200","1500"),this.modalService.open($.a,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"myCustomModalClass"})},l.prototype.openRouteMapper=function(l){var n,e,t;n=new Date,e=l.x_showstarttime?this.common.dateFormatter(l.x_showstarttime):new Date(n.setDate(n.getDate()-2)),t=this.common.dateFormatter(e);var a=this.common.dateFormatter(t),o=this.common.dateFormatter(new Date);this.common.handleModalHeightWidth("class","modal-lg","200","1500"),this.common.params={vehicleId:l.x_vehicle_id,vehicleRegNo:l.x_showveh,fromTime:a,toTime:o},this.modalService.open(q.a,{size:"lg",container:"nb-layout",windowClass:"myCustomModalClass"})},l.prototype.openTripDetails=function(l){var n,e,t;n=new Date,e=new Date(n.setMonth(n.getMonth()-2)),t=this.common.dateFormatter(e);var a=this.common.dateFormatter(t),o=this.common.dateFormatter(new Date);this.common.params={vehicleId:l.x_vehicle_id,vehicleRegNo:l.x_showveh,fromTime:a,toTime:o},this.common.handleModalHeightWidth("class","modal-lg","200","1500"),this.modalService.open(G.a,{size:"lg",container:"nb-layout",windowClass:"myCustomModalClass"})},l.prototype.vehicleOnMap=function(){this.common.handleModalHeightWidth("class","modal-lg","200","1500"),this.common.params={vehicles:this.kpis},this.modalService.open(U.a,{size:"lg",container:"nb-layout"})},l.prototype.onResizeEnd=function(l,n){this.widths[n]=l.rectangle.width+"px"},l.prototype.initialiseMap=function(){var l=this;this.mapService.map&&"concise-view-map"==this.mapService.map.__gm.Z.id?this.mapService.map.__gm.Z=document.getElementById("concise-view-map"):this.mapService.mapIntialize("concise-view-map"),this.mapService.clearAll();for(var n=0;n<this.kpis.length;n++)this.kpis[n].color="No Data 12 Hr"==this.kpis[n].showprim_status||"Undetected"==this.kpis[n].showprim_status||"No GPS Data"==this.kpis[n].showprim_status?"ff0000":this.kpis[n].x_idle_time/60>0?"ffff00":"00ff00";setTimeout(function(){l.mapService.setMapType(0),l.markers=l.mapService.createMarkers(l.kpis),l.mapService.addListerner(l.mapService.map,"center_changed",function(){}),l.mapService.addListerner(l.mapService.map,"zoom_changed",function(){});for(var n=0,e=function(e){var t=l.kpis[n];l.mapService.addListerner(e,"mouseover",function(){return l.setEventInfo(t)}),l.mapService.addListerner(e,"mouseout",function(){return l.unsetEventInfo()}),n++},t=0,a=l.mapService.markers;t<a.length;t++)e(a[t])},1e3)},l.prototype.setMarkerLabels=function(){if(0!=this.mapService.markers.length)for(var l=0,n=this.mapService.markers;l<n.length;l++)n[l].setLabel("");if(this.mapService.map.getZoom()>=9)for(var e=0;e<this.mapService.markers.length;e++)this.mapService.markers[e].setLabel(this.kpis[e].x_showveh)},l.prototype.createCluster=function(){if(this.isCluster){for(var l=0;l<this.markers.length;l++)this.markers[l]&&(this.markers[l].title=this.kpis[l].x_showveh);this.mapService.createCluster(this.markers,!0)}else this.mapService.createCluster(this.markers,!1)},l.prototype.setEventInfo=function(l){this.infoStart=(new Date).getTime(),this.infoWindow&&this.infoWindow.close(),this.infoWindow=this.mapService.createInfoWindow(),this.infoWindow.opened=!1,this.infoWindow.setContent("\n      <b>Vehicle:</b>"+l.x_showveh+" <br>\n      <span><b>Trip:</b>"+this.common.getTripStatusHTML(l.trip_status_type,l.x_showtripstart,l.x_showtripend,l.x_p_placement_type,l.x_p_loc_name)+"</span> <br>\n      <b>Status:</b>"+l.showprim_status+" <br>\n      <b>Location:</b>"+l.Address+" <br>\n      "),this.rotateBounce(l,null,!1),this.infoWindow.setPosition(this.mapService.createLatLng(l.x_tlat,l.x_tlong)),this.infoWindow.open(this.mapService.map),this.mapService.getMapBounds()},l.prototype.unsetEventInfo=function(){(new Date).getTime()-this.infoStart>500&&(this.infoWindow.close(),this.infoWindow.opened=!1)},l.prototype.handleMapView=function(){var l=this;if(this.isZoomed)return this.isZoomed=!1,this.mapService.setMapType(0),void this.mapService.resetBounds();this.isMapView=!this.isMapView,setTimeout(function(){l.initialiseMap()},1e3)},l.prototype.rotateBounce=function(l,n,e){void 0===e&&(e=!0),this.rotate="rotate("+l.x_angle+"deg)",e&&this.mapService.toggleBounceMF(n)},l.prototype.getUpadte=function(l){this.common.params={tripDetils:{vehicleId:l.x_vehicle_id,siteId:l.x_hl_site_id},ref_page:"kpi"},this.modalService.open(K.a,{size:"lg",container:"nb-layout",backdrop:"static"})},l.prototype.getZoomAndaddShortTarget=function(l){this.isMapView?this.getZoom(l):this.addShortTarget(l)},l.prototype.getZoom=function(l){if(l){var n=this.mapService.getLatLngValue(l),e=this.mapService.createLatLng(n.lat,n.lng);this.mapService.zoomAt(e),this.isZoomed=!0}},l.prototype.actionIcons=function(l){var n=[{class:" icon fa fa-chart-pie",action:this.openChangeStatusModal.bind(this,l)},{class:"icon fa fa-star",action:this.vehicleReport.bind(this,l)},{class:" icon fa fa-route",action:this.openRouteMapper.bind(this,l)},{class:" icon fa fa-truck",action:this.openTripDetails.bind(this,l)},{class:"icon fa fa-globe",action:this.openVehicleStates.bind(this,l)},{class:"icon fa fa-question-circle",action:this.reportIssue.bind(this,l)},{class:"icon fa fa-user-secret",action:this.openStations.bind(this,l)},{class:"icon fas fa-tachometer-alt",action:this.openOdoMeter.bind(this,l)},{class:"icon fas fa-flag-checkered",action:this.openentityFlag.bind(this,l)}];return"admin"!=this.user._loggedInBy&&n.shift(),n},l.prototype.openChangeStatusModal=function(l){var n=new Date,e=this.common.dateFormatter(new Date),t=new Date(n.setHours(n.getHours()-48)),a=this.common.dateFormatter(t),o={id:l.id,vehicle_id:l.x_vehicle_id,tTime:e,suggest:null,latch_time:a,status:2,remark:l.remark};this.common.ref_page="tsfl",this.common.params=o,this.modalService.open(J.a,{size:"lg",container:"nb-layout"})},l.prototype.openVehicleStates=function(l){this.common.params={vehicleId:l.x_vehicle_id,vehicleRegNo:l.x_showveh,lat:l.x_tlat,long:l.x_tlong,vregno:l.x_empname},this.modalService.open(B.a,{size:"lg",container:"nb-layout"})},l.prototype.onMouseMove=function(l){var n=Y(new Date),e=Y(this.lastRefreshTime);Y.duration(n.diff(e)).asMinutes()>=5&&this.getKPIS(!0)},l.prototype.addShortTarget=function(l){this.common.params={vehicleId:l.x_vehicle_id,vehicleRegNo:l.x_showveh},this.modalService.open(Z.a,{size:"sm",container:"nb-layout"})},l.prototype.openStations=function(l){this.common.params={lat:l.x_tlat,long:l.x_tlong},this.modalService.open(X.a,{size:"lg",container:"nb-layout"})},l.prototype.openOdoMeter=function(l){this.common.params={vehicleId:l.x_vehicle_id,regno:l.x_showveh},this.modalService.open(ll.a,{size:"lg",container:"nb-layout",backdrop:"static"})},l.prototype.openentityFlag=function(l){this.common.handleModalSize("class","modal-lg","800"),this.common.params={title:"Entity Flag ",vehicleId:l.x_vehicle_id,regno:l.x_showveh},this.modalService.open(el.a,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"print-lr"})},l.prototype.getPdf=function(){this.common.downloadPdf("Content1")},l.prototype.handlePdfPrint=function(){var l=this,n={key:this.viewType,name:this.viewName};["primary","tripStart","tripEnd"].map(function(n){l.viewType=l.pdfData[n].key,l.grouping(l.viewType),l.pdfData[n].chartData=Object.assign({},l.chartData),l.pdfData[n].chartOptions=Object.assign({},l.chartOptions),"primary"==n?l.pdfData[n].list=l.primaryStatus:(l.pdfData[n].list=l.kpiGroupsKeys,l.pdfData[n].kpiGroups=l.kpiGroups)}),this.pdfData.tripStart.list.splice(5,this.pdfData.tripStart.list.length-1),this.pdfData.tripEnd.list.splice(5,this.pdfData.tripEnd.list.length-1),this.viewType=n.key,this.viewName=n.name,this.grouping(this.viewType)},l.prototype.generatePDF=function(){var l=this;this.common.loading++;var n=this.user._customer.id;"customer"==this.user._loggedInBy&&(n=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:n}).subscribe(function(n){l.common.loading--,l.printPDF(n.data.name)},function(n){l.common.loading--,console.error("Error:",n)})},l.prototype.printPDF=function(l){var n=this;this.pdfData.tables=[];var e=this.pdfData.primary.list,t=[];this.primaryStatus.map(function(l){var e=[];Object.keys(l.subStatus).map(function(n){e.push.apply(e,l.subStatus[n])}),n.pdfData.tables.push(n.setTable(e))}),this.pdfData.tables.map(function(l,n){t.push("print-table-"+n)}),this.pdfService.tableWithImages("page-1",t,e,l,"Trip Feedback Logs")},l.prototype.cookPdfData=function(){var l=this,n={key:this.viewType,name:this.viewName};["primary","tripStart","tripEnd"].map(function(n){l.viewType=l.pdfData[n].key,l.grouping(l.viewType),l.pdfData[n].chartData=Object.assign({},l.chartData),l.pdfData[n].chartOptions=Object.assign({},l.chartOptions),"primary"==n?l.pdfData[n].list=l.primaryStatus:(l.pdfData[n].list=l.kpiGroupsKeys,l.pdfData[n].kpiGroups=l.kpiGroups)}),this.pdfData.tripStart.list.splice(5,this.pdfData.tripStart.list.length-1),this.pdfData.tripEnd.list.splice(5,this.pdfData.tripEnd.list.length-1),this.viewType=n.key,this.viewName=n.name,this.grouping(this.viewType)},l.prototype.exportCsv=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--;var t="Customer Name::"+e.data.name,a="Report Generation Time:"+n.datePipe.transform(n.today,"dd-MM-yyyy hh:mm:ss a");n.common.getCSVFromTableId(l,t,"Report Name::Dashboard Trip",null,a)},function(l){n.common.loading--,console.log(l)})},l}(),al=e("4GxJ"),ol=t["\u0275crt"]({encapsulation:0,styles:[[".headings[_ngcontent-%COMP%]{background:#e2e2e2;font-size:11px;font-weight:500}.data[_ngcontent-%COMP%]{font-size:10px;border-bottom:1px solid #e2e2e2;min-height:20%}.data[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%], .headings[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:3px;border-left:1px solid #f2f2f2}[_nghost-%COMP%]    .icon{margin-right:5px;cursor:pointer}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700}[_nghost-%COMP%]    .black{color:#000}[_nghost-%COMP%]    .red{background:red;color:#fff}[_nghost-%COMP%]    .pink{background:pink;color:#000}[_nghost-%COMP%]    .green{background:#96ec11;color:#000}.loc-icon[_ngcontent-%COMP%]{text-align:center;font-size:10px;color:orange}[_nghost-%COMP%]     .circle{border:1px solid gray;border-radius:50%;padding:3px 4px}.route-arrow[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;margin:0 5px}[_nghost-%COMP%]     .complete{vertical-align:middle;color:green}.exit[_ngcontent-%COMP%]{vertical-align:middle;margin-right:3px}.loaded[_ngcontent-%COMP%]{font-weight:700}.search-box[_ngcontent-%COMP%]{background:#fff;font-size:13px;padding:6px 8px;border:1px solid #e2e2e2;border-radius:5px;vertical-align:middle;margin-left:10px;width:60%;letter-spacing:.3px;color:#000}table[_ngcontent-%COMP%]{cursor:pointer}.invalid-feedback[_ngcontent-%COMP%]{display:block;width:100%;margin-top:.25rem;font-size:80%;color:#dc3545}.status_box[_ngcontent-%COMP%]{width:100%}.status_box[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:0!important;border:none!important;border-top:1px solid #d7dee4!important}.status_box[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:14px 10px;font-weight:700}.select_option[_ngcontent-%COMP%]{background-color:#f1f1f1;padding:10px;margin-left:10px;margin-bottom:10px;margin-right:10px;-webkit-box-shadow:rgba(0,0,0,.2) 0 3px 10px 0;box-shadow:rgba(0,0,0,.2) 0 3px 10px 0}.select_option[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:14px}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:100%;margin-right:5px;display:inline-block;vertical-align:middle;-webkit-box-shadow:0 5px 10px 0 rgba(0,0,0,.2);box-shadow:0 5px 10px 0 rgba(0,0,0,.2)}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1)   span[_ngcontent-%COMP%]{background-color:#96ec11}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2)   span[_ngcontent-%COMP%]{background-color:#dc3545}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3)   span[_ngcontent-%COMP%]{background-color:#ff5200}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4)   span[_ngcontent-%COMP%]{background-color:#2196f3}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5)   span[_ngcontent-%COMP%]{background-color:#009688}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6)   span[_ngcontent-%COMP%]{background-color:#607d8b}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(7)   span[_ngcontent-%COMP%]{background-color:#9c27b0}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-top:10px}.select_option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}mwlResizable[_ngcontent-%COMP%]{-webkit-box-sizing:border-box;box-sizing:border-box}.map-table-container[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;border-right:5px solid #fff}[_nghost-%COMP%]     th:nth-child(1){width:30px!important}[_nghost-%COMP%]     th:nth-child(2){width:60px}[_nghost-%COMP%]     th:nth-child(3){width:50px}[_nghost-%COMP%]     th:nth-child(4){width:70px}[_nghost-%COMP%]     th:nth-child(5){width:70px}[_nghost-%COMP%]     th:nth-child(6){width:42px}[_nghost-%COMP%]     th:nth-child(7){width:42px}[_nghost-%COMP%]     th:nth-child(8){width:100px}[_nghost-%COMP%]     th:nth-child(9){width:44px}[_nghost-%COMP%]     th:nth-child(10){width:70px}[_nghost-%COMP%]     th{position:relative;z-index:999}[_nghost-%COMP%]     th .sort-container{width:15px;display:none}[_nghost-%COMP%]     th .filter-input-container{width:auto}[_nghost-%COMP%]     th:hover .sort-container{display:inline-block}[_nghost-%COMP%]     th:hover .filter-input-container{width:calc(100% - 17px)}[_nghost-%COMP%]     td .icon.fa-chart-pie{color:#04a9f5}[_nghost-%COMP%]     td .icon.fa-chart-pie span{position:absolute;display:none;padding:10px 65px;font-size:11px;font-weight:400;left:-56px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     td .icon.fa-chart-pie span::before{content:'Change Vehicle Status';display:block;position:absolute;top:0;left:0;background-color:#04a9f5;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     td .icon.fa-chart-pie span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #04a9f5;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td .icon.fa-chart-pie:hover span{display:block}[_nghost-%COMP%]     td .icon.fa-star{color:#8518d5}[_nghost-%COMP%]     td .icon.fa-star span{position:absolute;display:none;padding:10px 44px;font-weight:400;font-size:11px;left:-36px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     td .icon.fa-star span::before{content:'Vehicle Event';display:block;position:absolute;top:0;left:0;background-color:#8518d5;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     td .icon.fa-star span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #8518d5;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td .icon.fa-star:hover span{display:block}[_nghost-%COMP%]     td .icon.fa-route{color:#ff8091}[_nghost-%COMP%]     td .icon.fa-route span{position:absolute;display:none;padding:10px 44px;font-size:11px;left:-34px;font-weight:400;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     td .icon.fa-route span::before{content:'Route Tracker';display:block;position:absolute;top:0;left:0;background-color:#ff8091;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     td .icon.fa-route span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #ff8091;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td .icon.fa-route:hover span{display:block}[_nghost-%COMP%]     td .icon.fa-truck{color:#5cd050}[_nghost-%COMP%]     td .icon.fa-truck span{position:absolute;display:none;padding:10px 23px;font-size:11px;font-weight:400;left:-16px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     td .icon.fa-truck span::before{content:'Trips';display:block;position:absolute;top:0;left:0;background-color:#5cd050;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     td .icon.fa-truck span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #5cd050;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td .icon.fa-truck:hover span{display:block}[_nghost-%COMP%]     td .icon.fa-globe{color:#d51818}[_nghost-%COMP%]     td .icon.fa-globe span{position:absolute;display:none;padding:10px 46px;font-size:11px;font-weight:400;left:-70px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     td .icon.fa-globe span::before{content:'Vehicle States';display:block;position:absolute;top:0;left:0;background-color:#d51818;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     td .icon.fa-globe span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #d51818;position:absolute;bottom:-5px;right:9px}[_nghost-%COMP%]     td .icon.fa-globe:hover span{display:block}[_nghost-%COMP%]     td .icon.fa-question-circle{color:#b150d0}[_nghost-%COMP%]     td .icon.fa-question-circle span{position:absolute;display:none;padding:10px 42px;font-weight:400;font-size:11px;left:-62px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     td .icon.fa-question-circle span::before{content:'Report Issue';display:block;position:absolute;top:0;left:0;background-color:#b150d0;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     td .icon.fa-question-circle span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #b150d0;position:absolute;bottom:-5px;right:10px}[_nghost-%COMP%]     td .icon.fa-user-secret{color:#50a1d0}[_nghost-%COMP%]     td .icon.fa-user-secret span{position:absolute;display:none;padding:10px 28px;font-weight:400;font-size:11px;left:-22px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     td .icon.fa-user-secret span::before{content:'Station';display:block;position:absolute;top:0;left:0;background-color:#50a1d0;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     td .icon.fa-user-secret span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #50a1d0;position:absolute;bottom:-5px;right:22px}[_nghost-%COMP%]     td .icon.fa-user-secret:hover span{display:block}[_nghost-%COMP%]     td .icon.fa-question-circle:hover span{display:block}[_nghost-%COMP%]     td .icon.fa-tachometer-alt{color:#ff8099}[_nghost-%COMP%]     td .icon.fa-tachometer-alt span{position:absolute;display:none;padding:10px 35px;font-weight:400;font-size:11px;left:-28px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     td .icon.fa-tachometer-alt span::before{content:'Odometer';display:block;position:absolute;top:0;left:0;background-color:#ff8099;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     td .icon.fa-tachometer-alt span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #ff8099;position:absolute;bottom:-5px;right:50%;-webkit-transform:translate(50%);transform:translate(50%)}[_nghost-%COMP%]     td .icon.fa-tachometer-alt:hover span{display:block}[_nghost-%COMP%]     td .icon.fa-flag-checkered{color:#d84a11}[_nghost-%COMP%]     td .icon.fa-flag-checkered span{position:absolute;display:none;padding:10px 35px;font-weight:400;font-size:11px;left:-28px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     td .icon.fa-flag-checkered span::before{content:'Entity flag';display:block;position:absolute;top:0;left:0;background-color:#d84a11;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     td .icon.fa-flag-checkered span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #d84a11;position:absolute;bottom:-5px;right:50%;-webkit-transform:translate(50%);transform:translate(50%)}[_nghost-%COMP%]     td .icon.fa-flag-checkered:hover span{display:block}[_nghost-%COMP%]     .loading{color:green}[_nghost-%COMP%]     .unloading{color:red}[_nghost-%COMP%]     .others{color:teal}.tracker_img[_ngcontent-%COMP%]{position:absolute;bottom:10px;z-index:999;width:40px;left:12px}.tracker_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]    .tableFixHead{height:auto!important;max-height:calc(100vh - 80px)}[_nghost-%COMP%]     .no-search{background:#fff;color:#000}.exel-icon[_ngcontent-%COMP%]{bottom:35px;position:absolute;right:30px;background-color:#4fa9ff;font-size:16px;border-radius:100px;width:40px;height:40px;text-align:center;line-height:40px;color:#fff;-webkit-box-shadow:5px 4px 24px rgba(0,0,0,.4);box-shadow:5px 4px 24px rgba(0,0,0,.4)}.pdf-print[_ngcontent-%COMP%]{width:40px!important;height:40px!important;text-align:center!important;line-height:40px!important;border-radius:100%!important;padding:0;font-size:16px!important;margin-top:0!important;bottom:35px;position:absolute;left:0;background-color:red!important;cursor:pointer!important}.cluster-view[_ngcontent-%COMP%]{background:#f2f2f2;position:absolute;z-index:999999;bottom:20px;padding:5px 10px;border-radius:5px;left:45%}"],d.a,[".nb_card_box[_ngcontent-%COMP%]{position:absolute;top:70px;z-index:998}.status-print-view2[_ngcontent-%COMP%]{width:210mm;height:297mm;margin:auto}.graph-data[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]{width:33%;display:inline-block;padding:0;font-size:14px;font-weight:700}.graph-data[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:15px 6px;display:block}.status-print-view[_ngcontent-%COMP%]{padding:15px;height:310mm;font-size:24px}.all_data[_ngcontent-%COMP%]{font-size:12px}.status-print-view[_ngcontent-%COMP%]   .dashboard_chart[_ngcontent-%COMP%]{width:60%;margin:16px auto 15px}.truck-route[_ngcontent-%COMP%]{position:relative;width:80%;margin:20px auto 40px}.truck_road[_ngcontent-%COMP%]{display:block;width:100%}.truck_road[_ngcontent-%COMP%]:before{content:'';display:block;width:10px;height:10px;background-color:#000;border-radius:100%;position:absolute;bottom:-3px}.truck_road[_ngcontent-%COMP%]:after{content:'';display:block;width:10px;height:10px;background-color:#000;border-radius:100%;position:absolute;right:0;bottom:-3px}.truck_road[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background-color:#000;height:2px;margin:0}.left-truck[_ngcontent-%COMP%]{margin-left:15px}.right-truck[_ngcontent-%COMP%]{float:right;margin-right:15px}.truck_road[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px;color:#f87003}#page-2[_ngcontent-%COMP%]   .status_box[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]:nth-child(1){border-top:0!important}.status-print-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;color:#55a1ff;font-size:28px;margin:0}.status_box[_ngcontent-%COMP%]{margin-right:-90px!important}"]],data:{}});function il(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,1,7,"nb-card-body",[["style","cursor: pointer;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.choosePrimarySubStatus(l.context.$implicit)&&t),t},O.d,O.a)),t["\u0275did"](3,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,3,"div",[["class","col-sm-1 p-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["style","width: 20px;height: 20px;border-radius: 100%; box-shadow: 0 5px 10px 0 rgba(0,0,0,.2);"]],null,null,null,null,null)),t["\u0275did"](6,278528,null,0,_.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](7,{"background-color":0}),(l()(),t["\u0275eld"](8,0,null,0,1,"div",[["class","col-sm-9"]],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,[" "," (",") "]))],function(l,n){var e=l(n,7,0,n.context.$implicit.bgColor);l(n,6,0,e)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]),l(n,9,0,n.context.$implicit.name,n.context.$implicit.length)})}function ul(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,12,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,11,"div",[["style","overflow: hidden;"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,3,"div",[["class","row"],["style","font-size:16px;margin:0px;text-align: center;padding:8px 0px;background: linear-gradient(45deg,#30ccff 0,#5a9cff 100%); color: #fff; border-radius: 5px; margin-bottom: 10px; "]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,["",""])),(l()(),t["\u0275eld"](8,0,null,null,2,"div",[["class","chartbox"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,1,"chart",[["class","dashboard_chart"],["id","chart"],["type","pie"]],null,null,null,R.b,R.a)),t["\u0275did"](10,638976,null,0,I.ChartComponent,[t.ElementRef,t.NgZone],{type:[0,"type"],data:[1,"data"],options:[2,"options"]},null),(l()(),t["\u0275eld"](11,0,null,null,3,"div",[["class","status_box"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,2,"div",[["class","graph-data"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,il)),t["\u0275did"](14,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](15,0,null,null,0,"div",[["class","col-sm-3"]],null,null,null,null,null))],function(l,n){var e=n.component;l(n,10,0,"pie",e.pdfData.primary.chartData,e.pdfData.primary.chartOptions),l(n,14,0,e.pdfData.primary.list)},function(l,n){var e=n.component;l(n,3,0,e.isMapView),l(n,7,0,e.pdfData.primary.name)})}function rl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,1,8,"nb-card-body",[["style","cursor: pointer;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.filterData(l.context.$implicit.name)&&t),t},O.d,O.a)),t["\u0275did"](3,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,3,"div",[["class","col-sm-1 p-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["style","width: 20px;height: 20px;border-radius: 100%; box-shadow: 0 5px 10px 0 rgba(0,0,0,.2);"]],null,null,null,null,null)),t["\u0275did"](6,278528,null,0,_.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](7,{"background-color":0}),(l()(),t["\u0275eld"](8,0,null,0,2,"div",[["class","col-sm-11 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,[" "," (",") "])),t["\u0275ppd"](10,1)],function(l,n){var e=l(n,7,0,n.context.$implicit.bgColor);l(n,6,0,e)},function(l,n){var e=n.component;l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]);var a=t["\u0275unv"](n,9,0,l(n,10,0,t["\u0275nov"](n.parent.parent,0),n.context.$implicit.name));l(n,9,0,a,e.pdfData.tripStart.kpiGroups[n.context.$implicit.name].length)})}function sl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,1,8,"nb-card-body",[["style","cursor: pointer;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.filterData(l.context.$implicit.name)&&t),t},O.d,O.a)),t["\u0275did"](3,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,3,"div",[["class","col-sm-1 p-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["style","width: 20px;height: 20px;border-radius: 100%; box-shadow: 0 5px 10px 0 rgba(0,0,0,.2);"]],null,null,null,null,null)),t["\u0275did"](6,278528,null,0,_.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](7,{"background-color":0}),(l()(),t["\u0275eld"](8,0,null,0,2,"div",[["class","col-sm-11 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,[" "," (",") "])),t["\u0275ppd"](10,1)],function(l,n){var e=l(n,7,0,n.context.$implicit.bgColor);l(n,6,0,e)},function(l,n){var e=n.component;l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]);var a=t["\u0275unv"](n,9,0,l(n,10,0,t["\u0275nov"](n.parent.parent,0),n.context.$implicit.name));l(n,9,0,a,e.pdfData.tripEnd.kpiGroups[n.context.$implicit.name].length)})}function dl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,1,4,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](3,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,2,"div",[],[[8,"id",0]],null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"smart-table",[["class","home-page-tabel"],["style","width:100%;"]],null,null,null,S.b,S.a)),t["\u0275did"](6,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){l(n,6,0,n.context.$implicit.data,n.context.$implicit.settings)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]),l(n,4,0,"print-table-"+n.context.index)})}function cl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,40,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,32,"div",[["class","status-print-view pt-0"],["id","page-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[["class","status-print-title text-center"],["style","padding: 20px 0px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Trip dashboard"])),(l()(),t["\u0275and"](16777216,null,null,1,null,ul)),t["\u0275did"](6,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](7,0,null,null,4,"div",[["class","truck-route"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,3,"div",[["class","truck_road"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,0,"i",[["class","fas fa-truck-moving left-truck"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,0,"i",[["class","fas fa-truck-moving right-truck"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,21,"div",[["class","row"],["id","page-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,9,"div",[["class","col-sm-3 pl-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,8,"div",[["class",""],["style","overflow: hidden;"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,3,"div",[["class","row"],["style","font-size:16px;margin:0px;text-align: center;padding:8px 0px;background: linear-gradient(45deg,#30ccff 0,#5a9cff 100%); color: #fff; border-radius: 5px; margin-bottom: 10px; "]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Top 5 Trip Start"])),(l()(),t["\u0275eld"](19,0,null,null,3,"div",[["class","status_box"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,2,"div",[["class",""]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,rl)),t["\u0275did"](22,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](23,0,null,null,0,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,9,"div",[["class","col-sm-3 pr-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,8,"div",[["class",""],["style","overflow: hidden;"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,3,"div",[["class","row"],["style","font-size:16px;margin:0px;text-align: center;padding:8px 0px;background: linear-gradient(45deg,#30ccff 0,#5a9cff 100%); color: #fff; border-radius: 5px; margin-bottom: 10px; "]],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](28,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Top 5 Trip End"])),(l()(),t["\u0275eld"](30,0,null,null,3,"div",[["class","status_box"]],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,null,2,"div",[["class",""]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,sl)),t["\u0275did"](33,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](34,0,null,null,6,"div",[["class","map-table-container"],["mwlResizable",""]],null,[[null,"resizeEnd"]],function(l,n,e){var t=!0;return"resizeEnd"===n&&(t=!1!==l.component.onResizeEnd(e,"smartTable")&&t),t},null,null)),t["\u0275did"](35,278528,null,0,_.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](36,{width:0}),t["\u0275did"](37,737280,null,0,E.a,[t.PLATFORM_ID,t.Renderer2,t.ElementRef,t.NgZone],{resizeEdges:[0,"resizeEdges"],enableGhostResize:[1,"enableGhostResize"]},{resizeEnd:"resizeEnd"}),t["\u0275pod"](38,{bottom:0,right:1,top:2,left:3}),(l()(),t["\u0275and"](16777216,null,null,1,null,dl)),t["\u0275did"](40,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,6,0,e.pdfData.primary.list.length),l(n,22,0,e.pdfData.tripStart.list),l(n,33,0,e.pdfData.tripEnd.list);var t=l(n,36,0,e.isMapView?e.widths.smartTable:"100%");l(n,35,0,t);var a=l(n,38,0,!1,!0,!1,!1);l(n,37,0,a,!0),l(n,40,0,e.pdfData.tables)},function(l,n){var e=n.component;l(n,14,0,e.isMapView),l(n,25,0,e.isMapView)})}function pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.selectSubStatus(l.context.$implicit.kpis)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[" "," "]))],null,function(l,n){l(n,2,0,n.context.$implicit.name)})}function gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","select_option"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"ul",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,pl)),t["\u0275did"](3,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,3,0,n.component.primarySubStatus)},null)}function hl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,1,10,"nb-card-body",[["style","cursor: pointer;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.choosePrimarySubStatus(l.context.$implicit)&&t),t},O.d,O.a)),t["\u0275did"](3,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,3,"div",[["class","col-sm-1 p-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["style","width: 20px;height: 20px;border-radius: 100%; box-shadow: 0 5px 10px 0 rgba(0,0,0,.2);"]],null,null,null,null,null)),t["\u0275did"](6,278528,null,0,_.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](7,{"background-color":0}),(l()(),t["\u0275eld"](8,0,null,0,2,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,[" "," "])),t["\u0275ppd"](10,1),(l()(),t["\u0275eld"](11,0,null,0,1,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,[" "," "])),(l()(),t["\u0275and"](16777216,null,2,1,null,gl)),t["\u0275did"](14,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component,t=l(n,7,0,n.context.$implicit.bgColor);l(n,6,0,t),l(n,14,0,e.activePrimaryStatus==n.context.$implicit.name)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]);var e=t["\u0275unv"](n,9,0,l(n,10,0,t["\u0275nov"](n.parent.parent.parent,0),n.context.$implicit.name));l(n,9,0,e),l(n,12,0,n.context.$implicit.length)})}function ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,hl)),t["\u0275did"](2,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.primaryStatus)},null)}function fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,1,10,"nb-card-body",[["style","cursor: pointer;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.filterData(l.context.$implicit.name)&&t),t},O.d,O.a)),t["\u0275did"](3,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,3,"div",[["class","col-sm-1 p-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["style","width: 20px;height: 20px;border-radius: 100%; box-shadow: 0 5px 10px 0 rgba(0,0,0,.2);"]],null,null,null,null,null)),t["\u0275did"](6,278528,null,0,_.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](7,{"background-color":0}),(l()(),t["\u0275eld"](8,0,null,0,2,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,[" "," "])),t["\u0275ppd"](10,1),(l()(),t["\u0275eld"](11,0,null,0,1,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,[" "," "]))],function(l,n){var e=l(n,7,0,n.context.$implicit.bgColor);l(n,6,0,e)},function(l,n){var e=n.component;l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]);var a=t["\u0275unv"](n,9,0,l(n,10,0,t["\u0275nov"](n.parent.parent.parent,0),n.context.$implicit.name));l(n,9,0,a),l(n,12,0,e.kpiGroups[n.context.$implicit.name].length)})}function vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,fl)),t["\u0275did"](2,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.kpiGroupsKeys)},null)}function bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,28,"div",[["class",""]],null,null,null,null,null)),t["\u0275did"](1,278528,null,0,_.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),t["\u0275eld"](2,0,null,null,26,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,7,"div",[["class","map-table-container"],["mwlResizable",""]],null,[[null,"resizeEnd"]],function(l,n,e){var t=!0;return"resizeEnd"===n&&(t=!1!==l.component.onResizeEnd(e,"smartTable")&&t),t},null,null)),t["\u0275did"](4,278528,null,0,_.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](5,{width:0}),t["\u0275did"](6,737280,null,0,E.a,[t.PLATFORM_ID,t.Renderer2,t.ElementRef,t.NgZone],{resizeEdges:[0,"resizeEdges"],enableGhostResize:[1,"enableGhostResize"]},{resizeEnd:"resizeEnd"}),t["\u0275pod"](7,{bottom:0,right:1,top:2,left:3}),(l()(),t["\u0275eld"](8,0,null,null,2,"div",[["id","print-section"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,1,"smart-table",[["class","home-page-tabel"],["style","width:100%;"]],null,null,null,S.b,S.a)),t["\u0275did"](10,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null),(l()(),t["\u0275eld"](11,0,null,null,17,"div",[["style","padding: 0px; min-width:300px; display:inline-block; position: relative;"]],[[8,"hidden",0]],null,null,null,null)),t["\u0275did"](12,278528,null,0,_.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](13,{width:0}),(l()(),t["\u0275eld"](14,0,null,null,0,"div",[["id","concise-view-map"],["style","width: 100%; height: 87vh;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,3,"div",[["class","tracker_img"]],null,null,null,null,null)),t["\u0275did"](16,278528,null,0,_.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](17,{transform:0}),(l()(),t["\u0275eld"](18,0,null,null,0,"img",[["alt","image"],["src","./assets/images/arrow-top.png"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,9,"div",[["class","cluster-view"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,5,"input",[["style","vertical-align: middle; margin-top: 0;"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,21).onChange(e.target.checked)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,21).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.isCluster=e)&&a),"change"===n&&(a=!1!==o.createCluster()&&a),a},null,null)),t["\u0275did"](21,16384,null,0,V.b,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.b]),t["\u0275did"](23,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](25,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](26,0,null,null,2,"span",[["style","vertical-align: middle;margin-left: 5px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Cluster View?"]))],function(l,n){var e=n.component;l(n,1,0,"",e.isMapView?"col-sm-12 p-0":"col-sm-9 p-0");var t=l(n,5,0,e.isMapView?e.widths.smartTable:"100%");l(n,4,0,t);var a=l(n,7,0,!1,!0,!1,!1);l(n,6,0,a,!0),l(n,10,0,e.table.data,e.table.settings);var o=l(n,13,0,"calc(100% - "+e.widths.smartTable+")");l(n,12,0,o);var i=l(n,17,0,e.rotate);l(n,16,0,i),l(n,23,0,e.isCluster)},function(l,n){l(n,11,0,!n.component.isMapView),l(n,20,0,t["\u0275nov"](n,25).ngClassUntouched,t["\u0275nov"](n,25).ngClassTouched,t["\u0275nov"](n,25).ngClassPristine,t["\u0275nov"](n,25).ngClassDirty,t["\u0275nov"](n,25).ngClassValid,t["\u0275nov"](n,25).ngClassInvalid,t["\u0275nov"](n,25).ngClassPending)})}function xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,39,"nb-card",[["class","nb_card_box"],["style","border: 0px; height: 100%;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,1,37,"nb-card-body",[["style","padding:5px 5px 0px;"]],null,null,null,O.d,O.a)),t["\u0275did"](3,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,35,"div",[["class","row m-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,32,"div",[["class","col-sm-3 pl-0 pr-2"],["style","height: 90vh; overflow: hidden;"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,9,"div",[["class","row"],["style","font-size:16px;margin:0px;text-align: center;padding:8px 0px;background: linear-gradient(45deg,#30ccff 0,#5a9cff 100%); color: #fff; border-radius: 5px; margin-bottom: 10px; "]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,1,"span",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.changeOptions("reverse")&&t),t},null,null)),(l()(),t["\u0275eld"](9,0,null,null,0,"i",[["class","icon ion-ios-rewind"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,2,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,["",""])),(l()(),t["\u0275eld"](13,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,1,"span",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.changeOptions("forward")&&t),t},null,null)),(l()(),t["\u0275eld"](15,0,null,null,0,"i",[["class","icon ion-ios-fastforward"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,1,"chart",[["class","dashboard_chart"],["id","chart"],["type","pie"]],null,null,null,R.b,R.a)),t["\u0275did"](18,638976,null,0,I.ChartComponent,[t.ElementRef,t.NgZone],{type:[0,"type"],data:[1,"data"],options:[2,"options"]},null),(l()(),t["\u0275eld"](19,0,null,null,14,"div",[["class","status_box"],["style","overflow: auto; height: calc(90vh - 250px); max-height: calc(90vh - 250px);"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,9,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](21,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](22,0,null,1,7,"nb-card-body",[["style","cursor: pointer;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.allData()&&t),t},O.d,O.a)),t["\u0275did"](23,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](24,0,null,0,1,"div",[["class","col-sm-1 p-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,0,"div",[["style","background-color:grey;color: white; box-shadow: 0 5px 10px 0 rgba(0,0,0,.2); width: 20px;height: 20px;border-radius: 100%;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,0,1,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" All Data "])),(l()(),t["\u0275eld"](28,0,null,0,1,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275ted"](29,null,[" "," "])),(l()(),t["\u0275and"](16777216,null,null,1,null,ml)),t["\u0275did"](31,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,vl)),t["\u0275did"](33,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](34,0,null,null,1,"button",[["class","btn btn-primary pdf-print"],["pdf",""],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.generatePDF()&&t),t},null,null)),(l()(),t["\u0275eld"](35,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),t["\u0275eld"](36,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.exportCsv("print-section")&&t),t},null,null)),(l()(),t["\u0275eld"](37,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,bl)),t["\u0275did"](39,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,18,0,"pie",e.chartData,e.chartOptions),l(n,31,0,"showprim_status"==e.viewType),l(n,33,0,"showprim_status"!==e.viewType),l(n,39,0,e.table)},function(l,n){var e=n.component;l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]),l(n,5,0,e.isMapView),l(n,12,0,e.viewName),l(n,20,1,[t["\u0275nov"](n,21).xxsmall,t["\u0275nov"](n,21).xsmall,t["\u0275nov"](n,21).small,t["\u0275nov"](n,21).medium,t["\u0275nov"](n,21).large,t["\u0275nov"](n,21).xlarge,t["\u0275nov"](n,21).xxlarge,t["\u0275nov"](n,21).active,t["\u0275nov"](n,21).disabled,t["\u0275nov"](n,21).primary,t["\u0275nov"](n,21).info,t["\u0275nov"](n,21).success,t["\u0275nov"](n,21).warning,t["\u0275nov"](n,21).danger,t["\u0275nov"](n,21).hasAccent,t["\u0275nov"](n,21).primaryAccent,t["\u0275nov"](n,21).infoAccent,t["\u0275nov"](n,21).successAccent,t["\u0275nov"](n,21).warningAccent,t["\u0275nov"](n,21).dangerAccent,t["\u0275nov"](n,21).activeAccent,t["\u0275nov"](n,21).disabledAccent]),l(n,29,0,e.allKpis.length)})}function yl(l){return t["\u0275vid"](0,[t["\u0275pid"](0,_.TitleCasePipe,[]),(l()(),t["\u0275and"](16777216,null,null,1,null,cl)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,xl)),t["\u0275did"](4,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.allKpis.length),l(n,4,0,e.allKpis.length)},null)}function Cl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"concise",[],null,[["document","mousemove"]],function(l,n,e){var a=!0;return"document:mousemove"===n&&(a=!1!==t["\u0275nov"](l,1).onMouseMove(e)&&a),a},yl,ol)),t["\u0275did"](1,4440064,null,0,tl,[a.a,F.a,i.a,V.e,al.u,W.a,_.DatePipe,Q.a,nl.a],null,null)],function(l,n){l(n,1,0)},null)}var _l=t["\u0275ccf"]("concise",tl,Cl,{},{},[]),wl=function(){function l(l,n,e,t){this.api=l,this.common=n,this.user=e,this.modalService=t,this.kpis=[],this.allKpis=[],this.searchTxt="",this.filters=[],this.table={data:{headings:{vehicle:{title:"Vehicle",placeholder:"Vehicle"},status:{title:"Status",placeholder:"Status"},hrs:{title:"Hrs",placeholder:"Hrs"},trip:{title:"Trip",placeholder:"Trip"},kmp:{title:"Kmp",placeholder:"Kmp"},location:{title:"location",placeholder:"Location"}},columns:[]},settings:{hideHeader:!0}},this.getKPIS(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){console.log("ionViewDidLoad DriverKpisPage")},l.prototype.refresh=function(){console.log("Refresh"),this.getKPIS()},l.prototype.getKPIS=function(){var l=this;this.common.loading++,this.api.get("VehicleKpis").subscribe(function(n){l.common.loading--,console.log(n),l.allKpis=n.data,l.kpis=n.data,l.table.data.columns=l.getTableColumns()},function(n){l.common.loading--,console.log(n)})},l.prototype.showLocation=function(l){if(l.x_tlat){var n={lat:l.x_tlat,lng:l.x_tlong,name:"",time:""};console.log("Location: ",n),this.common.params={location:n,title:"Vehicle Location"},this.modalService.open(N.a,{size:"lg",container:"nb-layout"})}else this.common.showToast("Vehicle location not available!")},l.prototype.findVehicle=function(){var l=this;this.kpis=this.searchTxt?this.allKpis.filter(function(n){return n.x_showveh.toUpperCase().includes(l.searchTxt.toUpperCase())}):this.allKpis},l.prototype.findFilters=function(){var l=this;this.filters=["all"],this.allKpis.map(function(n){-1==l.filters.indexOf(n.showprim_status)&&l.filters.push(n.showprim_status)})},l.prototype.showDetails=function(l){this.common.params={kpi:l},this.modalService.open(L.a,{size:"lg",container:"nb-layout"}).componentInstance.modalHeader="kpisDetails"},l.prototype.getLR=function(l){var n=this;this.common.loading++,this.api.post("FoDetails/getLorryDetails",{x_lr_id:l.x_lr_id}).subscribe(function(l){n.common.loading--,n.showLR(l.data[0]),console.log("data",l)},function(l){n.common.loading--,console.log(l)})},l.prototype.showLR=function(l){var n=[{name:"Lr",image:l.lr_image},{name:"Invoice",image:l.invoice_image},{name:"Other_Image",image:l.other_image}];console.log("image",n),this.common.params={images:n,title:"LR Details"},this.modalService.open(H.a,{size:"lg",container:"nb-layout"})},l.prototype.getTableColumns=function(){var l=this,n=[];return this.allKpis.map(function(e){n.push({vehicle:{value:e.x_showveh,action:l.showDetails.bind(l,e)},status:{value:e.showprim_status+(e.showsec_status?","+e.showsec_status:""),action:l.showDetails.bind(l,e)},hrs:{value:e.x_hrssince,class:e.x_hrssince>=24?"red":"",action:l.showDetails.bind(l,e)},trip:{value:l.getTripStatusHTML(e),action:l.showDetails.bind(l,e),isHTML:!0},kmp:{value:e.x_kmph,class:e.x_kmph<20?"pink":"",action:l.showDetails.bind(l,e)},location:{value:e.Address,action:l.showLocation.bind(l,e)},rowActions:{click:l.showDetails.bind(l,e)}})}),n},l.prototype.getTripStatusHTML=function(l){var n="<div>";return(n+=0==l.trip_status_type?'\n      \x3c!-- Heading --\x3e\n        <i class="fa fa-arrow-circle-right complete"></i>\n        <span class="circle">'+l.x_showtripstart+'</span>\n        <i class="icon ion-md-arrow-round-forward"></i>\n        <span>'+l.x_showtripend+"</span>\n      ":1==l.trip_status_type?'\n      \x3c!-- Loading --\x3e\n        <span class="circle">'+l.x_showtripstart+'</span>\n        <i class="icon ion-md-arrow-round-forward"></i>\n        <span>'+l.x_showtripend+"</span>\n      ":2==l.trip_status_type?"\n      \x3c!-- Onward --\x3e\n        <span>"+l.x_showtripstart+'</span>\n        <i class="icon ion-md-arrow-round-forward"></i>\n        <span>'+l.x_showtripend+"</span>\n      ":3==l.trip_status_type?"\n        \x3c!-- Unloading --\x3e\n          <span>"+l.x_showtripstart+'</span>\n          <i class="icon ion-md-arrow-round-forward"></i>\n          <span class="circle">'+l.x_showtripend+"</span>\n        ":4==l.trip_status_type?"\n      \x3c!-- Complete --\x3e\n        <span>"+l.x_showtripstart+'</span>\n        <i class="icon ion-md-arrow-round-forward"></i>\n        <span>'+l.x_showtripend+'</span>\n        <i class="fa fa-check-circle complete"></i>\n      ':"\n      \x3c!-- Ambigous --\x3e\n        <span>"+l.x_showtripstart+'</span>\n        <span class="icon ion-md-route-arrow">-</span>\n        <span>'+l.x_showtripend+"</span>\n      ")+"</div>"},l}(),Ml=t["\u0275crt"]({encapsulation:0,styles:[[".headings[_ngcontent-%COMP%]{background:#e2e2e2;font-size:11px;font-weight:500}.data[_ngcontent-%COMP%]{font-size:10px;border-bottom:1px solid #e2e2e2}.data[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%], .headings[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:3px;border-left:1px solid #f2f2f2}[_nghost-%COMP%]    .red{background:red;color:#fff}[_nghost-%COMP%]     .pink{background:pink}.loc-icon[_ngcontent-%COMP%]{text-align:center;font-size:10px;color:orange}[_nghost-%COMP%]     .circle{border:1px solid gray;border-radius:50%;padding:3px 4px}.route-arrow[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;margin:0 5px}[_nghost-%COMP%]     .complete{vertical-align:middle;color:green}.exit[_ngcontent-%COMP%]{vertical-align:middle;margin-right:3px}.loaded[_ngcontent-%COMP%]{font-weight:700}.search-box[_ngcontent-%COMP%]{background:#fff;font-size:13px;padding:6px 8px;border:1px solid #e2e2e2;border-radius:5px;vertical-align:middle;margin-left:10px;width:60%;letter-spacing:.3px;color:#000}table[_ngcontent-%COMP%]{cursor:pointer}"],d.a],data:{}});function Tl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function Dl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h2",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle KPIs"])),(l()(),t["\u0275eld"](6,0,null,1,4,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,Tl)),t["\u0275did"](9,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](10,0,null,0,0,"br",[],null,null,null,null,null))],function(l,n){var e=n.component;l(n,9,0,e.allKpis&&e.allKpis.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function Pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"vehicle-kpis",[],null,null,null,Dl,Ml)),t["\u0275did"](1,114688,null,0,wl,[a.a,F.a,i.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var Ol=t["\u0275ccf"]("vehicle-kpis",wl,Pl,{},{},[]),kl=e("2K56"),Rl=e("+IUk"),Il=e("LEqX"),Sl=function(){function l(l,n,e,t){this.api=l,this.common=n,this.modalService=e,this.user=t,this.notifications=[],this.status=0,this.newTickets=[],this.openTickets=[],this.showMsg=!1,this.tickets=[],this.countDownFlag=!1,this.claimTicketGroups=[],this.claimDrivers=[],this.status=localStorage.getItem("STATUS")?parseInt(localStorage.getItem("STATUS")):0,console.log("Status:",this.status),localStorage.removeItem("STATUS"),this.getNotifications(),this.getClaimTickets(),this.countDownFlag=!0,this.common.refresh=this.refresh.bind(this),setTimeout(this.countDown.bind(this),3e4)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getNotifications(),this.getClaimTickets()},l.prototype.getNotifications=function(){var l=this;this.newTickets=[],++this.common.loading,this.api.get("FoTickets/getPendingTicketList?aduserid="+this.user._details.id,{}).subscribe(function(n){--l.common.loading,console.log(n),l.notifications=n.data,l.showMsg=!0,l.newTickets=[],l.openTickets=[],l.notifications.map(function(n){0==n.status?l.newTickets.push(n):2==n.status&&l.openTickets.push(n)})},function(n){--l.common.loading,console.error(n)})},l.prototype.getClaimTickets=function(){var l=this;++this.common.loading,this.api.get("FoTickets/getClaimTickets?aduserid="+this.user._details.id,{}).subscribe(function(n){--l.common.loading,console.log(n),n.success&&(l.tickets=n.data)},function(n){--l.common.loading,console.error(n)})},l.prototype.claimTicket=function(l){confirm("Are you sure to claim this ticket?")&&this.sendClaimRequest(l)},l.prototype.sendClaimRequest=function(l){var n=this,e={ticket_id:l.ticket_id,msg:l.msg,aduserid:this.user._details.id};console.log("Params",e),this.common.loading++,this.api.post("FoTickets/setClaimInfo",e).subscribe(function(l){--n.common.loading,console.log(l),n.getNotifications(),n.getClaimTickets()},function(l){--n.common.loading,console.error(l),n.common.showError()})},l.prototype.updateNotificationStatus=function(l,n,e,t){var a=this,o={ticket_id:l,fo_ticket_allocation_id:t,status:n,aduserid:this.user._details.id,remark:"",msg:e};++this.common.loading,console.log("Params:",o),this.api.post("FoTickets/updateTicketStatus",o).subscribe(function(l){console.log(l),a.common.showToast(l.msg),--a.common.loading,a.getNotifications()},function(l){console.log(l),a.common.showError(),--a.common.loading})},l.prototype.countDown=function(){if(this.countDownFlag){var l=[];this.notifications.map(function(n,e){n.remaining_time<60&&(n.cc="red"),n.remaining_time<0&&l.push(e)}),l.map(function(l){}),setTimeout(this.countDown.bind(this),3e4)}},l.prototype.ticketCount=function(l){var n=0;return this.notifications.map(function(e){e.status===l&&n++}),n},l.prototype.showTrailList=function(l){var n=this;++this.common.loading,this.api.get("FoTickets/getTrailLists?ticket_id="+l.ticket_id).subscribe(function(l){console.log(l),--n.common.loading,n.common.params={trailList:l.data,headers:["#","Employee Name","Spent Time","Status"]},n.modalService.open(Il.a,{size:"lg",container:"nb-layout"}).componentInstance.modalHeader="Trails"},function(l){--n.common.loading,console.log(l),n.common.showError()})},l.prototype.showDetails=function(l){console.log(l),this.common.renderPage(l.pri_type,l.sec_type1,l.sec_type2,l)},l}(),Al=t["\u0275crt"]({encapsulation:0,styles:[[".accept[_ngcontent-%COMP%]{cursor:pointer}.deny[_ngcontent-%COMP%]{margin-left:8px;cursor:pointer}nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}.tabset[_ngcontent-%COMP%]{padding:0!important;margin-bottom:20px!important}nb-card-body[_ngcontent-%COMP%]{padding:0 20px 15px}.alert-danger[_ngcontent-%COMP%]{color:#721c24!important;background-color:#f8d7da!important;border-color:#f5c6cb!important;width:80%;margin:0 auto;text-align:center;padding:12px!important;font-size:18px!important}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 10px;font-weight:400;width:180px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1), table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:30px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 10px!important;font-size:12px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0!important;font-size:11px;border-radius:0!important;margin:0;background-color:transparent;color:#263238;outline:0;-webkit-box-shadow:none;box-shadow:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;width:100%;table-layout:fixed;overflow:auto;max-height:calc(100vh - 250px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed;width:100%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:180px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#e4e4e4}"],d.a],data:{}});function Fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"td",[["scope","row"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""])),(l()(),t["\u0275eld"](9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,["",""])),(l()(),t["\u0275eld"](11,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"span",[["class","text-primary accept"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateNotificationStatus(l.context.$implicit.ticket_id,2,l.context.$implicit.msg,l.context.$implicit.fo_ticket_allocation_id)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Accept"])),(l()(),t["\u0275eld"](14,0,null,null,1,"span",[["class","text-danger deny"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateNotificationStatus(l.context.$implicit.ticket_id,-2,l.context.$implicit.msg,l.context.$implicit.fo_ticket_allocation_id)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Deny"]))],null,function(l,n){var e=n.component;l(n,2,0,n.context.index+1),l(n,4,0,n.context.$implicit.regno),l(n,6,0,n.context.$implicit.empname),l(n,8,0,n.context.$implicit.msg),l(n,10,0,e.common.findRemainingTime(n.context.$implicit.remaining_time))})}function El(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data available ! "]))],null,null)}function Vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"tr",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.showDetails(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"td",[["scope","row"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""])),(l()(),t["\u0275eld"](9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,["",""]))],null,function(l,n){var e=n.component;l(n,2,0,n.context.index+1),l(n,4,0,n.context.$implicit.regno),l(n,6,0,n.context.$implicit.empname),l(n,8,0,n.context.$implicit.msg),l(n,10,0,e.common.findRemainingTime(n.context.$implicit.remaining_time))})}function Ll(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data available ! "]))],null,null)}function Nl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,16,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"td",[["scope","row"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""])),(l()(),t["\u0275eld"](9,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,["",""])),t["\u0275ppd"](11,2),(l()(),t["\u0275eld"](12,0,null,null,1,"td",[["style","cursor:pointer"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.showTrailList(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["show"])),(l()(),t["\u0275eld"](14,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"span",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.claimTicket(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Claim"]))],null,function(l,n){l(n,2,0,n.context.index+1),l(n,4,0,n.context.$implicit.regno),l(n,6,0,n.context.$implicit.empname),l(n,8,0,n.context.$implicit.msg);var e=t["\u0275unv"](n,10,0,l(n,11,0,t["\u0275nov"](n.parent,0),n.context.$implicit.addtime,"dd MMM HH:mm"));l(n,10,0,e)})}function Hl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data available ! "]))],null,null)}function zl(l){return t["\u0275vid"](0,[t["\u0275pid"](0,_.DatePipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,76,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](2,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](3,0,null,0,3,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](4,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Tickets"])),(l()(),t["\u0275eld"](7,0,null,1,70,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](8,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](9,0,null,0,68,"nb-tabset",[],[[2,"full-width",null]],null,null,kl.d,kl.b)),t["\u0275did"](10,1097728,null,1,Rl.b,[m.a,t.ChangeDetectorRef],null,null),t["\u0275qud"](603979776,1,{tabs:1}),(l()(),t["\u0275eld"](12,0,null,0,21,"nb-tab",[["tabTitle","New"]],[[2,"content-active",null]],null,null,kl.c,kl.a)),t["\u0275did"](13,49152,[[1,4]],0,Rl.a,[],{tabTitle:[0,"tabTitle"]},null),(l()(),t["\u0275eld"](14,0,null,0,17,"table",[["class","table table-bordered table-hover"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,13,"thead",[["class","thead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["#"])),(l()(),t["\u0275eld"](19,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle No"])),(l()(),t["\u0275eld"](21,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Driver"])),(l()(),t["\u0275eld"](23,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Message"])),(l()(),t["\u0275eld"](25,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Remaining Time"])),(l()(),t["\u0275eld"](27,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Action"])),(l()(),t["\u0275eld"](29,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Fl)),t["\u0275did"](31,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,El)),t["\u0275did"](33,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](34,0,null,0,19,"nb-tab",[["tabTitle","Open"]],[[2,"content-active",null]],null,null,kl.c,kl.a)),t["\u0275did"](35,49152,[[1,4]],0,Rl.a,[],{tabTitle:[0,"tabTitle"]},null),(l()(),t["\u0275eld"](36,0,null,0,15,"table",[["class","table table-bordered table-hover"]],null,null,null,null,null)),(l()(),t["\u0275eld"](37,0,null,null,11,"thead",[["class","thead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](38,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](39,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["#"])),(l()(),t["\u0275eld"](41,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle No"])),(l()(),t["\u0275eld"](43,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Driver"])),(l()(),t["\u0275eld"](45,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Message"])),(l()(),t["\u0275eld"](47,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Remaining Time"])),(l()(),t["\u0275eld"](49,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Vl)),t["\u0275did"](51,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Ll)),t["\u0275did"](53,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](54,0,null,0,23,"nb-tab",[["tabTitle","Claim"]],[[2,"content-active",null]],null,null,kl.c,kl.a)),t["\u0275did"](55,49152,[[1,4]],0,Rl.a,[],{tabTitle:[0,"tabTitle"]},null),(l()(),t["\u0275eld"](56,0,null,0,19,"table",[["class","table table-bordered table-hover"]],null,null,null,null,null)),(l()(),t["\u0275eld"](57,0,null,null,15,"thead",[["class","thead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](58,0,null,null,14,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](59,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["#"])),(l()(),t["\u0275eld"](61,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle No"])),(l()(),t["\u0275eld"](63,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Driver"])),(l()(),t["\u0275eld"](65,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Message"])),(l()(),t["\u0275eld"](67,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Add Time"])),(l()(),t["\u0275eld"](69,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Trails"])),(l()(),t["\u0275eld"](71,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Claim"])),(l()(),t["\u0275eld"](73,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Nl)),t["\u0275did"](75,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Hl)),t["\u0275did"](77,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,13,0,"New"),l(n,31,0,e.newTickets),l(n,33,0,0==e.status&&!e.newTickets.length&&e.showMsg),l(n,35,0,"Open"),l(n,51,0,e.openTickets),l(n,53,0,0==e.status&&!e.openTickets.length&&e.showMsg),l(n,55,0,"Claim"),l(n,75,0,e.tickets),l(n,77,0,0==e.status&&!e.tickets.length&&e.showMsg)},function(l,n){l(n,1,1,[t["\u0275nov"](n,2).xxsmall,t["\u0275nov"](n,2).xsmall,t["\u0275nov"](n,2).small,t["\u0275nov"](n,2).medium,t["\u0275nov"](n,2).large,t["\u0275nov"](n,2).xlarge,t["\u0275nov"](n,2).xxlarge,t["\u0275nov"](n,2).active,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2).primary,t["\u0275nov"](n,2).info,t["\u0275nov"](n,2).success,t["\u0275nov"](n,2).warning,t["\u0275nov"](n,2).danger,t["\u0275nov"](n,2).hasAccent,t["\u0275nov"](n,2).primaryAccent,t["\u0275nov"](n,2).infoAccent,t["\u0275nov"](n,2).successAccent,t["\u0275nov"](n,2).warningAccent,t["\u0275nov"](n,2).dangerAccent,t["\u0275nov"](n,2).activeAccent,t["\u0275nov"](n,2).disabledAccent]),l(n,9,0,t["\u0275nov"](n,10).fullWidthValue),l(n,12,0,t["\u0275nov"](n,13).activeValue),l(n,34,0,t["\u0275nov"](n,35).activeValue),l(n,54,0,t["\u0275nov"](n,55).activeValue)})}function jl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"tickets",[],null,null,null,zl,Al)),t["\u0275did"](1,114688,null,0,Sl,[a.a,F.a,al.u,i.a],null,null)],function(l,n){l(n,1,0)},null)}var Ul=t["\u0275ccf"]("tickets",Sl,jl,{},{},[]),$l=function(){function l(l,n,e,t){this.api=l,this.common=n,this.user=e,this.modalService=t,this.status=0,this.showMsg=!1,this.allClaimTickets=[],this.allClaimTicketGroups=[],this.allClaimDrivers=[],this.allOpenTickets=[],this.allOpenTicketGroups=[],this.allOpenDrivers=[],this.getAllOpenTickets(),this.getAllClaimTickets(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getAllOpenTickets(),this.getAllClaimTickets()},l.prototype.getAllClaimTickets=function(){var l=this;++this.common.loading,this.api.get("FoTickets/getAllClaimTickets?aduserid="+this.user._details.id,{}).subscribe(function(n){--l.common.loading,console.log(n),l.allClaimTickets=n.data,l.allClaimTicketGroups=z.groupBy(n.data,"regno"),console.log("allClaimTicketGroups",l.allClaimTicketGroups),l.allClaimDrivers=Object.keys(l.allClaimTicketGroups),console.log("keys",l.allClaimDrivers)},function(n){--l.common.loading,console.error(n)})},l.prototype.getAllOpenTickets=function(){var l=this;++this.common.loading,this.api.get("FoTickets/getAllOpenTickets?aduserid="+this.user._details.id,{}).subscribe(function(n){--l.common.loading,console.log(n),l.allOpenTickets=n.data,l.allOpenTicketGroups=z.groupBy(n.data,"regno"),console.log("allOpenTicketGroups",l.allOpenTicketGroups),l.allOpenDrivers=Object.keys(l.allOpenTicketGroups),console.log("keys",l.allOpenDrivers),l.showMsg=!0},function(n){--l.common.loading,console.error(n)})},l.prototype.showTrailList=function(l){var n=this;++this.common.loading,this.api.get("FoTickets/getTrailLists?ticket_id="+l.ticket_id).subscribe(function(l){console.log(l),--n.common.loading;var e=[];l.data.map(function(l,n){e.push([n,l.employeename,l.spent_time,l.status])}),n.common.params={title:"Trail List",headings:["#","Employee Name","Spent Time","Status"],data:e},n.modalService.open(Il.a,{size:"lg",container:"nb-layout"})},function(l){--n.common.loading,console.log(l),n.common.showError()})},l.prototype.forwardClaimTickets=function(l){console.log("Get Data");var n=[];this.allClaimTicketGroups[l].map(function(l){n.push({ticketId:l.ticket_id,msg:l.msg})})},l.prototype.test=function(l){console.log("Event",l)},l}(),ql=t["\u0275crt"]({encapsulation:0,styles:[["nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}.tabset[_ngcontent-%COMP%]{padding:0!important;margin-bottom:20px!important}nb-card-body[_ngcontent-%COMP%]{padding:0 20px 5px}.alert-danger[_ngcontent-%COMP%]{color:#721c24!important;background-color:#f8d7da!important;border-color:#f5c6cb!important;width:80%;margin:0 auto;text-align:center;padding:12px!important;font-size:18px!important}[_nghost-%COMP%]     .tabset{border-bottom:2px solid #26a69a!important;margin-bottom:15px!important}[_nghost-%COMP%]     .tabset li a{background-color:#26a69a;color:#fff!important;font-weight:400!important;border-radius:5px 5px 0 0;margin-right:8px;border:2px solid #26a69a;padding:5px 10px!important;position:relative;font-size:14px}[_nghost-%COMP%]     .tabset li a:before{content:none!important;display:none!important}[_nghost-%COMP%]     .tabset .active a{background-color:#fff;color:#26a69a!important}[_nghost-%COMP%]     .tabset .active a:after{content:''!important;position:absolute;background:#fff;width:100%;height:6px;bottom:-5px;left:0;border-radius:0}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 10px;font-weight:400;width:270px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1), table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:30px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 10px!important;font-size:12px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0!important;font-size:11px;border-radius:0!important;margin:0;background-color:transparent;color:#263238;outline:0;-webkit-box-shadow:none;box-shadow:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;width:100%;table-layout:fixed;overflow:auto;max-height:calc(100vh - 218px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed;width:100%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:270px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:10px 15px;height:auto;color:#fff;text-transform:capitalize;margin:0;border-radius:3px;border:0;-webkit-box-shadow:0 5px 10px 0 rgba(0,0,0,.2);box-shadow:0 5px 10px 0 rgba(0,0,0,.2);cursor:pointer;font-weight:400;font-size:12px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#e4e4e4}"],d.a],data:{}});function Gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""])),(l()(),t["\u0275eld"](9,0,null,null,2,"td",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.showTrailList(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"span",[["class","btn btn-success"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["show"]))],null,function(l,n){var e=n.component;l(n,2,0,n.context.index+1),l(n,4,0,n.context.$implicit.regno),l(n,6,0,n.context.$implicit.msg),l(n,8,0,e.common.findRemainingTime(n.context.$implicit.remaining_time))})}function Bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data available ! "]))],null,null)}function Wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,18,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,15,"table",[["class","table table-bordered table-hover"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,11,"thead",[["class","thead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["#"])),(l()(),t["\u0275eld"](6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle No"])),(l()(),t["\u0275eld"](8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Message"])),(l()(),t["\u0275eld"](10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Remaining Time"])),(l()(),t["\u0275eld"](12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Trails"])),(l()(),t["\u0275eld"](14,0,null,null,2,"tbody",[],null,[[null,"scroll"]],function(l,n,e){var t=!0;return"scroll"===n&&(t=!1!==l.component.test(e)&&t),t},null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Gl)),t["\u0275did"](16,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Bl)),t["\u0275did"](18,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,16,0,e.allOpenTickets),l(n,18,0,0==e.status&&!e.allOpenTickets.length&&e.showMsg)},null)}function Kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""])),(l()(),t["\u0275eld"](9,0,null,null,2,"td",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.showTrailList(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"span",[["class","btn btn-success"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["show"]))],null,function(l,n){l(n,2,0,n.context.index+1),l(n,4,0,n.context.$implicit.regno),l(n,6,0,n.context.$implicit.msg),l(n,8,0,n.context.$implicit.addtime)})}function Jl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data available ! "]))],null,null)}function Yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,18,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,15,"table",[["class","table table-bordered table-hover"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,11,"thead",[["class","thead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["#"])),(l()(),t["\u0275eld"](6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle No"])),(l()(),t["\u0275eld"](8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Message"])),(l()(),t["\u0275eld"](10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Add Time"])),(l()(),t["\u0275eld"](12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Trails"])),(l()(),t["\u0275eld"](14,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Kl)),t["\u0275did"](16,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Jl)),t["\u0275did"](18,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,16,0,e.allClaimTickets),l(n,18,0,0==e.status&&!e.allClaimDrivers.length&&e.showMsg)},null)}function Zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,18,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["All Tickets"])),(l()(),t["\u0275eld"](6,0,null,1,12,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](8,0,null,0,10,"nb-tabset",[],[[2,"full-width",null]],null,null,kl.d,kl.b)),t["\u0275did"](9,1097728,null,1,Rl.b,[m.a,t.ChangeDetectorRef],null,null),t["\u0275qud"](603979776,1,{tabs:1}),(l()(),t["\u0275eld"](11,0,null,0,3,"nb-tab",[["tabTitle","All open Tickets"]],[[2,"content-active",null]],null,null,kl.c,kl.a)),t["\u0275did"](12,49152,[[1,4]],0,Rl.a,[],{tabTitle:[0,"tabTitle"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Wl)),t["\u0275did"](14,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](15,0,null,0,3,"nb-tab",[["tabTitle","Parked Tickets"]],[[2,"content-active",null]],null,null,kl.c,kl.a)),t["\u0275did"](16,49152,[[1,4]],0,Rl.a,[],{tabTitle:[0,"tabTitle"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Yl)),t["\u0275did"](18,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,12,0,"All open Tickets"),l(n,14,0,0==e.status),l(n,16,0,"Parked Tickets"),l(n,18,0,0==e.status)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]),l(n,8,0,t["\u0275nov"](n,9).fullWidthValue),l(n,11,0,t["\u0275nov"](n,12).activeValue),l(n,15,0,t["\u0275nov"](n,16).activeValue)})}function Ql(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"tickets-all",[],null,null,null,Zl,ql)),t["\u0275did"](1,114688,null,0,$l,[a.a,F.a,i.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var Xl=t["\u0275ccf"]("tickets-all",$l,Ql,{},{},[]),ln=e("Xy1B"),nn=e("i7b3"),en=e("kmV6"),tn=e("1hw/"),an=e("pc3W"),on=e("JU80"),un=e("oCQm"),rn=e("Dx+k"),sn=e("JOfS"),dn=e("uk+R"),cn=function(){function l(l,n,e,t,a,o,i){var u;this.api=l,this.common=n,this.datePipe=e,this.user=t,this.route=a,this.modalService=o,this.renderer=i,this.receipts=[],this.table=null,this.viewImages=null,this.activeImage="lr_image",this.viewType="allLR",this.startDate="",this.endDate="",this.lrType="2",this.lrCategory=-1,this.vehicleType=-1,this.tempstartTime=null,this.tempendTime=null,this.searchValue=null,this.searchString=null,u=new Date,this.tempendTime=new Date,this.tempstartTime=new Date(u.setDate(u.getDate()-15)),u=new Date,this.endDate=this.common.dateFormatter(u),this.startDate=this.common.dateFormatter(new Date(u.setDate(u.getDate()-15))),console.log("dates ",this.tempendTime,this.tempstartTime),this.getLorryReceipts(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getLorryReceipts()},l.prototype.getLorryReceipts=function(){var l=this;if(console.log("--this.tempendTime---",this.tempendTime,"this.tempstartTime---",this.tempstartTime),this.tempendTime<this.tempstartTime)return this.common.showError("End Date Should be greater than Start Date"),0;var n=new Date(this.common.dateFormatter1(this.endDate).split(" ")[0]),e={startDate:this.common.dateFormatter1(this.startDate).split(" ")[0],endDate:this.common.dateFormatter1(n.setDate(n.getDate()+1)).split(" ")[0],type:this.viewType,status:this.lrType,lrCategory:this.lrCategory,vehicleType:this.vehicleType,searchValue:this.searchValue,searchString:this.searchString};console.log("api params Data:",e),this.table=null,this.receipts=[],++this.common.loading,this.api.post("FoDetails/getLorryStatus",e).subscribe(function(n){--l.common.loading,console.log("Res000000:",n),n.data?(l.receipts=n.data,console.log("Receipt",l.receipts),l.table=l.setTable()):l.receipts=[]},function(n){--l.common.loading,console.log("Err:",n)})},l.prototype.getImage=function(l){console.log(l);var n=[{name:"LR",image:l.lr_image},{name:"Invoice",image:l.invoice_image},{name:"Other Image",image:l.other_image}];console.log("images:",n),this.common.params={images:n,title:"LR Details"},this.modalService.open(H.a,{size:"lg",container:"nb-layout"})},l.prototype.getPodImage=function(l){console.log("val===",l),this.common.params={refdata:{refid:"",reftype:"",doctype:"",docid:l.pod_docid},title:"docImage"},this.modalService.open(H.a,{size:"lg",container:"nb-layout",windowClass:"imageviewcomp"})},l.prototype.RefData=function(){this.common.params={refdata:{refid:"",reftype:"",doctype:"",docid:""},title:"docImage"},this.modalService.open(H.a,{size:"lg",container:"nb-layout",windowClass:"imageviewcomp"})},l.prototype.printLr=function(l){this.common.params={previewData:{title:"Lorry Receipt",previewId:null,refId:l.lr_id,refType:"LR_PRT"}},console.log("receipts",l),this.modalService.open(dn.a,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"print-lr-manifest print-lr"}).result.then(function(l){console.log("Date:",l)})},l.prototype.addReceipts=function(){this.modalService.open(rn.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(l){}).catch(function(l){return console.log("Error:",l)})},l.prototype.addTransportAgent=function(){this.modalService.open(sn.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){}).catch(function(l){return console.log("Error:",l)})},l.prototype.setTable=function(){return{receipts:{headings:{LRNo:{title:"LR No",placeholder:"LR No"},LRDate:{title:"LR Date",placeholder:"LR Date"},VehiceNo:{title:"Vehicle No",placeholder:"Vehicle No"},Consigner:{title:"Consigner",placeholder:"Consigner"},Consignee:{title:"Consignee",placeholder:"Consignee"},TA:{title:"TA",placeholder:"TA"},Supplier:{title:"Supplier",placeholder:"Supplier"},Source:{title:"Source",placeholder:"Source"},Destination:{title:"Destination",placeholder:"Destination"},AddTime:{title:"AddTime",placeholder:"AddTime"},Revenue:{title:"Revenue",placeholder:"Revenue"},Expense:{title:"Expense",placeholder:"Expense"},LRImage:{title:"LRImage",placeholder:"LRImage"},details:{title:"POD",placeholder:"POD"},Action:{title:"Action",placeholder:"Action"},Invoice:{title:"Invoice",placeholder:"Invoice"}},columns:this.getTableColumns()},settings:{hideHeader:!0}}},l.prototype.getTableColumns=function(){var l=this,n=[];return this.receipts.map(function(e){var t={LRId:{value:e.lr_id},VehiceNo:{value:e.regno},LRNo:{value:e.lr_no},LRDate:{value:e.lr_date},Consigner:{value:e.lr_consigner_name},Consignee:{value:e.lr_consignee_name},TA:{value:e.lr_ta_name},Supplier:{value:e.lr_supplier_name},Source:{value:e.lr_source},Destination:{value:e.lr_destination},AddTime:{value:l.datePipe.transform(e.addtime,"dd MMM HH:mm ")},Revenue:e.revenue_amount>0?{value:"",class:"text-center",isHTML:!1,icons:[{class:"fa fa-inr icon i-green",action:l.lrRates.bind(l,e,0)},{class:"fa fa-check icon i-green ml-2",action:l.openRevenueModal.bind(l,e,0)}]}:{value:"",class:"text-center",isHTML:!1,icons:[{class:"fa fa-inr i-red-cross",action:l.lrRates.bind(l,e,0)},{class:"fa fa-times-circle i-red-cross ml-2",action:l.openRevenueModal.bind(l,e,0)}]},Expense:e.expense_amount>0?{value:"",class:"text-center",isHTML:!1,icons:[{class:"fa fa-inr icon i-green",action:l.lrRates.bind(l,e,1)},{class:"fa fa-check icon i-green ml-2",action:l.openExpenseModal.bind(l,e,1)}]}:{value:"",class:"text-center",isHTML:!1,icons:[{class:"fa fa-inr i-red-cross",action:l.lrRates.bind(l,e,1)},{class:"fa fa-times-circle i-red-cross ml-2",action:l.openExpenseModal.bind(l,e,1)}]},LRImage:e.lr_image?{value:"",class:"text-center",isHTML:!1,action:null,icons:[{class:"fa fa-eye icon",action:l.getImage.bind(l,e)}]}:{value:"",class:"text-center",isHTML:!1,action:null,icons:[{class:"fa fa-times-circle i-red-cross"}]},details:{value:"",action:null,isHTML:!1,icons:[{class:e.pod_docid?"far fa-image i-green icon mr-1":"far fa-image i-red-cross mr-1",action:e.pod_docid?l.getPodImage.bind(l,e):null},{class:e.poddetails?"fa fa-list icon i-green mr-1":"fa fa-list i-red-cross mr-1",action:l.openPodDeatilsModal.bind(l,e)},{class:e.podreceived?"fa fa-check icon i-green":"fa fa-check   i-red-cross",action:null}]},Action:{value:"",isHTML:!0,action:null,icons:l.actionIcons(e)},Invoice:{value:"",isHTML:!0,action:null,icons:[{class:e._frinvid?"fa fa-print icon":e.revenue_amount>0?"fa fa-pencil-square-o icon edit ":"",action:e._frinvid>0?l.invoice.bind(l,e):e.revenue_amount>0?l.invoiceFromLr.bind(l,e):""}]}};n.push(t)}),n},l.prototype.actionIcons=function(l){var n=[{class:"fa fa-print icon",action:this.printLr.bind(this,l)},{class:"fa fa-handshake-o  icon",action:this.tripSettlement.bind(this,l)}];return this.user.permission.edit&&n.push({class:l.is_locked?"":"fa fa-pencil-square-o icon edit",action:this.openGenerateLr.bind(this,l)}),this.user.permission.delete&&n.push({class:l.is_locked?"":"fa fa-trash icon",action:this.deleteLr.bind(this,l)}),n},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"LrView"},this.modalService.open(ln.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(e){if(e.date){if("start"==l)return n.tempstartTime=e.date,n.startDate="",n.startDate=n.common.dateFormatter1(e.date).split(" ")[0];n.tempendTime=e.date,n.endDate=n.common.dateFormatter1(e.date).split(" ")[0],console.log("tempendTime",n.tempendTime)}})},l.prototype.deleteLr=function(l){var n=this;console.log("Lr dddd",l),confirm("Are You Sure you want to delete LR?")&&(this.common.loading++,this.api.post("LorryReceiptsOperation/deleteGeneratedLr",{lrId:l.lr_id,vehicleId:l.vid}).subscribe(function(l){n.common.loading--,console.log("response:",l),l.data[0].r_id>0&&(n.common.showToast("Sucessfully Deleted",1e4),n.getLorryReceipts())},function(l){n.common.loading--,console.log(l)}))},l.prototype.tripSettlement=function(l){console.log("======",l),this.common.params={refData:{refId:l.lr_id,refType:11}},this.modalService.open(tn.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){})},l.prototype.openGenerateLr=function(l){var n=this;this.common.params={lrData:{lrId:l.lr_id}},this.modalService.open(nn.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){console.log("Data:",l),n.getLorryReceipts()})},l.prototype.lrRates=function(l,n){var e=this,t=!0;1==n&&l.is_adv_expense>0?t=!1:0==n&&l.is_adv_revenue>0&&(t=!1),this.common.params={rate:{lrId:l.lr_id,rateType:n,generalModal:t}},this.modalService.open(en.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){console.log("Data:",l),e.getLorryReceipts()})},l.prototype.openExpenseModal=function(l){var n=this,e={refernceType:11,refId:l.lr_id};console.log("openExpenseModal ",e),this.common.params={expenseData:e},this.modalService.open(an.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){console.log("Data:",l),n.getLorryReceipts()})},l.prototype.openRevenueModal=function(l){var n=this,e={refernceType:11,refId:l.lr_id};console.log("openExpenseModal ",e),this.common.params={revenueData:e},this.modalService.open(on.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){n.getLorryReceipts()})},l.prototype.openPodDeatilsModal=function(l){var n=this;console.log("====lr=====",l);var e={podId:l._podid,lrId:l.lr_id};console.log("====podDetails=====",e),this.common.params={podDetails:e},this.modalService.open(un.a,{size:"lg",container:"nb-layout",windowClass:"lrpoddetail"}).result.then(function(l){n.getLorryReceipts()})},l.prototype.invoiceFromLr=function(l){var n=this;this.api.post("FrieghtRate/invoiceFromLr",{lrId:l.lr_id}).subscribe(function(l){if(console.log("result",l.data[0]),l.data&&l.data[0].r_id>0){var e={_frinvid:l.data[0].r_id};n.common.showToast(l.data[0].r_msg),n.invoice(e)}else l.data&&n.common.showError(l.data[0].r_msg)},function(l){console.log(l)})},l.prototype.invoice=function(l,n){this.common.params={previewData:{title:"Invoice",previewId:null,refId:l._frinvid,refType:"FRINV"}},console.log("invoice",l),this.modalService.open(dn.a,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"print-lr-manifest print-lr"}).result.then(function(l){console.log("Date:",l)})},l}(),pn=t["\u0275crt"]({encapsulation:0,styles:[['nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}.tabset[_ngcontent-%COMP%]{padding:0!important;margin-bottom:20px!important}nb-card-body[_ngcontent-%COMP%]{padding:0 20px 15px}.alert-danger[_ngcontent-%COMP%]{color:#721c24!important;background-color:#f8d7da!important;border-color:#f5c6cb!important;width:80%;margin:0 auto;text-align:center;padding:12px!important;font-size:18px!important}.modal-header[_ngcontent-%COMP%]{padding:10px 15px}.headings[_ngcontent-%COMP%]{background:#e2e2e2;font-size:11px;font-weight:500}.data[_ngcontent-%COMP%]{font-size:10px;border-bottom:1px solid #e2e2e2;min-height:20%}.data[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%], .headings[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:3px;border-left:1px solid #f2f2f2}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700}[_nghost-%COMP%]    .black{color:#000;background:#fff8dc}[_nghost-%COMP%]    .red{background:red;color:#fff;margin-left:5px}[_nghost-%COMP%]    .pink{background:pink;color:#000}[_nghost-%COMP%]    .green{background:#0bff0b;color:#000}[_nghost-%COMP%]    .default{background:0 0;border:transparent}[_nghost-%COMP%]    .icon{width:20px;text-align:center;background-color:#ccc;border-radius:3px;height:20px;line-height:22px;margin:3px}[_nghost-%COMP%]    .image{color:#0e0e3a;font-size:18px}[_nghost-%COMP%]     .circle{border:1px solid gray;border-radius:50%;padding:3px 4px}.route-arrow[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;margin:0 5px}[_nghost-%COMP%]     .complete{vertical-align:middle;color:green}.exit[_ngcontent-%COMP%]{vertical-align:middle;margin-right:3px}.loaded[_ngcontent-%COMP%]{font-weight:700}.search-box[_ngcontent-%COMP%]{background:#fff;font-size:13px;padding:6px 8px;border:1px solid #e2e2e2;border-radius:5px;vertical-align:middle;margin-left:10px;width:60%;letter-spacing:.3px;color:#000}table[_ngcontent-%COMP%]{cursor:pointer}.modal-dialog[_ngcontent-%COMP%]{width:100%!important}.modal-lg[_ngcontent-%COMP%]{max-width:1200px!important}smart-table[_ngcontent-%COMP%]   .tableFixHead[_ngcontent-%COMP%]{height:74vh!important}.close[_ngcontent-%COMP%]{font-size:36px;padding:8px 16px}.model-body[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{border-radius:3px;border:0;text-transform:capitalize;float:left;padding:8px 15px}input[type=text][_ngcontent-%COMP%]{width:100%;height:30px;padding-left:5px;font-size:13px;border:1px solid #324148;border-radius:3px}.display-none[_ngcontent-%COMP%]{display:none}.display-block[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]     .tableFixHead{max-height:calc(100vh - 202px);height:auto!important}[_nghost-%COMP%]     td .zoom{background:linear-gradient(-135deg,#1de9b6 0,#1dc4e9 100%);display:inline-block;padding:3px 8px;border-radius:3px;color:#fff}[_nghost-%COMP%]     .i-red-cross{color:red;font-size:18px}[_nghost-%COMP%]     .i-green{color:green;font-size:18px}[_nghost-%COMP%]     .fa-image span{position:absolute;display:none;padding:10px 26px;font-weight:400;font-size:11px;left:-12px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-image span::before{content:"Image";display:block;position:absolute;top:0;left:0;background-color:green;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-image span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid green;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-image:hover span{display:block}[_nghost-%COMP%]     .fa-check span{position:absolute;display:none;top:-28px;padding:10px 32px;font-weight:400;font-size:11px;left:-27px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-check span::before{content:"Receipt";display:block;position:absolute;top:0;left:0;background-color:green;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-check span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid green;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-check:hover span{display:block}[_nghost-%COMP%]     .fa-list span{position:absolute;display:none;padding:10px 30px;font-weight:400;font-size:11px;left:-22px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-list span::before{content:"Details";display:block;position:absolute;top:0;left:0;background-color:green;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-list span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid green;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-list:hover span{display:block}[_nghost-%COMP%]     .fa-check.i-red-cross span::before, [_nghost-%COMP%]     .fa-image.i-red-cross span::before, [_nghost-%COMP%]     .fa-list.i-red-cross span::before{background-color:red}[_nghost-%COMP%]     .fa-check.i-red-cross span::after, [_nghost-%COMP%]     .fa-image.i-red-cross span::after, [_nghost-%COMP%]     .fa-list.i-red-cross span::after{border-top:5px solid red}[_nghost-%COMP%]     .fa-check.i-green span::before, [_nghost-%COMP%]     .fa-image.i-green span::before, [_nghost-%COMP%]     .fa-list.i-green span::before{background-color:green}[_nghost-%COMP%]     .fa-check.i-green span::after, [_nghost-%COMP%]     .fa-image.i-green span::after, [_nghost-%COMP%]     .fa-list.i-green span::after{border-top:5px solid green}[_nghost-%COMP%]     .fa-print{background-color:green;color:#fff}[_nghost-%COMP%]     .fa-print span{position:absolute;display:none;padding:12px 30px;font-weight:400;font-size:11px;left:-18px;top:-33px;line-height:14px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-print span::before{content:"Print";display:block;position:absolute;top:0;left:0;background-color:green;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-print span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid green;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-print:hover span{display:block}[_nghost-%COMP%]     .fa-pencil-square-o{background-color:#04a9f5;color:#fff}[_nghost-%COMP%]     .fa-pencil-square-o span{position:absolute;display:none;padding:12px 46px;font-weight:400;font-size:11px;left:-50px;top:-34px;line-height:15px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-pencil-square-o span::before{content:"Generate";display:block;position:absolute;top:0;left:0;background-color:#04a9f5;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-pencil-square-o span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #04a9f5;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-pencil-square-o:hover span{display:block}[_nghost-%COMP%]     .fa-trash{background-color:red;color:#fff}[_nghost-%COMP%]     .fa-trash span{position:absolute;display:none;padding:12px 33px;font-weight:400;font-size:11px;left:-24px;top:-33px;line-height:14px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-trash span::before{content:"Delete LR";display:block;position:absolute;top:0;left:0;background-color:red;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-trash span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid red;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-trash:hover span{display:block}[_nghost-%COMP%]     .fa-handshake-o{background-color:#1dddc6;color:#fff}[_nghost-%COMP%]     .fa-handshake-o span{position:absolute;display:none;padding:11px 32px;font-weight:400;font-size:10px;left:-23px;top:-33px;line-height:14px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-handshake-o span::before{content:"TripSettlement";display:block;position:absolute;top:0;left:0;background-color:#1dddc6;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-handshake-o span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #1dddc6;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-handshake-o:hover span{display:block}'],d.a],data:{}});function gn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openGenerateLr(!1)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["LR Generate"]))],null,null)}function hn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","tblLorryReceipt"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.receipts,e.table.settings)},null)}function mn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data available ! "]))],null,null)}function fn(l){return t["\u0275vid"](0,[t["\u0275pid"](0,_.DatePipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,167,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](2,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](3,0,null,0,8,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](4,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"div",[["class","col-sm-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Lorry Receipts"])),(l()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","col-sm-2 text-right"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,gn)),t["\u0275did"](11,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](12,0,null,1,156,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](13,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](14,0,null,0,148,"table",[["style","width: 100%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,147,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,146,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,16,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Gen. By"])),(l()(),t["\u0275eld"](20,0,null,null,13,"select",[["class","form-control"],["name","viewType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,21).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,21).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.viewType=e)&&a),a},null,null)),t["\u0275did"](21,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](23,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](25,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](26,0,null,null,3,"option",[["value","allLR"]],null,null,null,null,null)),t["\u0275did"](27,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](28,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["All"])),(l()(),t["\u0275eld"](30,0,null,null,3,"option",[["value","myLr"]],null,null,null,null,null)),t["\u0275did"](31,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](32,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Self"])),(l()(),t["\u0275eld"](34,0,null,null,20,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](35,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Category"])),(l()(),t["\u0275eld"](37,0,null,null,17,"select",[["class","form-control"],["style"," border: 2px solid darkcyan; font-size: 13px"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,38).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,38).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.lrCategory=e)&&a),a},null,null)),t["\u0275did"](38,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](40,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](42,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](43,0,null,null,3,"option",[["value","0"]],null,null,null,null,null)),t["\u0275did"](44,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](45,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["FTL"])),(l()(),t["\u0275eld"](47,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),t["\u0275did"](48,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](49,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["LTL"])),(l()(),t["\u0275eld"](51,0,null,null,3,"option",[["value","-1"]],null,null,null,null,null)),t["\u0275did"](52,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](53,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["All"])),(l()(),t["\u0275eld"](55,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](56,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["From :"])),(l()(),t["\u0275eld"](58,0,null,null,1,"input",[["class","form-control"],["name","date"],["placeholder","Start Date"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate("start")&&t),t},null,null)),t["\u0275ppd"](59,2),(l()(),t["\u0275eld"](60,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](61,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["To :"])),(l()(),t["\u0275eld"](63,0,null,null,1,"input",[["class","form-control"],["name","date1"],["placeholder","End Date"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate("end")&&t),t},null,null)),t["\u0275ppd"](64,2),(l()(),t["\u0275eld"](65,0,null,null,24,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](66,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["LR Status"])),(l()(),t["\u0275eld"](68,0,null,null,21,"select",[["class","form-control"],["style"," border: 2px solid darkcyan; font-size: 13px"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,69).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,69).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.lrType=e)&&a),a},null,null)),t["\u0275did"](69,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](71,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](73,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](74,0,null,null,3,"option",[["value","0"]],null,null,null,null,null)),t["\u0275did"](75,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](76,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Pending"])),(l()(),t["\u0275eld"](78,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),t["\u0275did"](79,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](80,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Complete"])),(l()(),t["\u0275eld"](82,0,null,null,3,"option",[["value","-1"]],null,null,null,null,null)),t["\u0275did"](83,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](84,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Rejected"])),(l()(),t["\u0275eld"](86,0,null,null,3,"option",[["value","2"]],null,null,null,null,null)),t["\u0275did"](87,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](88,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["All"])),(l()(),t["\u0275eld"](90,0,null,null,19,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](91,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle Type"])),(l()(),t["\u0275eld"](93,0,null,null,16,"select",[["class","form-control"],["style"," border: 2px solid darkcyan; font-size: 13px"]],null,null,null,null,null)),(l()(),t["\u0275eld"](94,0,null,null,3,"option",[["value","-1"]],null,null,null,null,null)),t["\u0275did"](95,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](96,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["All"])),(l()(),t["\u0275eld"](98,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),t["\u0275did"](99,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](100,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Own"])),(l()(),t["\u0275eld"](102,0,null,null,3,"option",[["value","2"]],null,null,null,null,null)),t["\u0275did"](103,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](104,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Group"])),(l()(),t["\u0275eld"](106,0,null,null,3,"option",[["value","3"]],null,null,null,null,null)),t["\u0275did"](107,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](108,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Market"])),(l()(),t["\u0275eld"](110,0,null,null,40,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](111,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Search String"])),(l()(),t["\u0275eld"](113,0,null,null,37,"select",[["class","form-control"],["style"," border: 2px solid darkcyan; font-size: 13px"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,114).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,114).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.searchString=e)&&a),a},null,null)),t["\u0275did"](114,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](116,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](118,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](119,0,null,null,3,"option",[["value","veh"]],null,null,null,null,null)),t["\u0275did"](120,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](121,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Vehicle"])),(l()(),t["\u0275eld"](123,0,null,null,3,"option",[["value","lr"]],null,null,null,null,null)),t["\u0275did"](124,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](125,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["LR No"])),(l()(),t["\u0275eld"](127,0,null,null,3,"option",[["value","consigner"]],null,null,null,null,null)),t["\u0275did"](128,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](129,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Consigner"])),(l()(),t["\u0275eld"](131,0,null,null,3,"option",[["value","consignee"]],null,null,null,null,null)),t["\u0275did"](132,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](133,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Consignee"])),(l()(),t["\u0275eld"](135,0,null,null,3,"option",[["value","ta"]],null,null,null,null,null)),t["\u0275did"](136,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](137,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["TA"])),(l()(),t["\u0275eld"](139,0,null,null,3,"option",[["value","source"]],null,null,null,null,null)),t["\u0275did"](140,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](141,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Source"])),(l()(),t["\u0275eld"](143,0,null,null,3,"option",[["value","dest"]],null,null,null,null,null)),t["\u0275did"](144,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](145,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Destination"])),(l()(),t["\u0275eld"](147,0,null,null,3,"option",[["value","supplier"]],null,null,null,null,null)),t["\u0275did"](148,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](149,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Supplier"])),(l()(),t["\u0275eld"](151,0,null,null,8,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](152,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Search Value"])),(l()(),t["\u0275eld"](154,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["name","searchValue"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,155)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,155).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,155)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,155)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(o.searchValue=e)&&a),a},null,null)),t["\u0275did"](155,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](157,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](159,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](160,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](161,0,null,null,1,"button",[["class","btn btn-primary m-0 p-0 w-100 text-capitalize"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getLorryReceipts()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["submit"])),(l()(),t["\u0275eld"](163,0,null,0,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,hn)),t["\u0275did"](165,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,mn)),t["\u0275did"](167,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](168,0,null,0,0,"div",[["class","col-sm-4"],["style","text-align: right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](169,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t["\u0275did"](170,212992,null,0,m.r,[m.b,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null)],function(l,n){var e=n.component;l(n,11,0,e.user.permission.add),l(n,23,0,"viewType",e.viewType),l(n,27,0,"allLR"),l(n,28,0,"allLR"),l(n,31,0,"myLr"),l(n,32,0,"myLr"),l(n,40,0,e.lrCategory),l(n,44,0,"0"),l(n,45,0,"0"),l(n,48,0,"1"),l(n,49,0,"1"),l(n,52,0,"-1"),l(n,53,0,"-1"),l(n,71,0,e.lrType),l(n,75,0,"0"),l(n,76,0,"0"),l(n,79,0,"1"),l(n,80,0,"1"),l(n,83,0,"-1"),l(n,84,0,"-1"),l(n,87,0,"2"),l(n,88,0,"2"),l(n,95,0,"-1"),l(n,96,0,"-1"),l(n,99,0,"1"),l(n,100,0,"1"),l(n,103,0,"2"),l(n,104,0,"2"),l(n,107,0,"3"),l(n,108,0,"3"),l(n,116,0,e.searchString),l(n,120,0,"veh"),l(n,121,0,"veh"),l(n,124,0,"lr"),l(n,125,0,"lr"),l(n,128,0,"consigner"),l(n,129,0,"consigner"),l(n,132,0,"consignee"),l(n,133,0,"consignee"),l(n,136,0,"ta"),l(n,137,0,"ta"),l(n,140,0,"source"),l(n,141,0,"source"),l(n,144,0,"dest"),l(n,145,0,"dest"),l(n,148,0,"supplier"),l(n,149,0,"supplier"),l(n,157,0,"searchValue",e.searchValue),l(n,165,0,e.receipts&&e.receipts.length),l(n,167,0,0==e.receipts.length),l(n,170,0)},function(l,n){var e=n.component;l(n,1,1,[t["\u0275nov"](n,2).xxsmall,t["\u0275nov"](n,2).xsmall,t["\u0275nov"](n,2).small,t["\u0275nov"](n,2).medium,t["\u0275nov"](n,2).large,t["\u0275nov"](n,2).xlarge,t["\u0275nov"](n,2).xxlarge,t["\u0275nov"](n,2).active,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2).primary,t["\u0275nov"](n,2).info,t["\u0275nov"](n,2).success,t["\u0275nov"](n,2).warning,t["\u0275nov"](n,2).danger,t["\u0275nov"](n,2).hasAccent,t["\u0275nov"](n,2).primaryAccent,t["\u0275nov"](n,2).infoAccent,t["\u0275nov"](n,2).successAccent,t["\u0275nov"](n,2).warningAccent,t["\u0275nov"](n,2).dangerAccent,t["\u0275nov"](n,2).activeAccent,t["\u0275nov"](n,2).disabledAccent]),l(n,20,0,t["\u0275nov"](n,25).ngClassUntouched,t["\u0275nov"](n,25).ngClassTouched,t["\u0275nov"](n,25).ngClassPristine,t["\u0275nov"](n,25).ngClassDirty,t["\u0275nov"](n,25).ngClassValid,t["\u0275nov"](n,25).ngClassInvalid,t["\u0275nov"](n,25).ngClassPending),l(n,37,0,t["\u0275nov"](n,42).ngClassUntouched,t["\u0275nov"](n,42).ngClassTouched,t["\u0275nov"](n,42).ngClassPristine,t["\u0275nov"](n,42).ngClassDirty,t["\u0275nov"](n,42).ngClassValid,t["\u0275nov"](n,42).ngClassInvalid,t["\u0275nov"](n,42).ngClassPending);var a=t["\u0275unv"](n,58,0,l(n,59,0,t["\u0275nov"](n,0),e.startDate,"dd MMM yyyy"));l(n,58,0,a);var o=t["\u0275unv"](n,63,0,l(n,64,0,t["\u0275nov"](n,0),e.endDate,"dd MMM yyyy"));l(n,63,0,o),l(n,68,0,t["\u0275nov"](n,73).ngClassUntouched,t["\u0275nov"](n,73).ngClassTouched,t["\u0275nov"](n,73).ngClassPristine,t["\u0275nov"](n,73).ngClassDirty,t["\u0275nov"](n,73).ngClassValid,t["\u0275nov"](n,73).ngClassInvalid,t["\u0275nov"](n,73).ngClassPending),l(n,113,0,t["\u0275nov"](n,118).ngClassUntouched,t["\u0275nov"](n,118).ngClassTouched,t["\u0275nov"](n,118).ngClassPristine,t["\u0275nov"](n,118).ngClassDirty,t["\u0275nov"](n,118).ngClassValid,t["\u0275nov"](n,118).ngClassInvalid,t["\u0275nov"](n,118).ngClassPending),l(n,154,0,t["\u0275nov"](n,159).ngClassUntouched,t["\u0275nov"](n,159).ngClassTouched,t["\u0275nov"](n,159).ngClassPristine,t["\u0275nov"](n,159).ngClassDirty,t["\u0275nov"](n,159).ngClassValid,t["\u0275nov"](n,159).ngClassInvalid,t["\u0275nov"](n,159).ngClassPending)})}function vn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"lorry-reccipts",[],null,null,null,fn,pn)),t["\u0275did"](1,114688,null,0,cn,[a.a,F.a,_.DatePipe,i.a,m.a,al.u,t.Renderer],null,null)],function(l,n){l(n,1,0)},null)}var bn=t["\u0275ccf"]("lorry-reccipts",cn,vn,{},{},[]),xn=e("NOdI"),yn=function(){function l(l,n,e,t){this.api=l,this.common=n,this.user=e,this.modalService=t,this.expenses=[],this.viewImages=null,this.activeImage="exp_sheet1",this.viewType="allExp",this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){this.getExpenditure()},l.prototype.refresh=function(){this.getExpenditure()},l.prototype.getExpenditure=function(){var l=this;++this.common.loading,this.api.post("FoDetails/getExpenditureSheet",{type:this.viewType}).subscribe(function(n){--l.common.loading,console.log("Res:",n),l.expenses=n.data},function(n){--l.common.loading,console.log("Err:",n)})},l.prototype.getImage=function(l){console.log(l);var n=[{name:"Sheet-1",image:l.exp_sheets[0]}];console.log("images:",n),this.common.params={images:n,title:"LR Details"},this.modalService.open(H.a,{size:"lg",container:"nb-layout"})},l}(),Cn=t["\u0275crt"]({encapsulation:0,styles:[["nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}.tabset[_ngcontent-%COMP%]{padding:0!important;margin-bottom:20px!important}nb-card-body[_ngcontent-%COMP%]{padding:0 20px 15px}.alert-danger[_ngcontent-%COMP%]{color:#721c24!important;background-color:#f8d7da!important;border-color:#f5c6cb!important;width:80%;margin:0 auto;text-align:center;padding:12px!important;font-size:18px!important}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 10px;font-weight:400;width:250px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1), table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:30px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 10px!important;font-size:12px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;width:100%;table-layout:fixed;overflow:auto;max-height:calc(100vh - 210px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed;width:100%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:250px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#e4e4e4}"],d.a],data:{}});function _n(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Name"]))],null,null)}function wn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.name)})}function Mn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275and"](16777216,null,null,1,null,wn)),t["\u0275did"](8,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](9,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"span",[["style","text-decoration:underline; color: blue;cursor: pointer;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getImage(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["view"])),(l()(),t["\u0275eld"](12,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,["",""])),t["\u0275ppd"](14,2)],function(l,n){l(n,8,0,"allLR"==n.component.viewType)},function(l,n){l(n,2,0,n.context.index+1),l(n,4,0,n.context.$implicit.regno),l(n,6,0,n.context.$implicit.statusName);var e=t["\u0275unv"](n,13,0,l(n,14,0,t["\u0275nov"](n.parent,0),n.context.$implicit.addtime,"dd MMM HH:mm a"));l(n,13,0,e)})}function Tn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data available ! "]))],null,null)}function Dn(l){return t["\u0275vid"](0,[t["\u0275pid"](0,_.DatePipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,45,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](2,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](3,0,null,0,20,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](4,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,18,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"div",[["class","col-sm-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Expenses"])),(l()(),t["\u0275eld"](9,0,null,null,14,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,13,"select",[["class","form-control"],["name","viewType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ngModelChange"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,11).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,11).onTouched()&&a),"change"===n&&(a=!1!==o.getExpenditure()&&a),"ngModelChange"===n&&(a=!1!==(o.viewType=e)&&a),a},null,null)),t["\u0275did"](11,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](13,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](15,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](16,0,null,null,3,"option",[["value","allExp"]],null,null,null,null,null)),t["\u0275did"](17,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](18,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["All"])),(l()(),t["\u0275eld"](20,0,null,null,3,"option",[["value","myExp"]],null,null,null,null,null)),t["\u0275did"](21,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](22,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["My"])),(l()(),t["\u0275eld"](24,0,null,1,22,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](25,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](26,0,null,0,20,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,17,"table",[["class","table table-bordered table-hover"]],null,null,null,null,null)),(l()(),t["\u0275eld"](28,0,null,null,13,"thead",[["class","thead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["#"])),(l()(),t["\u0275eld"](32,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle No"])),(l()(),t["\u0275eld"](34,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Status Name"])),(l()(),t["\u0275and"](16777216,null,null,1,null,_n)),t["\u0275did"](37,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](38,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["view"])),(l()(),t["\u0275eld"](40,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Add Time"])),(l()(),t["\u0275eld"](42,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Mn)),t["\u0275did"](44,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Tn)),t["\u0275did"](46,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,13,0,"viewType",e.viewType),l(n,17,0,"allExp"),l(n,18,0,"allExp"),l(n,21,0,"myExp"),l(n,22,0,"myExp"),l(n,37,0,"allLR"==e.viewType),l(n,44,0,e.expenses),l(n,46,0,0==e.expenses.length)},function(l,n){l(n,1,1,[t["\u0275nov"](n,2).xxsmall,t["\u0275nov"](n,2).xsmall,t["\u0275nov"](n,2).small,t["\u0275nov"](n,2).medium,t["\u0275nov"](n,2).large,t["\u0275nov"](n,2).xlarge,t["\u0275nov"](n,2).xxlarge,t["\u0275nov"](n,2).active,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2).primary,t["\u0275nov"](n,2).info,t["\u0275nov"](n,2).success,t["\u0275nov"](n,2).warning,t["\u0275nov"](n,2).danger,t["\u0275nov"](n,2).hasAccent,t["\u0275nov"](n,2).primaryAccent,t["\u0275nov"](n,2).infoAccent,t["\u0275nov"](n,2).successAccent,t["\u0275nov"](n,2).warningAccent,t["\u0275nov"](n,2).dangerAccent,t["\u0275nov"](n,2).activeAccent,t["\u0275nov"](n,2).disabledAccent]),l(n,10,0,t["\u0275nov"](n,15).ngClassUntouched,t["\u0275nov"](n,15).ngClassTouched,t["\u0275nov"](n,15).ngClassPristine,t["\u0275nov"](n,15).ngClassDirty,t["\u0275nov"](n,15).ngClassValid,t["\u0275nov"](n,15).ngClassInvalid,t["\u0275nov"](n,15).ngClassPending)})}function Pn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"expenses",[],null,null,null,Dn,Cn)),t["\u0275did"](1,114688,null,0,yn,[a.a,F.a,i.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var On=t["\u0275ccf"]("expenses",yn,Pn,{},{},[]),kn=e("aF+1"),Rn=e("Ivxp"),In=e("ZD20"),Sn=e("61Pi"),An=function(){function l(l,n,e,t,a){this.common=l,this.user=n,this.router=e,this.modalService=t,this.api=a}return l.prototype.ngOnInit=function(){},l.prototype.getExtraTime=function(){this.common.params={ticketId:this.notification.fo_ticket_allocation_id},this.modalService.open(kn.a,{size:"lg",container:"nb-layout",backdrop:"static"})},l.prototype.forwardTicket=function(){var l=this;this.common.params={title:"Forward Ticket",ticketId:this.notification.ticket_id,fo_ticket_allocation_id:this.notification.fo_ticket_allocation_id,msg:this.ticketInfo.msg},this.modalService.open(Sn.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(n){n.response&&l.router.navigate(["/pages/tickets"])})},l.prototype.getTrailList=function(){var l=this;this.common.loading++,this.api.get("FoTickets/getTrailLists?ticket_id="+this.notification.ticket_id).subscribe(function(n){console.log(n),l.common.loading--;var e=[];n.data.map(function(l,n){e.push([n,l.employeename,l.spent_time,l.status])}),l.showList("Trail List",["#","Employee Name","Spent Time","Status"],e)},function(n){l.common.loading--,console.log(n),l.common.showError()})},l.prototype.showList=function(l,n,e){this.common.params={title:l,headings:n,data:e},this.modalService.open(Il.a,{size:"lg",container:"nb-layout",backdrop:"static"})},l.prototype.getComments=function(){var l=this;this.common.loading++,this.api.get("FoTickets/getTicketComments?ticket_id="+this.notification.ticket_id).subscribe(function(n){if(console.log(n),l.common.loading--,n.data.length){var e=[];n.data.map(function(l,n){e.push([n,l.employeename,l.status,l.comment,l.addtime])}),l.showList("Trail List",["#","Name","Status","Comment","Time"],e)}else l.common.showToast("No Comment Found!")},function(n){l.common.loading--,console.log(n),l.common.showError()})},l.prototype.getRemark=function(l){var n=this;this.common.params={title:"Remarks ",isMandatory:5!=l},this.modalService.open(In.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(e){e.response&&n.updateNotificationStatus(l,e.remark)})},l.prototype.updateNotificationStatus=function(l,n){var e=this,t={ticket_id:this.notification.ticket_id,fo_ticket_allocation_id:this.notification.fo_ticket_allocation_id,status:l,aduserid:this.user._details.id,remark:n,msg:this.ticketInfo.msg};console.log(t),this.common.loading++,this.api.post("FoTickets/updateTicketStatus",t).subscribe(function(l){console.log(l),e.common.loading--,e.common.showToast(l.msg),e.router.navigate(["/pages/tickets"])},function(l){e.common.loading--,console.log(l),e.common.showError()})},l.prototype.commentPrompt=function(){var l=this;this.common.params={title:"Remarks "},this.modalService.open(In.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(n){n.response&&l.addComment(n.remark)})},l.prototype.addComment=function(l){var n=this,e={ticket_id:this.notification.ticket_id,aduserid:this.user._details.id,comment:l,status:this.notification.status};console.log(e),this.common.loading++,this.api.post("FoTickets/setTicketComments",e).subscribe(function(l){console.log(l),n.common.loading--,n.common.showToast(l.msg)},function(l){n.common.loading--,console.log(l),n.common.showError()})},l.prototype.setReminder=function(){this.common.params={fo_ticket_allocation_id:this.notification.fo_ticket_allocation_id},this.modalService.open(Rn.a,{size:"lg",container:"nb-layout",backdrop:"static"})},l}(),Fn=t["\u0275crt"]({encapsulation:0,styles:[[".main[_ngcontent-%COMP%]{height:auto;background:#fff;border:1px solid #dee2e6}.section[_ngcontent-%COMP%]{padding:15px 8px;font-weight:500;letter-spacing:.5px;font-family:Exo;color:#181818;font-size:28px}.action-text[_ngcontent-%COMP%]{padding:8px 0 5px 5px;margin-left:8px;margin-right:8px;font-weight:500;color:#000;width:95%;font-family:Roboto}i[_ngcontent-%COMP%]{cursor:pointer}.footer[_ngcontent-%COMP%]{margin-top:10px;border-top:1px solid #b1b0b0;padding-top:3%}.row[_ngcontent-%COMP%]{width:95%}.btn.btn-primary.btn-sm[_ngcontent-%COMP%]{float:right;margin-right:-5%;background:#05276b;margin-bottom:3%}.action-icon[_ngcontent-%COMP%]{float:right;background:#f2f2f2;padding:5px 10px;margin-top:-10px;border-radius:2px;min-width:40px;text-align:center}.remain-time[_ngcontent-%COMP%]{float:right;border:1px solid orange;color:orange;padding:4px 5px;border-radius:20px;margin-top:-8px;margin-right:10px;font-size:10px}.ftr-btn[_ngcontent-%COMP%]{background:#fc4a1a;background:-webkit-gradient(linear,right top,left top,from(#f7b733),to(#fc4a1a));background:linear-gradient(to left,#f7b733,#fc4a1a);color:#fff;font-weight:700;letter-spacing:.5px;width:100%}"]],data:{}});function En(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,36,"div",[["class","main"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"p",[["class","section"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Ticket Actions"])),(l()(),t["\u0275eld"](3,0,null,null,23,"div",[["class","actions action-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,5,"p",[["class","info action-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Time Remaining"])),(l()(),t["\u0275eld"](7,0,null,null,0,"i",[["class","action-icon fa fa-plus"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getExtraTime()&&t),t},null,null)),(l()(),t["\u0275eld"](8,0,null,null,1,"span",[["class","remain-time"]],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,["",""])),(l()(),t["\u0275eld"](10,0,null,null,3,"p",[["class","forward action-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Reminder"])),(l()(),t["\u0275eld"](13,0,null,null,0,"i",[["class","action-icon fa fa-bell"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.setReminder()&&t),t},null,null)),(l()(),t["\u0275eld"](14,0,null,null,3,"p",[["class","forward action-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Forward"])),(l()(),t["\u0275eld"](17,0,null,null,0,"i",[["class","action-icon fa fa-share"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.forwardTicket()&&t),t},null,null)),(l()(),t["\u0275eld"](18,0,null,null,3,"p",[["class","mark-done action-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Trail List"])),(l()(),t["\u0275eld"](21,0,null,null,0,"i",[["class","action-icon fa fa-info-circle"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getTrailList()&&t),t},null,null)),(l()(),t["\u0275eld"](22,0,null,null,4,"p",[["class","mark-done action-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Comments"])),(l()(),t["\u0275eld"](25,0,null,null,0,"i",[["class","action-icon fa fa-plus"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.commentPrompt()&&t),t},null,null)),(l()(),t["\u0275eld"](26,0,null,null,0,"i",[["class","action-icon fa fa-info-circle"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getComments()&&t),t},null,null)),(l()(),t["\u0275eld"](27,0,null,null,9,"div",[["class","footer"]],null,null,null,null,null)),(l()(),t["\u0275eld"](28,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,3,"div",[["class","col"],["style","padding-left: 5%;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,2,"button",[["class","btn btn-default btn-sm"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getRemark(-5)&&t),t},null,null)),(l()(),t["\u0275eld"](31,0,null,null,1,"span",[["style","margin-left: 10px; text-transform: none; cursor: pointer; "]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Can't Do"])),(l()(),t["\u0275eld"](33,0,null,null,3,"div",[["class","col"]],null,null,null,null,null)),(l()(),t["\u0275eld"](34,0,null,null,2,"button",[["class","btn btn-primary btn-sm"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getRemark(5)&&t),t},null,null)),(l()(),t["\u0275eld"](35,0,null,null,1,"span",[["style","margin-left: 10px; text-transform: none; cursor: pointer; "]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Mark as done"]))],null,function(l,n){var e=n.component;l(n,9,0,e.ticketInfo&&e.common.findRemainingTime(e.ticketInfo.exp_tkt_time))})}function Vn(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,En)),t["\u0275did"](1,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.ticketInfo)},null)}var Ln=e("QsjJ"),Nn=function(){function l(l,n,e,t){this.api=l,this.router=n,this.modalService=e,this.common=t,this.haltInfo=null,this.ticketInfo=null,this.notification=null,this.title="",this.secType1="",this.secType2="",this.common.params&&localStorage.setItem("Params",JSON.stringify(this.common.params)),this.common.params=JSON.parse(localStorage.getItem("Params")),this.notification=this.common.params.data,this.title=this.common.params.title,this.secType1=this.common.params.secType1,this.secType2=this.common.params.secType2,console.log(this.title,this.secType1,this.secType2),this.getNotificationDetails(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getNotificationDetails()},l.prototype.getNotificationDetails=function(){var l=this;this.common.loading++,this.api.get("FoTickets/getSingleTicketInfo?ticket_id="+this.notification.ticket_id+"&pri_type="+this.notification.pri_type,{}).subscribe(function(n){l.common.loading--,console.log(n),l.haltInfo=n.data.issue_info[0],l.ticketInfo=n.data.tkt_info[0]},function(n){l.common.loading--,console.error(n)})},l.prototype.showLocation=function(){if(this.haltInfo.lat){var l={lat:this.haltInfo.lat,lng:this.haltInfo.long,name:"",time:""};console.log("Location: ",l),this.common.params={location:l,title:"Vehicle Location"},this.modalService.open(N.a,{size:"lg",container:"nb-layout"})}else this.common.showToast("Location not available!")},l.prototype.getHaltOptions=function(){var l=this;this.common.loading++;var n="type_id="+this.haltInfo.type_id+"&rowid="+this.haltInfo.id+"&regno="+this.haltInfo.regno+"&halt_type_id="+this.haltInfo.halt_type_id;console.log(n),this.api.get("FoTickets/getHaltDetails?"+n,{}).subscribe(function(n){l.common.loading--,console.log(n),l.changeHalt(n.data[0].title,n.data[0].description,n.data[0].option)},function(n){l.common.loading--,console.error(n)})},l.prototype.changeHalt=function(l,n,e){var t=this;this.common.params={title:l,description:n,options:e},this.modalService.open(Ln.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){console.log("Data: ",l),l.response&&t.updateHalt(l.option)})},l.prototype.updateHalt=function(l){var n=this,e={type_id:this.haltInfo.type_id,rowid:this.haltInfo.id,regno:this.haltInfo.regno,halt_type_id:l.id,remark:l.name};console.log(e),this.common.loading++,this.api.post("FoTickets/updateHaltTypes",e).subscribe(function(l){n.common.loading--,n.common.showToast(l.msg),console.log(l),n.getNotificationDetails()},function(l){n.common.loading--,console.error(l),n.common.showError()})},l.prototype.findRemainingTime=function(l){var n=l%60,e=Math.floor(l/60);return e?e+" hours "+n+" minutes":n+" minutes "},l.prototype.handleAction=function(l){201==l?this.getHaltOptions():202==l&&this.changeDriver()},l.prototype.changeDriver=function(){},l}(),Hn=t["\u0275crt"]({encapsulation:0,styles:[["nb-card-body[_ngcontent-%COMP%]{width:auto}.table[_ngcontent-%COMP%]{background:#fff;width:100%}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25;font-weight:400}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#0d0e00}.gray-col[_ngcontent-%COMP%]{background:#e2e2e2;font-weight:500}.section[_ngcontent-%COMP%]{background:#f2f2f2;padding:5px 8px;font-weight:500;letter-spacing:.5px}.action-text[_ngcontent-%COMP%]{padding:0 0 3px;border-bottom:1px solid #f2f2f2;margin-left:8px;margin-right:8px;font-weight:500}.action-icon[_ngcontent-%COMP%]{float:right;background:#f2f2f2;padding:5px 10px;margin-top:-10px;border-radius:2px;min-width:40px;text-align:center}.remain-time[_ngcontent-%COMP%]{float:right;border:1px solid orange;color:orange;padding:4px 5px;border-radius:20px;margin-top:-8px;margin-right:10px;font-size:10px}.ftr-btn[_ngcontent-%COMP%]:hover{background:#343a40;color:#fff;font-weight:700;letter-spacing:.5px;cursor:pointer}.ticket_site_details[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border-bottom:1px solid #ccc}[_nghost-%COMP%]     ticket-actions .section{font-size:1.25rem;padding:10px 15px;border-bottom:1px solid #ccc}"],d.a],data:{}});function zn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[""," "])),(l()(),t["\u0275eld"](2,0,null,null,0,"a",[],[[8,"href",4]],null,null,null,null))],null,function(l,n){var e=n.component;l(n,1,0,e.haltInfo.empname),l(n,2,0,"tel:"+e.haltInfo.mobileno)})}function jn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Unknown "]))],null,null)}function Un(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,2)],null,function(l,n){var e=n.component,a=t["\u0275unv"](n,1,0,l(n,2,0,t["\u0275nov"](n.parent,0),e.haltInfo.entry_time,"dd MMM HH:mm"));l(n,1,0,a)})}function $n(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,2)],null,function(l,n){var e=n.component,a=t["\u0275unv"](n,1,0,l(n,2,0,t["\u0275nov"](n.parent,0),e.haltInfo.start_time,"dd MMM HH:mm"));l(n,1,0,a)})}function qn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,n){var e=n.component;l(n,1,0,e.findRemainingTime(e.haltInfo.duration))})}function Gn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Reason"])),(l()(),t["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""]))],null,function(l,n){var e=n.component;l(n,4,0,null==e.haltInfo?null:e.haltInfo.halt_type)})}function Bn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[["class","btn ftr-btn"],["style","cursor:pointer"]],null,[[null,"click"]],function(l,n,e){var t=!0,a=l.component;return"click"===n&&(t=!1!==a.handleAction(a.secType1)&&t),t},null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,function(l,n){var e=n.component;l(n,2,0,e.common.secondaryType[e.secType1].btnTxt)})}function Wn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[["class","btn ftr-btn"],["style","cursor:pointer"]],null,[[null,"click"]],function(l,n,e){var t=!0,a=l.component;return"click"===n&&(t=!1!==a.handleAction(a.secType2)&&t),t},null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,function(l,n){var e=n.component;l(n,2,0,e.common.secondaryType[e.secType2].btnTxt)})}function Kn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","card"],["style","margin-top: 10px; padding: 10px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","row"],["style","margin-left: 42%;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Bn)),t["\u0275did"](3,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Wn)),t["\u0275did"](5,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,3,0,e.secType1),l(n,5,0,e.secType2)},null)}function Jn(l){return t["\u0275vid"](0,[t["\u0275pid"](0,_.DatePipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,60,"nb-card",[["style","border:0px; padding: 0 5px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](2,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](3,0,null,2,56,"div",[["class","ticket_site_details"],["style","padding: 15px 0px; clear: both; overflow: hidden;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,52,"div",[["class","col-md-6 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,51,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](6,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](7,0,null,0,5,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](8,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](9,0,null,0,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,2,"div",[["class","col-sm-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,["",""])),(l()(),t["\u0275eld"](13,0,null,1,43,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](14,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](15,0,null,0,41,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,40,"table",[["class","table table-bordered table-hover"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,39,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle"])),(l()(),t["\u0275eld"](21,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](22,null,["",""])),(l()(),t["\u0275eld"](23,0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Driver"])),(l()(),t["\u0275eld"](26,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,zn)),t["\u0275did"](28,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,jn)),t["\u0275did"](30,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](31,0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](32,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Time Since"])),(l()(),t["\u0275eld"](34,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Un)),t["\u0275did"](36,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,$n)),t["\u0275did"](38,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](39,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](40,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Duration"])),(l()(),t["\u0275and"](16777216,null,null,1,null,qn)),t["\u0275did"](43,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](44,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](45,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Location"])),(l()(),t["\u0275eld"](47,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](48,null,["",""])),(l()(),t["\u0275eld"](49,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](50,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Map View"])),(l()(),t["\u0275eld"](52,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](53,0,null,null,1,"span",[["style","color: blue; cursor: pointer;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.showLocation()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["click here.."])),(l()(),t["\u0275and"](16777216,null,null,1,null,Gn)),t["\u0275did"](56,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](57,0,null,null,2,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](58,0,null,null,1,"ticket-actions",[],null,null,null,Vn,Fn)),t["\u0275did"](59,114688,null,0,An,[F.a,i.a,m.n,al.u,a.a],{ticketInfo:[0,"ticketInfo"],notification:[1,"notification"]},null),(l()(),t["\u0275and"](16777216,null,2,1,null,Kn)),t["\u0275did"](61,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,28,0,null==e.haltInfo?null:e.haltInfo.empname),l(n,30,0,!(null!=e.haltInfo&&e.haltInfo.empname)),l(n,36,0,null==e.haltInfo?null:e.haltInfo.entry_time),l(n,38,0,null==e.haltInfo?null:e.haltInfo.start_time),l(n,43,0,null==e.haltInfo?null:e.haltInfo.duration),l(n,56,0,300==(null==e.notification?null:e.notification.pri_type)),l(n,59,0,e.ticketInfo,e.notification),l(n,61,0,e.secType1||e.secType2)},function(l,n){var e=n.component;l(n,1,1,[t["\u0275nov"](n,2).xxsmall,t["\u0275nov"](n,2).xsmall,t["\u0275nov"](n,2).small,t["\u0275nov"](n,2).medium,t["\u0275nov"](n,2).large,t["\u0275nov"](n,2).xlarge,t["\u0275nov"](n,2).xxlarge,t["\u0275nov"](n,2).active,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2).primary,t["\u0275nov"](n,2).info,t["\u0275nov"](n,2).success,t["\u0275nov"](n,2).warning,t["\u0275nov"](n,2).danger,t["\u0275nov"](n,2).hasAccent,t["\u0275nov"](n,2).primaryAccent,t["\u0275nov"](n,2).infoAccent,t["\u0275nov"](n,2).successAccent,t["\u0275nov"](n,2).warningAccent,t["\u0275nov"](n,2).dangerAccent,t["\u0275nov"](n,2).activeAccent,t["\u0275nov"](n,2).disabledAccent]),l(n,5,1,[t["\u0275nov"](n,6).xxsmall,t["\u0275nov"](n,6).xsmall,t["\u0275nov"](n,6).small,t["\u0275nov"](n,6).medium,t["\u0275nov"](n,6).large,t["\u0275nov"](n,6).xlarge,t["\u0275nov"](n,6).xxlarge,t["\u0275nov"](n,6).active,t["\u0275nov"](n,6).disabled,t["\u0275nov"](n,6).primary,t["\u0275nov"](n,6).info,t["\u0275nov"](n,6).success,t["\u0275nov"](n,6).warning,t["\u0275nov"](n,6).danger,t["\u0275nov"](n,6).hasAccent,t["\u0275nov"](n,6).primaryAccent,t["\u0275nov"](n,6).infoAccent,t["\u0275nov"](n,6).successAccent,t["\u0275nov"](n,6).warningAccent,t["\u0275nov"](n,6).dangerAccent,t["\u0275nov"](n,6).activeAccent,t["\u0275nov"](n,6).disabledAccent]),l(n,12,0,e.title||"Vehicle Halt"),l(n,22,0,null==e.haltInfo?null:e.haltInfo.regno),l(n,48,0,(null==e.haltInfo?null:e.haltInfo.loc_name)||"Unknown")})}function Yn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"ticket-site-details",[],null,null,null,Jn,Hn)),t["\u0275did"](1,114688,null,0,Nn,[a.a,m.n,al.u,F.a],null,null)],function(l,n){l(n,1,0)},null)}var Zn=t["\u0275ccf"]("ticket-site-details",Nn,Yn,{},{},[]),Qn=e("hB/K"),Xn=e("0zba"),le=e("q5i4"),ne=e("csNM"),ee=e("ia/1"),te=function(){function l(l,n,e){this.common=l,this.api=n,this.modalService=e,this.refId="",this.is_card=0,this.cardNo="",this.effDate=new Date,this.dataCardDetails="",this.date="",this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.getData(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getData()},l.prototype.addDriverCard=function(){var l=this,n=this.common.dateFormatter(this.date),e={refId:this.refId,cardType:this.is_card,cardNo:this.cardNo,effDate:n};console.log("params",e),this.common.loading++,this.api.post("CardMapping/saveCardMappingDetails",e).subscribe(function(n){l.common.loading--,console.log("res",n.data),l.common.showToast(n.msg),l.getData()},function(n){l.common.loading--,l.common.showError()})},l.prototype.checkdate=function(l){this.date=l},l.prototype.getDriverId=function(l){console.log("event",l),this.refId=l.id,console.log("id",this.refId)},l.prototype.getTableColumns=function(){var l=this,n=[];return console.log("Data=",this.data),this.data.map(function(e){l.valobj={};for(var t=0;t<l.headings.length;t++)console.log("doc index value:",e[l.headings[t]]),l.valobj[l.headings[t]]={value:e[l.headings[t]],class:"black",action:""},l.valobj.action={class:"",icons:l.actionIcons(e)};n.push(l.valobj)}),n},l.prototype.actionIcons=function(l){var n=[];return n.push({class:"fa fa-trash",action:this.remove.bind(this,l)}),n},l.prototype.remove=function(l){var n=this;console.log("row",l);var e={rowId:l._id};l._id&&(console.log("id",l._id),this.common.params={title:"Delete Route ",description:"<b>&nbsp;Are Sure To Delete This Record<b>"},this.modalService.open(ee.a,{size:"sm",container:"nb-layout",backdrop:"static",keyboard:!1,windowClass:"accountModalClass"}).result.then(function(l){l.response&&(console.log("data",l),n.common.loading++,n.api.post("CardMapping/deleteCardMappingDetail",e).subscribe(function(l){n.common.loading--,n.common.showToast(l.msg),n.refId="",n.is_card=0,n.cardNo="",n.effDate=new Date,n.getData()},function(l){n.common.loading--,console.log("Error: ",l)}))}))},l.prototype.getData=function(){var l=this;this.data=[],console.log("ap"),this.api.get("CardMapping/getCardMappingDetails").subscribe(function(n){l.data=n.data,console.log("result",n);var e=l.data[0];for(var t in e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:l.formatTitle(t),placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}var o={title:l.formatTitle("Action"),placeholder:l.formatTitle("Action"),hideSearch:!0};l.table.data.headings.action=o,l.table.data.columns=l.getTableColumns()})},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l}(),ae=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function oe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","cardMapping"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function ie(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,59,"nb-card",[["style","border: 0px; height: 100%;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Card Mapping"])),(l()(),t["\u0275eld"](6,0,null,1,53,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](8,0,null,0,51,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,3,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,2,"auto-suggestion",[["placeholder","Driver Name"],["seperator","-"],["style","width:60%;"],["url","Suggestion/getDriverName"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,11).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==o.getDriverId(e)&&a),a},Qn.b,Qn.a)),t["\u0275did"](11,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"],seperator:[3,"seperator"]},{onSelected:"onSelected"}),t["\u0275pad"](12,2),(l()(),t["\u0275eld"](13,0,null,null,30,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,29,"select",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,15).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,15).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.is_card=e)&&a),a},null,null)),t["\u0275did"](15,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](17,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](19,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](20,0,null,null,3,"option",[["value","0"]],null,null,null,null,null)),t["\u0275did"](21,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](22,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Select Card Type"])),(l()(),t["\u0275eld"](24,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),t["\u0275did"](25,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](26,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["IOCL"])),(l()(),t["\u0275eld"](28,0,null,null,3,"option",[["value","2"]],null,null,null,null,null)),t["\u0275did"](29,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](30,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["BPCL"])),(l()(),t["\u0275eld"](32,0,null,null,3,"option",[["value","3"]],null,null,null,null,null)),t["\u0275did"](33,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](34,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Hapay"])),(l()(),t["\u0275eld"](36,0,null,null,3,"option",[["value","4"]],null,null,null,null,null)),t["\u0275did"](37,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](38,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Toll"])),(l()(),t["\u0275eld"](40,0,null,null,3,"option",[["value","5"]],null,null,null,null,null)),t["\u0275did"](41,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](42,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["HPCL"])),(l()(),t["\u0275eld"](44,0,null,null,6,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](45,0,null,null,5,"input",[["class","form-control"],["placeholder","card no"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,46)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,46).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,46)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,46)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(o.cardNo=e)&&a),a},null,null)),t["\u0275did"](46,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](48,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](50,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](51,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](52,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==l.component.checkdate(e)&&t),t},le.b,le.a)),t["\u0275did"](53,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](54,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](55,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addDriverCard()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["SAVE"])),(l()(),t["\u0275eld"](57,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,oe)),t["\u0275did"](59,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component,t=l(n,12,0,"empname","mobileno");l(n,11,0,"Suggestion/getDriverName",t,"Driver Name","-"),l(n,17,0,e.is_card),l(n,21,0,"0"),l(n,22,0,"0"),l(n,25,0,"1"),l(n,26,0,"1"),l(n,29,0,"2"),l(n,30,0,"2"),l(n,33,0,"3"),l(n,34,0,"3"),l(n,37,0,"4"),l(n,38,0,"4"),l(n,41,0,"5"),l(n,42,0,"5"),l(n,48,0,e.cardNo),l(n,53,0,!1,e.date),l(n,59,0,e.data&&e.data.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]),l(n,14,0,t["\u0275nov"](n,19).ngClassUntouched,t["\u0275nov"](n,19).ngClassTouched,t["\u0275nov"](n,19).ngClassPristine,t["\u0275nov"](n,19).ngClassDirty,t["\u0275nov"](n,19).ngClassValid,t["\u0275nov"](n,19).ngClassInvalid,t["\u0275nov"](n,19).ngClassPending),l(n,45,0,t["\u0275nov"](n,50).ngClassUntouched,t["\u0275nov"](n,50).ngClassTouched,t["\u0275nov"](n,50).ngClassPristine,t["\u0275nov"](n,50).ngClassDirty,t["\u0275nov"](n,50).ngClassValid,t["\u0275nov"](n,50).ngClassInvalid,t["\u0275nov"](n,50).ngClassPending)})}function ue(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"card-mapping",[],null,null,null,ie,ae)),t["\u0275did"](1,114688,null,0,te,[F.a,a.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var re=t["\u0275ccf"]("card-mapping",te,ue,{},{},[]),se=function(){function l(){}return l.prototype.ngOnInit=function(){},l}(),de=t["\u0275crt"]({encapsulation:0,styles:[[""],d.a],data:{}});function ce(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" ticket-details works!\n"]))],null,null)}function pe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"ticket-details",[],null,null,null,ce,de)),t["\u0275did"](1,114688,null,0,se,[],null,null)],function(l,n){l(n,1,0)},null)}var ge=t["\u0275ccf"]("ticket-details",se,pe,{},{},[]),he=e("+lCh"),me=e("TPVD"),fe=e("+lJe"),ve=e("YKH3"),be=function(){function l(l,n,e,t){this.api=l,this.common=n,this.modalService=e,this.activeModal=t,this.vehicleId=null,this.startDate="",this.endDate="",this.openType=this.common.openType,this.vehicleNo="",this.tripstagesData=[],this.headings=[],this.valobj={},this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0,tableHeight:"75vh"}},this.common.openType="page",console.log("openType",this.openType);var a=new Date;this.endDate=this.common.dateFormatter(a).split(" ")[0],this.startDate=this.common.dateFormatter(new Date(a.setDate(a.getDate()-1))).split(" ")[0],this.common.refresh=this.refresh.bind(this),"modal"==this.openType&&(console.log("console.log",this.common.params),this.startDate=this.common.params.fromTime?this.common.params.fromTime:this.startDate,this.endDate=this.common.params.toTime?this.common.params.toTime:this.endDate,this.vehicleId=this.common.params.vehicleId,this.vehicleNo=this.common.params.vehicleRegNo,this.getTripStages())}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.vehicleId=null,this.getTripStages()},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"vehicle trip stages"},this.modalService.open(ln.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(e){e.date&&("start"==l?(n.startDate="",n.startDate=n.common.dateFormatter(e.date).split(" ")[0],console.log("endDate",n.startDate)):(n.endDate=n.common.dateFormatter(e.date).split(" ")[0],console.log("endDate",n.endDate)))})},l.prototype.getvehicleData=function(l){console.log("Vehicle Data: ",l),this.vehicleId=l.id},l.prototype.getTripStages=function(){var l=this;this.tripstagesData=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0,tableHeight:"75vh"}};var n={vehicleId:this.vehicleId?this.vehicleId:-1,startDate:this.common.dateFormatter1(this.startDate).split(" ")[0],endDate:this.common.dateFormatter1(this.endDate.split(" ")[0])};console.log("params:",n);var e="startDate="+n.startDate+"&endDate="+n.endDate+"&vehicleId="+n.vehicleId;this.common.loading++,this.api.get("TripsOperation/vehicleDynTripSummary?"+e).subscribe(function(n){l.common.loading--,console.log("res: ",n.data),l.tripstagesData=n.data,console.log("tripstagesData",l.tripstagesData);var e=l.tripstagesData[0];for(var t in console.log("first_Rec",e),e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:t,placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}l.table.data.columns=l.getTableColumns()},function(n){l.common.loading--,l.common.showError()})},l.prototype.getTableColumns=function(){for(var l=[],n=0;n<this.tripstagesData.length;n++){this.valobj={};for(var e=0;e<this.headings.length;e++)this.valobj[this.headings[e]]={value:this.tripstagesData[n][this.headings[e]],class:this.tripstagesData[n][this.headings[e]]>0?"blue":"black",action:this.tripstagesData[n][this.headings[e]]>0?this.openRouteMapper.bind(this,this.tripstagesData[n]):""};l.push(this.valobj)}return l},l.prototype.openRouteMapper=function(l){console.log("Data",l),this.common.handleModalHeightWidth("class","modal-lg","200","1500");var n=l._startdt.split("T")[0],e=l._startdt.split("T")[1],t=l._enddt.split("T")[0],a=l._enddt.split("T")[1];this.common.params={vehicleId:l._vid,vehicleRegNo:l._regno,fromTime:n+" "+e,toTime:t+" "+a},console.log("open Route Mapper modal",this.common.params),this.modalService.open(q.a,{size:"lg",container:"nb-layout",windowClass:"myCustomModalClass"}).result.then(function(l){return console.log("data",l)})},l.prototype.formatTitle=function(l){return l.indexOf("_")>0?l.toLowerCase().split("_").map(function(l){return l[0].toUpperCase()+l.slice(1)}).join(" "):l.charAt(0).toUpperCase()+l.substr(1)},l.prototype.closeModal=function(){this.activeModal.close()},l}(),xe=function(){function l(l,n,e,t,a,o){var i;this.datePipe=l,this.api=n,this.common=e,this.dateService=t,this.user=a,this.modalService=o,this.startDate=null,this.endDate=null,this.vehicleId=-1,this.vehicleRegNo=null,this.vehicleTrips=[],this.headings=[],this.valobj={},this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},i=new Date,this.endDate=new Date(i),this.startDate=new Date(i.setDate(i.getDate()-14)),console.log("start and enddate",this.startDate,this.endDate),this.getVehicleTrips(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getVehicleTrips()},l.prototype.getVehicleTrips=function(){var l=this;this.vehicleTrips=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}};var n=this.common.dateFormatter(this.startDate),e=this.common.dateFormatter(this.endDate);console.log("start & end",n,e);var t="vehicleId="+this.vehicleId+"&startDate="+n+"&endDate="+e;console.log("params",t),++this.common.loading,this.api.get("TripsOperation/getTrips?"+t).subscribe(function(n){if(--l.common.loading,console.log("Res:",n.data),l.vehicleTrips=n.data,null!=l.vehicleTrips){console.log("vehicleTrips",l.vehicleTrips);var e=l.vehicleTrips[0];for(var t in console.log("first_Rec",e),e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:t,placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}l.table.data.headings.action={title:"Action",placeholder:"Action"},l.table.data.columns=l.getTableColumns(),console.log("table:"),console.log(l.table)}else l.common.showToast("No Record Found !!")},function(n){--l.common.loading,console.log("Err:",n)})},l.prototype.formatTitle=function(l){return l.indexOf("_")>0?l.toLowerCase().split("_").map(function(l){return l[0].toUpperCase()+l.slice(1)}).join(" "):l.charAt(0).toUpperCase()+l.substr(1)},l.prototype.getTableColumns=function(){for(var l=[],n=0;n<this.vehicleTrips.length;n++){this.valobj={};for(var e=0;e<this.headings.length;e++)this.valobj[this.headings[e]]="Trip"==this.headings[e]?{value:this.common.getJSONTripStatusHTML(this.vehicleTrips[n]),isHTML:!0,class:"black"}:{value:this.vehicleTrips[n][this.headings[e]],class:"black",action:""},this.valobj.action={value:"",isHTML:!0,action:null,icons:this.actionIcons(this.vehicleTrips[n])},"admin"==this.user._loggedInBy&&this.valobj.action.icons.push({class:"fa fa-chart-pie change-status",action:this.openChangeStatusModal.bind(this,this.vehicleTrips[n])});this.valobj.style={background:this.vehicleTrips[n]._rowcolor},l.push(this.valobj)}return console.log("Columns:",l),l},l.prototype.actionIcons=function(l){var n=[{class:"fa fa-question-circle report-btn",action:this.reportIssue.bind(this,l)},{class:" fa fa-route route-mapper",action:this.openRouteMapper.bind(this,l)},{class:"fa fa-star  vehicle-report",action:this.vehicleReport.bind(this,l)},{class:"fa fa-chart-bar status",action:this.vehicleStates.bind(this,l)},{class:"fa fa-handshake-o trip-settlement",action:this.tripSettlement.bind(this,l)}];return this.user.permission.edit&&n.push({class:"fa fa-pencil-square-o  edit-btn",action:this.update.bind(this,l)}),this.user.permission.delete&&n.push({class:" fa fa-trash remove",action:this.deleteTrip.bind(this,l)}),n},l.prototype.searchVehicle=function(l){this.vehicleId=l.id,this.vehicleRegNo=l.regno},l.prototype.getUpadte=function(l){var n=this;l.endTime?this.common.showToast("This trip cannot be updated "):(this.common.params=l,console.log("vehicleTrip",l),this.modalService.open(K.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(l){console.log("data",l.respone),n.getVehicleTrips()}))},l.prototype.openRouteMapper=function(l){var n,e,t;console.log("----trip----",l),n=new Date,e=new Date(n.setDate(n.getDate()-2)),t=this.common.dateFormatter(e);var a=this.common.dateFormatter(t),o=this.common.dateFormatter(new Date);this.common.handleModalHeightWidth("class","modal-lg","200","1500"),this.common.params={vehicleId:l._vid,vehicleRegNo:l.Vehicle,fromTime:l._startdate||a,toTime:l._enddate||o},console.log("open Route Mapper modal",this.common.params),this.modalService.open(q.a,{size:"lg",container:"nb-layout",windowClass:"myCustomModalClass"}).result.then(function(l){return console.log("data",l)})},l.prototype.openAddTripModal=function(){var l=this;this.common.params={vehId:-1},this.modalService.open(me.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(n){l.getVehicleTrips()})},l.prototype.reportIssue=function(l){var n=this;this.common.params={refPage:"vt"},console.log("reportIssue",l),this.modalService.open(j.a,{size:"sm",container:"nb-layout"}).result.then(function(e){return e.status&&n.common.reportAnIssue(e.issue,l.id)})},l.prototype.deleteTrip=function(l){var n=this;console.log("deleteTrip",l);var e={tripId:l._tripid};++this.common.loading,this.api.post("VehicleTrips/deleteVehicleTrip",e).subscribe(function(l){--n.common.loading,console.log("Res:",l),n.common.showToast(l.msg)},function(l){--n.common.loading,console.log("Err:",l)})},l.prototype.update=function(l){this.common.params={vehicleTrip:l},this.modalService.open(fe.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(l){})},l.prototype.tripSettlement=function(l){var n=this;console.log("======",l),this.common.params={refData:{refId:l._tripid,refType:14}},this.modalService.open(tn.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){n.getVehicleTrips()})},l.prototype.openChangeDriverModal=function(l){this.common.params={vehicleId:l.vehicle_id,vehicleRegNo:l.regno},this.modalService.open(ve.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(l){console.log("data",l.respone)})},l.prototype.vehicleReport=function(l){console.log("trip------",l);var n=l._startdate,e=l._enddate;console.log("trip------",n,e),this.common.params={vehicleId:l._vid,vehicleRegNo:l.Vehicle,fromTime:n,toTime:e},this.common.handleModalHeightWidth("class","modal-lg","200","1500"),this.modalService.open($.a,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"mycustomModalClass"})},l.prototype.vehicleStates=function(l){console.log("trip------",l);var n=l._startdate,e=l._enddate;console.log("trip------",n,e),this.common.params={vehicleId:l._vid,vehicleRegNo:l.Vehicle,fromTime:n,toTime:e},this.common.openType="modal",this.common.handleModalHeightWidth("class","modal-lg","200","1500"),this.modalService.open(be,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"mycustomModalClass"})},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--,n.common.getPDFFromTableId(l,e.data.name,"Vehicle Trip",["Action"],"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCsv=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--,n.common.getCSVFromTableId(l,"Customer Name::"+e.data.name,"Report Name::Vehicle Trip",["Action"],"")},function(l){n.common.loading--,console.log(l)})},l.prototype.openChangeStatusModal=function(l){var n,e,t;console.log("trip====",l),n=new Date,e=new Date(n.setDate(n.getDate()-2)),t=this.common.dateFormatter(e);var a=this.common.dateFormatter(t),o=this.common.dateFormatter(new Date),i={vehicle_id:l._vid,suggest:11,latch_time:l._startdate||a,tTime:l._enddate||o};console.log("VehicleStatusData",i),this.common.params=i,this.modalService.open(J.a,{size:"lg",container:"nb-layout"}).result.then(function(l){})},l}(),ye=t["\u0275crt"]({encapsulation:0,styles:[["nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}.tabset[_ngcontent-%COMP%]{padding:0!important;margin-bottom:20px!important}nb-card-body[_ngcontent-%COMP%]{padding:0 15px}.alert-danger[_ngcontent-%COMP%]{color:#721c24!important;background-color:#f8d7da!important;border-color:#f5c6cb!important;width:80%;margin:0 auto;text-align:center;padding:12px!important;font-size:18px!important}[_nghost-%COMP%]     .tableFixHead{overflow:auto;max-height:calc(100vh - 235px);height:auto!important}[_nghost-%COMP%]     td i.fa-pencil-square-o{background-color:#04a9f5;color:#fff;padding:5px;border-radius:3px;position:relative}[_nghost-%COMP%]     td i.fa-pencil-square-o:hover span{display:block}[_nghost-%COMP%]     td i.fa-pencil-square-o span{position:absolute;display:none;padding:11px 21px;left:-9px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-pencil-square-o span::before{content:'Edit';display:block;position:absolute;top:0;left:0;background-color:#04a9f5;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-pencil-square-o span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #04a9f5;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td i.fa-question-circle{background-color:#1de9b6;color:#fff;padding:5px;border-radius:3px;margin-left:4px;position:relative}[_nghost-%COMP%]     td i.fa-question-circle:hover span{display:block}[_nghost-%COMP%]     td i.fa-question-circle span{position:absolute;display:none;padding:11px 28px;left:-16px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-question-circle span::before{content:'Report';display:block;position:absolute;top:0;left:0;background-color:#1de9b6;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-question-circle span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #1de9b6;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td i.fa-trash{background-color:#f44236;color:#fff;padding:5px;border-radius:3px;margin-left:4px;position:relative}[_nghost-%COMP%]     td i.fa-trash:hover span{display:block}[_nghost-%COMP%]     td i.fa-trash span{position:absolute;display:none;padding:11px 24px;left:-14px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-trash span::before{content:'trash';display:block;position:absolute;top:0;left:0;background-color:#f44236;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-trash span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #f44236;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td i.fa-route{background-color:#ff8091;color:#fff;padding:5px;border-radius:3px;margin-left:4px}[_nghost-%COMP%]     td i.fa-route:hover span{display:block}[_nghost-%COMP%]     td i.fa-route span{position:absolute;display:none;padding:11px 24px;left:-8px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-route span::before{content:'Route';display:block;position:absolute;top:0;left:0;background-color:#ff8091;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-route span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #ff8091;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td i.fa-star{background-color:#8280ff;color:#fff;padding:5px;border-radius:3px;margin-left:4px}[_nghost-%COMP%]     td i.fa-star:hover span{display:block}[_nghost-%COMP%]     td i.fa-star span{position:absolute;display:none;padding:11px 28px;left:-10px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-star span::before{content:'Events';display:block;position:absolute;top:0;left:0;background-color:#8280ff;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-star span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #8280ff;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td i.fa-chart-bar{background-color:#80f54f;color:#fff;padding:5px;border-radius:3px;margin-left:4px}[_nghost-%COMP%]     td i.fa-chart-bar:hover span{display:block}[_nghost-%COMP%]     td i.fa-chart-bar span{position:absolute;display:none;padding:11px 28px;left:-10px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-chart-bar span::before{content:'Status';display:block;position:absolute;top:0;left:0;background-color:#80f54f;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-chart-bar span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #80f54f;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td i.fa-handshake-o{background-color:#15986e;color:#fff;padding:5px;border-radius:3px;margin-left:4px}[_nghost-%COMP%]     td i.fa-handshake-o:hover span{display:block}[_nghost-%COMP%]     td i.fa-handshake-o span{position:absolute;display:none;padding:11px 28px;left:-10px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-handshake-o span::before{content:'Settlement';display:block;position:absolute;top:0;left:0;background-color:#15986e;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-handshake-o span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #15986e;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td i.fa-chart-pie{background-color:#4ff5e6;color:#fff;padding:5px;border-radius:3px;margin-left:4px}[_nghost-%COMP%]     td i.fa-chart-pie:hover span{display:block}[_nghost-%COMP%]     td i.fa-chart-pie span{position:absolute;display:none;padding:11px 28px;left:-10px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-chart-pie span::before{content:'Status';display:block;position:absolute;top:0;left:0;background-color:#4ff5e6;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-chart-pie span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #4ff5e6;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}.pdf-icon[_ngcontent-%COMP%]{font-size:30px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:30px;color:#217346}"],d.a],data:{}});function Ce(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-primary m-0"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openAddTripModal()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Add Trip"]))],null,null)}function _e(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","vehicleTrip"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function we(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,35,"nb-card",[["style","border: 0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,8,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle Trips"])),(l()(),t["\u0275eld"](8,0,null,null,2,"div",[["class","col-sm-6 text-right"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ce)),t["\u0275did"](10,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](11,0,null,1,24,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](12,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](13,0,null,0,19,"div",[["class","row mb-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,3,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,2,"div",[["class","search_vehicle_input"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,1,"auto-suggestion",[["display","regno"],["placeholder","Search Vehicle"],["url","suggestion/getFoVehicleList"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,17).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==o.searchVehicle(e)&&a),a},Qn.b,Qn.a)),t["\u0275did"](17,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"],preSelected:[3,"preSelected"]},{onSelected:"onSelected"}),(l()(),t["\u0275eld"](18,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startDate=e)&&t),t},le.b,le.a)),t["\u0275did"](20,4308992,null,0,ne.a,[],{dateTimeValue:[0,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](21,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.endDate=e)&&t),t},le.b,le.a)),t["\u0275did"](23,4308992,null,0,ne.a,[],{isStart:[0,"isStart"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](24,0,null,null,2,"div",[["class","col-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,1,"button",[["class","btn btn-primary form-control"],["style","margin:0px;border:0px;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getVehicleTrips()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["OK"])),(l()(),t["\u0275eld"](27,0,null,null,5,"div",[["class","col-sm-3 text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](28,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printPDF("vehicleTrip")&&t),t},null,null)),(l()(),t["\u0275eld"](30,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 10px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printCsv("vehicleTrip")&&t),t},null,null)),(l()(),t["\u0275eld"](32,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,0,1,null,_e)),t["\u0275did"](34,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](35,0,null,0,0,"br",[],null,null,null,null,null))],function(l,n){var e=n.component;l(n,10,0,e.user.permission.add),l(n,17,0,"suggestion/getFoVehicleList","regno","Search Vehicle",null),l(n,20,0,e.startDate),l(n,23,0,!1,e.endDate),l(n,34,0,e.vehicleTrips&&e.vehicleTrips.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function Me(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"vehicle-trip",[],null,null,null,we,ye)),t["\u0275prd"](512,null,_.DatePipe,_.DatePipe,[t.LOCALE_ID]),t["\u0275did"](2,114688,null,0,xe,[_.DatePipe,a.a,F.a,Q.a,i.a,al.u],null,null)],function(l,n){l(n,2,0)},null)}var Te=t["\u0275ccf"]("vehicle-trip",xe,Me,{},{},[]),De=e("ciq7"),Pe=e("bMPK"),Oe=e("EFU/"),ke=e("UUjr"),Re=e("UtLt"),Ie=e("4D9t"),Se=e("eDkP"),Ae=e("Tq4R"),Fe=function(){function l(l,n,e,t){this.modalService=l,this.mapService=n,this.apiService=e,this.commonService=t,this.slideToolTipLeft=0,this.polypath=[{lat:null,lng:null,odo:null,time:null}],this.zoomLevel=7,this.maxOdo=0,this.startDate=null,this.endDate=null,this.vehicleSelected=null,this.vehicleEvents=[],this.timelineValue=1,this.isPlay=!1,this.breakPrevious=!1,this.eventInfo=null,this.infoWindow=null}return l.prototype.ngOnInit=function(){},l.prototype.ngAfterViewInit=function(){this.mapService.mapIntialize("map"),this.mapService.setMapType(0)},Object.defineProperty(l.prototype,"timeLinePoly",{get:function(){var l=this.maxOdo*(this.timelineValue/100);if(1==this.timelineValue)return{time:this.startDate,lat:this.polypath[0].lat,lng:this.polypath[0].lng};for(var n=0,e=this.polypath;n<e.length;n++){var t=e[n];if(t.odo>=l)return t}return{time:null,lat:null,lng:null}},enumerable:!0,configurable:!0}),l.prototype.getHaltTrails=function(){var l=this;if(this.vehicleSelected&&this.startDate&&this.endDate){this.commonService.loading++;var n={vehicleId:this.vehicleSelected,startDate:this.commonService.dateFormatter(this.startDate),endDate:this.commonService.dateFormatter(this.endDate)};this.apiService.post("HaltOperations/getVehicleEvents",n).subscribe(function(n){l.commonService.loading--,console.log(n);var e=n.data,t={vehicleId:l.vehicleSelected,startTime:l.commonService.dateFormatter(l.startDate,"YYYYMMDD",!0,"-"),toTime:l.commonService.dateFormatter(l.endDate,"YYYYMMDD",!0,"-")};l.commonService.loading++,console.log(t),l.apiService.post("VehicleTrail/getVehicleTrailAll",t).subscribe(function(n){l.commonService.loading--,l.mapService.clearAll();for(var t=0,a=null,o=0,i=0,u=n.data;i<u.length;i++){var r=u[i];if(0!=t){var s=l.commonService.distanceFromAToB(r.lat,r.long,a.lat,a.long,"Mt");l.polypath.push({lat:r.lat,lng:r.long,odo:o+=s,time:r.time})}else l.polypath=[],l.polypath.push({lat:r.lat,lng:r.long,odo:0,time:r.time});for(var d=0;d<e.length;d++)"Unloading"!=e[d].halt_reason&&"Loading"!=e[d].halt_reason||(e[d].subType="marker",e[d].color="Unloading"==e[d].halt_reason?"ff4d4d":"88ff4d");l.mapService.createPolyPathManual(l.mapService.createLatLng(r.lat,r.long)),l.mapService.setBounds(l.mapService.createLatLng(r.lat,r.long)),a=r,t++}l.maxOdo=o,console.log("PolyLine",l.polypath),l.mapService.polygonPath.set("icons",[{icon:l.mapService.lineSymbol,offset:"0%"}]),console.log("VehicleEvents",e),e=e.reverse(),l.vehicleEvents=e,l.mapService.createMarkers(l.vehicleEvents,!1,!1);for(var c=0,p=function(n){var e=l.vehicleEvents[c];l.mapService.addListerner(n,"mouseover",function(){return l.setEventInfo(e)}),l.mapService.addListerner(n,"mouseout",function(){return l.unsetEventInfo()}),c++},g=0,h=l.mapService.markers;g<h.length;g++)p(h[g])},function(n){l.commonService.loading--,console.log(n)})},function(n){l.commonService.loading--,console.log(n)})}else this.commonService.showError("Fill All Params")},l.prototype.setSliderPoint=function(){this.breakPrevious=!0,this.isPlay=!1,this.slideToolTipLeft=document.getElementById("myRange").offsetWidth/100*this.timelineValue,console.log("Point",this.timelineValue,"width: ",this.slideToolTipLeft),this.mapService.polygonPath.set("icons",[{icon:this.mapService.lineSymbol,offset:this.timelineValue+"%"}]),this.zoomOnArrow(!1)},l.prototype.runLineSymbol=function(){return l=this,void 0,e=function(){var l;return function(l,n){var e,t,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,t&&(a=2&o[0]?t.return:o[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,o[1])).done)return a;switch(t=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,t=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=n.call(l,i)}catch(u){o=[6,u],t=0}finally{e=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,function(n){switch(n.label){case 0:if(!this.isPlay)return this.breakPrevious=!0,[2];this.breakPrevious=!1,l=this.timelineValue,n.label=1;case 1:return l<=100?[4,this.sleep(100)]:[3,4];case 2:if(n.sent(),this.mapService.polygonPath.set("icons",[{icon:this.mapService.lineSymbol,offset:l+"%"}]),this.slideToolTipLeft=document.getElementById("myRange").offsetWidth/100*l,this.zoomOnArrow(!1),this.timelineValue=l,this.breakPrevious)return[3,4];n.label=3;case 3:return l++,[3,1];case 4:return[2]}})},new((n=void 0)||(n=Promise))(function(t,a){function o(l){try{u(e.next(l))}catch(n){a(n)}}function i(l){try{u(e.throw(l))}catch(n){a(n)}}function u(l){l.done?t(l.value):new n(function(n){n(l.value)}).then(o,i)}u((e=e.apply(l,[])).next())});var l,n,e},l.prototype.zoomOnArrow=function(l){void 0===l&&(l=!0);var n=this.mapService.getMapBounds();!l&&n.lat1+.001<=this.timeLinePoly.lat&&n.lat2-.001>=this.timeLinePoly.lat&&n.lng1+.001<=this.timeLinePoly.lng&&n.lng2-.001>=this.timeLinePoly.lng||this.mapService.zoomAt({lat:this.timeLinePoly.lat,lng:this.timeLinePoly.lng},this.zoomLevel)},l.prototype.setEventInfo=function(l){this.infoWindow=this.mapService.createInfoWindow(),this.infoWindow.opened=!1,this.infoWindow.setContent("\n      <b> Reason: </b>"+l.halt_reason+" <br>\n      <b>Loc: </b>"+l.loc_name+" <br>\n      <b>Start Time:</b> "+l.start_time+" <br>\n      <b>End Time:</b>"+l.end_time+" <br>\n      <b>Duration:</b>"+l.duration+" <br>\n      "),this.infoWindow.setPosition(this.mapService.createLatLng(l.lat,l.long)),this.infoWindow.open(this.mapService.map),this.mapService.getMapBounds()},l.prototype.unsetEventInfo=function(){this.infoWindow.close(),this.infoWindow.opened=!1},l.prototype.sleep=function(l){return new Promise(function(n){return setTimeout(n,l)})},l}(),Ee=t["\u0275crt"]({encapsulation:0,styles:[['.row[_ngcontent-%COMP%]{height:85vh}.tbl[_ngcontent-%COMP%]{overflow:auto;height:440px;display:block}.table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:100%;width:100%;max-width:160px}.slide-bar[_ngcontent-%COMP%]{vertical-align:middle;display:inline-block;height:10%;border:4px solid #000;position:relative;width:100%}.time-line-event[_ngcontent-%COMP%]{position:absolute;width:100%}.time-line-event[_ngcontent-%COMP%]   .time-line-scale[_ngcontent-%COMP%]{position:relative;width:98%;border-bottom:1px solid #000;top:4px}.time-line-event[_ngcontent-%COMP%]   .time-line-circle[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;border-radius:100%;top:50%;background-color:#0ff}.slide-bar[_ngcontent-%COMP%]   .player_inner[_ngcontent-%COMP%]{position:absolute;width:100%;top:50%;-webkit-transform:translate(0,-50%);transform:translate(0,-50%);height:auto;margin:0;padding:0 15px}.player_inner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block;background-color:#000;border:0;color:#fff;font-size:14px;padding:7px 0;border-radius:5px;width:100%}.player_inner[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block}.player_inner[_ngcontent-%COMP%]   .col-11[_ngcontent-%COMP%]{padding-top:6px}.tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{width:120px;background-color:#555;color:#fff;text-align:center;padding:5px 0;border-radius:6px;margin:0!important;position:absolute;z-index:1;bottom:125%;left:50%;opacity:0;-webkit-transition:opacity .5s;transition:opacity .5s}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]::after{content:"";position:absolute;top:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:#555 transparent transparent}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;opacity:1}']],data:{}});function Ve(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,12,"tr",[["cdkDrag",""]],[[8,"id",0]],[[null,"mouseover"]],function(l,n,e){var t=!0,a=l.component;return"mouseover"===n&&(t=!1!==a.mapService.toggleBounceMF(l.context.index)&&t),"mouseover"===n&&(t=!1!==a.mapService.toggleBounceMF(l.context.index,2)&&t),t},null,null)),t["\u0275did"](2,278528,null,0,_.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](3,{"background-color":0}),(l()(),t["\u0275eld"](4,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["",""])),(l()(),t["\u0275eld"](6,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,["",""])),(l()(),t["\u0275eld"](8,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,["",""])),(l()(),t["\u0275eld"](10,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](11,null,["",""])),(l()(),t["\u0275eld"](12,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,["",""]))],function(l,n){var e=l(n,3,0,"Trails"!=n.context.$implicit.desc?"#"+n.context.$implicit.color:"#fff");l(n,2,0,e)},function(l,n){var e=n.component;l(n,1,0,"vehicleEvent-row-"+n.context.index),l(n,5,0,n.context.$implicit.halt_reason),l(n,7,0,n.context.$implicit.loc_name),l(n,9,0,e.commonService.changeDateformat2(n.context.$implicit.start_time)),l(n,11,0,e.commonService.changeDateformat2(n.context.$implicit.end_time)),l(n,13,0,n.context.$implicit.duration)})}function Le(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"i",[["class","fa fa-pause"]],null,null,null,null,null))],null,null)}function Ne(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"i",[["class","fa fa-play"]],null,null,null,null,null))],null,null)}function He(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","time-line-circle"]],null,[[null,"mouseover"],[null,"mouseout"]],function(l,n,e){var t=!0,a=l.component;return"mouseover"===n&&(t=!1!==a.setEventInfo(l.context.$implicit)&&t),"mouseout"===n&&(t=!1!==a.unsetEventInfo()&&t),t},null,null)),t["\u0275did"](1,278528,null,0,_.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](2,{background:0,left:1})],function(l,n){var e=l(n,2,0,"#"+n.context.$implicit.color,n.context.$implicit.position+"%");l(n,1,0,e)},null)}function ze(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,88,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,1,86,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](3,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,84,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,51,"div",[["class","col-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,50,"table",[["class","table table-bordered table-hover"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,49,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,3,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,2,"td",[["colspan","3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"auto-suggestion",[["display","regno"],["placeholder","Enter Vehicle Number"],["style","width:60%;"],["url","Vehicles/getVehicleListForFoid"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,11).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==(o.vehicleSelected=e.id)&&a),a},Qn.b,Qn.a)),t["\u0275did"](11,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"]},{onSelected:"onSelected"}),(l()(),t["\u0275eld"](12,0,null,null,27,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,11,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,8,"input",[["autocomplete","off"],["class","form-control"],["name","s-date"],["placeholder","Start Time"]],[[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"owl-dt-trigger-disabled",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"],[null,"change"],[null,"click"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,15)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,15).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,15)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,15)._compositionEnd(e.target.value)&&a),"keydown"===n&&(a=!1!==t["\u0275nov"](l,16).handleKeydownOnHost(e)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,16).handleBlurOnHost(e)&&a),"input"===n&&(a=!1!==t["\u0275nov"](l,16).handleInputOnHost(e)&&a),"change"===n&&(a=!1!==t["\u0275nov"](l,16).handleChangeOnHost(e)&&a),"click"===n&&(a=!1!==t["\u0275nov"](l,22).handleClickOnHost(e)&&a),"ngModelChange"===n&&(a=!1!==(o.startDate=e)&&a),a},null,null)),t["\u0275did"](15,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275did"](16,1261568,null,0,De.a,[t.ElementRef,t.Renderer2,[2,Pe.a],[2,Oe.a]],{owlDateTime:[0,"owlDateTime"]},null),t["\u0275prd"](1024,null,V.k,function(l){return[l]},[De.a]),t["\u0275prd"](1024,null,V.l,function(l,n){return[l,n]},[V.d,De.a]),t["\u0275did"](19,671744,null,0,V.q,[[8,null],[6,V.k],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](21,16384,null,0,V.n,[[4,V.m]],null,null),t["\u0275did"](22,1785856,null,0,ke.a,[t.ChangeDetectorRef],{dtPicker:[0,"dtPicker"]},null),(l()(),t["\u0275eld"](23,16777216,null,null,1,"owl-date-time",[],null,null,null,Re.b,Re.a)),t["\u0275did"](24,245760,[["sDate",4]],0,Ie.c,[Se.e,t.ViewContainerRef,Ae.d,t.NgZone,t.ChangeDetectorRef,[2,Pe.a],Ie.a,[2,Oe.a],[2,_.DOCUMENT]],null,null),(l()(),t["\u0275eld"](25,0,null,null,11,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,8,"input",[["autocomplete","off"],["class","form-control"],["name","e-date"],["placeholder","End Time"]],[[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"owl-dt-trigger-disabled",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"],[null,"change"],[null,"click"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,27)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,27).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,27)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,27)._compositionEnd(e.target.value)&&a),"keydown"===n&&(a=!1!==t["\u0275nov"](l,28).handleKeydownOnHost(e)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,28).handleBlurOnHost(e)&&a),"input"===n&&(a=!1!==t["\u0275nov"](l,28).handleInputOnHost(e)&&a),"change"===n&&(a=!1!==t["\u0275nov"](l,28).handleChangeOnHost(e)&&a),"click"===n&&(a=!1!==t["\u0275nov"](l,34).handleClickOnHost(e)&&a),"ngModelChange"===n&&(a=!1!==(o.endDate=e)&&a),a},null,null)),t["\u0275did"](27,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275did"](28,1261568,null,0,De.a,[t.ElementRef,t.Renderer2,[2,Pe.a],[2,Oe.a]],{owlDateTime:[0,"owlDateTime"]},null),t["\u0275prd"](1024,null,V.k,function(l){return[l]},[De.a]),t["\u0275prd"](1024,null,V.l,function(l,n){return[l,n]},[V.d,De.a]),t["\u0275did"](31,671744,null,0,V.q,[[8,null],[6,V.k],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](33,16384,null,0,V.n,[[4,V.m]],null,null),t["\u0275did"](34,1785856,null,0,ke.a,[t.ChangeDetectorRef],{dtPicker:[0,"dtPicker"]},null),(l()(),t["\u0275eld"](35,16777216,null,null,1,"owl-date-time",[],null,null,null,Re.b,Re.a)),t["\u0275did"](36,245760,[["eDate",4]],0,Ie.c,[Se.e,t.ViewContainerRef,Ae.d,t.NgZone,t.ChangeDetectorRef,[2,Pe.a],Ie.a,[2,Oe.a],[2,_.DOCUMENT]],null,null),(l()(),t["\u0275eld"](37,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](38,0,null,null,1,"button",[["class","btn btn-primary form-control"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getHaltTrails()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Go"])),(l()(),t["\u0275eld"](40,0,null,null,15,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](41,0,null,null,14,"td",[["colspan","3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](42,0,null,null,13,"table",[["class","tbl table table-bordered table-hover"],["style","border:1px gray solid"]],null,null,null,null,null)),(l()(),t["\u0275eld"](43,0,null,null,10,"thead",[],null,null,null,null,null)),(l()(),t["\u0275eld"](44,0,null,null,1,"th",[["style","width:40px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Reason"])),(l()(),t["\u0275eld"](46,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Place"])),(l()(),t["\u0275eld"](48,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Start"])),(l()(),t["\u0275eld"](50,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["End"])),(l()(),t["\u0275eld"](52,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Duration"])),(l()(),t["\u0275and"](16777216,null,null,1,null,Ve)),t["\u0275did"](55,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](56,0,null,null,0,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](57,0,null,null,31,"div",[["class","col-7"]],null,null,null,null,null)),(l()(),t["\u0275eld"](58,0,null,null,0,"div",[["id","map"],["style","width: 100%; height: 75%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](59,0,null,null,29,"div",[["class","slide-bar"]],null,null,null,null,null)),(l()(),t["\u0275eld"](60,0,null,null,28,"div",[["class","row player_inner"]],null,null,null,null,null)),(l()(),t["\u0275eld"](61,0,null,null,5,"div",[["class","col-1 p-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](62,0,null,null,4,"button",[],null,[[null,"click"]],function(l,n,e){var t=!0,a=l.component;return"click"===n&&(a.isPlay=!a.isPlay,t=!1!==a.runLineSymbol()&&t),t},null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Le)),t["\u0275did"](64,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ne)),t["\u0275did"](66,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](67,0,null,null,21,"div",[["class","col-11 pr-0 tooltip"]],null,null,null,null,null)),(l()(),t["\u0275eld"](68,0,null,null,6,"input",[["class","slider"],["id","myRange"],["max","100"],["min","1"],["name","slider-name"],["type","range"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"ngModelChange"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,69)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,69).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,69)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,69)._compositionEnd(e.target.value)&&a),"change"===n&&(a=!1!==t["\u0275nov"](l,70).onChange(e.target.value)&&a),"input"===n&&(a=!1!==t["\u0275nov"](l,70).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,70).onTouched()&&a),"input"===n&&(a=!1!==o.setSliderPoint()&&a),"ngModelChange"===n&&(a=!1!==(o.timelineValue=e)&&a),a},null,null)),t["\u0275did"](69,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275did"](70,16384,null,0,V.A,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l,n){return[l,n]},[V.d,V.A]),t["\u0275did"](72,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](74,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](75,0,null,null,9,"div",[["class","tooltiptext"]],null,null,null,null,null)),t["\u0275did"](76,278528,null,0,_.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](77,{left:0}),(l()(),t["\u0275eld"](78,0,null,null,6,"input",[["max","13"],["min","7"],["name","zoomSlider"],["type","range"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,79)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,79).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,79)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,79)._compositionEnd(e.target.value)&&a),"change"===n&&(a=!1!==t["\u0275nov"](l,80).onChange(e.target.value)&&a),"input"===n&&(a=!1!==t["\u0275nov"](l,80).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,80).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.zoomLevel=e)&&a),"input"===n&&(a=!1!==o.zoomOnArrow()&&a),a},null,null)),t["\u0275did"](79,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275did"](80,16384,null,0,V.A,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l,n){return[l,n]},[V.d,V.A]),t["\u0275did"](82,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](84,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](85,0,null,null,3,"div",[["class","time-line-event"]],null,null,null,null,null)),(l()(),t["\u0275eld"](86,0,null,null,0,"div",[["class","time-line-scale"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,He)),t["\u0275did"](88,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,11,0,"Vehicles/getVehicleListForFoid","regno","Enter Vehicle Number"),l(n,16,0,t["\u0275nov"](n,24)),l(n,19,0,"s-date",e.startDate),l(n,22,0,t["\u0275nov"](n,24)),l(n,24,0),l(n,28,0,t["\u0275nov"](n,36)),l(n,31,0,"e-date",e.endDate),l(n,34,0,t["\u0275nov"](n,36)),l(n,36,0),l(n,55,0,e.vehicleEvents),l(n,64,0,e.isPlay),l(n,66,0,!e.isPlay),l(n,72,0,"slider-name",e.timelineValue);var a=l(n,77,0,"calc( "+e.slideToolTipLeft+"px - "+(45+.1*e.timelineValue)+"px)");l(n,76,0,a),l(n,82,0,"zoomSlider",e.zoomLevel),l(n,88,0,e.vehicleEvents)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]),l(n,14,1,[t["\u0275nov"](n,16).owlDateTimeInputAriaHaspopup,t["\u0275nov"](n,16).owlDateTimeInputAriaOwns,t["\u0275nov"](n,16).minIso8601,t["\u0275nov"](n,16).maxIso8601,t["\u0275nov"](n,16).owlDateTimeInputDisabled,t["\u0275nov"](n,21).ngClassUntouched,t["\u0275nov"](n,21).ngClassTouched,t["\u0275nov"](n,21).ngClassPristine,t["\u0275nov"](n,21).ngClassDirty,t["\u0275nov"](n,21).ngClassValid,t["\u0275nov"](n,21).ngClassInvalid,t["\u0275nov"](n,21).ngClassPending,t["\u0275nov"](n,22).owlDTTriggerDisabledClass]),l(n,26,1,[t["\u0275nov"](n,28).owlDateTimeInputAriaHaspopup,t["\u0275nov"](n,28).owlDateTimeInputAriaOwns,t["\u0275nov"](n,28).minIso8601,t["\u0275nov"](n,28).maxIso8601,t["\u0275nov"](n,28).owlDateTimeInputDisabled,t["\u0275nov"](n,33).ngClassUntouched,t["\u0275nov"](n,33).ngClassTouched,t["\u0275nov"](n,33).ngClassPristine,t["\u0275nov"](n,33).ngClassDirty,t["\u0275nov"](n,33).ngClassValid,t["\u0275nov"](n,33).ngClassInvalid,t["\u0275nov"](n,33).ngClassPending,t["\u0275nov"](n,34).owlDTTriggerDisabledClass]),l(n,68,0,t["\u0275nov"](n,74).ngClassUntouched,t["\u0275nov"](n,74).ngClassTouched,t["\u0275nov"](n,74).ngClassPristine,t["\u0275nov"](n,74).ngClassDirty,t["\u0275nov"](n,74).ngClassValid,t["\u0275nov"](n,74).ngClassInvalid,t["\u0275nov"](n,74).ngClassPending),l(n,78,0,t["\u0275nov"](n,84).ngClassUntouched,t["\u0275nov"](n,84).ngClassTouched,t["\u0275nov"](n,84).ngClassPristine,t["\u0275nov"](n,84).ngClassDirty,t["\u0275nov"](n,84).ngClassValid,t["\u0275nov"](n,84).ngClassInvalid,t["\u0275nov"](n,84).ngClassPending)})}function je(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"route-mapper",[],null,null,null,ze,Ee)),t["\u0275did"](1,4308992,null,0,Fe,[al.u,W.a,a.a,F.a],null,null)],function(l,n){l(n,1,0)},null)}var Ue=t["\u0275ccf"]("route-mapper",Fe,je,{},{},[]),$e=e("r+Tg"),qe=function(){function l(l,n,e,t,a,o){this.api=l,this.common=n,this.theme=e,this.user=t,this.datepipe=a,this.modalService=o,this.Hours=[],this.dateDay=[],this.startDate="",this.endDate="",this.lastTrend="",this.showtrend=!1,this.showTables=!1,this.Details=[],this.siteDetails=[],this.vehicleDetails=[],this.kmpdDate=[],this.showPeriod=!0,this.dateStr=[],this.trendType="11",this.siteUnloading=[],this.vehicleUnloading=[],this.onWardDistance=[],this.week_month_number="4",this.period="0",this.url="",this.flag="Loading",this.bgColor="#00695C",this.yScale="Hours",this.onWardFlag=!1,this.fromDate="",this.lastDurationCategory="",this.element={},this.chartObject={type:"",data:{},options:{},elements:{},lables:[],yAxes:[],ticks:{},min:"",max:"",stepSize:""},this.getDefaultTrend(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getDefaultTrend()},l.prototype.getDefaultTrend=function(){var l,n,e;l=new Date,n=new Date(l.setDate(l.getDate()-1)),this.endDate=this.common.dateFormatter(n),console.log("enddate for default",this.endDate),"0"==this.period?(e=new Date(l.setDate(l.getDate()-6)),this.fromDate=this.common.dateFormatter(e),console.log("endDate",this.endDate),console.log("startDate",e,this.fromDate),console.log("zero period call"),this.getDayWiseTrends()):"1"==this.period?(this.startDate=this.common.dateFormatter(e),console.log("endDate",this.endDate),console.log("startDate",e,this.startDate),this.getweeklyTrend()):"2"==this.period?(this.startDate=this.common.dateFormatter(e),console.log("endDate",this.endDate),console.log("startDate",e,this.startDate),this.getMonthlyTrends()):(e=new Date(l.setDate(l.getDate()-6)),this.fromDate=this.common.dateFormatter(e))},l.prototype.showChart=function(){console.log("dateday:showChart",this.dateDay),console.log("kmpd:showChart",this.dateDay),console.log("Hours:showChart",this.Hours),this.chartObject.type="line","31"==this.trendType?(this.chartObject.data={labels:this.kmpdDate,datasets:[{data:this.Hours,borderColor:this.bgColor,fill:!1,pointHoverRadius:8,pointHoverBackgroundColor:"#FFEB3B"}]},this.chartObject.options={responsive:!0,maintainAspectRatio:!1,elements:this.element,legend:{display:!1},yAxes:[{ticks:{min:100,max:500,stepSize:100}}]}):(this.chartObject.data={labels:this.dateDay,datasets:[{data:this.Hours,borderColor:this.bgColor,fill:!1,pointHoverRadius:8,pointHoverBackgroundColor:"#FFEB3B"}]},this.chartObject.options={responsive:!0,maintainAspectRatio:!1,legend:{display:!1},yAxes:[{ticks:{min:100,max:500,stepSize:100}}]}),console.log("lable",this.chartObject.lables)},l.prototype.getSiteWise=function(){var l=this,n={startDate:this.common.dateFormatter(this.fromDate).split(" ")[0],endDate:this.common.dateFormatter(this.endDate).split(" ")[0]+" 23:59:59"};console.log("params: ",n),this.common.loading++,this.api.post("Trends/getTrendsSiteWise",n).subscribe(function(n){l.common.loading--,l.siteDetails=n.data,console.log("siteDetails: ",l.siteDetails),l.siteUnloading=[],z.sortBy(l.siteDetails,["unloading_hrs"]).reverse().map(function(n){console.log("keydata",n),l.siteUnloading.push(n)})},function(n){l.common.loading--,l.common.showError()})},l.prototype.getVehicleWise=function(){var l=this,n={startDate:this.common.dateFormatter(this.fromDate).split(" ")[0],endDate:this.common.dateFormatter(this.endDate).split(" ")[0]+" 23:59:59"};console.log("params: ",n),this.common.loading++,this.api.post("Trends/getTrendsVehicleWise",n).subscribe(function(n){l.common.loading--,l.vehicleDetails=n.data,console.log("vehicleDetails: ",l.vehicleDetails),l.vehicleUnloading=[],z.sortBy(l.vehicleDetails,["unloading_hrs"]).reverse().map(function(n){l.vehicleUnloading.push(n)})},function(n){l.common.loading--,l.common.showError()})},l.prototype.changeTrendType=function(l){"week_month"==l?"1"==this.period?this.getweeklyTrend():"2"==this.period&&this.getMonthlyTrends():"31"==this.trendType?(this.showTables=!1,this.showPeriod=!1,this.getOnwardDistance()):"0"==this.period?(this.showPeriod=!0,"DayWise"==this.lastDurationCategory?"kmpd"==this.lastTrend?this.getDayWiseTrends():this.getCategoryDayWise():this.getDayWiseTrends()):"1"==this.period?(this.showPeriod=!0,this.showTables=!1,"WeekWise"==this.lastDurationCategory?this.getCategoryWeekWise():this.getweeklyTrend()):(this.showPeriod=!0,this.showTables=!1,"MonthWise"==this.lastDurationCategory?this.getCategoryMonthWise():this.getMonthlyTrends()),this.lastTrend=this.trendType},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"trends"},this.modalService.open(ln.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(e){e.date&&("start"==l?(n.fromDate="",n.fromDate=n.common.dateFormatter(e.date).split(" ")[0],console.log("fromDate",n.fromDate)):(n.endDate="",n.endDate=n.common.dateFormatter(e.date).split(" ")[0],console.log("endDate",n.endDate)))})},l.prototype.getDayWiseTrends=function(){var l=this;this.lastTrend="",this.Details=[],console.log("getDayWiseTrends call"),this.dateDay=[],this.fromDate=this.common.dateFormatter(this.fromDate).split(" ")[0],this.endDate=this.common.dateFormatter(this.endDate).split(" ")[0];var n={startDate:this.fromDate,endDate:this.endDate+" 23:59:59"};console.log("params: ",n),this.common.loading++,this.api.post("Trends/getTrendsDayWise",n).subscribe(function(n){l.common.loading--,console.log("res: ",n.data),l.Details=n.data,l.Details.forEach(function(n){l.showdate=l.datepipe.transform(n.date_day,"dd-MMM"),l.dateDay.push(l.showdate),console.log("dateDay: ",l.showdate)}),l.getCategoryDayWise()},function(n){l.common.loading--,l.common.showError()}),this.getSiteWise(),this.getVehicleWise()},l.prototype.getCategoryDayWise=function(){var l=this;this.Hours=[],this.lastDurationCategory="DayWise",console.log("changeTrendType:","call"),this.Details.forEach(function(n){"11"==l.trendType?(l.Hours.push(n.loading_hrs),l.showTables=!0,l.flag="Loading",l.bgColor="#00695C",l.yScale="Hours",l.onWardFlag=!1,console.log("Hours: ",l.Hours)):"21"==l.trendType?(l.Hours.push(n.unloading_hrs),l.showTables=!0,l.flag="UnLoading",l.bgColor="#E91E63",l.yScale="Hours",l.onWardFlag=!1):"0"==l.trendType&&(l.Hours.push(n.onward),l.showTables=!0,l.flag="onWard",l.bgColor="#4CAF50",l.yScale="percent",l.onWardFlag=!0)}),this.showChart()},l.prototype.getweeklyTrend=function(){var l,n,e=this;this.dateStr=[],this.Details=[],l=new Date,this.endDate=this.common.dateFormatter(new Date(l.setDate(l.getDate()-1))).split(" ")[0];var t=parseInt(this.week_month_number);console.log("converted number",t),n=new Date(l.setDate(l.getDate()-7*t)),this.startDate=this.common.dateFormatter(n.setDate(n.getDate()+1)).split(" ")[0],console.log("startDate:weekly",this.startDate);var a={startDate:this.startDate,endDate:this.endDate+" 23:59:59"};console.log("params: ",a),this.common.loading++,this.api.post("Trends/getTrendsWeekWise",a).subscribe(function(l){e.common.loading--,console.log("res:weekWise",l.data),e.Details=l.data,e.Details.forEach(function(l){e.dateStr.push(l.date_day)}),e.getCategoryWeekWise()},function(l){e.common.loading--,e.common.showError()})},l.prototype.getCategoryWeekWise=function(){var l,n=this;this.dateDay=[],this.Hours=[],this.lastDurationCategory="WeekWise",parseInt(this.week_month_number),console.log("datestr length",this.dateStr.length);for(var e=0;e<this.dateStr.length;e++)if(l=this.datepipe.transform(this.dateStr[e],"dd-MMM")+" - ",this.dateStr[e+1]){var t=new Date(this.dateStr[e+1]);l+=this.datepipe.transform(this.common.dateFormatter(new Date(t.setDate(t.getDate())-1)),"dd-MMM"),this.dateDay.push(l)}else e+1==this.dateStr.length?(l+=this.datepipe.transform(this.endDate,"dd-MMM"),this.dateDay.push(l)):(l+=this.datepipe.transform(this.dateStr[e],"dd-MMM"),this.dateDay.push(l));this.Details.forEach(function(l){"11"==n.trendType?(n.Hours.push(l.loading_hrs),n.flag="Loading",n.bgColor="#00695C",n.yScale="Hours"):"21"==n.trendType?(n.Hours.push(l.unloading_hrs),n.flag="UnLoading",n.bgColor="#E91E63",n.yScale="Hours"):"0"==n.trendType&&(n.Hours.push(l.onward),n.flag="onWard",n.bgColor="#4CAF50",n.yScale="percent")}),this.showChart()},l.prototype.getMonthlyTrends=function(){var l,n,e=this;this.showTables=!1,this.Details=[],this.dateStr=[],l=new Date,this.endDate=this.common.dateFormatter(new Date(l.setDate(l.getDate()-1))).split(" ")[0];var t=parseInt(this.week_month_number);console.log("converted number",t),n=new Date(l.setMonth(l.getMonth()-t)),this.startDate=this.common.dateFormatter(n.setDate(n.getDate()+1)).split(" ")[0],console.log("startDate:monthly",this.startDate);var a={startDate:this.startDate,endDate:this.endDate+" 23:59:59"};console.log("params: ",a),this.common.loading++,this.api.post("Trends/getTrendsMonthWise",a).subscribe(function(l){e.common.loading--,e.Details=l.data,console.log("res:monthWise",l.data),e.Details.forEach(function(l){e.dateStr.push(l.date_day)}),e.getCategoryMonthWise()},function(l){e.common.loading--,e.common.showError()})},l.prototype.getCategoryMonthWise=function(){var l,n=this;this.dateDay=[],this.Hours=[],this.lastDurationCategory="MonthWise",parseInt(this.week_month_number);for(var e=0;e<this.dateStr.length;e++)if(l=this.datepipe.transform(this.dateStr[e],"dd-MMM")+" - ",this.dateStr[e+1]){var t=new Date(this.dateStr[e+1]);l+=this.datepipe.transform(this.common.dateFormatter(new Date(t.setDate(t.getDate())-1)),"dd-MMM"),this.dateDay.push(l)}else e+1==this.dateStr.length?(l+=this.datepipe.transform(this.endDate,"dd-MMM"),this.dateDay.push(l)):(l+=this.datepipe.transform(this.dateStr[e],"dd-MMM"),this.dateDay.push(l));console.log("dateDay:month ",this.dateDay),this.Details.forEach(function(l){"11"==n.trendType?(n.Hours.push(l.loading_hrs),n.flag="Loading",n.bgColor="#00695C",n.yScale="Hours",console.log("loading case:","call")):"21"==n.trendType?(n.Hours.push(l.unloading_hrs),n.flag="UnLoading",n.bgColor="#E91E63",n.yScale="Hours"):"0"==n.trendType&&(n.Hours.push(l.onward),n.flag="onWard",n.bgColor="#4CAF50",n.yScale="percent")}),this.showChart()},l.prototype.getPendingStatusDetails=function(l){var n=this,e={siteId:l.siteid,startDate:this.fromDate,endDate:this.endDate+" 23:59:59"};this.common.loading++,this.api.post("Trends/getSiteWiseVehicleList",e).subscribe(function(l){n.common.loading--,console.log(l);var e=[];l.data.map(function(l,t){"11"==n.trendType?11==l.halttypid&&e.push([l.regno,l.countevent]):21==l.halttypid&&e.push([l.regno,l.countevent])}),console.log(e),n.common.params={title:"SiteWise Vehicle List:",headings:["Vehicle_RegNo.","Count Event"],data:e},n.modalService.open($e.a,{size:"sm",container:"nb-layout"})},function(l){n.common.loading--,console.log(l)})},l.prototype.locationOnMap=function(l){if(l.lat){var n={lat:l.lat,lng:l.long,name:"",time:""};console.log("Location: ",n),this.common.params={location:n,title:"Location"},this.modalService.open(N.a,{size:"lg",container:"nb-layout"})}else this.common.showToast("Vehicle location not available!")},l.prototype.getOnwardDistance=function(){var l=this;this.onWardDistance=[],this.kmpdDate=[],this.Hours=[],this.endDate=this.common.dateFormatter(this.endDate).split(" ")[0],this.fromDate=this.common.dateFormatter(this.fromDate).split(" ")[0];var n={startDate:this.fromDate,endDate:this.endDate+" 23:59:59"};console.log("params: ",n),this.common.loading++,this.api.post("Trends/getGroupOnwardDistance",n).subscribe(function(n){l.common.loading--,console.log("res: ",n.data),l.onWardDistance=n.data,l.showTables=!1,l.showPeriod=!1,l.onWardDistance.forEach(function(n){l.showdate=l.datepipe.transform(n.DATE,"dd-MMM"),l.kmpdDate.push(l.showdate),l.Hours.push(n.KMPD),console.log("dateDay , Hours: ",l.kmpdDate,l.Hours),l.yScale="KMPD"}),l.element={line:{tension:0}},l.bgColor="#A0522D",l.showChart()},function(n){l.common.loading--,l.common.showError()})},l.prototype.getTrend=function(){"31"==this.trendType?(this.lastTrend="kmpd",this.getOnwardDistance()):this.getDayWiseTrends()},l}(),Ge=t["\u0275crt"]({encapsulation:0,styles:[["input[type=text][_ngcontent-%COMP%]{width:100%;height:30px;padding-left:5px;font-size:10px;border:1px solid #324148;border-radius:3px}.btn-primary[_ngcontent-%COMP%]{padding:6px 15px;border-radius:5px;border:0;text-transform:capitalize;cursor:pointer!important;width:100%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#324148;display:table;width:100%;table-layout:fixed;color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1), table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:320px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:110px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;width:100%;table-layout:fixed;overflow:auto;max-height:calc(100vh - 405px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed;width:100%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#e4e4e4}"]],data:{}});function Be(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,18,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,17,"select",[["class","form-control"],["style"," border: 1px solid #324148; font-size: 10px"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,2).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,2).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.period=e)&&a),"change"===n&&(a=!1!==o.changeTrendType()&&a),a},null,null)),t["\u0275did"](2,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](4,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](6,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](7,0,null,null,3,"option",[["value","0"]],null,null,null,null,null)),t["\u0275did"](8,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](9,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Day"])),(l()(),t["\u0275eld"](11,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),t["\u0275did"](12,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](13,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Week"])),(l()(),t["\u0275eld"](15,0,null,null,3,"option",[["value","2"]],null,null,null,null,null)),t["\u0275did"](16,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](17,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Month"]))],function(l,n){l(n,4,0,n.component.period),l(n,8,0,"0"),l(n,9,0,"0"),l(n,12,0,"1"),l(n,13,0,"1"),l(n,16,0,"2"),l(n,17,0,"2")},function(l,n){l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending)})}function We(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,34,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,33,"select",[["class","form-control"],["style"," border: 1px solid #324148; font-size: 10px"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,2).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,2).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.week_month_number=e)&&a),"change"===n&&(a=!1!==o.changeTrendType("week_month")&&a),a},null,null)),t["\u0275did"](2,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](4,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](6,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](7,0,null,null,3,"option",[["value","4"]],null,null,null,null,null)),t["\u0275did"](8,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](9,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["4"])),(l()(),t["\u0275eld"](11,0,null,null,3,"option",[["value","5"]],null,null,null,null,null)),t["\u0275did"](12,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](13,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["5"])),(l()(),t["\u0275eld"](15,0,null,null,3,"option",[["value","6"]],null,null,null,null,null)),t["\u0275did"](16,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](17,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["6"])),(l()(),t["\u0275eld"](19,0,null,null,3,"option",[["value","7"]],null,null,null,null,null)),t["\u0275did"](20,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](21,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["7"])),(l()(),t["\u0275eld"](23,0,null,null,3,"option",[["value","8"]],null,null,null,null,null)),t["\u0275did"](24,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](25,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["8"])),(l()(),t["\u0275eld"](27,0,null,null,3,"option",[["value","9"]],null,null,null,null,null)),t["\u0275did"](28,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](29,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["9"])),(l()(),t["\u0275eld"](31,0,null,null,3,"option",[["value","10"]],null,null,null,null,null)),t["\u0275did"](32,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](33,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["10"]))],function(l,n){l(n,4,0,n.component.week_month_number),l(n,8,0,"4"),l(n,9,0,"4"),l(n,12,0,"5"),l(n,13,0,"5"),l(n,16,0,"6"),l(n,17,0,"6"),l(n,20,0,"7"),l(n,21,0,"7"),l(n,24,0,"8"),l(n,25,0,"8"),l(n,28,0,"9"),l(n,29,0,"9"),l(n,32,0,"10"),l(n,33,0,"10")},function(l,n){l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending)})}function Ke(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"input",[["class","form-control"],["name","date"],["placeholder","Start Date"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate("start")&&t),t},null,null)),t["\u0275ppd"](2,2)],null,function(l,n){var e=n.component,a=t["\u0275unv"](n,1,0,l(n,2,0,t["\u0275nov"](n.parent,0),e.fromDate,"dd MMM yyyy"));l(n,1,0,a)})}function Je(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"input",[["class","form-control"],["name","date1"],["placeholder","End Date"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate("end")&&t),t},null,null)),t["\u0275ppd"](2,2)],null,function(l,n){var e=n.component,a=t["\u0275unv"](n,1,0,l(n,2,0,t["\u0275nov"](n.parent,0),e.endDate,"dd MMM yyyy"));l(n,1,0,a)})}function Ye(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getTrend()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["submit"]))],null,null)}function Ze(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Loading Hours"]))],null,null)}function Qe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Unloading Hours "]))],null,null)}function Xe(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function lt(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0,null,Xe))],null,null)}function nt(l){return t["\u0275vid"](0,[(l()(),t["\u0275ted"](0,null,["","_",""]))],null,function(l,n){l(n,0,0,n.parent.parent.parent.context.$implicit.sitename,n.parent.parent.parent.context.$implicit.siteid)})}function et(l){return t["\u0275vid"](0,[(l()(),t["\u0275ted"](0,null,["",""]))],null,function(l,n){l(n,0,0,n.parent.parent.parent.context.$implicit.sitename)})}function tt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"td",[["style","color:#00695C;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.locationOnMap(l.parent.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,lt)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["showid",2]],null,0,null,nt)),(l()(),t["\u0275and"](0,[["showname",2]],null,0,null,et))],function(l,n){var e="unknown"==n.parent.parent.context.$implicit.sitename.toLowerCase();l(n,2,0,e,t["\u0275nov"](n,3),t["\u0275nov"](n,4))},null)}function at(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"td",[["style","color:#00695C;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["No Site"]))],null,null)}function ot(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,tt)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,at)),t["\u0275did"](4,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,null,1,"td",[["style","color:#00695C;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getPendingStatusDetails(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275ted"](8,null,["",""]))],function(l,n){l(n,2,0,null!=n.parent.context.$implicit.sitename&&null!=n.parent.context.$implicit.siteid),l(n,4,0,null==n.parent.context.$implicit.sitename)},function(l,n){l(n,6,0,n.parent.context.$implicit.loading_hrs),l(n,8,0,n.parent.context.$implicit.loading_count)})}function it(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ot)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,n){l(n,2,0,11==n.component.trendType&&0!=n.context.$implicit.loading_count)},null)}function ut(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,it)),t["\u0275did"](2,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.siteDetails)},null)}function rt(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function st(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0,null,rt))],null,null)}function dt(l){return t["\u0275vid"](0,[(l()(),t["\u0275ted"](0,null,["","_",""]))],null,function(l,n){l(n,0,0,n.parent.parent.parent.context.$implicit.sitename,n.parent.parent.parent.context.$implicit.siteid)})}function ct(l){return t["\u0275vid"](0,[(l()(),t["\u0275ted"](0,null,["",""]))],null,function(l,n){l(n,0,0,n.parent.parent.parent.context.$implicit.sitename)})}function pt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"td",[["style","color:#E91E63;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.locationOnMap(l.parent.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,st)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["showid",2]],null,0,null,dt)),(l()(),t["\u0275and"](0,[["showname",2]],null,0,null,ct))],function(l,n){var e="unknown"==n.parent.parent.context.$implicit.sitename.toLowerCase();l(n,2,0,e,t["\u0275nov"](n,3),t["\u0275nov"](n,4))},null)}function gt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"td",[["style","color:#E91E63;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["No Site"]))],null,null)}function ht(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,pt)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,gt)),t["\u0275did"](4,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,null,1,"td",[["style","color:#E91E63;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getPendingStatusDetails(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275ted"](8,null,["",""]))],function(l,n){l(n,2,0,null!=n.parent.context.$implicit.sitename&&null!=n.parent.context.$implicit.siteid),l(n,4,0,null==n.parent.context.$implicit.sitename)},function(l,n){l(n,6,0,n.parent.context.$implicit.unloading_hrs),l(n,8,0,n.parent.context.$implicit.unloading_count)})}function mt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ht)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,n){l(n,2,0,21==n.component.trendType&&0!=n.context.$implicit.unloading_count)},null)}function ft(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,mt)),t["\u0275did"](2,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.siteUnloading)},null)}function vt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,"div",[["class","col-sm-6 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,14,"table",[["class","table table-bordered"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,9,"thead",[["class","thead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Site Name"])),(l()(),t["\u0275and"](16777216,null,null,1,null,Ze)),t["\u0275did"](7,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Qe)),t["\u0275did"](9,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Count"])),(l()(),t["\u0275and"](16777216,null,null,1,null,ut)),t["\u0275did"](13,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ft)),t["\u0275did"](15,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,7,0,11==e.trendType),l(n,9,0,21==e.trendType),l(n,13,0,11==e.trendType),l(n,15,0,21==e.trendType)},null)}function bt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Loading Hours"]))],null,null)}function xt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Unloading Hours "]))],null,null)}function yt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""]))],null,function(l,n){l(n,2,0,n.parent.context.$implicit.vehicle_id),l(n,4,0,n.parent.context.$implicit.loading_hrs),l(n,6,0,n.parent.context.$implicit.ldng_count)})}function Ct(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,yt)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,n){l(n,2,0,11==n.component.trendType&&0!=n.context.$implicit.ldng_count)},null)}function _t(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ct)),t["\u0275did"](2,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.vehicleDetails)},null)}function wt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""]))],null,function(l,n){l(n,2,0,n.parent.context.$implicit.vehicle_id),l(n,4,0,n.parent.context.$implicit.unloading_hrs),l(n,6,0,n.parent.context.$implicit.unldng_count)})}function Mt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,wt)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,n){l(n,2,0,21==n.component.trendType&&0!=n.context.$implicit.unldng_count)},null)}function Tt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Mt)),t["\u0275did"](2,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.vehicleUnloading)},null)}function Dt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,14,"table",[["class","table table-bordered"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,9,"thead",[["class","thead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle Name"])),(l()(),t["\u0275and"](16777216,null,null,1,null,bt)),t["\u0275did"](7,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,xt)),t["\u0275did"](9,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Count"])),(l()(),t["\u0275and"](16777216,null,null,1,null,_t)),t["\u0275did"](13,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Tt)),t["\u0275did"](15,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,7,0,11==e.trendType),l(n,9,0,21==e.trendType),l(n,13,0,11==e.trendType),l(n,15,0,21==e.trendType)},null)}function Pt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275eld"](5,0,null,null,0,"td",[],null,null,null,null,null))],null,function(l,n){l(n,2,0,n.context.$implicit.vehicle_id),l(n,4,0,n.context.$implicit.onward)})}function Ot(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"div",[["class","col-sm-12"],["style","height:300px;overflow:auto;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,11,"table",[["class","table table-bordered"],["style","margin-left: 70px; margin-right:70px;text-align: center;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,7,"thead",[["class","thead"],["style","background-color:darkgrey"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle Name"])),(l()(),t["\u0275eld"](6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["OnWard Hours"])),(l()(),t["\u0275eld"](8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Count"])),(l()(),t["\u0275eld"](10,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Pt)),t["\u0275did"](12,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,12,0,n.component.vehicleDetails)},null)}function kt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","row"],["style","margin-top: 10px"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,vt)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Dt)),t["\u0275did"](4,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ot)),t["\u0275did"](6,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,!e.onWardFlag),l(n,4,0,!e.onWardFlag),l(n,6,0,e.onWardFlag)},null)}function Rt(l){return t["\u0275vid"](0,[t["\u0275pid"](0,_.DatePipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,48,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](2,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](3,0,null,1,46,"nb-card-body",[["style","padding:15px 15px 0px;"]],null,null,null,O.d,O.a)),t["\u0275did"](4,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,44,"div",[["class","model-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,22,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,21,"select",[["class","form-control"],["style"," border: 1px solid #324148; font-size: 10px"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,9).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,9).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.trendType=e)&&a),"change"===n&&(a=!1!==o.changeTrendType()&&a),a},null,null)),t["\u0275did"](9,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](11,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](13,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](14,0,null,null,3,"option",[["value","11"]],null,null,null,null,null)),t["\u0275did"](15,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](16,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Loading"])),(l()(),t["\u0275eld"](18,0,null,null,3,"option",[["value","21"]],null,null,null,null,null)),t["\u0275did"](19,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](20,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Unloading"])),(l()(),t["\u0275eld"](22,0,null,null,3,"option",[["value","0"]],null,null,null,null,null)),t["\u0275did"](23,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](24,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Onward"])),(l()(),t["\u0275eld"](26,0,null,null,3,"option",[["value","31"]],null,null,null,null,null)),t["\u0275did"](27,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](28,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Onward - KMPD"])),(l()(),t["\u0275and"](16777216,null,null,1,null,Be)),t["\u0275did"](31,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,We)),t["\u0275did"](33,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ke)),t["\u0275did"](35,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Je)),t["\u0275did"](37,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ye)),t["\u0275did"](39,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](40,0,null,null,0,"div",[["class","border"],["style","height:2px; color:darkslategray;margin-top: 10px; margin-bottom: 10px"]],null,null,null,null,null)),(l()(),t["\u0275eld"](41,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](42,0,null,null,2,"div",[["class","col-sm-1 pr-0 text-right"],["style","padding-top:50px"]],null,null,null,null,null)),(l()(),t["\u0275eld"](43,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](44,null,["",""])),(l()(),t["\u0275eld"](45,0,null,null,2,"div",[["class","col-sm-11"]],null,null,null,null,null)),(l()(),t["\u0275eld"](46,0,null,null,1,"chart",[["style","margin-right:5px;min-height: 200px;"]],null,null,null,R.b,R.a)),t["\u0275did"](47,638976,null,0,I.ChartComponent,[t.ElementRef,t.NgZone],{type:[0,"type"],data:[1,"data"],options:[2,"options"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,kt)),t["\u0275did"](49,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,11,0,e.trendType),l(n,15,0,"11"),l(n,16,0,"11"),l(n,19,0,"21"),l(n,20,0,"21"),l(n,23,0,"0"),l(n,24,0,"0"),l(n,27,0,"31"),l(n,28,0,"31"),l(n,31,0,e.showPeriod),l(n,33,0,("1"==e.period||"2"==e.period)&&"31"!=e.trendType),l(n,35,0,"0"==e.period||"31"==e.trendType),l(n,37,0,"0"==e.period||"31"==e.trendType),l(n,39,0,"0"==e.period||"31"==e.trendType),l(n,47,0,e.chartObject.type,e.chartObject.data,e.chartObject.options),l(n,49,0,e.showTables)},function(l,n){var e=n.component;l(n,1,1,[t["\u0275nov"](n,2).xxsmall,t["\u0275nov"](n,2).xsmall,t["\u0275nov"](n,2).small,t["\u0275nov"](n,2).medium,t["\u0275nov"](n,2).large,t["\u0275nov"](n,2).xlarge,t["\u0275nov"](n,2).xxlarge,t["\u0275nov"](n,2).active,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2).primary,t["\u0275nov"](n,2).info,t["\u0275nov"](n,2).success,t["\u0275nov"](n,2).warning,t["\u0275nov"](n,2).danger,t["\u0275nov"](n,2).hasAccent,t["\u0275nov"](n,2).primaryAccent,t["\u0275nov"](n,2).infoAccent,t["\u0275nov"](n,2).successAccent,t["\u0275nov"](n,2).warningAccent,t["\u0275nov"](n,2).dangerAccent,t["\u0275nov"](n,2).activeAccent,t["\u0275nov"](n,2).disabledAccent]),l(n,8,0,t["\u0275nov"](n,13).ngClassUntouched,t["\u0275nov"](n,13).ngClassTouched,t["\u0275nov"](n,13).ngClassPristine,t["\u0275nov"](n,13).ngClassDirty,t["\u0275nov"](n,13).ngClassValid,t["\u0275nov"](n,13).ngClassInvalid,t["\u0275nov"](n,13).ngClassPending),l(n,44,0,e.yScale)})}function It(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"trends",[],null,null,null,Rt,Ge)),t["\u0275did"](1,114688,null,0,qe,[a.a,F.a,x.a,i.a,_.DatePipe,al.u],null,null)],function(l,n){l(n,1,0)},null)}var St=t["\u0275ccf"]("trends",qe,It,{},{},[]),At=function(){function l(l,n,e){this.api=l,this.common=n,this.modalService=e,this.placements=[],this.getPlacement(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getPlacement()},l.prototype.getPlacement=function(){var l=this;this.common.loading++,this.api.get("Placement/getFoPlacementRePort?").subscribe(function(n){l.common.loading--,console.log(n),l.placements=n.data},function(n){l.common.loading--,console.log(n)})},l.prototype.openPlacementModal=function(l){var n=this;console.log("openPlacementModal",l);var e={id:l.x_trip_id,startName:l.x_showtripstart,startTime:l.x_showstarttime,regno:l.x_showveh,vehicleId:l.x_vehicle_id,siteId:l.x_hl_site_id};this.common.params={tripDetils:e,ref_page:"placements"},console.log("vehicleTrip",e),this.modalService.open(K.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(l){n.getPlacement()})},l}(),Ft=t["\u0275crt"]({encapsulation:0,styles:[[""],d.a],data:{}});function Et(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""])),(l()(),t["\u0275eld"](9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,["",""])),(l()(),t["\u0275eld"](11,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,["",""])),(l()(),t["\u0275eld"](13,0,null,null,2,"td",[["style","text-align:center"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,1,"button",[["class","btn btn-danger"],["style","border-radius: 8px;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openPlacementModal(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["ADD"]))],null,function(l,n){l(n,2,0,n.context.index+1),l(n,4,0,n.context.$implicit.x_showveh),l(n,6,0,n.context.$implicit.x_showtripstart),l(n,8,0,n.context.$implicit.x_showtripend),l(n,10,0,n.context.$implicit.showprim_status),l(n,12,0,n.context.$implicit.x_placement)})}function Vt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data available ! "]))],null,null)}function Lt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,32,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,5,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","col-sm-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Placements"])),(l()(),t["\u0275eld"](8,0,null,1,24,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](9,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](10,0,null,0,22,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,19,"table",[["class","table table-bordered table-hover"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,15,"thead",[["class","thead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,14,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["#"])),(l()(),t["\u0275eld"](16,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle No"])),(l()(),t["\u0275eld"](18,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Source"])),(l()(),t["\u0275eld"](20,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Destination"])),(l()(),t["\u0275eld"](22,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Status"])),(l()(),t["\u0275eld"](24,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Placements"])),(l()(),t["\u0275eld"](26,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Action"])),(l()(),t["\u0275eld"](28,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Et)),t["\u0275did"](30,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Vt)),t["\u0275did"](32,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,30,0,e.placements),l(n,32,0,0==e.placements.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function Nt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"placements",[],null,null,null,Lt,Ft)),t["\u0275did"](1,114688,null,0,At,[a.a,F.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var Ht=t["\u0275ccf"]("placements",At,Nt,{},{},[]),zt=e("vHBT"),jt=e("EXPs"),Ut=function(){function l(l,n,e,t){this.api=l,this.activeModal=n,this.modalService=e,this.common=t,this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.recoveries=[],this.getRecoveries(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getRecoveries()},l.prototype.getRecoveries=function(){var l=this;this.common.loading++,this.api.get("FinanceRecovery/getOutstandingCredit?branchId=0&accGroupId=0&ledgerId=0").subscribe(function(n){l.common.loading--,console.log("Res:",n),l.recoveries=n.data||[],l.setTable()},function(n){l.common.loading--,l.common.showError(),console.log("Error:",n)})},l.prototype.setTable=function(){this.table.data={headings:this.generateHeadings(),columns:this.genearateColumns()}},l.prototype.generateHeadings=function(){var l={};for(var n in this.recoveries[0])"_"!=n.charAt(0)&&(l[n]={title:this.formatTitle(n),placeholder:this.formatTitle(n)});return l},l.prototype.genearateColumns=function(){var l=this,n=[];return this.recoveries.map(function(e){var t={};for(var a in l.generateHeadings())if("Action"==a)t.Action={class:"fas fa-eye",action:l.showAction.bind(l,e._ledid)};else if("View Contacts"==a)t[a]={value:"show",class:"Black"==e._cc?"black":"Red"==e._cc?"red":"Blue"==e._cc?"blue":"Green"==e._cc?"green":"Light Green"==e._cc?"lightGreen":"Purple"==e._cc?"purple":"Yellow"==e._cc?"yellow":"",action:l.customerMobileNo.bind(l)};else if("ledgername"==a){var o=[{class:"fa fa-bell",action:l.customerResponse.bind(l)},{txt:e[a],action:l.customerResponse.bind(l)}];1!=e._reminderflag&&o.splice(0,1),t[a]={class:"Black"==e._cc?"black":"Red"==e._cc?"red":"Blue"==e._cc?"blue":"Green"==e._cc?"green":"Light Green"==e._cc?"lightGreen":"Purple"==e._cc?"purple":"Yellow"==e._cc?"yellow":"",icons:o}}else t[a]={value:e[a],class:"Black"==e._cc?"black":"Red"==e._cc?"red":"Blue"==e._cc?"blue":"Green"==e._cc?"green":"Light Green"==e._cc?"lightGreen":"Purple"==e._cc?"purple":"Yellow"==e._cc?"yellow":"",action:""};n.push(t)}),n},l.prototype.customerResponse=function(){this.common.params={data:{title:"Customer Response",type:"radio",apiData:null,radio1:"Not Picking The Phone",radio2:"Switch Off",radio3:"Highly Negative Response",btn1:"Cancel",btn2:"Submit"}},this.modalService.open(jt.a,{container:"nb-layout",size:"sm",backdrop:"static"})},l.prototype.customerMobileNo=function(){var l=this,n={title:"User mobile",type:"text",apiData:null};this.api.get("FinanceRecovery/getCompanyContacts").subscribe(function(e){console.log("res",e.data),n.apiData=e.data[0].MobileNo,console.log("data api",n.apiData),l.common.params={data:n},l.modalService.open(jt.a,{container:"nb-layout",size:"sm",backdrop:"static"})},function(n){l.common.loading--,l.common.showError()})},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.showAction=function(l){var n=this;this.common.params={ledgerId:l},console.log("params",this.common.params),this.modalService.open(zt.a,{container:"nb-layout"}).result.then(function(l){console.log("res",l),n.getRecoveries()})},l}(),$t=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]     .tableFixHead table tr td:nth-child(2).blue, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(5).blue{color:#00f;font-weight:700}[_nghost-%COMP%]     .tableFixHead table tr td:nth-child(2).black, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(3).black, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(4).black, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(5).black, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(6).black{color:#fff;background-color:#000}[_nghost-%COMP%]     .tableFixHead table tr td:nth-child(2).red, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(3).red, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(4).red, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(5).red, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(6).red{color:#fff;background-color:red}[_nghost-%COMP%]     .tableFixHead table tr td:nth-child(2).pink, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(3).pink, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(4).pink, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(5).pink, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(6).pink{color:#fff;background-color:pink}[_nghost-%COMP%]     .tableFixHead table tr td:nth-child(2).green, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(3).green, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(4).green, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(5).green, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(6).green{color:#fff;background-color:green}[_nghost-%COMP%]     .tableFixHead table tr td:nth-child(2).lightGreen, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(3).lightGreen, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(4).lightGreen, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(5).lightGreen, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(6).lightGreen{color:#fff;background-color:#90ee90}[_nghost-%COMP%]     .tableFixHead table tr td:nth-child(2).blue, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(3).blue, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(4).blue, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(5).blue, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(6).blue{color:#fff;background-color:#00f}[_nghost-%COMP%]     .tableFixHead table tr td:nth-child(2).purple, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(3).purple, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(4).purple, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(5).purple, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(6).purple{color:#fff;background-color:purple}[_nghost-%COMP%]     .tableFixHead table tr td:nth-child(2).yellow, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(3).yellow, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(4).yellow, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(5).yellow, [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(6).yellow{color:#fff;background-color:#ff0}[_nghost-%COMP%]     .tableFixHead table tr td.fa-check{font-family:FontAwesome}[_nghost-%COMP%]     .tableFixHead table tr .fa-bell .zoom{display:inline-block;margin-left:10px;font-weight:700;padding:5px 0;font-size:14px;font-family:Poppins,sans-serif!important}"]],data:{}});function qt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data Available On That Time Period ! "]))],null,null)}function Gt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function Bt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Finance Recovery"])),(l()(),t["\u0275eld"](6,0,null,1,6,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,qt)),t["\u0275did"](9,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](10,0,null,0,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Gt)),t["\u0275did"](12,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,9,0,0==e.recoveries.length),l(n,12,0,e.recoveries.length>0)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function Wt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"finance-recovery",[],null,null,null,Bt,$t)),t["\u0275did"](1,114688,null,0,Ut,[a.a,al.d,al.u,F.a],null,null)],function(l,n){l(n,1,0)},null)}var Kt=t["\u0275ccf"]("finance-recovery",Ut,Wt,{},{},[]),Jt=e("LjsE"),Yt=e("kZSg"),Zt=e("U79Z"),Qt=function(){function l(l,n,e,t){this.api=l,this.common=n,this.user=e,this.modalService=t,this.fuelAvg=[],this.fuelTable={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.fuelHeadings=[],this.fuelValobj={},this.table=null,this.fuelNorms=[],this.table1=null,this.foFsMapping=[],this.fsid=null,this.foid=null,this.fuelData=[],this.vehicleId=null,this.activeTab="Credit Fuel Station",this.common.refresh=this.refresh.bind(this),this.getFuelNorms(),this.getFoFsMapping(),this.getFuelAvg()}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getFuelNorms(),this.getFoFsMapping(),this.getFuelAvg()},l.prototype.addFuelRule=function(){var l=this;this.common.params={},this.modalService.open(Yt.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(n){n.response&&l.getFuelNorms()})},l.prototype.getFuelNorms=function(){var l=this;this.fuelNorms=[],this.common.loading++,this.api.get("Fuel/getFuelFullNorms").subscribe(function(n){l.common.loading--,console.log("res",n.data),l.fuelNorms=n.data||[],l.table=l.setTable()},function(n){l.common.loading--,l.common.showError()})},l.prototype.setTable=function(){return{data:{headings:{FoName:{title:"Fo Name",placeholder:"Fo Name"},RuleType:{title:"Rule Type ",placeholder:"Rule Type"},Name:{title:"Name ",placeholder:"Name"},AngleFrom:{title:"Angle From ",placeholder:"Angle From"},AngleTo:{title:"Angle To ",placeholder:"Angle To"},action:{title:"Action ",placeholder:"Action",hideSearch:!0,class:"tag"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"72vh"}}},l.prototype.getTableColumns=function(){var l=this,n=[];return this.fuelNorms.map(function(e){var t={FoName:{value:e.fo_name},RuleType:{value:e.type},Name:{value:e.name},AngleFrom:{value:e.angle_from},AngleTo:{value:e.angle_to},action:{value:"",isHTML:!1,action:null,icons:l.actionIcons(e)},rowActions:{click:"selectRow"}};n.push(t)}),n},l.prototype.actionIcons=function(l){var n=[];return this.user.permission.edit&&n.push({class:"far fa-edit",action:this.updateRule.bind(this,l)}),this.user.permission.delete&&n.push({class:" fa fa-trash-alt",action:this.deleteRule.bind(this,l)}),n},l.prototype.updateRule=function(l){var n=this;this.common.params={title:"Edit Fuel Rule",rule:l},this.modalService.open(Yt.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){l.response&&n.getFuelNorms()})},l.prototype.deleteRule=function(l){var n=this;if(window.confirm("Are You Want Delete Record")){var e={rowid:l.id};console.log("params",e),this.common.loading++,this.api.post("Fuel/deleteRule",e).subscribe(function(l){n.common.loading--;var e=l.data;console.log("data:"),console.log(e),n.common.showToast(l.msg),n.getFuelNorms()},function(l){n.common.loading--,console.log(l)})}},l.prototype.getFoFsMapping=function(){var l=this;this.common.loading++,this.api.get("Fuel/getFoFsMapping").subscribe(function(n){l.common.loading--,console.log("res",n.data),l.foFsMapping=n.data||[],l.table1=l.setTable1()},function(n){l.common.loading--,l.common.showError()})},l.prototype.addFoFsMapping=function(){var l=this;if(this.fsid){var n={foid:null,fsid:this.fsid};this.common.loading++,this.api.post("Fuel/insertFoFsMapping",n).subscribe(function(n){l.common.loading--,console.log("res",n.data),l.common.showToast(n.msg),n.success&&l.getFoFsMapping()},function(n){l.common.loading--,l.common.showError()})}else this.common.showToast("Fuel Station Is Missing")},l.prototype.getFo=function(l){this.foid=l.id},l.prototype.getFs=function(l){this.fsid=l.id},l.prototype.setTable1=function(){return{data:{headings:{StationName:{title:"Station Name",placeholder:"Station Name"},SiteName:{title:"Site Name",placeholder:"Site Name"},Location:{title:"Location",placeholder:"Location"},action:{title:"Action ",placeholder:"Action",hideSearch:!0,class:"tag"}},columns:this.getTableColumns1()},settings:{hideHeader:!0,tableHeight:"72vh"}}},l.prototype.getTableColumns1=function(){var l=this,n=[];return this.foFsMapping.map(function(e){var t={StationName:{value:e.station_name},SiteName:{value:e.site_name},Location:{value:e.location},action:{value:"",isHTML:!1,action:null,icons:[l.user.permission.delete&&{class:" fa fa-trash-alt",action:l.deleteMapping.bind(l,e)}]},rowActions:{click:"selectRow"}};n.push(t)}),n},l.prototype.deleteMapping=function(l){var n=this,e={rowid:l.id};console.log("rowid",e),this.common.loading++,this.api.post("Fuel/deleteFoFsMapping",e).subscribe(function(l){n.common.loading--,n.common.showToast(l.msg),l.success&&n.getFoFsMapping()},function(l){n.common.loading--,n.common.showError()})},l.prototype.addFuelAvg=function(){var l=this;this.common.params={row:null,load:null,unload:null,vehicle:null},this.modalService.open(Zt.a,{container:"nb-layout",backdrop:"static"}).result.then(function(n){l.getFuelAvg()})},l.prototype.getFuelAvg=function(){var l=this;this.fuelAvg=[],this.fuelTable={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.fuelHeadings=[],this.fuelValobj={},this.common.loading++,this.api.get("Fuel/getModelWiseFuelAvgWrtFo").subscribe(function(n){l.common.loading--,l.fuelAvg=[],l.fuelAvg=n.data||[],console.log("result",n);var e=l.fuelAvg[0];for(var t in e)if("_"!=t.charAt(0)){l.fuelHeadings.push(t);var a={title:l.formatTitle(t),placeholder:l.formatTitle(t)};l.fuelTable.data.headings[t]=a}l.fuelTable.data.columns=l.getTableFuelColumns()})},l.prototype.getTableFuelColumns=function(){var l=this,n=[];return console.log("Data=",this.fuelAvg),this.fuelAvg.map(function(e){l.fuelValobj={};for(var t=0;t<l.fuelHeadings.length;t++)console.log("doc index value:",e[l.fuelHeadings[t]]),"Action"==l.fuelHeadings[t]?l.fuelValobj.Action={value:"",action:null,icons:l.actionIcon(e)}:l.fuelValobj[l.fuelHeadings[t]]={value:e[l.fuelHeadings[t]],class:"black",action:""};n.push(l.fuelValobj)}),n},l.prototype.actionIcon=function(l){var n=[];return this.user.permission.edit&&n.push({class:"far fa-edit",action:this.updateFuel.bind(this,l._id,l.LoadMileage,l.UnloadMileage,l._vm_id,l.VehicleModel,l.Brand)}),this.user.permission.delete&&n.push({class:"fas fa-trash-alt",action:this.deleteFuel.bind(this,l._id)}),n},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.updateFuel=function(l,n,e,t,a,o){var i=this;this.common.params={row:l,load:n,unLoad:e,vehicle:t,name:a,brand:o},this.modalService.open(Zt.a,{container:"nb-layout"}).result.then(function(l){i.getFuelAvg()})},l.prototype.deleteFuel=function(l){var n=this;console.log("id",l);var e={rowId:l};console.log("id2",e),l&&(this.common.params={title:"Delete  ",description:"<b>&nbsp;Are you Sure You Want  To Delete This Record?<b>"},this.modalService.open(ee.a,{size:"sm",container:"nb-layout",backdrop:"static",keyboard:!1,windowClass:"accountModalClass"}).result.then(function(l){l.response&&(n.common.loading++,console.log("par",e),n.api.post("Fuel/deleteModelWiseFuelAvgWrtFo",e).subscribe(function(l){console.log("Api Response:",l),n.common.showToast(l.msg),n.getFuelAvg(),n.common.loading--},function(l){return console.error(" Api Error:",l)}))}))},l}(),Xt=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]     .tableFixHead{border-bottom:1px solid #ccc;padding-bottom:20px;margin-bottom:20px;border-top:1px solid #ccc;padding-top:20px;margin-top:20px;height:auto!important;max-height:calc(100vh - 186px)}.tabs_style[_ngcontent-%COMP%]{width:100%;margin:0 0 10px;border-bottom:2px solid #26a69a;padding-left:5px!important}.tabs_style[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 20px;list-style:none;margin-right:5px;background-color:#26a69a;border:2px solid #26a69a;color:#fff;border-bottom:0;display:inline-block;border-radius:5px 5px 0 0;font-size:14px;font-weight:400;cursor:pointer}.tabs_style[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#fff;color:#26a69a;position:relative}.tabs_style[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]::after{content:'';display:block;background-color:#fff;height:10px;width:100%;position:absolute;left:0}.error[_ngcontent-%COMP%]{font-size:14px}.ex-pen[_ngcontent-%COMP%]{color:red;display:block;font-weight:400;margin-top:5px}.text-red[_ngcontent-%COMP%]{color:red}.alert-danger[_ngcontent-%COMP%]{color:#721c24!important;background-color:#f8d7da!important;border-color:#f5c6cb!important;width:80%;margin:0 auto;text-align:center;padding:12px!important;font-size:18px!important}nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;background-color:#f5f5f5}.edit[_ngcontent-%COMP%]{color:#263238!important;font-size:16px}.delete[_ngcontent-%COMP%]{color:#d61414!important;font-size:14px}[_nghost-%COMP%]     .tag .no-search span{color:#000;background-color:#fff!important}[_nghost-%COMP%]     .fa-edit{font-size:12px;margin-right:10px;background-color:#3c6ac7;color:#fff;border-color:#73a1ff;padding:8px;border-radius:3px}[_nghost-%COMP%]     .edit-btn:hover{background-color:#0054ff}[_nghost-%COMP%]     .fa-trash-alt{font-size:12px;margin-right:10px;background-color:#fd397a;color:#fff;border-color:#fd397a;padding:8px;border-radius:3px}[_nghost-%COMP%]     .remove:hover{background-color:#fd1361;border-color:#fc0758}"]],data:{}});function la(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-primary m-0"],["name","add"],["style","border-radius:3px;"],["type","submit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addFuelRule()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Add Rule"]))],null,null)}function na(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function ea(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data available ! "]))],null,null)}function ta(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","text-right"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,la)),t["\u0275did"](3,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](4,0,null,null,4,"div",[["class","mt-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,na)),t["\u0275did"](6,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ea)),t["\u0275did"](8,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,3,0,e.user.permission.add),l(n,6,0,e.fuelNorms&&e.fuelNorms.length),l(n,8,0,0==e.fuelNorms.length)},null)}function aa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table1.data,e.table1.settings)},null)}function oa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data available ! "]))],null,null)}function ia(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"auto-suggestion",[["display","name"],["placeholder","Search Fuel Station"],["url","Suggestion/GetFuelStation"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,4).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==o.getFs(e)&&a),a},Qn.b,Qn.a)),t["\u0275did"](4,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"],preSelected:[3,"preSelected"]},{onSelected:"onSelected"}),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"button",[["class","btn btn-primary pb-1 pt-1"],["style","border-radius:3px; text-align:center"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addFoFsMapping()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Add"])),(l()(),t["\u0275eld"](8,0,null,null,4,"div",[["class","mt-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,aa)),t["\u0275did"](10,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,oa)),t["\u0275did"](12,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,4,0,"Suggestion/GetFuelStation","name","Search Fuel Station",null),l(n,10,0,e.foFsMapping.length),l(n,12,0,0==e.foFsMapping.length)},null)}function ua(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-primary m-0"],["name","add"],["style","border-radius:3px"],["type","submit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addFuelAvg()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Add Model Fuel Mileage"]))],null,null)}function ra(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data Available On That Time Period ! "]))],null,null)}function sa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.fuelTable.data,e.fuelTable.settings)},null)}function da(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[["class","col-12 text-right"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ua)),t["\u0275did"](4,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](5,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ra)),t["\u0275did"](7,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](8,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,sa)),t["\u0275did"](10,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,4,0,e.user.permission.add),l(n,7,0,0==e.fuelAvg.length),l(n,10,0,e.fuelAvg.length>0)},null)}function ca(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,25,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Fuel Master"])),(l()(),t["\u0275eld"](6,0,null,1,19,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](8,0,null,0,10,"div",[["class","tabs_style_main"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,9,"ul",[["class","tabs_style text-left"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==(l.component.activeTab="Credit Fuel Station")&&t),t},null,null)),t["\u0275did"](11,278528,null,0,_.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),(l()(),t["\u0275ted"](-1,null,[" Credit Fuel Station"])),(l()(),t["\u0275eld"](13,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==(l.component.activeTab="Fuel Rule")&&t),t},null,null)),t["\u0275did"](14,278528,null,0,_.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),(l()(),t["\u0275ted"](-1,null,["IsFull Rule"])),(l()(),t["\u0275eld"](16,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==(l.component.activeTab="Model Fuel Mileage")&&t),t},null,null)),t["\u0275did"](17,278528,null,0,_.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),(l()(),t["\u0275ted"](-1,null,[" Model Fuel Mileage "])),(l()(),t["\u0275eld"](19,0,null,0,6,"div",[["class","fuel-master"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ta)),t["\u0275did"](21,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ia)),t["\u0275did"](23,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,da)),t["\u0275did"](25,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,11,0,"Credit Fuel Station"==e.activeTab?"active":""),l(n,14,0,"Fuel Rule"==e.activeTab?"active":""),l(n,17,0,"Model Fuel Mileage"==e.activeTab?"active":""),l(n,21,0,"Fuel Rule"==e.activeTab),l(n,23,0,"Credit Fuel Station"==e.activeTab),l(n,25,0,"Model Fuel Mileage"==e.activeTab)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function pa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"fuel-master",[],null,null,null,ca,Xt)),t["\u0275did"](1,114688,null,0,Qt,[a.a,F.a,i.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var ga=t["\u0275ccf"]("fuel-master",Qt,pa,{},{},[]),ha=e("lxmq"),ma=function(){function l(l,n,e,t){this.api=l,this.common=n,this.user=e,this.modalService=t,this.callLogs=[],this.foAdminUserId=[],this.currentDay=null,this.nextDay=null,this.table=null;var a=new Date(this.common.dateFormatter1(new Date).split(" ")[0]);this.currentDay=this.common.dateFormatter1(a),this.nextDay=this.common.dateFormatter1(new Date(a.setDate(a.getDate()+1))).split(" ")[0],console.log("currentDay:",this.currentDay,this.nextDay)}return l.prototype.ngOnInit=function(){},l.prototype.getDate=function(){var l=this;this.common.params={ref_page:"call-logs"},this.modalService.open(ln.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(n){var e=new Date(l.common.dateFormatter1(n.date).split(" ")[0]);l.currentDay=l.common.dateFormatter1(e),l.nextDay=l.common.dateFormatter1(new Date(e.setDate(e.getDate()+1))).split(" ")[0],console.log("currentDay:",l.currentDay,l.nextDay)})},l.prototype.getFoAdmin=function(l){console.log("foAdmin",l),this.foAdminUserId=l.id},l.prototype.getCallDetails=function(){var l=this,n={foAdminUserId:this.foAdminUserId,currentDay:this.common.dateFormatter1(this.currentDay),nextDay:this.common.dateFormatter1(this.nextDay)};console.log("params:",n),++this.common.loading,this.api.post("FoDetails/getDriverCallLogs",n).subscribe(function(n){--l.common.loading,console.log("Res:",n),l.callLogs=n.data,l.table=l.setTable()},function(n){--l.common.loading,console.log("Err:",n)})},l.prototype.setTable=function(){return{data:{headings:{vehicleNumber:{title:"Vehicle Number",placeholder:"Vehicle No"},driverName:{title:"Driver Name",placeholder:"Driver Name"},mobileNo:{title:"Mobile Number",placeholder:"Mobile Number"},incoming:{title:"Incoming ",placeholder:"Incoming"},outgoing:{title:"Outgoing",placeholder:"Outgoing"},total:{title:"Total",placeholder:"Total"},unanswered:{title:"Unanswered",placeholder:"Unanswered"},missed:{title:"Missed",placeholder:"Missed"}},columns:this.getTableColumns()},settings:{hideHeader:!0}}},l.prototype.getTableColumns=function(){var l=this,n=[];return this.callLogs.map(function(e){var t={vehicleNumber:{value:e.y_vehiclename},driverName:{value:e.y_drivername},mobileNo:{value:e.y_mobileno},incoming:{value:e.y_incomming},outgoing:{value:e.y_outgoing},total:{value:'<div style="color: black;" class="'+(e.y_total?"blue":"black")+'"><span>'+(e.y_total||"-")+"</span></div>",action:l.openHistoryModel.bind(l,e),isHTML:!0},unanswered:{value:e.y_unanswered},missed:{value:e.y_missed}};n.push(t)}),n},l.prototype.openHistoryModel=function(l){var n={vehicleId:l.y_vehicle_id,foAdminUserId:this.foAdminUserId,currentDay:this.common.dateFormatter1(this.currentDay),nextDay:this.common.dateFormatter1(this.nextDay)};this.common.params={callData:n},this.common.handleModalHeightWidth("class","modal-lg","200","1500"),this.modalService.open(ha.a,{size:"lg",container:"nb-layout"}).result.then(function(l){return console.log("data",l)})},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--,n.common.getPDFFromTableId(l,e.data.name,"Call Logs",["Action"],"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCsv=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--,n.common.getCSVFromTableId(l,"FoName:"+e.data.name,"Report:Call Logs",["Action"],"")},function(l){n.common.loading--,console.log(l)})},l}(),fa=t["\u0275crt"]({encapsulation:0,styles:[["nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}total-clr[_ngcontent-%COMP%]{color:#00f}[_nghost-%COMP%]     .blue{color:#00f}.btn-primary[_ngcontent-%COMP%]{text-transform:capitalize;padding:12px 14px;margin:0;height:auto}[_nghost-%COMP%]     .tableFixHead{overflow-y:auto;display:block;width:100%;table-layout:fixed;overflow:auto;max-height:calc(100vh - 170px);height:auto!important}.pdf-icon[_ngcontent-%COMP%]{font-size:30px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:30px;color:#217346}"],d.a],data:{}});function va(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","call-logs"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function ba(l){return t["\u0275vid"](0,[t["\u0275pid"](0,_.DatePipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,30,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](2,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](3,0,null,0,23,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](4,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,21,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Call Logs"])),(l()(),t["\u0275eld"](9,0,null,null,5,"div",[["class","col-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printPDF("call-logs")&&t),t},null,null)),(l()(),t["\u0275eld"](12,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 10px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printCsv("call-logs")&&t),t},null,null)),(l()(),t["\u0275eld"](14,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,11,"div",[["class","col-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,2,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"input",[["autocomplete","off"],["class","form-control"],["name","date"],["placeholder","Select Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate()&&t),t},null,null)),t["\u0275ppd"](19,2),(l()(),t["\u0275eld"](20,0,null,null,3,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,2,"div",[["class","search_vehicle_input"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,1,"auto-suggestion",[["class","auto-suggest"],["display","employeename"],["placeholder","Fo"],["style","width:100%;"],["url","Suggestion/getFoAdminList?foid="]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,23).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==o.getFoAdmin(e)&&a),a},Qn.b,Qn.a)),t["\u0275did"](23,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"]},{onSelected:"onSelected"}),(l()(),t["\u0275eld"](24,0,null,null,2,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,1,"button",[["class","btn btn-primary m-0"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getCallDetails()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Get Details"])),(l()(),t["\u0275eld"](27,0,null,1,4,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](28,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](29,0,null,0,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,va)),t["\u0275did"](31,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,23,0,"Suggestion/getFoAdminList?foid=","employeename","Fo"),l(n,31,0,e.callLogs&&e.callLogs.length)},function(l,n){var e=n.component;l(n,1,1,[t["\u0275nov"](n,2).xxsmall,t["\u0275nov"](n,2).xsmall,t["\u0275nov"](n,2).small,t["\u0275nov"](n,2).medium,t["\u0275nov"](n,2).large,t["\u0275nov"](n,2).xlarge,t["\u0275nov"](n,2).xxlarge,t["\u0275nov"](n,2).active,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2).primary,t["\u0275nov"](n,2).info,t["\u0275nov"](n,2).success,t["\u0275nov"](n,2).warning,t["\u0275nov"](n,2).danger,t["\u0275nov"](n,2).hasAccent,t["\u0275nov"](n,2).primaryAccent,t["\u0275nov"](n,2).infoAccent,t["\u0275nov"](n,2).successAccent,t["\u0275nov"](n,2).warningAccent,t["\u0275nov"](n,2).dangerAccent,t["\u0275nov"](n,2).activeAccent,t["\u0275nov"](n,2).disabledAccent]);var a=t["\u0275unv"](n,18,0,l(n,19,0,t["\u0275nov"](n,0),e.currentDay,"dd MMM yyyy"));l(n,18,0,a)})}function xa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"call-logs",[],null,null,null,ba,fa)),t["\u0275did"](1,114688,null,0,ma,[a.a,F.a,i.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var ya=t["\u0275ccf"]("call-logs",ma,xa,{},{},[]),Ca=function(){function l(l,n,e,t){this.api=l,this.common=n,this.user=e,this.modalService=t,this.driverData=[],this.headings=[],this.kmpdval=300,this.runhourval=10,this.distance=0,this.strcurdate="",this.stryesterday="",this.dis_all="dcs",this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.showTable=!1,this.onwardDelayData=[],this.valobj2={},this.table2={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.delayFaults=[],this.valobj3={},this.table3={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.shortTarget=[],this.valobj4={},this.table4={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.longLoading=[],this.hoursType="hrs",this.hours=10,this.valobj5={},this.table5={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.longUnLoading=[],this.valobj6={},this.table6={data:{headings:{},columns:[]},settings:{hideHeader:!0}};var a=new Date;this.strcurdate=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),a.setDate(a.getDate()-1),this.stryesterday=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),this.getReport(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getReport()},l.prototype.getReportdata=function(l){console.log("dis_all",l),"11"==l?this.getLongLoading(l):"21"==l?this.getLongUnloading(l):"51"==l?this.getOnwardDelayData(l):"dcs"==l?this.fetchReport():"pdf"==l?this.getDelayFaults():"st"==l&&this.getShortTarget()},l.prototype.formatTitle=function(l){return l.indexOf("_")>0?l.toLowerCase().split("_").map(function(l){return l[0].toUpperCase()+l.slice(1)}).join(" "):l.charAt(0).toUpperCase()+l.substr(1)},l.prototype.fetchReport=function(){if(null==this.kmpdval||!this.kmpdval)return this.common.showError("Please provide Km per day"),!1;this.getReport()},l.prototype.openDistance=function(l){var n=this;this.common.loading++;var e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();e.setDate(e.getDate()-1);var a=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();this.api.post("Vehicles/getVehDistanceBwTime",{vehicleId:l,fromTime:a,tTime:t}).subscribe(function(e){n.common.loading--;var t=e.data;t>0&&(n.distance=Math.round(t/1e3*100)/100),n.common.handleModalHeightWidth("class","modal-lg","200","1500"),n.openRouteMapper(l)},function(l){n.common.loading--,console.log(l)})},l.prototype.getReport=function(){var l,n=this;this.common.loading++,this.headings=[];var e=this.user._details.id;"admin"==this.user._loggedInBy&&(e=this.user._customer.id),"string"==typeof(l=0==this.kmpdval||null==this.kmpdval?null:this.kmpdval)&&(l=parseInt(l)),this.api.post("Drivers/getDriverCallSuggestion",{x_user_id:e,x_kmpd:l}).subscribe(function(l){n.common.loading--,n.resetDisplayTable(),n.driverData=l.data,null!=n.driverData&&null!=l.data||(console.log("resetting table"),n.driverData=[],n.resetDisplayTable()),console.info("driver Data",n.driverData);var e=n.driverData[0];for(var t in n.table.data.headings={},e)if("_"!=t.charAt(0)){n.headings.push(t);var a={title:n.formatTitle(t),placeholder:n.formatTitle(t)};n.table.data.headings[t]=a}console.log("hdgs:"),console.log(n.headings),console.log(n.table.data.headings),n.table.data.columns=n.getTableColumns()},function(l){n.common.loading--,console.log(l)})},l.prototype.resetDisplayTable=function(){this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}}},l.prototype.getTableColumns=function(){for(var l=[],n=0;n<this.driverData.length;n++){for(var e={},t=0;t<this.headings.length;t++){var a=this.driverData[n][this.headings[t]];e[this.headings[t]]="Dist Covered"==this.headings[t]&&this.driverData[n]._starttime?{value:a,class:"blue",action:this.openRouteMapper.bind(this,this.driverData[n])}:"Driver"==this.headings[t]?{value:a,class:"blue",action:this.openChangeDriverModal.bind(this,this.driverData[n])}:"Vehicle"==this.headings[t]?{value:a,class:"blue",action:this.addShortTarget.bind(this,this.driverData[n])}:"Trip"==this.headings[t]?{value:this.common.getJSONTripStatusHTML(this.driverData[n]),isHTML:!0,class:"black",action:this.openPlacementModal.bind(this,this.driverData[n])}:"Current Loc"==this.headings[t]?{value:a,class:"blue",action:this.showLocation.bind(this,this.driverData[n])}:"Last 24Hr KM"==this.headings[t]&&this.driverData[n]._last24starttime?{value:a,class:"blue",action:this.openRouteMapper.bind(this,this.driverData[n],"Last 24Hr KM")}:"Act"==this.headings[t]?{value:"",isHTML:!0,action:null,icons:[{class:"icon fa fa-question-circle",action:this.reportIssue.bind(this,this.driverData[n])},this.user.permission.add&&{class:"icon fa fa-pencil-square-o",action:this.addShortTarget.bind(this,this.driverData[n])},{class:"icon fa fa-route route-mapper",action:this.openRouteMapper.bind(this,this.driverData[n])}]}:{value:a,class:"black",action:""}}l.push(e)}return console.log("datalength:"),console.log(this.driverData.length),l},l.prototype.getOnwardDelayData=function(l){var n=this,e=this.hours;"days"==this.hoursType&&(e=24*this.hours),this.onwardDelayData=[],this.common.loading++,this.api.get("TripsOperation/tripOnwardDelay?type="+l+"&hours="+e).subscribe(function(l){n.common.loading--,console.log("result",l.data),n.onwardDelayData=l.data,n.smartTableWithHeadings()},function(l){n.common.loading--,n.common.showError()})},l.prototype.smartTableWithHeadings=function(){if(this.table2={data:{headings:{},columns:[]},settings:{hideHeader:!0}},null!=this.onwardDelayData){console.log("onwardDelayData",this.onwardDelayData);var l=this.onwardDelayData[0];for(var n in console.log("first_Rec",l),l)if("_"!=n.charAt(0)){this.headings.push(n);var e={title:n,placeholder:this.formatTitle(n)};this.table2.data.headings[n]=e}this.table2.data.columns=this.getTableColumns2(),console.log("table:2"),console.log(this.table2),this.showTable=!0}else this.common.showToast("No Record Found !!")},l.prototype.getTableColumns2=function(){for(var l=[],n=0;n<this.onwardDelayData.length;n++){this.valobj2={};for(var e=0;e<this.headings.length;e++)console.log("header",this.headings[e]),this.valobj2[this.headings[e]]="Vehicle"==this.headings[e]?{value:this.onwardDelayData[n][this.headings[e]],class:"blue",action:this.addShortTarget.bind(this,this.onwardDelayData[n])}:"Trip"==this.headings[e]?{value:this.common.getJSONTripStatusHTML(this.onwardDelayData[n]),isHTML:!0,class:"black",action:this.openPlacementModal.bind(this,this.onwardDelayData[n])}:"Current Loc"==this.headings[e]?{value:this.onwardDelayData[n][this.headings[e]],class:"blue",action:this.showLocation.bind(this,this.onwardDelayData[n])}:"%Dist"==this.headings[e]?{value:this.onwardDelayData[n][this.headings[e]],class:"blue",action:this.openRouteMapper.bind(this,this.onwardDelayData[n])}:"Mobile"==this.headings[e]?{value:this.onwardDelayData[n][this.headings[e]],class:"blue",action:this.openChangeDriverModal.bind(this,this.onwardDelayData[n])}:"Act"==this.headings[e]?{value:"",isHTML:!0,action:null,icons:[{class:"icon fa fa-question-circle",action:this.reportIssue.bind(this,this.onwardDelayData[n])},this.user.permission.add&&{class:"icon fa fa-pencil-square-o",action:this.addShortTarget.bind(this,this.onwardDelayData[n])}]}:{value:this.onwardDelayData[n][this.headings[e]],class:"black",action:""};this.valobj2.style={background:this.onwardDelayData[n]._rowcolor},l.push(this.valobj2)}return console.log("Columns:",l),l},l.prototype.getDelayFaults=function(){var l=this;this.delayFaults=[],this.table3={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.common.loading++,this.api.get("Placement/placementDelayFaults?").subscribe(function(n){if(l.common.loading--,l.delayFaults=n.data,null==l.delayFaults)return l.common.showToast("No Record Found !!"),void(l.delayFaults=[]);console.log("delayFaults",l.delayFaults);var e=l.delayFaults[0];for(var t in console.log("first_Rec",e),e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:t,placeholder:l.formatTitle(t)};l.table3.data.headings[t]=a}l.table3.data.columns=l.getTableColumns3(),console.log("table:"),console.log(l.table),l.showTable=!0},function(n){l.common.loading--,l.common.showError()})},l.prototype.getTableColumns3=function(){for(var l=[],n=0;n<this.delayFaults.length;n++){this.valobj3={};for(var e=0;e<this.headings.length;e++)this.valobj3[this.headings[e]]="mobileno"==this.headings[e]?{value:this.delayFaults[n][this.headings[e]],class:"blue",action:this.openChangeDriverModal.bind(this,this.delayFaults[n])}:"%Dist"==this.headings[e]?{value:this.delayFaults[n][this.headings[e]],class:"blue",action:this.openRouteMapper.bind(this,this.delayFaults[n])}:"vehicle"==this.headings[e]?{value:this.delayFaults[n][this.headings[e]],class:"blue",action:this.addShortTarget.bind(this,this.delayFaults[n])}:"Trip"==this.headings[e]?{value:this.common.getJSONTripStatusHTML(this.delayFaults[n]),isHTML:!0,class:"black",action:this.openPlacementModal.bind(this,this.delayFaults[n])}:"Current Loc"==this.headings[e]?{value:this.delayFaults[n][this.headings[e]],class:"blue",action:this.showLocation.bind(this,this.delayFaults[n])}:"Act"==this.headings[e]?{value:"",isHTML:!0,action:null,icons:[{class:"icon fa fa-question-circle",action:this.reportIssue.bind(this,this.delayFaults[n])},this.user.permission.add&&{class:"icon fa fa-pencil-square-o",action:this.addShortTarget.bind(this,this.delayFaults[n])}]}:{value:this.delayFaults[n][this.headings[e]],class:"black",action:""};this.valobj3.style={background:this.delayFaults[n]._rowcolor},l.push(this.valobj3)}return console.log("Columns:",l),l},l.prototype.getShortTarget=function(){var l=this;this.shortTarget=[],this.table4={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.common.loading++,this.api.get("Placement/getShortTarget").subscribe(function(n){if(l.common.loading--,l.shortTarget=n.data,null==l.shortTarget)return l.common.showToast("No Record Found !!"),void(l.shortTarget=[]);console.log("shortTarget",l.shortTarget);var e=l.shortTarget[0];for(var t in console.log("first_Rec",e),e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:t,placeholder:l.formatTitle(t)};l.table4.data.headings[t]=a}l.table4.data.columns=l.getTableColumns4(),console.log("table:"),console.log(l.table4),l.showTable=!0},function(n){l.common.loading--,l.common.showError()})},l.prototype.getTableColumns4=function(){for(var l=[],n=0;n<this.shortTarget.length;n++){this.valobj4={};for(var e=0;e<this.headings.length;e++)console.log("header",this.headings[e]),this.valobj4[this.headings[e]]="Vehicle"==this.headings[e]?{value:this.shortTarget[n][this.headings[e]],class:"blue",action:this.addShortTarget.bind(this,this.shortTarget[n])}:"Current Loc"==this.headings[e]?{value:this.shortTarget[n][this.headings[e]],class:"blue",action:this.showLocation.bind(this,this.shortTarget[n])}:"Trip"==this.headings[e]?{value:this.common.getJSONTripStatusHTML(this.shortTarget[n]),isHTML:!0,class:"black",action:this.openPlacementModal.bind(this,this.shortTarget[n])}:"Act"==this.headings[e]?{value:"",isHTML:!0,action:null,icons:[{class:"icon fa fa-question-circle",action:this.reportIssue.bind(this,this.shortTarget[n])},this.user.permission.add&&{class:"icon fa fa-pencil-square-o",action:this.addShortTarget.bind(this,this.shortTarget[n])}]}:"remark"==this.headings[e]?{value:this.shortTarget[n][this.headings[e]],class:"blue",action:this.openRouteMapper.bind(this,this.shortTarget[n])}:"Mobile"==this.headings[e]?{value:this.shortTarget[n][this.headings[e]],class:"blue",action:this.openChangeDriverModal.bind(this,this.shortTarget[n])}:{value:this.shortTarget[n][this.headings[e]],class:"black",action:""};this.valobj4.style={background:this.shortTarget[n]._rowcolor},l.push(this.valobj4)}return console.log("Columns:",l),l},l.prototype.getLongLoading=function(l){var n=this,e=this.hours;this.longLoading=[],this.table5={data:{headings:{},columns:[]},settings:{hideHeader:!0}},"days"==this.hoursType&&(e=24*this.hours);var t="type="+l+"&hours="+e;console.log("params: ",t),this.common.loading++,this.api.get("TripsOperation/tripOnwardDelay?"+t).subscribe(function(l){if(n.common.loading--,n.longLoading=l.data,null==n.longLoading)return n.common.showToast("No Record Found !!"),void(n.longLoading=[]);console.log("shortTarget",n.longLoading);var e=n.longLoading[0];for(var t in console.log("first_Rec",e),e)if("_"!=t.charAt(0)){n.headings.push(t);var a={title:t,placeholder:n.formatTitle(t)};n.table5.data.headings[t]=a}n.table5.data.columns=n.getTableColumns5(),console.log("table:"),console.log(n.table5),n.showTable=!0},function(l){n.common.loading--,n.common.showError()})},l.prototype.getTableColumns5=function(){for(var l=[],n=0;n<this.longLoading.length;n++){this.valobj5={};for(var e=0;e<this.headings.length;e++)console.log("header",this.headings[e]),this.valobj5[this.headings[e]]="Vehicle"==this.headings[e]?{value:this.longLoading[n][this.headings[e]],class:"blue",action:this.addShortTarget.bind(this,this.longLoading[n])}:"Driver"==this.headings[e]?{value:this.longLoading[n][this.headings[e]],class:"blue",action:this.openChangeDriverModal.bind(this,this.longLoading[n])}:"Current Loc"==this.headings[e]?{value:this.longLoading[n][this.headings[e]],class:"blue",action:this.showLocation.bind(this,this.longLoading[n])}:"Act"==this.headings[e]?{value:"",isHTML:!0,action:null,icons:[{class:"icon fa fa-question-circle",action:this.reportIssue.bind(this,this.longLoading[n])},this.user.permission.add&&{class:"icon fa fa-pencil-square-o",action:this.addShortTarget.bind(this,this.longLoading[n])}]}:"Trip"==this.headings[e]?{value:this.common.getJSONTripStatusHTML(this.longLoading[n]),isHTML:!0,class:"black",action:this.openPlacementModal.bind(this,this.longLoading[n])}:"%Dist"==this.headings[e]?{value:this.longLoading[n][this.headings[e]],class:"blue",action:this.openRouteMapper.bind(this,this.longLoading[n])}:{value:this.longLoading[n][this.headings[e]],class:"black",action:""};this.valobj5.style={background:this.longLoading[n]._rowcolor},l.push(this.valobj5)}return console.log("Columns:",l),l},l.prototype.getLongUnloading=function(l){var n=this;this.longUnLoading=[];var e=this.hours;this.table6={data:{headings:{},columns:[]},settings:{hideHeader:!0}},"days"==this.hoursType&&(e=24*this.hours);var t="type="+l+"&hours="+e;console.log("params: ",t),this.common.loading++,this.api.get("TripsOperation/tripOnwardDelay?"+t).subscribe(function(l){if(n.common.loading--,n.longUnLoading=l.data,console.log("longunLoading",n.longUnLoading),null!=n.longUnLoading){var e=n.longUnLoading[0];for(var t in console.log("first_Rec",e),e)if("_"!=t.charAt(0)){n.headings.push(t);var a={title:t,placeholder:n.formatTitle(t)};n.table6.data.headings[t]=a}n.table6.data.columns=n.getTableColumns6(),console.log("table:"),console.log(n.table6),n.showTable=!0}else n.common.showToast("No Record Found !!")},function(l){n.common.loading--,n.common.showError()})},l.prototype.getTableColumns6=function(){for(var l=[],n=0;n<this.longUnLoading.length;n++){console.log("longUnLoading",this.longUnLoading),this.valobj6={};for(var e=0;e<this.headings.length;e++)"Vehicle"==this.headings[e]?this.valobj6[this.headings[e]]={value:this.longUnLoading[n][this.headings[e]],class:"blue",action:this.addShortTarget.bind(this,this.longUnLoading[n])}:"Driver"==this.headings[e]?this.valobj6[this.headings[e]]={value:this.longUnLoading[n][this.headings[e]],class:"blue",action:this.openChangeDriverModal.bind(this,this.longUnLoading[n])}:"Current Loc"==this.headings[e]?this.valobj6[this.headings[e]]={value:this.longUnLoading[n][this.headings[e]],class:"blue",action:this.showLocation.bind(this,this.longUnLoading[n])}:"Act"==this.headings[e]?this.valobj6[this.headings[e]]={value:"",isHTML:!0,action:null,icons:[{class:"icon fa fa-question-circle",action:this.reportIssue.bind(this,this.longUnLoading[n])},this.user.permission.add&&{class:"icon fa fa-pencil-square-o",action:this.addShortTarget.bind(this,this.longUnLoading[n])}]}:"Trip"==this.headings[e]?this.valobj6[this.headings[e]]={value:this.common.getJSONTripStatusHTML(this.longUnLoading[n]),isHTML:!0,class:"black",action:this.openPlacementModal.bind(this,this.longUnLoading[n])}:"%Dist"==this.headings[e]?this.valobj6[this.headings[e]]={value:this.longUnLoading[n][this.headings[e]],class:"blue",action:this.openRouteMapper.bind(this,this.longUnLoading[n])}:"Trip"==this.headings[e]?(console.log("htmll------",this.common.getJSONTripStatusHTML(this.longUnLoading[n])),this.valobj6[this.headings[e]]={value:this.common.getJSONTripStatusHTML(this.longUnLoading[n]),isHTML:!0,class:"black",action:""}):this.valobj6[this.headings[e]]={value:this.longUnLoading[n][this.headings[e]],class:"black",action:""};this.valobj6.style={background:this.longUnLoading[n]._rowcolor},l.push(this.valobj6)}return console.log("Columns:",l),l},l.prototype.addShortTarget=function(l){console.log("target",l),this.common.params={vehicleId:l._vid||l._vehicleid,vehicleRegNo:l.vehicle||l.Vehicle||l.regno||l.v_regno},console.log("params=",this.common.params),this.modalService.open(Z.a,{size:"sm",container:"nb-layout"})},l.prototype.openChangeDriverModal=function(l){console.log("vehicleTrip",l);var n={vehicleId:l._vehicleid||l._vid,vehicleRegNo:l.Vehicle||l.regno||l.v_regno||l.vehicle};this.common.params={vehicleId:n.vehicleId,vehicleRegNo:n.vehicleRegNo},this.modalService.open(ve.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(l){console.log("data",l.respone)})},l.prototype.openPlacementModal=function(l){console.log("openPlacementModal",l);var n={vehicleId:l._vehicleid||l._vid,siteId:l._siteid?l._siteid:-1};this.common.params={tripDetils:n,ref_page:"cs"},console.log("vehicleTrip",n),this.modalService.open(K.a,{size:"lg",container:"nb-layout",backdrop:"static"})},l.prototype.showLocation=function(l){l._curlat||l._tlat?(this.common.params={location:{lat:l._curlat||l._tlat,lng:l._curlong||l._tlong,name:"",time:""},title:"Vehicle Location"},this.modalService.open(N.a,{size:"lg",container:"nb-layout"})):this.common.showToast("Vehicle location not available!")},l.prototype.openRouteMapper=function(l,n){var e;void 0===n&&(n="Trip Start"),console.log("defaultFault",l),e=this.common.dateFormatter("Last 24Hr KM"==n?l._last24starttime:l._starttime);var t=this.common.dateFormatter(new Date);this.common.handleModalHeightWidth("class","modal-lg","200","1500"),this.common.params={vehicleId:l._vehicleid||l._vid,vehicleRegNo:l.Vehicle||l.regno||l.v_regno||l.vehicle,fromTime:e,toTime:t},console.log("open Route Mapper modal",this.common.params),this.modalService.open(q.a,{size:"lg",container:"nb-layout",windowClass:"myCustomModalClass"}).result.then(function(l){return console.log("data",l)})},l.prototype.reportIssue=function(l){var n=this;this.common.params={refPage:"db"},this.modalService.open(j.a,{size:"sm",container:"nb-layout"}).result.then(function(e){return e.status&&n.common.reportAnIssue(e.issue,l._vehicleid)})},l}(),_a=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]    .blue{color:#00f;font-weight:700}nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}.btn.btn-primary[_ngcontent-%COMP%]{padding:8px 15px;text-transform:capitalize;border-radius:5px;border:0;width:100%}[_nghost-%COMP%]     .tableFixHead{max-height:calc(100vh - 198px);height:auto!important}.tabs_style[_ngcontent-%COMP%]{width:100%;margin:0 0 10px;border-bottom:2px solid #26a69a;padding-left:5px!important}.tabs_style[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#fff;color:#26a69a;position:relative}.tabs_style[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{content:'';display:block;background-color:#fff;height:10px;width:100%;position:absolute;left:0}.tabs_style[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 6px;list-style:none;margin-right:5px;background-color:#26a69a;border:2px solid #26a69a;color:#fff;border-bottom:0;display:inline-block;border-radius:5px 5px 0 0;font-size:12px;font-weight:400;cursor:pointer}.icon[_ngcontent-%COMP%]{padding:4px;margin-left:2px}[_nghost-%COMP%]     .tableFixHead table td i{margin-right:5px}"]],data:{}});function wa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,16,"div",[["class","col-md-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,15,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[["class","col-md-3 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"label",[["style","margin-top:8px"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["KM/Day:"])),(l()(),t["\u0275eld"](5,0,null,null,8,"div",[["class","col-md-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,7,"input",[["class","form-control"],["id","txtkmpd"],["maxlength","3"],["name","txtkmpd"],["placeholder","Kmpd"],["type","text"],["value","this.kmpdval"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,7)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,7).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,7)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,7)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(o.kmpdval=e)&&a),a},null,null)),t["\u0275did"](7,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275did"](8,540672,null,0,V.i,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,V.k,function(l){return[l]},[V.i]),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](11,671744,null,0,V.q,[[8,null],[6,V.k],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](13,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](14,0,null,null,2,"div",[["class","col-md-4 pl-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"button",[["class","btn btn-primary "],["style","cursor: pointer;"],["type","submit"]],null,[[null,"click"]],function(l,n,e){var t=!0,a=l.component;return"click"===n&&(t=!1!==a.getReportdata(a.dis_all)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Submit"]))],function(l,n){var e=n.component;l(n,8,0,"3"),l(n,11,0,"txtkmpd",e.kmpdval)},function(l,n){l(n,6,0,t["\u0275nov"](n,8).maxlength?t["\u0275nov"](n,8).maxlength:null,t["\u0275nov"](n,13).ngClassUntouched,t["\u0275nov"](n,13).ngClassTouched,t["\u0275nov"](n,13).ngClassPristine,t["\u0275nov"](n,13).ngClassDirty,t["\u0275nov"](n,13).ngClassValid,t["\u0275nov"](n,13).ngClassInvalid,t["\u0275nov"](n,13).ngClassPending)})}function Ma(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,28,"div",[["class","col-md-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,14,"div",[["class","col-md-4 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,13,"select",[["class","w-100"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,4).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,4).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.hoursType=e)&&a),a},null,null)),t["\u0275did"](4,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](6,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](8,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](9,0,null,null,3,"option",[["value","hrs"]],null,null,null,null,null)),t["\u0275did"](10,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](11,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Hours"])),(l()(),t["\u0275eld"](13,0,null,null,3,"option",[["value","days"]],null,null,null,null,null)),t["\u0275did"](14,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](15,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Days"])),(l()(),t["\u0275eld"](17,0,null,null,8,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,7,"input",[["class","form-control"],["id","txthrs"],["maxlength","2"],["name","txthrs"],["placeholder","Hours"],["type","text"],["value","this.hours"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,19)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,19).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,19)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,19)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(o.hours=e)&&a),a},null,null)),t["\u0275did"](19,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275did"](20,540672,null,0,V.i,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,V.k,function(l){return[l]},[V.i]),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](23,671744,null,0,V.q,[[8,null],[6,V.k],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](25,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](26,0,null,null,2,"div",[["class","col-md-4 pl-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,1,"button",[["class","btn btn-primary "],["style","cursor: pointer;"],["type","submit"]],null,[[null,"click"]],function(l,n,e){var t=!0,a=l.component;return"click"===n&&(t=!1!==a.getReportdata(a.dis_all)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Submit"]))],function(l,n){var e=n.component;l(n,6,0,e.hoursType),l(n,10,0,"hrs"),l(n,11,0,"hrs"),l(n,14,0,"days"),l(n,15,0,"days"),l(n,20,0,"2"),l(n,23,0,"txthrs",e.hours)},function(l,n){l(n,3,0,t["\u0275nov"](n,8).ngClassUntouched,t["\u0275nov"](n,8).ngClassTouched,t["\u0275nov"](n,8).ngClassPristine,t["\u0275nov"](n,8).ngClassDirty,t["\u0275nov"](n,8).ngClassValid,t["\u0275nov"](n,8).ngClassInvalid,t["\u0275nov"](n,8).ngClassPending),l(n,18,0,t["\u0275nov"](n,20).maxlength?t["\u0275nov"](n,20).maxlength:null,t["\u0275nov"](n,25).ngClassUntouched,t["\u0275nov"](n,25).ngClassTouched,t["\u0275nov"](n,25).ngClassPristine,t["\u0275nov"](n,25).ngClassDirty,t["\u0275nov"](n,25).ngClassValid,t["\u0275nov"](n,25).ngClassInvalid,t["\u0275nov"](n,25).ngClassPending)})}function Ta(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","tblsuggestions"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function Da(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ta)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.driverData.length)},null)}function Pa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","tblsuggestions2"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table2.data,e.table2.settings)},null)}function Oa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Pa)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.onwardDelayData.length)},null)}function ka(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","tblsuggestions3"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table3.data,e.table3.settings)},null)}function Ra(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ka)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.delayFaults.length)},null)}function Ia(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","tblsuggestions4"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table4.data,e.table4.settings)},null)}function Sa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ia)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.shortTarget.length)},null)}function Aa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","tblsuggestions5"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table5.data,e.table5.settings)},null)}function Fa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Aa)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.longUnLoading&&e.longLoading.length)},null)}function Ea(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","tblsuggestions6"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table6.data,e.table6.settings)},null)}function Va(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ea)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.longUnLoading&&e.longUnLoading.length)},null)}function La(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,46,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,5,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","col-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Call Suggestion"])),(l()(),t["\u0275eld"](8,0,null,1,38,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](9,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](10,0,null,0,24,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,19,"div",[["class","col-sm-9"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,18,"ul",[["class","tabs_style"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,2,"li",[["id","dis-all"]],null,[[null,"click"]],function(l,n,e){var t=!0,a=l.component;return"click"===n&&(a.dis_all="dcs",t=!1!==a.getReportdata(a.dis_all)&&t),t},null,null)),t["\u0275did"](14,278528,null,0,_.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),(l()(),t["\u0275ted"](-1,null,[" Driver Call Suggestion "])),(l()(),t["\u0275eld"](16,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0,a=l.component;return"click"===n&&(a.dis_all="11",t=!1!==a.getReportdata(a.dis_all)&&t),t},null,null)),t["\u0275did"](17,278528,null,0,_.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),(l()(),t["\u0275ted"](-1,null,[" Long Loading "])),(l()(),t["\u0275eld"](19,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0,a=l.component;return"click"===n&&(a.dis_all="51",t=!1!==a.getReportdata(a.dis_all)&&t),t},null,null)),t["\u0275did"](20,278528,null,0,_.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),(l()(),t["\u0275ted"](-1,null,[" Onward Trip Delay "])),(l()(),t["\u0275eld"](22,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0,a=l.component;return"click"===n&&(a.dis_all="21",t=!1!==a.getReportdata(a.dis_all)&&t),t},null,null)),t["\u0275did"](23,278528,null,0,_.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),(l()(),t["\u0275ted"](-1,null,[" Long UnLoading "])),(l()(),t["\u0275eld"](25,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0,a=l.component;return"click"===n&&(a.dis_all="pdf",t=!1!==a.getReportdata(a.dis_all)&&t),t},null,null)),t["\u0275did"](26,278528,null,0,_.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),(l()(),t["\u0275ted"](-1,null,[" Placement Delay Faults "])),(l()(),t["\u0275eld"](28,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0,a=l.component;return"click"===n&&(a.dis_all="st",t=!1!==a.getReportdata(a.dis_all)&&t),t},null,null)),t["\u0275did"](29,278528,null,0,_.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),(l()(),t["\u0275ted"](-1,null,[" Short Target "])),(l()(),t["\u0275and"](16777216,null,null,1,null,wa)),t["\u0275did"](32,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ma)),t["\u0275did"](34,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Da)),t["\u0275did"](36,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Oa)),t["\u0275did"](38,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Ra)),t["\u0275did"](40,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Sa)),t["\u0275did"](42,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Fa)),t["\u0275did"](44,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Va)),t["\u0275did"](46,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,14,0,"dcs"==e.dis_all?"active":""),l(n,17,0,"11"==e.dis_all?"active":""),l(n,20,0,"51"==e.dis_all?"active":""),l(n,23,0,"21"==e.dis_all?"active":""),l(n,26,0,"pdf"==e.dis_all?"active":""),l(n,29,0,"st"==e.dis_all?"active":""),l(n,32,0,"dcs"==e.dis_all),l(n,34,0,"11"==e.dis_all||"21"==e.dis_all||"51"==e.dis_all),l(n,36,0,"dcs"==e.dis_all),l(n,38,0,"51"==e.dis_all),l(n,40,0,"pdf"==e.dis_all),l(n,42,0,"st"==e.dis_all),l(n,44,0,"11"==e.dis_all),l(n,46,0,"21"==e.dis_all)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function Na(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"driver-call-suggestion",[],null,null,null,La,_a)),t["\u0275did"](1,114688,null,0,Ca,[a.a,F.a,i.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var Ha=t["\u0275ccf"]("driver-call-suggestion",Ca,Na,{},{},[]),za=e("SJoR"),ja=function(){function l(l,n,e,t){this.apiService=l,this.common=n,this.DateService=e,this.user=t,this.sitesDatalist=[],this.siteName=null,this.siteId=null,this.data=[],this.headings=[],this.valobj={},this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.endDate=new Date,this.startDate=new Date((new Date).setDate(new Date(this.endDate).getDate()-7)),this.isFlag=1,this.bGConditions=[{key:"is_flag",value:1,class:"normal"},{key:"is_flag",value:2,class:"abnormal"}],this.getAllFoSites(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getAllFoSites()},l.prototype.getAllFoSites=function(){var l=this;this.common.loading++,this.apiService.get("Site/getAllFoSites").subscribe(function(n){l.common.loading--,console.log(n),l.sitesDatalist=n.data},function(n){l.common.loading--,console.log(n)})},l.prototype.getReport=function(){var l,n=this;this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.data=[],l=2==this.isFlag?"Site/getLocalSiteInOutHistory":"Site/getSiteInAndOut";var e={startDate:this.common.dateFormatter(this.startDate),endDate:this.common.dateFormatter(this.endDate),siteId:this.siteId};console.log(e),this.common.loading++,this.apiService.post(l,e).subscribe(function(l){n.common.loading--,console.log(l),n.data=l.data;var e=n.data[0];for(var t in e)if("_"!=t.charAt(0)){n.headings.push(t);var a={title:n.formatTitle(t),placeholder:n.formatTitle(t)};n.table.data.headings[t]=a}n.table.data.columns=n.getTableColumns()},function(l){n.common.loading--,console.log(l)})},l.prototype.getTableColumns=function(){var l=this,n=[];return console.log("Data=",this.data),this.data.map(function(e){l.valobj={};for(var t=0;t<l.headings.length;t++)console.log("doc index value:",e[l.headings[t]]),l.valobj[l.headings[t]]={value:e[l.headings[t]],class:"black",action:""};n.push(l.valobj)}),n},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.apiService.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--,n.common.getPDFFromTableId(l,e.data.name,"Site In And Out",["Action"],"","Site Name : "+n.siteName)},function(l){n.common.loading--,console.log(l)})},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.printCsv=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.apiService.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--,n.common.getCSVFromTableId(l,"Customer Name::"+e.data.name,"Report Name::Site In And Out",["Action"],"","Site Name ::"+n.siteName)},function(l){n.common.loading--,console.log(l)})},l.prototype.changeRefernceType=function(l){var n=this;this.siteName=l.name,this.siteId=this.sitesDatalist.find(function(e){return console.log(e.name==l),n.isFlag=2==e.is_flag?2:1,e.id==l.id}).id},l}(),Ua=t["\u0275crt"]({encapsulation:0,styles:[[".btn-primary[_ngcontent-%COMP%]{width:100%;font-size:12px;padding:6px 0;border-radius:3px;text-transform:capitalize}.doc-icons[_ngcontent-%COMP%]{font-size:28px}.doc-icons[_ngcontent-%COMP%]   .pdf-icon[_ngcontent-%COMP%]{color:#e13017}.doc-icons[_ngcontent-%COMP%]   .exel-icon[_ngcontent-%COMP%]{color:#227849}[_nghost-%COMP%]  .abnormal{color:#0ff50f}"]],data:{}});function $a(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","siteInAndOut"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function qa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,35,"nb-card",[["style","border:0px; height: 100%;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Site In And Out"])),(l()(),t["\u0275eld"](6,0,null,1,29,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](8,0,null,0,24,"div",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"auto-suggestion",[["display","name"],["inputId","siteId"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,11).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==o.changeRefernceType(e)&&a),a},Qn.b,Qn.a)),t["\u0275did"](11,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{display:[0,"display"],data:[1,"data"],inputId:[2,"inputId"],bGConditions:[3,"bGConditions"]},{onSelected:"onSelected"}),(l()(),t["\u0275eld"](12,0,null,null,2,"div",[["class","col-1 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Start Date"])),(l()(),t["\u0275eld"](15,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,1,"uj-date-time-picker",[["class",""]],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startDate=e)&&t),t},le.b,le.a)),t["\u0275did"](17,4308992,null,0,ne.a,[],{dateTimeValue:[0,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](18,0,null,null,2,"div",[["class","col-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["End Date"])),(l()(),t["\u0275eld"](21,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,1,"uj-date-time-picker",[["class",""]],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.endDate=e)&&t),t},le.b,le.a)),t["\u0275did"](23,4308992,null,0,ne.a,[],{isStart:[0,"isStart"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](24,0,null,null,2,"div",[["class","col-1 p-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getReport()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Get Report"])),(l()(),t["\u0275eld"](27,0,null,null,5,"div",[["class","col-1 text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](28,0,null,null,4,"span",[["class","doc-icons"]],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printPDF("siteInAndOut")&&t),t},null,null)),(l()(),t["\u0275eld"](30,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 10px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printCsv("siteInAndOut")&&t),t},null,null)),(l()(),t["\u0275eld"](32,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),t["\u0275eld"](33,0,null,0,2,"div",[["class","mt-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,$a)),t["\u0275did"](35,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,11,0,"name",e.sitesDatalist,"siteId",e.bGConditions),l(n,17,0,e.startDate),l(n,23,0,!1,e.endDate),l(n,35,0,e.data&&e.data.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function Ga(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"site-in-out",[],null,null,null,qa,Ua)),t["\u0275did"](1,114688,null,0,ja,[a.a,F.a,za.a,i.a],null,null)],function(l,n){l(n,1,0)},null)}var Ba=t["\u0275ccf"]("site-in-out",ja,Ga,{},{},[]),Wa=function(){function l(l,n,e,t){this.api=l,this.common=n,this.user=e,this.modalService=t,this.fromDate=this.common.dateFormatter1(new Date),this.endDate=this.common.dateFormatter1(new Date),this.title="",this.showTable=!1,this.data=[],this.headings=[],this.valobj={},this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},console.log(this.fromDate),console.log(this.endDate),this.getCallSummary(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getCallSummary()},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"user-call-summary"},this.modalService.open(ln.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(e){e.date&&(console.log("data date:"),console.log(e.date),"startdate"==l?(n.fromDate=n.common.dateFormatter1(e.date).split(" ")[0],console.log("Date:",n.fromDate)):(n.endDate=n.common.dateFormatter1(e.date).split(" ")[0],console.log("Date:",n.endDate)))})},l.prototype.getCallSummary=function(){var l=this;this.common.loading++,this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.api.post("Drivers/getUserCallSummary",{x_start_date:this.fromDate,x_end_date:this.endDate+" 23:59:00"}).subscribe(function(n){if(l.common.loading--,l.data=n.data,console.log("data:"),console.log(l.data),null!=l.data){var e=l.data[0];for(var t in console.log("first_Rec",e),e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:t,placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}l.table.data.columns=l.getTableColumns(),console.log("table:"),console.log(l.table)}else l.data=[]},function(n){l.common.loading--,console.log(n)})},l.prototype.getTableColumns=function(){for(var l=[],n=0;n<this.data.length;n++){this.valobj={};for(var e=0;e<this.headings.length;e++)this.valobj[this.headings[e]]="Total Call (Duration)"==this.headings[e]?{value:'<div style="color: black;" class="'+(this.data[n][this.headings[e]]?"blue":"black")+'"><span>'+(this.data[n][this.headings[e]]||"-")+"</span></div>",action:this.openHistoryModel.bind(this,this.data[n]),isHTML:!0}:{value:this.data[n][this.headings[e]],class:"black",action:""};l.push(this.valobj)}return l},l.prototype.formatTitle=function(l){return l.indexOf("_")>0?l.toLowerCase().split("_").map(function(l){return l[0].toUpperCase()+l.slice(1)}).join(" "):l.charAt(0).toUpperCase()+l.substr(1)},l.prototype.openHistoryModel=function(l){var n=this.endDate+" 23:59:00";console.log("data------------------/",n);var e={vehicleId:0,foAdminUserId:l._foadmusr_id,currentDay:this.common.dateFormatter1(this.fromDate),nextDay:this.common.dateFormatter(n)};this.common.params={callData:e},console.log("calldatas =",this.common.params.callData),this.common.handleModalHeightWidth("class","modal-lg","200","1500"),this.modalService.open(ha.a,{size:"lg",container:"nb-layout"}).result.then(function(l){return console.log("data",l)})},l}(),Ka=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]     .blue{color:#00f}nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}.btn-primary[_ngcontent-%COMP%]{text-transform:capitalize;padding:8px 15px;margin:0;height:auto;border-radius:5px;border:0;width:100%}[_nghost-%COMP%]     .tableFixHead{overflow-y:auto;display:block;width:100%;table-layout:fixed;overflow:auto;max-height:calc(100vh - 170px);height:auto!important}"]],data:{}});function Ja(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function Ya(l){return t["\u0275vid"](0,[t["\u0275pid"](0,_.DatePipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,23,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](2,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](3,0,null,0,16,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](4,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,14,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["User Call Summary"])),(l()(),t["\u0275eld"](9,0,null,null,10,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,2,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"input",[["autocomplete","off"],["class","form-control"],["name","startdate"],["placeholder","Select Start Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate("startdate")&&t),t},null,null)),t["\u0275ppd"](13,2),(l()(),t["\u0275eld"](14,0,null,null,2,"div",[["class","col-sm-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"input",[["autocomplete","off"],["class","form-control"],["name","enddate"],["placeholder","Select End Date"],["readonly",""],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate("enddate")&&t),t},null,null)),t["\u0275ppd"](16,2),(l()(),t["\u0275eld"](17,0,null,null,2,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"button",[["class","btn btn-primary "],["style"," cursor: pointer;"],["type","submit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getCallSummary()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Submit"])),(l()(),t["\u0275eld"](20,0,null,1,4,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](21,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](22,0,null,0,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ja)),t["\u0275did"](24,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,24,0,e.data&&e.data.length)},function(l,n){var e=n.component;l(n,1,1,[t["\u0275nov"](n,2).xxsmall,t["\u0275nov"](n,2).xsmall,t["\u0275nov"](n,2).small,t["\u0275nov"](n,2).medium,t["\u0275nov"](n,2).large,t["\u0275nov"](n,2).xlarge,t["\u0275nov"](n,2).xxlarge,t["\u0275nov"](n,2).active,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2).primary,t["\u0275nov"](n,2).info,t["\u0275nov"](n,2).success,t["\u0275nov"](n,2).warning,t["\u0275nov"](n,2).danger,t["\u0275nov"](n,2).hasAccent,t["\u0275nov"](n,2).primaryAccent,t["\u0275nov"](n,2).infoAccent,t["\u0275nov"](n,2).successAccent,t["\u0275nov"](n,2).warningAccent,t["\u0275nov"](n,2).dangerAccent,t["\u0275nov"](n,2).activeAccent,t["\u0275nov"](n,2).disabledAccent]);var a=t["\u0275unv"](n,12,0,l(n,13,0,t["\u0275nov"](n,0),e.fromDate,"dd MMM yyyy"));l(n,12,0,a);var o=t["\u0275unv"](n,15,0,l(n,16,0,t["\u0275nov"](n,0),e.endDate,"dd MMM yyyy"));l(n,15,0,o)})}function Za(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"user-call-summary",[],null,null,null,Ya,Ka)),t["\u0275did"](1,114688,null,0,Wa,[a.a,F.a,i.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var Qa=t["\u0275ccf"]("user-call-summary",Wa,Za,{},{},[]),Xa=e("4mMb"),lo=function(){function l(l,n,e,t){this.api=l,this.common=n,this.user=e,this.modalService=t,this.placements=[],this.vehiclePlacements=[],this.filteredVehiclePlacements=[],this.table=null,this.table1={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.dis_all=0,this.headings=[],this.showTable=!1,this.valobj=null,this.getPlacements(),this.getVehiclePlacement(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getPlacements()},l.prototype.getPlacements=function(){var l=this;console.log("api hit"),this.common.loading++,this.api.get("Placement/getFOAdminPlacementRePort").subscribe(function(n){l.common.loading--,console.log("data====",n.data),l.placements=n.data,l.table=l.setTable()},function(n){l.common.loading--,console.log(n)})},l.prototype.getTableColumns=function(){var l=this,n=[];return this.placements.map(function(e){var t={siteName:{value:e.r_sitename,action:l.siteTripModal.bind(l,e,"site")},onward:{value:e.r_todayonwards,action:l.siteTripModal.bind(l,e,"onward")},loading:{value:e.r_loadings,action:l.siteTripModal.bind(l,e,"loading")},towards:{value:e.r_intransits,action:l.siteTripModal.bind(l,e,"towards")},waiting:{value:e.r_waitingtime}};n.push(t)}),n},l.prototype.setTable=function(){return{placements:{headings:{siteName:{title:"Site Name",placeholder:"Site Name"},onward:{title:"Onward 24 Hrs",placeholder:"Onward 24 Hrs"},loading:{title:"At Loading",placeholder:"At Loading"},towards:{title:"Towards",placeholder:"Towards"},waiting:{title:"Waiting Time",placeholder:"Waiting Time"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}},l.prototype.getVehiclePlacement=function(){var l=this;this.common.loading++,this.api.get("Placement/getFoPlacementRePort?").subscribe(function(n){l.common.loading--,l.vehiclePlacements=n.data,console.log("vehicle placement",l.vehiclePlacements),l.displayList(0)},function(n){l.common.loading--,console.log(n)})},l.prototype.displayList=function(l){var n=this;console.log("display Type=",l,"vehiclePlacements=",this.vehiclePlacements),1==l?(this.filteredVehiclePlacements=[],this.vehiclePlacements.forEach(function(l){l._placementid>0&&n.filteredVehiclePlacements.push(l)})):-1==l?(this.filteredVehiclePlacements=[],this.vehiclePlacements.forEach(function(l){l._placementid<=0&&n.filteredVehiclePlacements.push(l)})):(this.filteredVehiclePlacements=[],this.filteredVehiclePlacements=this.vehiclePlacements),this.smartTableWithHeadings()},l.prototype.smartTableWithHeadings=function(){if(console.log("smart table with heading"),this.table1={data:{headings:{},columns:[]},settings:{hideHeader:!0}},null!=this.filteredVehiclePlacements){console.log("filteredVehiclePlacements",this.filteredVehiclePlacements);var l=this.filteredVehiclePlacements[0];for(var n in console.log("first_Rec",l),l)if("_"!=n.charAt(0)){this.headings.push(n);var e={title:n,placeholder:this.formatTitle(n)};"Trip Start"==n&&(e.type="date"),this.table1.data.headings[n]=e}this.table1.data.columns=this.getTableColumns2(),console.log("table:"),console.log(this.table1),this.showTable=!0}else this.common.showToast("No Record Found !!")},l.prototype.formatTitle=function(l){return l.indexOf("_")>0?l.toLowerCase().split("_").map(function(l){return l[0].toUpperCase()+l.slice(1)}).join(" "):l.charAt(0).toUpperCase()+l.substr(1)},l.prototype.getTableColumns2=function(){for(var l=[],n=0;n<this.filteredVehiclePlacements.length;n++){this.valobj={};for(var e=0;e<this.headings.length;e++)"Trip"==this.headings[e]?(console.log("htmll------",this.common.getJSONTripStatusHTML(this.filteredVehiclePlacements[n])),this.valobj[this.headings[e]]={value:this.common.getJSONTripStatusHTML(this.filteredVehiclePlacements[n]),isHTML:!0,class:"black",action:""}):this.valobj[this.headings[e]]="Action"==this.headings[e]?this.user.permission.edit&&{value:'<i class="fa fa-pencil-alt"></i>',isHTML:!0,action:this.openPlacementModal.bind(this,this.filteredVehiclePlacements[n]),class:"icon text-center del"}:"Current Loc"==this.headings[e]?{value:this.filteredVehiclePlacements[n][this.headings[e]],class:"black",action:this.showLocation.bind(this,this.filteredVehiclePlacements[n])}:{value:this.filteredVehiclePlacements[n][this.headings[e]],class:"black",action:""};this.valobj.style={background:this.filteredVehiclePlacements[n]._rowcolor},l.push(this.valobj)}return console.log("Columns:",l),l},l.prototype.openPlacementModal=function(l){var n=this;console.log("openPlacementModal",l);var e={vehicleId:l._vid,siteId:l._site_id};this.common.params={tripDetils:e,ref_page:"placements"},console.log("vehicleTrip",e),this.modalService.open(K.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){n.getVehiclePlacement()})},l.prototype.siteTripModal=function(l,n){console.log("siteTripModal",l);var e={userId:l.r_uid,siteId:l.r_siteid,status:"site"==n?"null":n};this.common.params={dataForView:e,ref_page:"placements"},console.log("dataForView",e),this.modalService.open(Xa.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){})},l.prototype.showLocation=function(l){l._tlat?(this.common.params={location:{lat:l._tlat,lng:l._tlong,name:"",time:""},title:"Vehicle Location"},this.modalService.open(N.a,{size:"lg",container:"nb-layout"})):this.common.showToast("Vehicle location not available!")},l}(),no=t["\u0275crt"]({encapsulation:0,styles:[["nb-card-header[_ngcontent-%COMP%]{padding:15px 20px;border:1px solid #efefef;margin-bottom:10px}.tabs_style[_ngcontent-%COMP%]{width:100%;margin:0 0 10px;border-bottom:2px solid #26a69a;padding-left:10px!important}.tabs_style[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#fff;color:#26a69a;position:relative}.tabs_style[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{content:'';display:block;background-color:#fff;height:10px;width:100%;position:absolute;left:0}.tabs_style[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 20px;list-style:none;margin-right:5px;background-color:#26a69a;border:2px solid #26a69a;color:#fff;border-bottom:0;display:inline-block;border-radius:5px 5px 0 0;font-size:12px;font-weight:400;cursor:pointer}[_nghost-%COMP%]     .tableFixHead{overflow:auto;max-height:calc(100vh - 162px)}[_nghost-%COMP%]     td i.fa-pencil-alt{background-color:#04a9f5;color:#fff;padding:5px;border-radius:3px}"],d.a],data:{}});function eo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","tblVehDocs"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.placements,e.table.settings)},null)}function to(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col-sm-6 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,eo)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.placements&&e.placements.length)},null)}function ao(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","tbldocs"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table1.data,e.table1.settings)},null)}function oo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ao)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.filteredVehiclePlacements&&e.filteredVehiclePlacements.length)},null)}function io(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,25,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,16,"nb-card-header",[["style","padding-bottom:0px;"]],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,14,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Placements DashBoard"])),(l()(),t["\u0275eld"](8,0,null,null,10,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,9,"ul",[["class","tabs_style"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,2,"li",[["id","dis-all"]],null,[[null,"click"]],function(l,n,e){var t=!0,a=l.component;return"click"===n&&(a.displayList(0),t=!1!==(a.dis_all=0)&&t),t},null,null)),t["\u0275did"](11,278528,null,0,_.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),(l()(),t["\u0275ted"](-1,null,[" All "])),(l()(),t["\u0275eld"](13,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0,a=l.component;return"click"===n&&(a.displayList(1),t=!1!==(a.dis_all=1)&&t),t},null,null)),t["\u0275did"](14,278528,null,0,_.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),(l()(),t["\u0275ted"](-1,null,[" Placements Assigned "])),(l()(),t["\u0275eld"](16,0,null,null,2,"li",[["id","dis-pen"]],null,[[null,"click"]],function(l,n,e){var t=!0,a=l.component;return"click"===n&&(a.displayList(-1),t=!1!==(a.dis_all=-1)&&t),t},null,null)),t["\u0275did"](17,278528,null,0,_.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),(l()(),t["\u0275ted"](-1,null,[" Placement Pending "])),(l()(),t["\u0275eld"](19,0,null,1,6,"nb-card-body",[["style","padding-bottom: 0px; padding-top: 10px;"]],null,null,null,O.d,O.a)),t["\u0275did"](20,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](21,0,null,0,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,to)),t["\u0275did"](23,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,oo)),t["\u0275did"](25,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,11,0,0==e.dis_all?"active":""),l(n,14,0,1==e.dis_all?"active":""),l(n,17,0,-1==e.dis_all?"active":""),l(n,23,0,e.placements&&e.placements.length),l(n,25,0,e.filteredVehiclePlacements&&e.filteredVehiclePlacements.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function uo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"placements-dash-board",[],null,null,null,io,no)),t["\u0275did"](1,114688,null,0,lo,[a.a,F.a,i.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var ro=t["\u0275ccf"]("placements-dash-board",lo,uo,{},{},[]),so=function(){function l(l,n,e,t){this.api=l,this.common=n,this.user=e,this.modalService=t,this.trips=[],this.getTrips(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getTrips()},l.prototype.getTrips=function(){var l=this;this.common.loading++,this.api.get("TripsOperation/tripDetailsForVerification").subscribe(function(n){l.common.loading--,l.trips=n.data;for(var e=0;e<l.trips.length;e++)l.trips[e].status="";console.log("Trips",l.trips)},function(n){l.common.loading--,console.log(n)})},l.prototype.tripVerified=function(l,n,e){console.log("action",n),"true"==n?this.changeVerification(l,n,e):"false"==n&&(l.status>0||l.origin||l.destination)?this.changeVerification(l,n,e):this.common.showError("One Input Field is Mandatory")},l.prototype.changeVerification=function(l,n,e){var t=this,a={vehicleId:l.r_vid,verifyFlag:n,oldOrigin:l.r_origin,oldDestination:l.r_destination,oldState:l.r_state_id,newOrigin:l.origin?l.origin:"",newDestination:l.destination?l.destination:"",newState:l.status,location:l.r_location,remark:l.remark};console.log("params",a),this.trips.splice(e,1),this.api.post("TripsOperation/tripVerification",a).subscribe(function(l){console.log("response",l.data[0].rtn_id),l.data[0].rtn_id>0?t.common.showToast("Successfully Verified"):t.common.showError(l.data[0].rtn_msg)},function(l){console.log(l)})},l.prototype.showLocation=function(l){l.r_lat?(this.common.params={location:{lat:l.r_lat,lng:l.r_lng,name:"",time:""},title:"Vehicle Location"},this.modalService.open(N.a,{size:"lg",container:"nb-layout"})):this.common.showToast("Vehicle location not available!")},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--,n.common.getPDFFromTableId(l,e.data.name,"Trip Status FeedBack",["Action"],"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCsv=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--,n.common.getCSVFromTableId(l,"Customer Name::"+e.data.name,"Report Name::Trip Status FeedBack",["Action"],"")},function(l){n.common.loading--,console.log(l)})},l}(),co=t["\u0275crt"]({encapsulation:0,styles:[[".exel-icon[_ngcontent-%COMP%]{font-size:24px;color:#217346}.pdf-icon[_ngcontent-%COMP%]{font-size:24px;color:#9f0001}nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed;background-color:#263238;color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:100px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:30px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){width:90px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(6){width:150px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 10px;font-weight:400}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{font-size:12px;text-transform:capitalize;padding:7px 6px;height:auto}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;width:100%;table-layout:fixed;overflow:auto;max-height:calc(100vh - 220px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed;width:100%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1){width:30px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:90px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(6){width:150px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;text-align:left}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:100px;text-align:center}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:5px;margin-bottom:5px;width:100px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:30px!important;padding:3px!important}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2px;text-transform:capitalize}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#e4e4e4}"],d.a],data:{}});function po(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,67,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""])),(l()(),t["\u0275eld"](9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,["",""])),(l()(),t["\u0275eld"](11,0,null,null,1,"td",[["style","color:blue; cursor: pointer;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.showLocation(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275ted"](12,null,["",""])),(l()(),t["\u0275eld"](13,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](14,null,[""," "])),(l()(),t["\u0275eld"](15,0,null,null,1,"button",[["class","btn btn-success"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.tripVerified(l.context.$implicit,"true",l.context.index)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Verified"])),(l()(),t["\u0275eld"](17,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](18,null,["",""])),(l()(),t["\u0275eld"](19,0,null,null,48,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,38,"span",[["style","display:inline-flex"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,5,"input",[["class","form-control"],["placeholder","Origin"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0;return"input"===n&&(a=!1!==t["\u0275nov"](l,22)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,22).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,22)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,22)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(l.context.$implicit.origin=e)&&a),a},null,null)),t["\u0275did"](22,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](24,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](26,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](27,0,null,null,5,"input",[["class","form-control"],["placeholder","Destination"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0;return"input"===n&&(a=!1!==t["\u0275nov"](l,28)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,28).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,28)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,28)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(l.context.$implicit.destination=e)&&a),a},null,null)),t["\u0275did"](28,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](30,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](32,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](33,0,null,null,25,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0;return"change"===n&&(a=!1!==t["\u0275nov"](l,34).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,34).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(l.context.$implicit.status=e)&&a),a},null,null)),t["\u0275did"](34,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](36,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](38,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](39,0,null,null,3,"option",[["selected",""],["value",""]],null,null,null,null,null)),t["\u0275did"](40,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](41,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Select Status"])),(l()(),t["\u0275eld"](43,0,null,null,3,"option",[["value","11"]],null,null,null,null,null)),t["\u0275did"](44,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](45,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Loading"])),(l()(),t["\u0275eld"](47,0,null,null,3,"option",[["value","12"]],null,null,null,null,null)),t["\u0275did"](48,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](49,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Unloading"])),(l()(),t["\u0275eld"](51,0,null,null,3,"option",[["value","51"]],null,null,null,null,null)),t["\u0275did"](52,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](53,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Onward"])),(l()(),t["\u0275eld"](55,0,null,null,3,"option",[["value","21"]],null,null,null,null,null)),t["\u0275did"](56,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](57,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Available"])),(l()(),t["\u0275eld"](59,0,null,null,8,"span",[["style","display:inline-flex"]],null,null,null,null,null)),(l()(),t["\u0275eld"](60,0,null,null,5,"input",[["class","form-control"],["placeholder","Remark"],["type","remark"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0;return"input"===n&&(a=!1!==t["\u0275nov"](l,61)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,61).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,61)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,61)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(l.context.$implicit.remark=e)&&a),a},null,null)),t["\u0275did"](61,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](63,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](65,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](66,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.tripVerified(l.context.$implicit,"false",l.context.index)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Change"]))],function(l,n){l(n,24,0,n.context.$implicit.origin),l(n,30,0,n.context.$implicit.destination),l(n,36,0,"trip-status-"+n.context.index,n.context.$implicit.status),l(n,40,0,""),l(n,41,0,""),l(n,44,0,"11"),l(n,45,0,"11"),l(n,48,0,"12"),l(n,49,0,"12"),l(n,52,0,"51"),l(n,53,0,"51"),l(n,56,0,"21"),l(n,57,0,"21"),l(n,63,0,n.context.$implicit.remark)},function(l,n){l(n,2,0,n.context.index+1),l(n,4,0,n.context.$implicit.r_regno),l(n,6,0,n.context.$implicit.r_driver),l(n,8,0,n.context.$implicit.r_origin),l(n,10,0,n.context.$implicit.r_destination),l(n,12,0,n.context.$implicit.r_location),l(n,14,0,n.context.$implicit.r_tripstatus),l(n,18,0,n.context.$implicit.r_tripstartdate),l(n,21,0,t["\u0275nov"](n,26).ngClassUntouched,t["\u0275nov"](n,26).ngClassTouched,t["\u0275nov"](n,26).ngClassPristine,t["\u0275nov"](n,26).ngClassDirty,t["\u0275nov"](n,26).ngClassValid,t["\u0275nov"](n,26).ngClassInvalid,t["\u0275nov"](n,26).ngClassPending),l(n,27,0,t["\u0275nov"](n,32).ngClassUntouched,t["\u0275nov"](n,32).ngClassTouched,t["\u0275nov"](n,32).ngClassPristine,t["\u0275nov"](n,32).ngClassDirty,t["\u0275nov"](n,32).ngClassValid,t["\u0275nov"](n,32).ngClassInvalid,t["\u0275nov"](n,32).ngClassPending),l(n,33,0,t["\u0275nov"](n,38).ngClassUntouched,t["\u0275nov"](n,38).ngClassTouched,t["\u0275nov"](n,38).ngClassPristine,t["\u0275nov"](n,38).ngClassDirty,t["\u0275nov"](n,38).ngClassValid,t["\u0275nov"](n,38).ngClassInvalid,t["\u0275nov"](n,38).ngClassPending),l(n,60,0,t["\u0275nov"](n,65).ngClassUntouched,t["\u0275nov"](n,65).ngClassTouched,t["\u0275nov"](n,65).ngClassPristine,t["\u0275nov"](n,65).ngClassDirty,t["\u0275nov"](n,65).ngClassValid,t["\u0275nov"](n,65).ngClassInvalid,t["\u0275nov"](n,65).ngClassPending)})}function go(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,po)),t["\u0275did"](2,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.trips)},null)}function ho(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data available ! "]))],null,null)}function mo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,40,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,10,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,8,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Trip Status FeedBack"])),(l()(),t["\u0275eld"](8,0,null,null,4,"div",[["class","col-sm-4"],["style","text-align:right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printPDF("trip-feedback")&&t),t},null,null)),(l()(),t["\u0275eld"](10,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 10px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printCsv("trip-feedback")&&t),t},null,null)),(l()(),t["\u0275eld"](12,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,1,27,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](14,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](15,0,null,0,25,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,22,"table",[["class","table table-bordered table-hover m-0"],["id","trip-feedback"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,19,"thead",[["class","thead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,18,"tr",[["style","text-align:center"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["#"])),(l()(),t["\u0275eld"](21,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle No"])),(l()(),t["\u0275eld"](23,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Driver"])),(l()(),t["\u0275eld"](25,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Origin"])),(l()(),t["\u0275eld"](27,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Destination"])),(l()(),t["\u0275eld"](29,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Location"])),(l()(),t["\u0275eld"](31,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Trip Status"])),(l()(),t["\u0275eld"](33,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Trip_Start Date"])),(l()(),t["\u0275eld"](35,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Verification"])),(l()(),t["\u0275and"](16777216,null,null,1,null,go)),t["\u0275did"](38,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ho)),t["\u0275did"](40,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,38,0,0!=e.trips.length),l(n,40,0,0==e.trips.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function fo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"trip-status-feedback",[],null,null,null,mo,co)),t["\u0275did"](1,114688,null,0,so,[a.a,F.a,i.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var vo=t["\u0275ccf"]("trip-status-feedback",so,fo,{},{},[]),bo=function(){function l(l,n,e){this.api=l,this.common=n,this.modalService=e,this.showTable=!1,this.onwardDelayData=[],this.headings=[],this.valobj={},this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.getData(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getData()},l.prototype.getData=function(){var l=this;this.onwardDelayData=[],this.common.loading++,this.api.get("TripsOperation/tripOnwardDelay").subscribe(function(n){l.common.loading--,console.log("result",n.data[0].fn_trips_onwarddelay),l.onwardDelayData=JSON.parse(n.data[0].fn_trips_onwarddelay),l.smartTableWithHeadings()},function(n){l.common.loading--,l.common.showError()})},l.prototype.smartTableWithHeadings=function(){if(this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},null!=this.onwardDelayData){console.log("onwardDelayData",this.onwardDelayData);var l=this.onwardDelayData[0];for(var n in console.log("first_Rec",l),l)if("_"!=n.charAt(0)){this.headings.push(n);var e={title:n,placeholder:this.formatTitle(n)};this.table.data.headings[n]=e}this.table.data.columns=this.getTableColumns(),console.log("table:"),console.log(this.table),this.showTable=!0}else this.common.showToast("No Record Found !!")},l.prototype.formatTitle=function(l){return l.indexOf("_")>0?l.toLowerCase().split("_").map(function(l){return l[0].toUpperCase()+l.slice(1)}).join(" "):l.charAt(0).toUpperCase()+l.substr(1)},l.prototype.getTableColumns=function(){for(var l=[],n=0;n<this.onwardDelayData.length;n++){this.valobj={};for(var e=0;e<this.headings.length;e++)this.valobj[this.headings[e]]={value:this.onwardDelayData[n][this.headings[e]],class:"black",action:""};this.valobj.style={background:this.onwardDelayData[n]._rowcolor},l.push(this.valobj)}return console.log("Columns:",l),l},l}(),xo=t["\u0275crt"]({encapsulation:0,styles:[["nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}"]],data:{}});function yo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","tbldocs"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function Co(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,5,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Onward Trip Delay"])),(l()(),t["\u0275eld"](8,0,null,1,4,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](9,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](10,0,null,0,2,"div",[["class","model-body"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,yo)),t["\u0275did"](12,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,12,0,e.onwardDelayData&&e.onwardDelayData.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function _o(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"trip-onward-delay",[],null,null,null,Co,xo)),t["\u0275did"](1,114688,null,0,bo,[a.a,F.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var wo=t["\u0275ccf"]("trip-onward-delay",bo,_o,{},{},[]),Mo=e("QW4t"),To=function(){function l(l,n,e){this.api=l,this.common=n,this.modalService=e,this.showTable=!1,this.delayFaults=[],this.headings=[],this.valobj={},this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.getDelayFaults(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getDelayFaults()},l.prototype.getDelayFaults=function(){var l=this;this.delayFaults=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.common.loading++,this.api.get("Placement/placementDelayFaults?").subscribe(function(n){if(l.common.loading--,l.delayFaults=JSON.parse(n.data[0].fn_placements_getfaults),null!=l.delayFaults){console.log("delayFaults",l.delayFaults);var e=l.delayFaults[0];for(var t in console.log("first_Rec",e),e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:t,placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}l.table.data.columns=l.getTableColumns(),console.log("table:"),console.log(l.table),l.showTable=!0}else l.common.showToast("No Record Found !!")},function(n){l.common.loading--,l.common.showError()})},l.prototype.getTableColumns=function(){for(var l=[],n=0;n<this.delayFaults.length;n++){this.valobj={};for(var e=0;e<this.headings.length;e++)"endpt"==this.headings[e]?(console.log("headings[j]",this.headings[e]),this.valobj[this.headings[e]]={value:this.delayFaults[n][this.headings[e]],class:"blue",action:this.openPlacementModal.bind(this,this.delayFaults[n])}):"%Dist"==this.headings[e]?(console.log("headings[j]",this.headings[e]),this.valobj[this.headings[e]]={value:this.delayFaults[n][this.headings[e]],class:"blue",action:this.openRouteMapper.bind(this,this.delayFaults[n])}):"vehicle"==this.headings[e]?(console.log("headings[j]",this.headings[e]),this.valobj[this.headings[e]]={value:this.delayFaults[n][this.headings[e]],class:"blue",action:this.addShortTarget.bind(this,this.delayFaults[n])}):this.valobj[this.headings[e]]={value:this.delayFaults[n][this.headings[e]],class:"black",action:""};this.valobj.style={background:this.delayFaults[n]._rowcolor},l.push(this.valobj)}return console.log("Columns:",l),l},l.prototype.formatTitle=function(l){return l.indexOf("_")>0?l.toLowerCase().split("_").map(function(l){return l[0].toUpperCase()+l.slice(1)}).join(" "):l.charAt(0).toUpperCase()+l.substr(1)},l.prototype.openPlacementModal=function(l){console.log("openPlacementModal",l);var n={vehicleId:l._vid,siteId:l._site_id?l._site_id:-1};this.common.params={tripDetils:n,ref_page:"placements"},console.log("vehicleTrip",n),this.modalService.open(K.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){})},l.prototype.openRouteMapper=function(l){console.log("defaultFault",l);var n=this.common.dateFormatter(l._start_time),e=this.common.dateFormatter(new Date);this.common.handleModalHeightWidth("class","modal-lg","200","1500"),this.common.params={vehicleId:l._vid,vehicleRegNo:l.vehicle,fromTime:n,toTime:e},console.log("open Route Mapper modal",this.common.params),this.modalService.open(q.a,{size:"lg",container:"nb-layout",windowClass:"myCustomModalClass"}).result.then(function(l){return console.log("data",l)})},l.prototype.addShortTarget=function(l){this.common.params={vehicleId:l._vid,vehicleRegNo:l.vehicle},this.modalService.open(Z.a,{size:"sm",container:"nb-layout"})},l}(),Do=t["\u0275crt"]({encapsulation:0,styles:[["nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700}"]],data:{}});function Po(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function Oo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,5,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Placement Delay Faults"])),(l()(),t["\u0275eld"](8,0,null,1,4,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](9,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](10,0,null,0,2,"div",[["class","model-body"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Po)),t["\u0275did"](12,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,12,0,e.delayFaults&&e.delayFaults.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function ko(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"placement-delay-faults",[],null,null,null,Oo,Do)),t["\u0275did"](1,114688,null,0,To,[a.a,F.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var Ro=t["\u0275ccf"]("placement-delay-faults",To,ko,{},{},[]),Io=e("0Qh/"),So=function(){function l(l,n,e,t,a){this.api=l,this.datePipe=n,this.common=e,this.modalService=t,this.user=a,this.showTable=!1,this.distanceData=[],this.data=[],this.headings=[],this.valobj={},this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.today=null,this.today=new Date,this.common.refresh=this.refresh.bind(this),this.getData()}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){console.log("Refresh"),this.today=new Date,this.getData()},l.prototype.getData=function(){var l=this;this.distanceData=[],this.common.loading++,this.api.get("Vehicles/foVehiclePerodicDistance").subscribe(function(n){l.common.loading--;var e=JSON.stringify(n.data);if(null==e)return l.data=[];console.log("re---",e);var t=JSON.parse(e);l.data=JSON.parse(e),console.log("response data ",t);var a=[];Object.keys(t).map(function(l){var n={_id:l,_lat:t[l].lat,_long:t[l].long,Regno:t[l].regno,Location:t[l].currLoc,LastSuccessDate:t[l].successdt,haltDur:t[l].haltDur,group:t[l].group};t[l].slots&&t[l].slots.map(function(l,e){n["Slot"+(e+1)]=l}),a.push(n)}),l.distanceData=a,l.smartTableWithHeadings()},function(n){l.common.loading--,l.common.showError()})},l.prototype.smartTableWithHeadings=function(){if(this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},null!=this.distanceData){var l=this.distanceData[0];for(var n in l)if("_"!=n.charAt(0)){this.headings.push(n);var e={title:n,placeholder:this.formatTitle(n)};this.table.data.headings[n]=e}this.table.data.columns=this.getTableColumns(),console.log("table:"),console.log(this.table),this.showTable=!0}else this.common.showToast("No Record Found !!")},l.prototype.formatTitle=function(l){return l.indexOf("_")>0?l.toLowerCase().split("_").map(function(l){return l[0].toUpperCase()+l.slice(1)}).join(" "):l.charAt(0).toUpperCase()+l.substr(1)},l.prototype.getTableColumns=function(){for(var l=[],n=0;n<this.distanceData.length;n++){this.valobj={};for(var e=0;e<this.headings.length;e++)this.valobj[this.headings[e]]="Location"==this.headings[e]?{value:this.distanceData[n][this.headings[e]],class:"black",action:this.showLocation.bind(this,this.distanceData[n])}:"LastSuccessDate"==this.headings[e]?{value:this.datePipe.transform(this.distanceData[n][this.headings[e]],"dd MMM HH:mm "),class:"black",action:""}:{value:this.distanceData[n][this.headings[e]],class:"black",action:""},this.valobj.style={background:this.distanceData[n]._rowcolor};l.push(this.valobj)}return l},l.prototype.showLocation=function(l){if(l._lat){var n={lat:l._lat,lng:l._long,name:"",time:""};console.log("Location: ",n),this.common.params={location:n,title:"Vehicle Location"},this.modalService.open(N.a,{size:"lg",container:"nb-layout"})}else this.common.showToast("Vehicle location not available!")},l.prototype.openCompactForm=function(){this.common.params={data:this.data},this.modalService.open(Io.a,{size:"lg",container:"nb-layout",backdrop:"static"})},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--;var t=e.data.name,a=n.datePipe.transform(n.today,"dd-MM-yyyy hh:mm:ss a");n.common.getPDFFromTableId(l,t,"Vehicle Distance(24Hr)",null,a)},function(l){n.common.loading--,console.log(l)})},l.prototype.printCsv=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--;var t="Customer Name:"+e.data.name,a="Report Generation Time:"+n.datePipe.transform(n.today,"dd-MM-yyyy hh:mm:ss a");n.common.getCSVFromTableId(l,t,"Report Name:Vehicle Distance(24Hr)",null,a)},function(l){n.common.loading--,console.log(l)})},l}(),Ao=t["\u0275crt"]({encapsulation:0,styles:[[".exel-icon[_ngcontent-%COMP%]{font-size:24px;color:#217346}.pdf-icon[_ngcontent-%COMP%]{font-size:24px;color:#9f0001}nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}"]],data:{}});function Fo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","tbldocs"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function Eo(l){return t["\u0275vid"](0,[t["\u0275pid"](0,_.DatePipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,24,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](2,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](3,0,null,0,17,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](4,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,15,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle Distance(24Hr)"])),(l()(),t["\u0275eld"](9,0,null,null,3,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](11,null,["",""])),t["\u0275ppd"](12,3),(l()(),t["\u0275eld"](13,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,1,"button",[["class","btn btn-primary pt-1 pb-1 rounded-sm text-capitalize"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openCompactForm()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Compact"])),(l()(),t["\u0275eld"](16,0,null,null,4,"div",[["class","col-sm-2"],["style","text-align:right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printPDF("tbldocs")&&t),t},null,null)),(l()(),t["\u0275eld"](18,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 10px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printCsv("tbldocs")&&t),t},null,null)),(l()(),t["\u0275eld"](20,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,1,4,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](22,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](23,0,null,0,2,"div",[["class","model-body"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Fo)),t["\u0275did"](25,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,25,0,e.distanceData&&e.distanceData.length)},function(l,n){var e=n.component;l(n,1,1,[t["\u0275nov"](n,2).xxsmall,t["\u0275nov"](n,2).xsmall,t["\u0275nov"](n,2).small,t["\u0275nov"](n,2).medium,t["\u0275nov"](n,2).large,t["\u0275nov"](n,2).xlarge,t["\u0275nov"](n,2).xxlarge,t["\u0275nov"](n,2).active,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2).primary,t["\u0275nov"](n,2).info,t["\u0275nov"](n,2).success,t["\u0275nov"](n,2).warning,t["\u0275nov"](n,2).danger,t["\u0275nov"](n,2).hasAccent,t["\u0275nov"](n,2).primaryAccent,t["\u0275nov"](n,2).infoAccent,t["\u0275nov"](n,2).successAccent,t["\u0275nov"](n,2).warningAccent,t["\u0275nov"](n,2).dangerAccent,t["\u0275nov"](n,2).activeAccent,t["\u0275nov"](n,2).disabledAccent]);var a=t["\u0275unv"](n,11,0,l(n,12,0,t["\u0275nov"](n,0),e.today,"dd-MM-yyyy hh:mm:ss a","+0530"));l(n,11,0,a)})}function Vo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"vehicle-covered-distance",[],null,null,null,Eo,Ao)),t["\u0275did"](1,114688,null,0,So,[a.a,_.DatePipe,F.a,al.u,i.a],null,null)],function(l,n){l(n,1,0)},null)}var Lo=t["\u0275ccf"]("vehicle-covered-distance",So,Vo,{},{},[]),No=function(){function l(l,n,e,t,a){this.api=l,this.common=n,this.datePipe=e,this.user=t,this.modalService=a,this.gpsDtails=[],this.table=null,this.getVehicleGpsDetail(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getVehicleGpsDetail()},l.prototype.getVehicleGpsDetail=function(){var l=this;this.common.loading++,this.api.get("GpsData/getVehicleGpsDetail").subscribe(function(n){l.common.loading--,console.log("res: ",n.data),l.gpsDtails=n.data,l.table=l.setTable()},function(n){l.common.loading--,l.common.showError()})},l.prototype.setTable=function(){return{data:{headings:{regno:{title:"Vehicle regno",placeholder:"Vehicle regno"},apiProvider:{title:"Api Provider",placeholder:"Api Provider"},lastCall:{title:"last Call ",placeholder:"last Call"},time:{title:"Date Time ",placeholder:"Date Time "}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"75vh"}}},l.prototype.getTableColumns=function(){var l=this,n=[];return this.gpsDtails.map(function(e){var t={regno:{value:e.regno},apiProvider:{value:e.apiprovider},lastCall:{value:l.datePipe.transform(e.lastcalldt,"dd MMM HH:mm")},time:{value:l.datePipe.transform(e.dttime,"dd MMM HH:mm")}};n.push(t)}),n},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--,n.common.getPDFFromTableId(l,e.data.name,"GPS Details",["Action"],"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCsv=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--,n.common.getCSVFromTableId(l,"FoName:"+e.data.name,"Report:GPS Details",["Action"],"")},function(l){n.common.loading--,console.log(l)})},l}(),Ho=t["\u0275crt"]({encapsulation:0,styles:[["nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}nb-card-body[_ngcontent-%COMP%]{padding:10px 15px}[_nghost-%COMP%]     .tableFixHead{height:auto!important;max-height:calc(100vh - 145px)}.pdf-icon[_ngcontent-%COMP%]{font-size:30px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:30px;color:#217346}"]],data:{}});function zo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","gpsDetails"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function jo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,18,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,11,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","col-sm-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle Gps Details"])),(l()(),t["\u0275eld"](8,0,null,null,5,"div",[["class","col-sm-02"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printPDF("gpsDetails")&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 10px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printCsv("gpsDetails")&&t),t},null,null)),(l()(),t["\u0275eld"](13,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,1,4,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](15,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](16,0,null,0,2,"div",[["class","model-body"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,zo)),t["\u0275did"](18,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,18,0,e.gpsDtails&&e.gpsDtails.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function Uo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"vehicle-gps-detail",[],null,null,null,jo,Ho)),t["\u0275prd"](512,null,_.DatePipe,_.DatePipe,[t.LOCALE_ID]),t["\u0275did"](2,114688,null,0,No,[a.a,F.a,_.DatePipe,i.a,al.u],null,null)],function(l,n){l(n,2,0)},null)}var $o=t["\u0275ccf"]("vehicle-gps-detail",No,Uo,{},{},[]),qo=function(){function l(l,n,e,t){var a;this.api=l,this.common=n,this.modalService=e,this.user=t,this.vehicleId=null,this.startDate="",this.endDate="",this.activitySummary=[],this.headings=[],this.valobj={},this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0,tableHeight:"75vh"}},a=new Date,this.endDate=this.common.dateFormatter(a).split(" ")[0],this.startDate=this.common.dateFormatter(new Date(a.setDate(a.getDate()-1))).split(" ")[0],this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.vehicleId=null,this.getFeedbackLogs()},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"trip feedback logs"},this.modalService.open(ln.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(e){e.date&&("start"==l?(n.startDate="",n.startDate=n.common.dateFormatter(e.date).split(" ")[0],console.log("endDate",n.startDate)):(n.endDate=n.common.dateFormatter(e.date).split(" ")[0],console.log("endDate",n.endDate)))})},l.prototype.getvehicleData=function(l){console.log("Vehicle Data: ",l),this.vehicleId=l.id},l.prototype.getFeedbackLogs=function(){var l=this;this.activitySummary=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0,tableHeight:"75vh"}};var n=new Date(this.common.dateFormatter1(this.endDate).split(" ")[0]),e={vehicleId:this.vehicleId?this.vehicleId:-1,startDate:this.common.dateFormatter1(this.startDate).split(" ")[0],endDate:this.common.dateFormatter1(n.setDate(n.getDate()+1)).split(" ")[0]};console.log("params:",e);var t="startDate="+e.startDate+"&endDate="+e.endDate+"&vehicleId="+e.vehicleId;this.common.loading++,this.api.get("tripsOperation/tripFeedbackLogs?"+t).subscribe(function(n){l.common.loading--,console.log("res: ",n.data),l.activitySummary=n.data,console.log("activitySummary",l.activitySummary);var e=l.activitySummary[0];for(var t in console.log("first_Rec",e),e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:t,placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}l.table.data.columns=l.getTableColumns(),console.log("table:"),console.log(l.table)},function(n){l.common.loading--,l.common.showError()})},l.prototype.getTableColumns=function(){for(var l=[],n=0;n<this.activitySummary.length;n++){this.valobj={};for(var e=0;e<this.headings.length;e++)this.valobj[this.headings[e]]={value:this.activitySummary[n][this.headings[e]],class:"black",action:""};l.push(this.valobj)}return l},l.prototype.formatTitle=function(l){return l.indexOf("_")>0?l.toLowerCase().split("_").map(function(l){return l[0].toUpperCase()+l.slice(1)}).join(" "):l.charAt(0).toUpperCase()+l.substr(1)},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--,n.common.getPDFFromTableId(l,e.data.name,"Trip Feedback Logs",["Action"],"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCsv=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--,n.common.getCSVFromTableId(l,"FoName:"+e.data.name,"Report:Trip Feedback Logs",["Action"],"")},function(l){n.common.loading--,console.log(l)})},l}(),Go=t["\u0275crt"]({encapsulation:0,styles:[["nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}nb-card-body[_ngcontent-%COMP%]{padding:10px 15px}[_nghost-%COMP%]    .tableFixHead{height:auto!important;max-height:calc(100vh - 156px)}[_nghost-%COMP%]    .tableFixHead.paginaion_conditon{max-height:calc(100vh - 192px)!important}.btn-primary[_ngcontent-%COMP%]{border-radius:3px;border:0;text-transform:capitalize;float:left;padding:8px 15px;width:100%}.pdf-icon[_ngcontent-%COMP%]{font-size:30px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:30px;color:#217346}"],d.a],data:{}});function Bo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printPDF("feedbackLogs")&&t),t},null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 10px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printCsv("feedbackLogs")&&t),t},null,null)),(l()(),t["\u0275eld"](5,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null))],null,null)}function Wo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","feedbackLogs"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function Ko(l){return t["\u0275vid"](0,[t["\u0275pid"](0,_.DatePipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,30,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](2,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](3,0,null,0,23,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](4,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,21,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Trip Feedback Logs"])),(l()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Bo)),t["\u0275did"](11,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](12,0,null,null,14,"div",[["class","col-7"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,2,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"input",[["class","form-control"],["name","date"],["placeholder","Start Date"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate("start")&&t),t},null,null)),t["\u0275ppd"](16,2),(l()(),t["\u0275eld"](17,0,null,null,2,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"input",[["class","form-control"],["name","date1"],["placeholder","End Date"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate("end")&&t),t},null,null)),t["\u0275ppd"](19,2),(l()(),t["\u0275eld"](20,0,null,null,3,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,2,"div",[["class","search_vehicle_input"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,1,"auto-suggestion",[["display","regno"],["placeholder","Enter Vehicle Number"],["style","width:60%;"],["url","Vehicles/getVehicleListForFoid"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,23).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==o.getvehicleData(e)&&a),a},Qn.b,Qn.a)),t["\u0275did"](23,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"]},{onSelected:"onSelected"}),(l()(),t["\u0275eld"](24,0,null,null,2,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,1,"button",[["class","btn btn-primary m-0"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getFeedbackLogs()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["submit"])),(l()(),t["\u0275eld"](27,0,null,1,4,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](28,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](29,0,null,0,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Wo)),t["\u0275did"](31,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,11,0,e.activitySummary.length),l(n,23,0,"Vehicles/getVehicleListForFoid","regno","Enter Vehicle Number"),l(n,31,0,e.activitySummary&&e.activitySummary.length)},function(l,n){var e=n.component;l(n,1,1,[t["\u0275nov"](n,2).xxsmall,t["\u0275nov"](n,2).xsmall,t["\u0275nov"](n,2).small,t["\u0275nov"](n,2).medium,t["\u0275nov"](n,2).large,t["\u0275nov"](n,2).xlarge,t["\u0275nov"](n,2).xxlarge,t["\u0275nov"](n,2).active,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2).primary,t["\u0275nov"](n,2).info,t["\u0275nov"](n,2).success,t["\u0275nov"](n,2).warning,t["\u0275nov"](n,2).danger,t["\u0275nov"](n,2).hasAccent,t["\u0275nov"](n,2).primaryAccent,t["\u0275nov"](n,2).infoAccent,t["\u0275nov"](n,2).successAccent,t["\u0275nov"](n,2).warningAccent,t["\u0275nov"](n,2).dangerAccent,t["\u0275nov"](n,2).activeAccent,t["\u0275nov"](n,2).disabledAccent]);var a=t["\u0275unv"](n,15,0,l(n,16,0,t["\u0275nov"](n,0),e.startDate,"dd MMM yyyy"));l(n,15,0,a);var o=t["\u0275unv"](n,18,0,l(n,19,0,t["\u0275nov"](n,0),e.endDate,"dd MMM yyyy"));l(n,18,0,o)})}function Jo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"tip-feedback-logs",[],null,null,null,Ko,Go)),t["\u0275did"](1,114688,null,0,qo,[a.a,F.a,al.u,i.a],null,null)],function(l,n){l(n,1,0)},null)}var Yo=t["\u0275ccf"]("tip-feedback-logs",qo,Jo,{},{},[]),Zo=e("NTD5"),Qo=function(){function l(l,n,e,t){this.api=l,this.common=n,this.user=e,this.modalService=t,this.showTable=!1,this.shortTarget=[],this.headings=[],this.valobj={},this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.getOnwardKmpd(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getOnwardKmpd()},l.prototype.getOnwardKmpd=function(){var l=this;this.shortTarget=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.common.loading++,this.api.get("Placement/getShortTarget").subscribe(function(n){if(l.common.loading--,l.shortTarget=JSON.parse(n.data[0].result),null!=l.shortTarget){console.log("shortTarget",l.shortTarget);var e=l.shortTarget[0];for(var t in console.log("first_Rec",e),e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:t,placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}l.table.data.columns=l.getTableColumns(),console.log("table:"),console.log(l.table),l.showTable=!0}else l.common.showToast("No Record Found !!")},function(n){l.common.loading--,l.common.showError()})},l.prototype.getTableColumns=function(){for(var l=[],n=0;n<this.shortTarget.length;n++){this.valobj={};for(var e=0;e<this.headings.length;e++)this.valobj[this.headings[e]]={value:this.shortTarget[n][this.headings[e]],class:"black",action:""};this.valobj.style={background:this.shortTarget[n]._rowcolor},l.push(this.valobj)}return console.log("Columns:",l),l},l.prototype.formatTitle=function(l){return l.indexOf("_")>0?l.toLowerCase().split("_").map(function(l){return l[0].toUpperCase()+l.slice(1)}).join(" "):l.charAt(0).toUpperCase()+l.substr(1)},l}(),Xo=t["\u0275crt"]({encapsulation:0,styles:[["nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}"]],data:{}});function li(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function ni(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,5,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Short Target"])),(l()(),t["\u0275eld"](8,0,null,1,4,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](9,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](10,0,null,0,2,"div",[["class","model-body"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,li)),t["\u0275did"](12,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,12,0,e.shortTarget&&e.shortTarget.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function ei(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"short-target",[],null,null,null,ni,Xo)),t["\u0275did"](1,114688,null,0,Qo,[a.a,F.a,Zo.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var ti=t["\u0275ccf"]("short-target",Qo,ei,{},{},[]),ai=function(){function l(l,n,e,t){var a;this.api=l,this.common=n,this.user=e,this.modalService=t,this.showTable=!1,this.onwardKmpd=[],this.headings=[],this.valobj={},this.startDate="",this.endDate="",this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},a=new Date,this.startDate=this.common.dateFormatter(a.setDate(a.getDate()-6)),console.log("today startdate",a,this.startDate),a=new Date,this.endDate=this.common.dateFormatter(a.setDate(a.getDate()-1)),console.log("default date",this.startDate,this.endDate),this.getonwardKmpd(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getonwardKmpd()},l.prototype.getonwardKmpd=function(){var l=this;this.startDate=this.common.dateFormatter(this.startDate).split(" ")[0],this.endDate=this.common.dateFormatter(this.endDate).split(" ")[0],this.onwardKmpd=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}};var n={startdate:this.startDate,enddate:this.endDate};console.log("params: ",n),this.common.loading++,this.api.post("VehicleTrips/getFleetOnwardsKmpd",n).subscribe(function(n){if(l.common.loading--,l.onwardKmpd=n.data,null!=l.onwardKmpd){var e=l.onwardKmpd[0];for(var t in console.log("first_Rec",e),e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:t,placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}l.table.data.columns=l.getTableColumns(),console.log("table:"),console.log(l.table),l.showTable=!0}else l.common.showToast("No Record Found !!")},function(n){l.common.loading--,l.common.showError()})},l.prototype.getTableColumns=function(){for(var l=[],n=0;n<this.onwardKmpd.length;n++){this.valobj={};for(var e=0;e<this.headings.length;e++)this.valobj[this.headings[e]]="y_regno"==this.headings[e]?{value:this.onwardKmpd[n][this.headings[e]],class:"blue",action:this.showLocation.bind(this,this.onwardKmpd[n])}:"y_kms"==this.headings[e]?{value:this.onwardKmpd[n][this.headings[e]],class:"blue",action:this.openRouteMapper.bind(this,this.onwardKmpd[n])}:{value:this.onwardKmpd[n][this.headings[e]],class:"black",action:""};this.valobj.style={background:this.onwardKmpd[n]._rowcolor},l.push(this.valobj)}return console.log("Columns:",l),l},l.prototype.formatTitle=function(l){return l.indexOf("_")>0?l.toLowerCase().split("_").map(function(l){return l[0].toUpperCase()+l.slice(1)}).join(" "):l.charAt(0).toUpperCase()+l.substr(1)},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"onward-kmpd"},this.modalService.open(ln.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(e){e.date&&("start"==l?(n.startDate="",n.startDate=n.common.dateFormatter(e.date).split(" ")[0],console.log("startDate",n.startDate)):(n.endDate="",n.endDate=n.common.dateFormatter(e.date).split(" ")[0],console.log("endDate",n.endDate)))})},l.prototype.showLocation=function(l){l._lat?(this.common.params={location:{lat:l._lat,lng:l._long,name:"",time:""},title:"Vehicle Location"},this.modalService.open(N.a,{size:"lg",container:"nb-layout"})):this.common.showToast("Vehicle location not available!")},l.prototype.openRouteMapper=function(l,n){void 0===n&&(n="Trip Start"),console.log("defaultFault",l);var e=this.common.dateFormatter(this.startDate),t=this.common.dateFormatter(this.endDate);this.common.handleModalHeightWidth("class","modal-lg","200","1500"),this.common.params={vehicleId:l._vid,vehicleRegNo:l.y_regno,fromTime:e,toTime:t},console.log("open Route Mapper modal",this.common.params),this.modalService.open(q.a,{size:"lg",container:"nb-layout",windowClass:"myCustomModalClass"}).result.then(function(l){return console.log("data",l)})},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--,n.common.getPDFFromTableId(l,e.data.name,"Onward KMPD",["Action"],"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCsv=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--,n.common.getCSVFromTableId(l,"FoName:"+e.data.name,"Report:Onward KMPD",["Action"],"")},function(l){n.common.loading--,console.log(l)})},l}(),oi=t["\u0275crt"]({encapsulation:0,styles:[["input[type=text][_ngcontent-%COMP%]{width:100%;height:30px;padding-left:5px;font-size:10px;border:1px solid #324148;border-radius:3px}.btn-primary[_ngcontent-%COMP%]{padding:6px 15px;border-radius:5px;border:0;text-transform:capitalize;cursor:pointer!important;width:100%}nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}nb-card-body[_ngcontent-%COMP%]{padding:0 20px 15px}[_nghost-%COMP%]     .tableFixHead{height:auto!important;max-height:calc(100vh - 145px)!important}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700}.pdf-icon[_ngcontent-%COMP%]{font-size:30px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:30px;color:#217346}"]],data:{}});function ii(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","onwardKmpd"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function ui(l){return t["\u0275vid"](0,[t["\u0275pid"](0,_.DatePipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,29,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](2,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](3,0,null,0,22,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](4,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,20,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Onward KMPD"])),(l()(),t["\u0275eld"](9,0,null,null,5,"div",[["class","col-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printPDF("onwardKmpd")&&t),t},null,null)),(l()(),t["\u0275eld"](12,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 10px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printCsv("onwardKmpd")&&t),t},null,null)),(l()(),t["\u0275eld"](14,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,10,"div",[["class","col-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,2,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"input",[["class","form-control"],["name","date"],["placeholder","Start Date"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate("start")&&t),t},null,null)),t["\u0275ppd"](19,2),(l()(),t["\u0275eld"](20,0,null,null,2,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,1,"input",[["class","form-control"],["name","date1"],["placeholder","End Date"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate("end")&&t),t},null,null)),t["\u0275ppd"](22,2),(l()(),t["\u0275eld"](23,0,null,null,2,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getonwardKmpd()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["submit"])),(l()(),t["\u0275eld"](26,0,null,1,4,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](27,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](28,0,null,0,2,"div",[["class","model-body"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ii)),t["\u0275did"](30,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,30,0,e.onwardKmpd&&e.onwardKmpd.length)},function(l,n){var e=n.component;l(n,1,1,[t["\u0275nov"](n,2).xxsmall,t["\u0275nov"](n,2).xsmall,t["\u0275nov"](n,2).small,t["\u0275nov"](n,2).medium,t["\u0275nov"](n,2).large,t["\u0275nov"](n,2).xlarge,t["\u0275nov"](n,2).xxlarge,t["\u0275nov"](n,2).active,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2).primary,t["\u0275nov"](n,2).info,t["\u0275nov"](n,2).success,t["\u0275nov"](n,2).warning,t["\u0275nov"](n,2).danger,t["\u0275nov"](n,2).hasAccent,t["\u0275nov"](n,2).primaryAccent,t["\u0275nov"](n,2).infoAccent,t["\u0275nov"](n,2).successAccent,t["\u0275nov"](n,2).warningAccent,t["\u0275nov"](n,2).dangerAccent,t["\u0275nov"](n,2).activeAccent,t["\u0275nov"](n,2).disabledAccent]);var a=t["\u0275unv"](n,18,0,l(n,19,0,t["\u0275nov"](n,0),e.startDate,"dd MMM yyyy"));l(n,18,0,a);var o=t["\u0275unv"](n,21,0,l(n,22,0,t["\u0275nov"](n,0),e.endDate,"dd MMM yyyy"));l(n,21,0,o)})}function ri(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"onward-kmpd",[],null,null,null,ui,oi)),t["\u0275did"](1,114688,null,0,ai,[a.a,F.a,i.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var si=t["\u0275ccf"]("onward-kmpd",ai,ri,{},{},[]),di=t["\u0275crt"]({encapsulation:0,styles:[["nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700}[_nghost-%COMP%]    .black{color:#000}[_nghost-%COMP%]    .green{color:green;font-weight:700}[_nghost-%COMP%]    .red{color:red}"],d.a],data:{}});function ci(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","col-sm-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.closeModal()&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["\xd7"]))],null,null)}function pi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data Available On That Time Period ! "]))],null,null)}function gi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function hi(l){return t["\u0275vid"](0,[t["\u0275pid"](0,_.DatePipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,32,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](2,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](3,0,null,0,23,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](4,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,21,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"div",[["class","col-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle Trip States"])),(l()(),t["\u0275eld"](9,0,null,null,17,"div",[["class","col-7"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,4,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,3,"div",[["class","search_vehicle_input"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,2,"auto-suggestion",[["display","regno"],["placeholder","Enter Vehicle Number"],["style","width:60%;"],["url","Vehicles/getVehicleListForFoid"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,14).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==o.getvehicleData(e)&&a),a},Qn.b,Qn.a)),t["\u0275did"](14,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"],preSelected:[3,"preSelected"]},{onSelected:"onSelected"}),t["\u0275pod"](15,{regno:0}),(l()(),t["\u0275eld"](16,0,null,null,2,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,1,"input",[["class","form-control"],["name","date"],["placeholder","Start Date"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate("start")&&t),t},null,null)),t["\u0275ppd"](18,2),(l()(),t["\u0275eld"](19,0,null,null,2,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,1,"input",[["class","form-control"],["name","date1"],["placeholder","End Date"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate("end")&&t),t},null,null)),t["\u0275ppd"](21,2),(l()(),t["\u0275eld"](22,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,1,"button",[["class","btn btn-primary m-0"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getTripStages()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["submit"])),(l()(),t["\u0275and"](16777216,null,null,1,null,ci)),t["\u0275did"](26,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](27,0,null,1,6,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](28,49152,null,0,k.a,[],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,pi)),t["\u0275did"](30,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](31,0,null,0,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,gi)),t["\u0275did"](33,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component,t=l(n,15,0,e.vehicleNo);l(n,14,0,"Vehicles/getVehicleListForFoid","regno","Enter Vehicle Number",t),l(n,26,0,"modal"==e.openType),l(n,30,0,0==e.tripstagesData.length),l(n,33,0,e.tripstagesData.length>0)},function(l,n){var e=n.component;l(n,1,1,[t["\u0275nov"](n,2).xxsmall,t["\u0275nov"](n,2).xsmall,t["\u0275nov"](n,2).small,t["\u0275nov"](n,2).medium,t["\u0275nov"](n,2).large,t["\u0275nov"](n,2).xlarge,t["\u0275nov"](n,2).xxlarge,t["\u0275nov"](n,2).active,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2).primary,t["\u0275nov"](n,2).info,t["\u0275nov"](n,2).success,t["\u0275nov"](n,2).warning,t["\u0275nov"](n,2).danger,t["\u0275nov"](n,2).hasAccent,t["\u0275nov"](n,2).primaryAccent,t["\u0275nov"](n,2).infoAccent,t["\u0275nov"](n,2).successAccent,t["\u0275nov"](n,2).warningAccent,t["\u0275nov"](n,2).dangerAccent,t["\u0275nov"](n,2).activeAccent,t["\u0275nov"](n,2).disabledAccent]);var a=t["\u0275unv"](n,17,0,l(n,18,0,t["\u0275nov"](n,0),e.startDate,"dd MMM yyyy"));l(n,17,0,a);var o=t["\u0275unv"](n,20,0,l(n,21,0,t["\u0275nov"](n,0),e.endDate,"dd MMM yyyy"));l(n,20,0,o)})}function mi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"vehicle-trip-stages",[],null,null,null,hi,di)),t["\u0275did"](1,114688,null,0,be,[a.a,F.a,al.u,al.d],null,null)],function(l,n){l(n,1,0)},null)}var fi=t["\u0275ccf"]("vehicle-trip-stages",be,mi,{},{},[]),vi=e("GxMJ"),bi=e("aXiM"),xi=e("lOmW"),yi=e("6HjL"),Ci=e("HUcl"),_i=e("Z6CY"),wi=e("HS/c"),Mi=e("zsV+"),Ti=function(){function l(l,n,e,t,a){this.api=l,this.common=n,this.modalService=e,this.activeModal=t,this.user=a,this.verifyState=[],this.stateId=[],this.adduserId=[],this.isVerified=[],this.pendingStateType="0",this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0,tableHeight:"68vh"}},this.headings=[],this.valobj={},this.getPendingStates(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){console.log("Refresh"),this.getPendingStates()},l.prototype.getPendingStates=function(){var l=this;this.stateId=[],this.adduserId=[],this.isVerified=[],this.verifyState=[];var n="is_verified="+this.pendingStateType;console.log("params",n),this.common.loading++,this.api.get("vehicles/getPendingVehicleStates?"+n).subscribe(function(n){l.common.loading--,l.verifyState=n.data||[];for(var e=0;e<l.verifyState.length;e++)null!=l.verifyState[e]._id&&l.stateId.push(l.verifyState[e]._id),l.adduserId.push(l.verifyState[e]._aduserid),l.isVerified.push(l.verifyState[e]._isverified);console.log("adduserid",l.adduserId),console.log("stateid",l.stateId),console.log("isVerified",l.isVerified),console.log("verifyState",l.verifyState);var t=l.verifyState[0];for(var a in t)if("_"!=a.charAt(0)){l.headings.push(a);var o={title:l.formatTitle(a),placeholder:l.formatTitle(a)};l.table.data.headings[a]=o}var i={title:l.formatTitle("Action"),placeholder:l.formatTitle("Action")};l.table.data.headings.action=i,l.table.data.columns=l.getTableColumns()},function(n){l.common.loading--,console.log(n)})},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.getTableColumns=function(){var l=this,n=[];return console.log("Data=",this.verifyState),this.verifyState.map(function(e,t){l.valobj={};for(var a=0;a<l.headings.length;a++)l.valobj[l.headings[a]]={value:e[l.headings[a]],class:"black",action:""},l.valobj.action={value:null,isHTML:!1,action:null,class:"",icons:l.actionIcons(e,t)};n.push(l.valobj)}),n},l.prototype.actionIcons=function(l,n){var e=[];return 0==this.isVerified[n]&&e.push({class:" fa fa-check-circle",action:this.acceptOnTrip.bind(this,l)},{class:"fa fa-window-close",action:this.rejectOnTrip.bind(this,l)}),this.adduserId[n]>0&&e.push({class:"fa fa-trash remove",action:this.removeVehicleState.bind(this,n)}),e},l.prototype.acceptOnTrip=function(l){var n=this,e={vehicleStateId:l._id,isVerified:1};l&&(console.log("details",l),this.common.params={title:"Accept Trip ",description:"<b>&nbsp;Are Sure To Accept This Record<b>"},this.modalService.open(ee.a,{size:"sm",container:"nb-layout",backdrop:"static",keyboard:!1,windowClass:"accountModalClass"}).result.then(function(l){l.response&&(console.log("data",l),n.common.loading++,n.api.post("Vehicles/ActionOnPendingVehicleStates",e).subscribe(function(l){n.common.loading--,console.log("res: ",l),n.common.showToast(l.data[0].r_msg),n.getPendingStates()},function(l){n.common.loading--,console.log("Error: ",l),n.common.showError("Error!")}))}))},l.prototype.rejectOnTrip=function(l){var n=this,e={vehicleStateId:l._id,isVerified:0,vehicleId:l._vid,lat:l._lat,long:l._lngt,vregno:l.Vehicle};console.log("Param:",e),l&&(console.log("details",l),this.common.params={title:"Reject Trip ",description:"<b>&nbsp;Are Sure To Reject This Record<b>"},this.modalService.open(ee.a,{size:"sm",container:"nb-layout",backdrop:"static",keyboard:!1,windowClass:"accountModalClass"}).result.then(function(t){t.response&&(console.log("data",t),n.common.loading++,n.api.post("Vehicles/ActionOnPendingVehicleStates",e).subscribe(function(e){n.common.loading--,console.log("res: ",e),n.common.showToast(e.data[0].r_msg,"",1e4),n.common.params={vehicleStateId:l._id,isVerified:0,vehicleId:l._vid,lat:l._lat,long:l._lngt,vregno:l.Vehicle},n.modalService.open(B.a,{size:"lg",container:"nb-layout",backdrop:"static"})},function(l){n.common.loading--,console.log("Error: ",l),n.common.showError("Error!")}))}))},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--,n.common.getPDFFromTableId(l,e.data.name,"Verify Trip States",["Action"],"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCsv=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--,n.common.getCSVFromTableId(l,"FoName:"+e.data.name,"Report:Verify Trip States",["Action"],"")},function(l){n.common.loading--,console.log(l)})},l.prototype.removeVehicleState=function(l){var n=this,e={stateid:this.stateId[l]};console.log("params",e),console.log("index",l),this.common.params={title:"Remove State ",description:"<b>&nbsp;Are Sure To Remove State <b>"},this.modalService.open(ee.a,{size:"sm",container:"nb-layout",backdrop:"static",keyboard:!1}).result.then(function(l){l.response&&(console.log("data",l),n.common.loading++,n.api.post("Vehicles/removeVehicleState",e).subscribe(function(l){n.common.loading--,console.log("res: ",l),l.data[0].r_id>0?(n.common.showToast("Selected state has been deleted"),n.getPendingStates()):n.common.showToast(l.data[0].r_msg,"",1e4)},function(l){n.common.loading--,console.log("Error: ",l),n.common.showError("Error!")}))})},l}(),Di=t["\u0275crt"]({encapsulation:0,styles:[["nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}[_nghost-%COMP%]     table .fa{margin-right:10px;font-size:18px;cursor:pointer}[_nghost-%COMP%]     .fa-check-circle{color:#37ad28}[_nghost-%COMP%]     .fa-check-circle span{position:absolute;display:none;padding:10px 28px;font-weight:400;font-size:11px;left:-22px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-check-circle span::before{content:'Accept';display:block;position:absolute;top:0;left:0;background-color:#37ad28;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-check-circle span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #37ad28;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-check-circle:hover span{display:block}[_nghost-%COMP%]     .fa-window-close{color:red}[_nghost-%COMP%]     .fa-window-close span{position:absolute;display:none;padding:10px 28px;font-weight:400;font-size:11px;left:-22px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-window-close span::before{content:'Reject';display:block;position:absolute;top:0;left:0;background-color:red;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-window-close span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid red;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-window-close:hover span{display:block}.pdf-icon[_ngcontent-%COMP%]{font-size:30px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:30px;color:#217346}[_nghost-%COMP%]     .tableFixHead{height:calc(100vh - 220px)!important}"]],data:{}});function Pi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data Available ! "]))],null,null)}function Oi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","verifyState"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function ki(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,38,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,29,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,27,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Verify Trip States"])),(l()(),t["\u0275eld"](8,0,null,null,18,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,17,"select",[["class","form-control"],["style"," border: 2px solid darkcyan; font-size: 13px"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,10).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,10).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.pendingStateType=e)&&a),"change"===n&&(a=!1!==o.getPendingStates()&&a),a},null,null)),t["\u0275did"](10,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](12,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](14,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](15,0,null,null,3,"option",[["value","0"]],null,null,null,null,null)),t["\u0275did"](16,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](17,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["No"])),(l()(),t["\u0275eld"](19,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),t["\u0275did"](20,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](21,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Yes"])),(l()(),t["\u0275eld"](23,0,null,null,3,"option",[["value","-1"]],null,null,null,null,null)),t["\u0275did"](24,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](25,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Any"])),(l()(),t["\u0275eld"](27,0,null,null,4,"div",[["class","col-02"]],null,null,null,null,null)),(l()(),t["\u0275eld"](28,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printPDF("verifyState")&&t),t},null,null)),(l()(),t["\u0275eld"](29,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 10px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printCsv("verifyState")&&t),t},null,null)),(l()(),t["\u0275eld"](31,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),t["\u0275eld"](32,0,null,1,6,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](33,49152,null,0,k.a,[],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,Pi)),t["\u0275did"](35,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](36,0,null,0,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Oi)),t["\u0275did"](38,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,12,0,e.pendingStateType),l(n,16,0,"0"),l(n,17,0,"0"),l(n,20,0,"1"),l(n,21,0,"1"),l(n,24,0,"-1"),l(n,25,0,"-1"),l(n,35,0,0==e.verifyState.length),l(n,38,0,e.verifyState.length>0)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]),l(n,9,0,t["\u0275nov"](n,14).ngClassUntouched,t["\u0275nov"](n,14).ngClassTouched,t["\u0275nov"](n,14).ngClassPristine,t["\u0275nov"](n,14).ngClassDirty,t["\u0275nov"](n,14).ngClassValid,t["\u0275nov"](n,14).ngClassInvalid,t["\u0275nov"](n,14).ngClassPending)})}function Ri(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"trip-verify-states",[],null,null,null,ki,Di)),t["\u0275did"](1,114688,null,0,Ti,[a.a,F.a,al.u,al.d,i.a],null,null)],function(l,n){l(n,1,0)},null)}var Ii=t["\u0275ccf"]("trip-verify-states",Ti,Ri,{},{},[]),Si=function(){function l(l,n,e,t){this.common=l,this.api=n,this.modalService=e,this.dateService=t,this.startDate=null,this.endDate=null,this.vehiclePerformance=[],this.headings=[],this.valobj={},this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0,tableHeight:"75vh"}},this.click=!1;var a=new Date,o=new Date;this.endDate=a,this.endDate=this.common.dateFormatter(a),o=new Date(a.setDate(a.getDate()-7)),this.startDate=this.common.dateFormatter(o),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getVehiclePerformance()},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"vehicle-performance"},this.modalService.open(ln.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(e){e.date&&("start"==l?(n.startDate="",n.startDate=n.dateService.dateFormatter(e.date,"",!1).split(" ")[0]):(n.endDate=n.dateService.dateFormatter(e.date,"",!1).split(" ")[0],console.log("endDate",n.endDate)))})},l.prototype.getVehiclePerformance=function(){var l=this;this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0,tableHeight:"75vh"}},this.vehiclePerformance=[];var n=this.common.dateFormatter1(this.startDate).split(" ")[0],e=this.common.dateFormatter1(this.endDate.split(" ")[0]);this.click=!0;var t="startDate="+n+"&endDate="+e;this.common.loading++,this.api.get("Vehicles/vehiclePerformance?"+t).subscribe(function(n){if(l.common.loading--,console.log("res: ",n.data),null==n.data)return l.vehiclePerformance=[],void(l.table=null);l.vehiclePerformance=n.data;var e=l.vehiclePerformance[0];for(var t in console.log("first_Rec",e),e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:t,placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}l.table.data.columns=l.getTableColumns()},function(n){l.common.loading--,l.common.showError()})},l.prototype.getTableColumns=function(){for(var l=[],n=0;n<this.vehiclePerformance.length;n++){this.valobj={};for(var e=0;e<this.headings.length;e++)console.log("Test....",this.headings[e]),this.valobj[this.headings[e]]="distance"===this.headings[e]?{value:this.vehiclePerformance[n][this.headings[e]],class:this.vehiclePerformance[n][this.headings[e]]>0?"blue":"",action:this.vehiclePerformance[n][this.headings[e]]>0?this.openRouteMapper.bind(this,this.vehiclePerformance[n]):""}:{value:this.vehiclePerformance[n][this.headings[e]]};l.push(this.valobj)}return l},l.prototype.openRouteMapper=function(l){this.common.handleModalHeightWidth("class","modal-lg","200","1500"),this.common.params={vehicleId:l._vid,vehicleRegNo:l.regno,fromTime:l._start,toTime:l._end},console.log("open Route Mapper modal",this.common.params),this.modalService.open(q.a,{size:"lg",container:"nb-layout",windowClass:"myCustomModalClass"})},l.prototype.formatTitle=function(l){return l.indexOf("_")>0?l.toLowerCase().split("_").map(function(l){return l[0].toUpperCase()+l.slice(1)}).join(" "):l.charAt(0).toUpperCase()+l.substr(1)},l}(),Ai=t["\u0275crt"]({encapsulation:0,styles:[["nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}[_nghost-%COMP%]    .blue{color:#00f;font-weight:700}"],d.a],data:{}});function Fi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Select StartDate & EndDate And Click Submit ! "]))],null,null)}function Ei(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data Available ! "]))],null,null)}function Vi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function Li(l){return t["\u0275vid"](0,[t["\u0275pid"](0,_.DatePipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,27,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](2,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](3,0,null,0,16,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](4,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,14,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"div",[["class","col-7"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle Performance"])),(l()(),t["\u0275eld"](9,0,null,null,10,"div",[["class","col-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,2,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"input",[["class","form-control"],["name","date"],["placeholder","Start Date"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate("start")&&t),t},null,null)),t["\u0275ppd"](13,2),(l()(),t["\u0275eld"](14,0,null,null,2,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"input",[["class","form-control"],["name","date1"],["placeholder","End Date"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate("end")&&t),t},null,null)),t["\u0275ppd"](16,2),(l()(),t["\u0275eld"](17,0,null,null,2,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"button",[["class","btn btn-primary m-0"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getVehiclePerformance()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["submit"])),(l()(),t["\u0275eld"](20,0,null,1,8,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](21,49152,null,0,k.a,[],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,Fi)),t["\u0275did"](23,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Ei)),t["\u0275did"](25,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](26,0,null,0,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Vi)),t["\u0275did"](28,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,23,0,!e.click),l(n,25,0,!e.vehiclePerformance.length&&e.click),l(n,28,0,e.vehiclePerformance&&e.vehiclePerformance.length)},function(l,n){var e=n.component;l(n,1,1,[t["\u0275nov"](n,2).xxsmall,t["\u0275nov"](n,2).xsmall,t["\u0275nov"](n,2).small,t["\u0275nov"](n,2).medium,t["\u0275nov"](n,2).large,t["\u0275nov"](n,2).xlarge,t["\u0275nov"](n,2).xxlarge,t["\u0275nov"](n,2).active,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2).primary,t["\u0275nov"](n,2).info,t["\u0275nov"](n,2).success,t["\u0275nov"](n,2).warning,t["\u0275nov"](n,2).danger,t["\u0275nov"](n,2).hasAccent,t["\u0275nov"](n,2).primaryAccent,t["\u0275nov"](n,2).infoAccent,t["\u0275nov"](n,2).successAccent,t["\u0275nov"](n,2).warningAccent,t["\u0275nov"](n,2).dangerAccent,t["\u0275nov"](n,2).activeAccent,t["\u0275nov"](n,2).disabledAccent]);var a=t["\u0275unv"](n,12,0,l(n,13,0,t["\u0275nov"](n,0),e.startDate,"dd MMM yyyy"));l(n,12,0,a);var o=t["\u0275unv"](n,15,0,l(n,16,0,t["\u0275nov"](n,0),e.endDate,"dd MMM yyyy"));l(n,15,0,o)})}function Ni(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"vehicle-performance",[],null,null,null,Li,Ai)),t["\u0275did"](1,114688,null,0,Si,[F.a,a.a,al.u,Q.a],null,null)],function(l,n){l(n,1,0)},null)}var Hi=t["\u0275ccf"]("vehicle-performance",Si,Ni,{},{},[]),zi=function(){function l(l,n,e,t,a,o){this.router=l,this.modalservice=n,this.common=e,this.api=t,this.datePipe=a,this.user=o,this.checkstart=null,this.checkend=null,this.arrdriverData=[{days:null,Regno:null,attendance:null,id:null}],this.table={data:{headings:{Regno:{placeholder:"RegNo",editable:!1}},columns:[]},settings:{hideHeader:!0,editable:!1}},this.data=[],this.vehicleId=null;var i=new Date;this.startDate=new Date(i.setDate(i.getDate()-7)),this.endDate=new Date,console.log("date on cons",this.startDate,this.endDate)}return l.prototype.ngOnInit=function(){},l.prototype.getDate=function(l){var n=this;console.log("start",this.startDate),this.common.params={ref_page:"daywise vehicle distance"},this.modalservice.open(ln.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(e){"start"==l?(n.startDate="",n.startDate=e.date):(n.endDate="",n.endDate=e.date),console.log("start and end",n.startDate,n.endDate)})},l.prototype.getDistance=function(){var l=this;if(this.data=[],this.table={data:{headings:{Regno:{placeholder:"RegNo",editable:!1}},columns:[]},settings:{hideHeader:!0,editable:!1}},console.log("this.table",this.table),this.checkstart=new Date(this.startDate.valueOf()),this.checkend=new Date(this.endDate.valueOf()),console.log("checkend and checkstart",this.checkend,this.checkstart),this.checkend>this.checkstart.setDate(this.checkstart.getDate()+7))this.common.showToast("Differece from start to end date should be 7 days");else{var n={fromTime:this.common.dateFormatter(this.startDate).split(" ")[0],tTime:this.common.dateFormatter(this.endDate).split(" ")[0]};console.log("params to insert",n),this.common.loading++,this.api.post("Vehicles/foVehicleDayWiseDistance",n).subscribe(function(n){l.common.loading--,console.log("Res:",n.data),l.data=n.data||[],l.table.data.columns=l.getTableColumns(l.formattData())},function(n){l.common.loading--,console.log(n)})}},l.prototype.formattData=function(){var l=this;console.log("this.data",this.data);var n=z.groupBy(this.data,"vehicleId"),e=[];return Object.keys(n).map(function(l){e.push({Regno:n[l][0].regno,data:n[l].slice()})}),e[0].data.map(function(n){l.table.data.headings[n.date.split(" ")[0]]={placeholder:l.datePipe.transform(n.date.split(" ")[0],"dd")}}),console.log("Group:",n,e,this.table.data.headings),e},l.prototype.getTableColumns=function(l){var n=[];return l.map(function(l){var e={Regno:{value:l.Regno}};l.data.map(function(l){e[l.date.split(" ")[0]]={value:l.distance}}),n.push(e)}),n},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--,n.common.getPDFFromTableId(l,e.data.name,"Daywise Vehicle Distance",["Action"],"")},function(l){n.common.loading--,console.log(l)})},l.prototype.printCsv=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--,n.common.getCSVFromTableId(l,"FoName:"+e.data.name,"Report:Daywise Vehicle Distance",["Action"],"")},function(l){n.common.loading--,console.log(l)})},l}(),ji=t["\u0275crt"]({encapsulation:0,styles:[[".pdf-icon[_ngcontent-%COMP%]{font-size:30px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:30px;color:#217346}"]],data:{}});function Ui(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","daywiseVehDistance"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function $i(l){return t["\u0275vid"](0,[t["\u0275pid"](0,_.DatePipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,28,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](2,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](3,0,null,0,11,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](4,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Day Wise Vehicle Distance"])),(l()(),t["\u0275eld"](9,0,null,null,5,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printPDF("daywiseVehDistance")&&t),t},null,null)),(l()(),t["\u0275eld"](12,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 10px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printCsv("daywiseVehDistance")&&t),t},null,null)),(l()(),t["\u0275eld"](14,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,1,14,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](16,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](17,0,null,0,9,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,1,"input",[["autocomplete","off"],["class","form-control"],["name","date"],["placeholder","Start Date"],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate("start")&&t),t},null,null)),t["\u0275ppd"](20,2),(l()(),t["\u0275eld"](21,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,1,"input",[["autocomplete","off"],["class","form-control"],["name","date1"],["placeholder","end Date"],["style","cursor: pointer;"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate("end")&&t),t},null,null)),t["\u0275ppd"](23,2),(l()(),t["\u0275eld"](24,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,1,"button",[["class","btn btn-primary pt-1 pb-1 rounded-sm text-capitalize"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDistance()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Get Distance"])),(l()(),t["\u0275eld"](27,0,null,0,2,"div",[["class","container"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ui)),t["\u0275did"](29,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,29,0,n.component.table.data.columns.length)},function(l,n){var e=n.component;l(n,1,1,[t["\u0275nov"](n,2).xxsmall,t["\u0275nov"](n,2).xsmall,t["\u0275nov"](n,2).small,t["\u0275nov"](n,2).medium,t["\u0275nov"](n,2).large,t["\u0275nov"](n,2).xlarge,t["\u0275nov"](n,2).xxlarge,t["\u0275nov"](n,2).active,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2).primary,t["\u0275nov"](n,2).info,t["\u0275nov"](n,2).success,t["\u0275nov"](n,2).warning,t["\u0275nov"](n,2).danger,t["\u0275nov"](n,2).hasAccent,t["\u0275nov"](n,2).primaryAccent,t["\u0275nov"](n,2).infoAccent,t["\u0275nov"](n,2).successAccent,t["\u0275nov"](n,2).warningAccent,t["\u0275nov"](n,2).dangerAccent,t["\u0275nov"](n,2).activeAccent,t["\u0275nov"](n,2).disabledAccent]);var a=t["\u0275unv"](n,19,0,l(n,20,0,t["\u0275nov"](n,0),e.startDate,"dd MMM yyyy"));l(n,19,0,a);var o=t["\u0275unv"](n,22,0,l(n,23,0,t["\u0275nov"](n,0),e.endDate,"dd MMM yyyy"));l(n,22,0,o)})}function qi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"daywise-vehicle-distance",[],null,null,null,$i,ji)),t["\u0275did"](1,114688,null,0,zi,[m.n,al.u,F.a,a.a,_.DatePipe,i.a],null,null)],function(l,n){l(n,1,0)},null)}var Gi=t["\u0275ccf"]("daywise-vehicle-distance",zi,qi,{},{},[]),Bi=e("F9Xm"),Wi=e("QVK/"),Ki=function(){function l(l,n,e,t,a){this.modalService=l,this.common=n,this.accountService=e,this.api=t,this.mapService=a,this.materialDetails=null,this.branches=null,this.vehicleId=null,this.vehicleRegNo=null,this.vehicleno=null,this.flag=!1,this.lr={taxPaidBy:null,consigneeName:null,consigneeAddress:null,consigneeId:null,deliveryAddress:null,consignorAddress:null,consignorName:null,consignorId:null,sameAsDelivery:!1,paymentTerm:"1",payableAmount:0,lrNumber:null,sourceCity:null,sourceLat:null,sourceLng:null,destinationCity:null,destinationLat:null,destinationLng:null,remark:null,date:null,amount:0,gstPer:0},this.particulars=[{material:null,articles:null,weight:null,material_value:null,customfields:{customDetail:[]},customField:!1,customButton:!0}],this.driver={name:null,licenseNo:null,id:null},this.taName=null,this.taId=null,this.preSelectedDriver=null,this.getFieldName=[];var o=new Date;o.setDate(o.getDate()),this.lr.date=o,this.getAllFieldName()}return l.prototype.ngOnInit=function(){},l.prototype.ngAfterViewInit=function(){var l=this;this.mapService.autoSuggestion("sourceCity",function(n,e,t){l.lr.sourceCity=n,l.lr.sourceLat=e,l.lr.sourceLng=t}),this.mapService.autoSuggestion("destinationCity",function(n,e,t){l.lr.destinationCity=n,l.lr.destinationLat=e,l.lr.destinationLng=t})},l.prototype.getBranches=function(){var l=this;this.api.post("Suggestion/GetBranchList",{search:123}).subscribe(function(n){console.log("Branches :",n.data),l.accountService.branches=n.data},function(l){console.log("Error: ",l)})},l.prototype.addConsignee=function(){console.log("open material modal"),this.modalService.open(Bi.a,{size:"sm",container:"nb-layout",backdrop:"static",windowClass:"add-consige-veiw"}).result.then(function(l){console.log("Data:",l)})},l.prototype.addDriver=function(){var l=this;this.common.params={vehicleId:this.vehicleId,vehicleRegNo:this.vehicleRegNo},this.modalService.open(ve.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(n){console.log("data",n),n.data&&l.getDriverInfo()})},l.prototype.getvehicleData=function(l){console.log("Vehicle Data: ",l),this.vehicleId=l.id,this.vehicleRegNo=l.regno,this.getDriverInfo()},l.prototype.getDriverInfo=function(){var l=this,n={vid:this.vehicleId};this.common.loading++,this.api.post("Drivers/getDriverInfo",n).subscribe(function(n){l.common.loading--,console.log("res",n.data),n.data.length>0?(l.driver.name=n.data[0].empname,l.driver.id=n.data[0].driver_id,l.mobileno=n.data[0].mobileno,l.preSelectedDriver={mobileno:n.data[0].mobileno},console.log("------------------:",l.preSelectedDriver),console.log("name,id,number",l.driver.name,l.driver.id,l.mobileno)):l.flag=!1},function(n){l.common.loading--,l.common.showError()})},l.prototype.getDriverData=function(l){return console.log("driver",l),this.driver.name=l.empname,this.driver.licenseNo=l.licence_no,this.driver.id=l.id,this.driver.id},l.prototype.getConsignorDetail=function(l){console.log("consignor",l),this.lr.consignorAddress=l.address,this.lr.consignorName=l.name,this.lr.consignorId=l.id},l.prototype.getConsigneeDetail=function(l){console.log("consignee",l),this.lr.consigneeAddress=l.address,this.lr.consigneeName=l.name,this.lr.consigneeId=l.id},l.prototype.getBranchDetails=function(){},l.prototype.fillConsigneeAddress=function(){console.log("sameAsDelivery",this.lr.consigneeAddress),this.lr.deliveryAddress=this.lr.sameAsDelivery?this.lr.consigneeAddress:null},l.prototype.addMore=function(){this.particulars.push({material:null,articles:null,weight:null,material_value:null,customfields:{customDetail:[]},customField:!1,customButton:!0})},l.prototype.searchTaName=function(l){this.taName=l.name,this.taId=l.id},l.prototype.searchMaterialType=function(l,n,e){},l.prototype.material=function(l){console.log("material-"+l),this.particulars[l].material=document.getElementById("material-"+l).value,console.log("Vlue",this.particulars[l].material)},l.prototype.saveDetails=function(){var l=this;if(this.lr.sourceLat&&this.lr.destinationLat){++this.common.loading;var n=JSON.parse(JSON.stringify(this.particulars));n.map(function(l){for(var n=0;n<l.customfields.customDetail.length;n+=2)l.customfields[l.customfields.customDetail[n]]=l.customfields.customDetail[n+1];l.customfields=Object.assign({},l.customfields),delete l.customfields.customDetail});var e=this.common.dateFormatter1(this.lr.date).split(" ")[0];console.log("params lrdate",e);var t={branchId:this.accountService.selected.branch.id,vehicleId:this.vehicleId,lrNo:this.lr.lrNumber,lrDate:e,driverId:this.driver.id,source:this.lr.sourceCity,destination:this.lr.destinationCity,consignorId:this.lr.consignorId,consigneeId:this.lr.consigneeId,amount:this.lr.amount,gstPer:this.lr.gstPer,totalAmount:this.lr.payableAmount,payType:this.lr.paymentTerm,taxPaid:this.lr.taxPaidBy,travelAgentId:this.taId,deliveryAddress:this.lr.deliveryAddress,lrDetails:JSON.stringify(n),remarks:this.lr.remark,sourceLat:this.lr.sourceLat,sourceLng:this.lr.sourceLng,destinationLat:this.lr.destinationLat,destinationLng:this.lr.destinationLng,consigneeAddress:this.lr.consigneeAddress,consignorAddress:this.lr.consignorAddress,vehicleRegNo:document.getElementById("vehicleno").value,lrType:"true"};console.log("params",t),this.api.post("LorryReceiptsOperation/generateLR",t).subscribe(function(n){--l.common.loading,console.log("response :",n.data[0].rtn_id),n.data[0].rtn_id>0?alert("LR Generated Successfully"):alert(n.data[0].rtn_msg)},function(n){--l.common.loading,alert(n),console.log("Error: ",n)})}else this.common.showError("Source and Destination Location selection are required")},l.prototype.checkDateFormat=function(){var l=this.lr.date;if(console.log("this.lrdate",this.lr.date),!(l.length<8||l.match(/^\d{4}[-]\d{2}[-]\d{2}$/))){var n=l[0]+l[1],e=l[2]+l[3],t=l.substring(4,8);this.lr.date=t+"-"+e+"-"+n,console.log("checkDateFormat",this.lr.date)}},l.prototype.getDate=function(){var l=this;this.common.params={ref_page:"generate-lr"},this.modalService.open(ln.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(n){n.date&&(l.lr.date=l.common.dateFormatter(n.date,"ddMMYYYY").split(" ")[0],console.log("lrdate: by getDate "+l.lr.date))})},l.prototype.resetData=function(l){this.vehicleId=null,console.log(l)},l.prototype.calculateTotalAmount=function(){var l;l=100+parseFloat(""+this.lr.gstPer),this.lr.payableAmount=this.lr.amount*l/100,console.log(l,"lr payable amount",this.lr.payableAmount)},l.prototype.addField=function(){var l=this;this.modalService.open(Wi.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(n){console.log("Data:",n),l.getAllFieldName()})},l.prototype.getAllFieldName=function(){var l=this;this.api.get("Suggestion/lrFoFields?sugId=1").subscribe(function(n){l.getFieldName=n.data,console.log("All Name",l.getFieldName)},function(n){l.common.loading--,console.log(n)})},l}(),Ji=t["\u0275crt"]({encapsulation:0,styles:[["label.radio-btn[_ngcontent-%COMP%] + label.radio-btn[_ngcontent-%COMP%]{margin-left:10px}.radio-btn[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0 5px 0 0;vertical-align:middle}textarea[_ngcontent-%COMP%]{width:100%;height:100px}.remove[_ngcontent-%COMP%]{font-size:12px;background-color:#f44236;color:#fff;padding:7px 8px;border-radius:3px}.auto-suggest[_ngcontent-%COMP%]{margin-left:-15px}nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0;padding:10px 15px}table.gerrate_tabel[_ngcontent-%COMP%]{border:0}table.gerrate_tabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:0;padding:5px 10px}table.gerrate_tabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{-webkit-box-shadow:none;box-shadow:none}table.gerrate_tabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{-webkit-box-shadow:none;box-shadow:none;width:100%}table.gerrate_tabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{font-size:14px;color:#fff;background:linear-gradient(-135deg,#1de9b6 0,#1dc4e9 100%);width:28px;float:right;padding:8px 0;text-align:center;border-radius:3px}table.gerrate_tabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1){width:15%}table.gerrate_tabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:35%}table.gerrate_tabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:15%}table.gerrate_tabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:35%}.material_details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid #ccc;padding:10px 0;margin-bottom:15px}.material_details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border:0}.material_details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{border:0!important}.material_details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:0;padding:5px}.material_details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{-webkit-box-shadow:none;box-shadow:none;padding:3px 5px!important;height:auto!important}.material_details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{-webkit-box-shadow:none;box-shadow:none;padding:3px 5px!important;height:auto!important;width:100%}.material_details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{font-size:14px;color:#fff;background:#000;width:28px;float:right;padding:6px 0;text-align:center;border-radius:3px}.material_details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:11px;border:0;border-radius:3px;padding:7px;text-transform:capitalize}.material_details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;margin:0}.material_details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin:0 5px 0 0;vertical-align:middle}.material_details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1){width:7%}.material_details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:12%}.material_details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:10%}.material_details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:12%}.material_details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5), .material_details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(6){width:10%}.material_details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(7){width:8%}.material_details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(8){width:12%}.material_details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(9){width:7%}.material_details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(10){width:9%}.material_details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(11){width:1%}.material_details[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{border-radius:3px;border:0;padding:10px 20px;cursor:pointer!important}"]],data:{}});function Yi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(l.parent.parent.context.$implicit.customField=!0,t=0!=(l.parent.parent.context.$implicit.customButton=!1)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Add Fields"]))],null,null)}function Zi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Yi)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.parent.context.$implicit.customButton)},null)}function Qi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addMore()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Add Materials"]))],null,null)}function Xi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-trash remove"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.particulars.splice(l.parent.context.index,1)&&t),t},null,null))],null,null)}function lu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,54,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"auto-suggestion",[["display","name"],["placeholder","Name"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var a=!0;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,3).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==(l.parent.context.$implicit.customfields.customDetail[0]=e.id)&&a),a},Qn.b,Qn.a)),t["\u0275did"](3,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{display:[0,"display"],placeholder:[1,"placeholder"],preSelected:[2,"preSelected"],data:[3,"data"]},{onSelected:"onSelected"}),(l()(),t["\u0275eld"](4,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,0,"i",[["class","fa fa-plus add col-md-4"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addField()&&t),t},null,null)),(l()(),t["\u0275eld"](6,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,5,"input",[["class","form-control"],["placeholder","Value"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0;return"input"===n&&(a=!1!==t["\u0275nov"](l,8)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,8).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,8)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,8)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(l.parent.context.$implicit.customfields.customDetail[1]=e)&&a),a},null,null)),t["\u0275did"](8,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](10,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](12,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](13,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,5,"input",[["class","form-control"],["placeholder","Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0;return"input"===n&&(a=!1!==t["\u0275nov"](l,15)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,15).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,15)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,15)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(l.parent.context.$implicit.customfields.customDetail[2]=e)&&a),a},null,null)),t["\u0275did"](15,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](17,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](19,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](20,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,5,"input",[["class","form-control"],["placeholder","Value"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0;return"input"===n&&(a=!1!==t["\u0275nov"](l,22)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,22).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,22)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,22)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(l.parent.context.$implicit.customfields.customDetail[3]=e)&&a),a},null,null)),t["\u0275did"](22,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](24,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](26,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](27,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](28,0,null,null,5,"input",[["class","form-control"],["placeholder","Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0;return"input"===n&&(a=!1!==t["\u0275nov"](l,29)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,29).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,29)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,29)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(l.parent.context.$implicit.customfields.customDetail[4]=e)&&a),a},null,null)),t["\u0275did"](29,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](31,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](33,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](34,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](35,0,null,null,5,"input",[["class","form-control"],["placeholder","Value"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0;return"input"===n&&(a=!1!==t["\u0275nov"](l,36)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,36).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,36)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,36)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(l.parent.context.$implicit.customfields.customDetail[5]=e)&&a),a},null,null)),t["\u0275did"](36,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](38,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](40,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](41,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](42,0,null,null,5,"input",[["class","form-control"],["placeholder","Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0;return"input"===n&&(a=!1!==t["\u0275nov"](l,43)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,43).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,43)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,43)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(l.parent.context.$implicit.customfields.customDetail[6]=e)&&a),a},null,null)),t["\u0275did"](43,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](45,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](47,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](48,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](49,0,null,null,5,"input",[["class","form-control"],["placeholder","Value"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0;return"input"===n&&(a=!1!==t["\u0275nov"](l,50)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,50).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,50)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,50)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(l.parent.context.$implicit.customfields.customDetail[7]=e)&&a),a},null,null)),t["\u0275did"](50,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](52,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](54,16384,null,0,V.n,[[4,V.m]],null,null)],function(l,n){l(n,3,0,"name","Name",null,n.component.getFieldName),l(n,10,0,n.parent.context.$implicit.customfields.customDetail[1]),l(n,17,0,n.parent.context.$implicit.customfields.customDetail[2]),l(n,24,0,n.parent.context.$implicit.customfields.customDetail[3]),l(n,31,0,n.parent.context.$implicit.customfields.customDetail[4]),l(n,38,0,n.parent.context.$implicit.customfields.customDetail[5]),l(n,45,0,n.parent.context.$implicit.customfields.customDetail[6]),l(n,52,0,n.parent.context.$implicit.customfields.customDetail[7])},function(l,n){l(n,7,0,t["\u0275nov"](n,12).ngClassUntouched,t["\u0275nov"](n,12).ngClassTouched,t["\u0275nov"](n,12).ngClassPristine,t["\u0275nov"](n,12).ngClassDirty,t["\u0275nov"](n,12).ngClassValid,t["\u0275nov"](n,12).ngClassInvalid,t["\u0275nov"](n,12).ngClassPending),l(n,14,0,t["\u0275nov"](n,19).ngClassUntouched,t["\u0275nov"](n,19).ngClassTouched,t["\u0275nov"](n,19).ngClassPristine,t["\u0275nov"](n,19).ngClassDirty,t["\u0275nov"](n,19).ngClassValid,t["\u0275nov"](n,19).ngClassInvalid,t["\u0275nov"](n,19).ngClassPending),l(n,21,0,t["\u0275nov"](n,26).ngClassUntouched,t["\u0275nov"](n,26).ngClassTouched,t["\u0275nov"](n,26).ngClassPristine,t["\u0275nov"](n,26).ngClassDirty,t["\u0275nov"](n,26).ngClassValid,t["\u0275nov"](n,26).ngClassInvalid,t["\u0275nov"](n,26).ngClassPending),l(n,28,0,t["\u0275nov"](n,33).ngClassUntouched,t["\u0275nov"](n,33).ngClassTouched,t["\u0275nov"](n,33).ngClassPristine,t["\u0275nov"](n,33).ngClassDirty,t["\u0275nov"](n,33).ngClassValid,t["\u0275nov"](n,33).ngClassInvalid,t["\u0275nov"](n,33).ngClassPending),l(n,35,0,t["\u0275nov"](n,40).ngClassUntouched,t["\u0275nov"](n,40).ngClassTouched,t["\u0275nov"](n,40).ngClassPristine,t["\u0275nov"](n,40).ngClassDirty,t["\u0275nov"](n,40).ngClassValid,t["\u0275nov"](n,40).ngClassInvalid,t["\u0275nov"](n,40).ngClassPending),l(n,42,0,t["\u0275nov"](n,47).ngClassUntouched,t["\u0275nov"](n,47).ngClassTouched,t["\u0275nov"](n,47).ngClassPristine,t["\u0275nov"](n,47).ngClassDirty,t["\u0275nov"](n,47).ngClassValid,t["\u0275nov"](n,47).ngClassInvalid,t["\u0275nov"](n,47).ngClassPending),l(n,49,0,t["\u0275nov"](n,54).ngClassUntouched,t["\u0275nov"](n,54).ngClassTouched,t["\u0275nov"](n,54).ngClassPristine,t["\u0275nov"](n,54).ngClassDirty,t["\u0275nov"](n,54).ngClassValid,t["\u0275nov"](n,54).ngClassInvalid,t["\u0275nov"](n,54).ngClassPending)})}function nu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,45,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,42,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Material "])),(l()(),t["\u0275eld"](5,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"auto-suggestion",[["display","name"],["placeholder","Material Name"],["url","Suggestion/GetMaterialTypes"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,7).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==o.searchMaterialType(e,l.context.index,o.material)&&a),a},Qn.b,Qn.a)),t["\u0275did"](7,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"],preSelected:[3,"preSelected"],inputId:[4,"inputId"]},{onSelected:"onSelected"}),(l()(),t["\u0275eld"](8,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Number Of Articles "])),(l()(),t["\u0275eld"](11,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,13)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,13).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,13)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,13)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(l.context.$implicit.articles=e)&&a),"focus"===n&&(a=!1!==o.material(l.context.index)&&a),a},null,null)),t["\u0275did"](13,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](15,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](17,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](18,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Weight"])),(l()(),t["\u0275eld"](21,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0;return"input"===n&&(a=!1!==t["\u0275nov"](l,23)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,23).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,23)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,23)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(l.context.$implicit.weight=e)&&a),a},null,null)),t["\u0275did"](23,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](25,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](27,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](28,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Material Value"])),(l()(),t["\u0275eld"](31,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](32,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0;return"input"===n&&(a=!1!==t["\u0275nov"](l,33)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,33).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,33)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,33)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(l.context.$implicit.material_value=e)&&a),a},null,null)),t["\u0275did"](33,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](35,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](37,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Zi)),t["\u0275did"](39,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Qi)),t["\u0275did"](41,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Xi)),t["\u0275did"](43,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,lu)),t["\u0275did"](45,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,7,0,"Suggestion/GetMaterialTypes","name","Material Name",null,"material-"+n.context.index),l(n,15,0,n.context.$implicit.articles),l(n,25,0,n.context.$implicit.weight),l(n,35,0,n.context.$implicit.material_value),l(n,39,0,n.context.index==e.particulars.length-1),l(n,41,0,n.context.index==e.particulars.length-1),l(n,43,0,0!==n.context.index),l(n,45,0,n.context.$implicit.customField)},function(l,n){l(n,12,0,t["\u0275nov"](n,17).ngClassUntouched,t["\u0275nov"](n,17).ngClassTouched,t["\u0275nov"](n,17).ngClassPristine,t["\u0275nov"](n,17).ngClassDirty,t["\u0275nov"](n,17).ngClassValid,t["\u0275nov"](n,17).ngClassInvalid,t["\u0275nov"](n,17).ngClassPending),l(n,22,0,t["\u0275nov"](n,27).ngClassUntouched,t["\u0275nov"](n,27).ngClassTouched,t["\u0275nov"](n,27).ngClassPristine,t["\u0275nov"](n,27).ngClassDirty,t["\u0275nov"](n,27).ngClassValid,t["\u0275nov"](n,27).ngClassInvalid,t["\u0275nov"](n,27).ngClassPending),l(n,32,0,t["\u0275nov"](n,37).ngClassUntouched,t["\u0275nov"](n,37).ngClassTouched,t["\u0275nov"](n,37).ngClassPristine,t["\u0275nov"](n,37).ngClassDirty,t["\u0275nov"](n,37).ngClassValid,t["\u0275nov"](n,37).ngClassInvalid,t["\u0275nov"](n,37).ngClassPending)})}function eu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,252,"nb-card",[["style","border: 0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Generate LR "])),(l()(),t["\u0275eld"](6,0,null,1,246,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](8,0,null,0,235,"table",[["class","table table-bordered gerrate_tabel"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,234,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,19,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle No"])),(l()(),t["\u0275eld"](14,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,4,"auto-suggestion",[["display","regno"],["inputId","vehicleno"],["placeholder","Enter Vehicle Number"],["style","width:60%;"],["url","Vehicles/getVehicleListForFoid"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onSelected"],[null,"change"],[null,"ngModelChange"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,19).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==o.getvehicleData(e)&&a),"change"===n&&(a=!1!==o.resetData(e)&&a),"ngModelChange"===n&&(a=!1!==(o.vehicleno=e)&&a),a},Qn.b,Qn.a)),t["\u0275did"](16,671744,null,0,V.q,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](18,16384,null,0,V.n,[[4,V.m]],null,null),t["\u0275did"](19,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"],inputId:[3,"inputId"]},{onSelected:"onSelected"}),(l()(),t["\u0275eld"](20,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["LR No*"])),(l()(),t["\u0275eld"](23,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,5,"input",[["class","form-control"],["placeholder","Enter LR Number"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,25)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,25).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,25)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,25)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(o.lr.lrNumber=e)&&a),a},null,null)),t["\u0275did"](25,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](27,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](29,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](30,0,null,null,14,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](32,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Date"])),(l()(),t["\u0275eld"](34,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](35,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](36,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](37,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.lr.date=e)&&t),t},le.b,le.a)),t["\u0275did"](38,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](39,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](40,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["T.A. Name"])),(l()(),t["\u0275eld"](42,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](43,0,null,null,1,"auto-suggestion",[["display","name"],["placeholder","Transport Agent Name"],["url","Suggestion/GetTransportAgent"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,44).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==o.searchTaName(e)&&a),a},Qn.b,Qn.a)),t["\u0275did"](44,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"],preSelected:[3,"preSelected"]},{onSelected:"onSelected"}),(l()(),t["\u0275eld"](45,0,null,null,17,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](46,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](47,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Driver Mob NO"])),(l()(),t["\u0275eld"](49,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](50,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](51,0,null,null,1,"auto-suggestion",[["class","col-md-10 auto-suggest"],["display","mobileno"],["placeholder","Select Driver"],["style","width:100%;"],["url","Booster/getDrivers"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,52).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==o.getDriverData(e)&&a),a},Qn.b,Qn.a)),t["\u0275did"](52,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"],preSelected:[3,"preSelected"]},{onSelected:"onSelected"}),(l()(),t["\u0275eld"](53,0,null,null,1,"div",[["col-md-2",""]],null,null,null,null,null)),(l()(),t["\u0275eld"](54,0,null,null,0,"i",[["class","fa fa-plus  add col-md-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addDriver()&&t),t},null,null)),(l()(),t["\u0275eld"](55,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](56,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Driver Name : "])),(l()(),t["\u0275ted"](58,null,[" "," "])),(l()(),t["\u0275eld"](59,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](60,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["License No : "])),(l()(),t["\u0275ted"](62,null,[" "," "])),(l()(),t["\u0275eld"](63,0,null,null,20,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](64,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](65,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Source City*"])),(l()(),t["\u0275eld"](67,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](68,0,null,null,5,"input",[["class","form-control"],["id","sourceCity"],["placeholder","sourceCity"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,69)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,69).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,69)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,69)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(o.lr.sourceCity=e)&&a),a},null,null)),t["\u0275did"](69,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](71,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](73,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](74,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](75,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Destination City* "])),(l()(),t["\u0275eld"](77,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](78,0,null,null,5,"input",[["class","form-control"],["id","destinationCity"],["placeholder","destinationCity"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,79)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,79).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,79)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,79)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(o.lr.destinationCity=e)&&a),a},null,null)),t["\u0275did"](79,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](81,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](83,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](84,0,null,null,18,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](85,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](86,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Consignor Name*"])),(l()(),t["\u0275eld"](88,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](89,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](90,0,null,null,1,"auto-suggestion",[["class","col-md-10 auto-suggest"],["display","name"],["placeholder",""],["style","width:100%;"],["url","Suggestion/GetCompanies2?type=ALL"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,91).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==o.getConsignorDetail(e)&&a),a},Qn.b,Qn.a)),t["\u0275did"](91,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"]},{onSelected:"onSelected"}),(l()(),t["\u0275eld"](92,0,null,null,0,"i",[["class","fa fa-plus  add col-md-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addConsignee()&&t),t},null,null)),(l()(),t["\u0275eld"](93,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](94,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Consignor Address"])),(l()(),t["\u0275eld"](96,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](97,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,98)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,98).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,98)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,98)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(o.lr.consignorAddress=e)&&a),a},null,null)),t["\u0275did"](98,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](100,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](102,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](103,0,null,null,19,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](104,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](105,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Consignee Name*"])),(l()(),t["\u0275eld"](107,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](108,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](109,0,null,null,1,"auto-suggestion",[["class","col-md-10 auto-suggest"],["display","name"],["placeholder",""],["style","width:100%;"],["url","Suggestion/GetCompanies2?type=ALL"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,110).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==o.getConsigneeDetail(e)&&a),a},Qn.b,Qn.a)),t["\u0275did"](110,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"]},{onSelected:"onSelected"}),(l()(),t["\u0275eld"](111,0,null,null,1,"div",[["col-md-2",""]],null,null,null,null,null)),(l()(),t["\u0275eld"](112,0,null,null,0,"i",[["class","fa fa-plus  add col-md-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addConsignee()&&t),t},null,null)),(l()(),t["\u0275eld"](113,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](114,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Consignee Address"])),(l()(),t["\u0275eld"](116,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](117,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,118)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,118).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,118)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,118)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(o.lr.consigneeAddress=e)&&a),a},null,null)),t["\u0275did"](118,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](120,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](122,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](123,0,null,null,17,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](124,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](125,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Delivery Address "])),(l()(),t["\u0275eld"](127,0,null,null,13,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](128,0,null,null,5,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,129).onChange(e.target.checked)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,129).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.lr.sameAsDelivery=e)&&a),"change"===n&&(a=!1!==o.fillConsigneeAddress()&&a),a},null,null)),t["\u0275did"](129,16384,null,0,V.b,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.b]),t["\u0275did"](131,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](133,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275ted"](-1,null,[" Same as Consignee Address "])),(l()(),t["\u0275eld"](135,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,136)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,136).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,136)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,136)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(o.lr.deliveryAddress=e)&&a),a},null,null)),t["\u0275did"](136,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](138,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](140,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](141,0,null,null,22,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](142,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](143,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Amount"])),(l()(),t["\u0275eld"](145,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](146,0,null,null,6,"input",[["class","form-control"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,147)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,147).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,147)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,147)._compositionEnd(e.target.value)&&a),"change"===n&&(a=!1!==t["\u0275nov"](l,148).onChange(e.target.value)&&a),"input"===n&&(a=!1!==t["\u0275nov"](l,148).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,148).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.lr.amount=e)&&a),"change"===n&&(a=!1!==o.calculateTotalAmount()&&a),a},null,null)),t["\u0275did"](147,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275did"](148,16384,null,0,V.z,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l,n){return[l,n]},[V.d,V.z]),t["\u0275did"](150,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](152,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](153,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](154,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["GST %"])),(l()(),t["\u0275eld"](156,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](157,0,null,null,6,"input",[["class","form-control"],["max","31"],["min","0"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,158)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,158).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,158)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,158)._compositionEnd(e.target.value)&&a),"change"===n&&(a=!1!==t["\u0275nov"](l,159).onChange(e.target.value)&&a),"input"===n&&(a=!1!==t["\u0275nov"](l,159).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,159).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.lr.gstPer=e)&&a),"change"===n&&(a=!1!==o.calculateTotalAmount()&&a),a},null,null)),t["\u0275did"](158,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275did"](159,16384,null,0,V.z,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l,n){return[l,n]},[V.d,V.z]),t["\u0275did"](161,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](163,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](164,0,null,null,27,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](165,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](166,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Total Amount"])),(l()(),t["\u0275eld"](168,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](169,null,[" "," "])),(l()(),t["\u0275eld"](170,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](171,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Payment Term"])),(l()(),t["\u0275eld"](173,0,null,null,18,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](174,0,null,null,17,"select",[["class","form-conrol"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,175).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,175).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.lr.paymentTerm=e)&&a),a},null,null)),t["\u0275did"](175,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](177,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](179,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](180,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),t["\u0275did"](181,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](182,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["ToPay"])),(l()(),t["\u0275eld"](184,0,null,null,3,"option",[["value","2"]],null,null,null,null,null)),t["\u0275did"](185,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](186,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Paid"])),(l()(),t["\u0275eld"](188,0,null,null,3,"option",[["value","3"]],null,null,null,null,null)),t["\u0275did"](189,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](190,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["To Be Billed"])),(l()(),t["\u0275eld"](192,0,null,null,51,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](193,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](194,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Tax Paid By : "])),(l()(),t["\u0275eld"](196,0,null,null,37,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](197,0,null,null,36,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](198,0,null,null,8,"label",[["class","radio-btn"]],null,null,null,null,null)),(l()(),t["\u0275eld"](199,0,null,null,6,"input",[["class","radio-btn"],["id","taxPaidBy"],["name","taxPaidBy"],["type","radio"],["value","1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,200)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,200).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,200)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,200)._compositionEnd(e.target.value)&&a),"change"===n&&(a=!1!==t["\u0275nov"](l,201).onChange()&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,201).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.lr.taxPaidBy=e)&&a),a},null,null)),t["\u0275did"](200,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275did"](201,212992,null,0,V.t,[t.Renderer2,t.ElementRef,V.C,t.Injector],{name:[0,"name"],value:[1,"value"]},null),t["\u0275prd"](1024,null,V.l,function(l,n){return[l,n]},[V.d,V.t]),t["\u0275did"](203,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](205,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275ted"](-1,null,["Consignor "])),(l()(),t["\u0275eld"](207,0,null,null,8,"label",[["class","radio-btn"]],null,null,null,null,null)),(l()(),t["\u0275eld"](208,0,null,null,6,"input",[["class","radio-btn"],["id","taxPaidBy"],["name","taxPaidBy"],["type","radio"],["value","2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,209)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,209).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,209)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,209)._compositionEnd(e.target.value)&&a),"change"===n&&(a=!1!==t["\u0275nov"](l,210).onChange()&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,210).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.lr.taxPaidBy=e)&&a),a},null,null)),t["\u0275did"](209,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275did"](210,212992,null,0,V.t,[t.Renderer2,t.ElementRef,V.C,t.Injector],{name:[0,"name"],value:[1,"value"]},null),t["\u0275prd"](1024,null,V.l,function(l,n){return[l,n]},[V.d,V.t]),t["\u0275did"](212,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](214,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275ted"](-1,null,["Consignee "])),(l()(),t["\u0275eld"](216,0,null,null,8,"label",[["class","radio-btn"]],null,null,null,null,null)),(l()(),t["\u0275eld"](217,0,null,null,6,"input",[["class","radio-btn"],["id","taxPaidBy"],["name","taxPaidBy"],["type","radio"],["value","3"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,218)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,218).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,218)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,218)._compositionEnd(e.target.value)&&a),"change"===n&&(a=!1!==t["\u0275nov"](l,219).onChange()&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,219).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.lr.taxPaidBy=e)&&a),a},null,null)),t["\u0275did"](218,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275did"](219,212992,null,0,V.t,[t.Renderer2,t.ElementRef,V.C,t.Injector],{name:[0,"name"],value:[1,"value"]},null),t["\u0275prd"](1024,null,V.l,function(l,n){return[l,n]},[V.d,V.t]),t["\u0275did"](221,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](223,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275ted"](-1,null,["GTA "])),(l()(),t["\u0275eld"](225,0,null,null,8,"label",[["class","radio-btn"]],null,null,null,null,null)),(l()(),t["\u0275eld"](226,0,null,null,6,"input",[["class","radio-btn"],["id","taxPaidBy"],["name","taxPaidBy"],["type","radio"],["value","4"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,227)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,227).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,227)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,227)._compositionEnd(e.target.value)&&a),"change"===n&&(a=!1!==t["\u0275nov"](l,228).onChange()&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,228).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.lr.taxPaidBy=e)&&a),a},null,null)),t["\u0275did"](227,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275did"](228,212992,null,0,V.t,[t.Renderer2,t.ElementRef,V.C,t.Injector],{name:[0,"name"],value:[1,"value"]},null),t["\u0275prd"](1024,null,V.l,function(l,n){return[l,n]},[V.d,V.t]),t["\u0275did"](230,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](232,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275ted"](-1,null,["Exempt "])),(l()(),t["\u0275eld"](234,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](235,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Remark"])),(l()(),t["\u0275eld"](237,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](238,0,null,null,5,"input",[["class","form-control"],["placeholder","Any Other Remark"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,239)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,239).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,239)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,239)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(o.lr.remark=e)&&a),a},null,null)),t["\u0275did"](239,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](241,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](243,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](244,0,null,0,8,"div",[["class","material_details"]],null,null,null,null,null)),(l()(),t["\u0275eld"](245,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Material Details"])),(l()(),t["\u0275eld"](247,0,null,null,2,"table",[["class","table table-bordered"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,nu)),t["\u0275did"](249,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](250,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](251,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveDetails()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Save"]))],function(l,n){var e=n.component;l(n,16,0,e.vehicleno),l(n,19,0,"Vehicles/getVehicleListForFoid","regno","Enter Vehicle Number","vehicleno"),l(n,27,0,e.lr.lrNumber),l(n,38,0,!1,e.lr.date),l(n,44,0,"Suggestion/GetTransportAgent","name","Transport Agent Name",null),l(n,52,0,"Booster/getDrivers","mobileno","Select Driver",e.preSelectedDriver),l(n,71,0,e.lr.sourceCity),l(n,81,0,e.lr.destinationCity),l(n,91,0,"Suggestion/GetCompanies2?type=ALL","name",""),l(n,100,0,e.lr.consignorAddress),l(n,110,0,"Suggestion/GetCompanies2?type=ALL","name",""),l(n,120,0,e.lr.consigneeAddress),l(n,131,0,e.lr.sameAsDelivery),l(n,138,0,e.lr.deliveryAddress),l(n,150,0,e.lr.amount),l(n,161,0,e.lr.gstPer),l(n,177,0,e.lr.paymentTerm),l(n,181,0,"1"),l(n,182,0,"1"),l(n,185,0,"2"),l(n,186,0,"2"),l(n,189,0,"3"),l(n,190,0,"3"),l(n,201,0,"taxPaidBy","1"),l(n,203,0,"taxPaidBy",e.lr.taxPaidBy),l(n,210,0,"taxPaidBy","2"),l(n,212,0,"taxPaidBy",e.lr.taxPaidBy),l(n,219,0,"taxPaidBy","3"),l(n,221,0,"taxPaidBy",e.lr.taxPaidBy),l(n,228,0,"taxPaidBy","4"),l(n,230,0,"taxPaidBy",e.lr.taxPaidBy),l(n,241,0,e.lr.remark),l(n,249,0,e.particulars)},function(l,n){var e=n.component;l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]),l(n,15,0,t["\u0275nov"](n,18).ngClassUntouched,t["\u0275nov"](n,18).ngClassTouched,t["\u0275nov"](n,18).ngClassPristine,t["\u0275nov"](n,18).ngClassDirty,t["\u0275nov"](n,18).ngClassValid,t["\u0275nov"](n,18).ngClassInvalid,t["\u0275nov"](n,18).ngClassPending),l(n,24,0,t["\u0275nov"](n,29).ngClassUntouched,t["\u0275nov"](n,29).ngClassTouched,t["\u0275nov"](n,29).ngClassPristine,t["\u0275nov"](n,29).ngClassDirty,t["\u0275nov"](n,29).ngClassValid,t["\u0275nov"](n,29).ngClassInvalid,t["\u0275nov"](n,29).ngClassPending),l(n,58,0,e.driver.name),l(n,62,0,e.driver.licenseNo),l(n,68,0,t["\u0275nov"](n,73).ngClassUntouched,t["\u0275nov"](n,73).ngClassTouched,t["\u0275nov"](n,73).ngClassPristine,t["\u0275nov"](n,73).ngClassDirty,t["\u0275nov"](n,73).ngClassValid,t["\u0275nov"](n,73).ngClassInvalid,t["\u0275nov"](n,73).ngClassPending),l(n,78,0,t["\u0275nov"](n,83).ngClassUntouched,t["\u0275nov"](n,83).ngClassTouched,t["\u0275nov"](n,83).ngClassPristine,t["\u0275nov"](n,83).ngClassDirty,t["\u0275nov"](n,83).ngClassValid,t["\u0275nov"](n,83).ngClassInvalid,t["\u0275nov"](n,83).ngClassPending),l(n,97,0,t["\u0275nov"](n,102).ngClassUntouched,t["\u0275nov"](n,102).ngClassTouched,t["\u0275nov"](n,102).ngClassPristine,t["\u0275nov"](n,102).ngClassDirty,t["\u0275nov"](n,102).ngClassValid,t["\u0275nov"](n,102).ngClassInvalid,t["\u0275nov"](n,102).ngClassPending),l(n,117,0,t["\u0275nov"](n,122).ngClassUntouched,t["\u0275nov"](n,122).ngClassTouched,t["\u0275nov"](n,122).ngClassPristine,t["\u0275nov"](n,122).ngClassDirty,t["\u0275nov"](n,122).ngClassValid,t["\u0275nov"](n,122).ngClassInvalid,t["\u0275nov"](n,122).ngClassPending),l(n,128,0,t["\u0275nov"](n,133).ngClassUntouched,t["\u0275nov"](n,133).ngClassTouched,t["\u0275nov"](n,133).ngClassPristine,t["\u0275nov"](n,133).ngClassDirty,t["\u0275nov"](n,133).ngClassValid,t["\u0275nov"](n,133).ngClassInvalid,t["\u0275nov"](n,133).ngClassPending),l(n,135,0,t["\u0275nov"](n,140).ngClassUntouched,t["\u0275nov"](n,140).ngClassTouched,t["\u0275nov"](n,140).ngClassPristine,t["\u0275nov"](n,140).ngClassDirty,t["\u0275nov"](n,140).ngClassValid,t["\u0275nov"](n,140).ngClassInvalid,t["\u0275nov"](n,140).ngClassPending),l(n,146,0,t["\u0275nov"](n,152).ngClassUntouched,t["\u0275nov"](n,152).ngClassTouched,t["\u0275nov"](n,152).ngClassPristine,t["\u0275nov"](n,152).ngClassDirty,t["\u0275nov"](n,152).ngClassValid,t["\u0275nov"](n,152).ngClassInvalid,t["\u0275nov"](n,152).ngClassPending),l(n,157,0,t["\u0275nov"](n,163).ngClassUntouched,t["\u0275nov"](n,163).ngClassTouched,t["\u0275nov"](n,163).ngClassPristine,t["\u0275nov"](n,163).ngClassDirty,t["\u0275nov"](n,163).ngClassValid,t["\u0275nov"](n,163).ngClassInvalid,t["\u0275nov"](n,163).ngClassPending),l(n,169,0,e.lr.payableAmount),l(n,174,0,t["\u0275nov"](n,179).ngClassUntouched,t["\u0275nov"](n,179).ngClassTouched,t["\u0275nov"](n,179).ngClassPristine,t["\u0275nov"](n,179).ngClassDirty,t["\u0275nov"](n,179).ngClassValid,t["\u0275nov"](n,179).ngClassInvalid,t["\u0275nov"](n,179).ngClassPending),l(n,199,0,t["\u0275nov"](n,205).ngClassUntouched,t["\u0275nov"](n,205).ngClassTouched,t["\u0275nov"](n,205).ngClassPristine,t["\u0275nov"](n,205).ngClassDirty,t["\u0275nov"](n,205).ngClassValid,t["\u0275nov"](n,205).ngClassInvalid,t["\u0275nov"](n,205).ngClassPending),l(n,208,0,t["\u0275nov"](n,214).ngClassUntouched,t["\u0275nov"](n,214).ngClassTouched,t["\u0275nov"](n,214).ngClassPristine,t["\u0275nov"](n,214).ngClassDirty,t["\u0275nov"](n,214).ngClassValid,t["\u0275nov"](n,214).ngClassInvalid,t["\u0275nov"](n,214).ngClassPending),l(n,217,0,t["\u0275nov"](n,223).ngClassUntouched,t["\u0275nov"](n,223).ngClassTouched,t["\u0275nov"](n,223).ngClassPristine,t["\u0275nov"](n,223).ngClassDirty,t["\u0275nov"](n,223).ngClassValid,t["\u0275nov"](n,223).ngClassInvalid,t["\u0275nov"](n,223).ngClassPending),l(n,226,0,t["\u0275nov"](n,232).ngClassUntouched,t["\u0275nov"](n,232).ngClassTouched,t["\u0275nov"](n,232).ngClassPristine,t["\u0275nov"](n,232).ngClassDirty,t["\u0275nov"](n,232).ngClassValid,t["\u0275nov"](n,232).ngClassInvalid,t["\u0275nov"](n,232).ngClassPending),l(n,238,0,t["\u0275nov"](n,243).ngClassUntouched,t["\u0275nov"](n,243).ngClassTouched,t["\u0275nov"](n,243).ngClassPristine,t["\u0275nov"](n,243).ngClassDirty,t["\u0275nov"](n,243).ngClassValid,t["\u0275nov"](n,243).ngClassInvalid,t["\u0275nov"](n,243).ngClassPending)})}function tu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"generate-lr-no-vehicles",[],null,null,null,eu,Ji)),t["\u0275did"](1,4308992,null,0,Ki,[al.u,F.a,o.a,a.a,W.a],null,null)],function(l,n){l(n,1,0)},null)}var au=t["\u0275ccf"]("generate-lr-no-vehicles",Ki,tu,{},{},[]),ou=e("V+Fr"),iu=e("EFD8"),uu=function(){function l(l,n,e,t,a){this.api=l,this.common=n,this.user=e,this.modalService=t,this.activeModal=a,this.startDate="",this.endDate="",this.manifestData=[],this.headings=[],this.valobj={},this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0,tableHeight:"75vh"}};var o=new Date;this.endDate=this.common.dateFormatter(o).split(" ")[0],this.startDate=this.common.dateFormatter(new Date(o.setDate(o.getDate()-10))).split(" ")[0],this.common.refresh=this.refresh.bind(this),this.getLrManifest()}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getLrManifest()},l.prototype.getDate=function(l){var n=this;this.common.params={ref_page:"vehicle trip stages"},this.modalService.open(ln.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(e){e.date&&("start"==l?(n.startDate="",n.startDate=n.common.dateFormatter(e.date).split(" ")[0],console.log("endDate",n.startDate)):(n.endDate=n.common.dateFormatter(e.date).split(" ")[0],console.log("endDate",n.endDate)))})},l.prototype.getLrManifest=function(){var l=this;this.manifestData=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0,tableHeight:"75vh"}};var n=this.common.dateFormatter1(this.endDate.split(" ")[0])+" 23:59:00",e="startDate="+this.common.dateFormatter1(this.startDate).split(" ")[0]+"&endDate="+n;this.common.loading++,this.api.get("LorryReceiptsOperation/getLrManifest?"+e).subscribe(function(n){if(l.common.loading--,l.manifestData=n.data,console.log("retrun Data length is zero",l.manifestData),null!=l.manifestData){var e=l.manifestData[0];for(var t in e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:t,placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}l.table.data.headings.action={title:"Action",placeholder:"Action"},l.table.data.columns=l.getTableColumns()}},function(n){l.common.loading--,l.common.showError()})},l.prototype.getTableColumns=function(){for(var l=[],n=0;n<this.manifestData.length;n++){this.valobj={};for(var e=0;e<this.headings.length;e++)this.valobj[this.headings[e]]={value:this.manifestData[n][this.headings[e]],class:this.manifestData[n][this.headings[e]]>0?"blue":"black",action:""},this.valobj.action={value:"",isHTML:!1,action:null,icons:this.actionIcons(this.manifestData[n])};l.push(this.valobj)}return l},l.prototype.actionIcons=function(l){var n=[{class:"fa fa-print",action:this.openViewManifestModal.bind(this,l)}];return this.user.permission.edit&&n.push({class:" fa fa-pencil-square-o ml-2",action:this.editLrManifest.bind(this,l)}),n},l.prototype.formatTitle=function(l){return l.indexOf("_")>0?l.toLowerCase().split("_").map(function(l){return l[0].toUpperCase()+l.slice(1)}).join(" "):l.charAt(0).toUpperCase()+l.substr(1)},l.prototype.closeModal=function(){this.activeModal.close()},l.prototype.openViewManifestModal=function(l){console.log("====manifestData=",l),this.common.params={manifestId:l._id},this.modalService.open(ou.a,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"print-lr-manifest print-lr"}).result.then(function(l){})},l.prototype.editLrManifest=function(l){var n=this;this.common.params={manifestId:l._id},this.modalService.open(iu.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){n.getLrManifest()})},l.prototype.genrateLrManifest=function(){var l=this;this.common.params={},this.modalService.open(iu.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(n){l.getLrManifest()})},l}(),ru=t["\u0275crt"]({encapsulation:0,styles:[['nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0;padding:10px 15px}[_nghost-%COMP%]     td .zoom{background:linear-gradient(-135deg,#1de9b6 0,#1dc4e9 100%);display:inline-block;padding:3px 8px;border-radius:3px;color:#fff}nb-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px;border-radius:3px;text-transform:capitalize;width:100%}[_nghost-%COMP%]     td i.fa-print span{position:absolute;display:none;padding:11px 57px;left:-44px;top:-28px;font-family:Roboto;z-index:999}.fa-print[_ngcontent-%COMP%]:before{content:"\\f02f";padding:10px}']],data:{}});function su(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-primary m-0"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.genrateLrManifest()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Generate-lr-ManiFest"]))],null,null)}function du(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger text-center"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data Available On That Time Period ! "]))],null,null)}function cu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function pu(l){return t["\u0275vid"](0,[t["\u0275pid"](0,_.DatePipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,26,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](2,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](3,0,null,0,17,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](4,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,15,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"div",[["class","col-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Manifestation "])),(l()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"input",[["class","form-control"],["name","date"],["placeholder","Start Date"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate("start")&&t),t},null,null)),t["\u0275ppd"](11,2),(l()(),t["\u0275eld"](12,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,1,"input",[["class","form-control"],["name","date1"],["placeholder","End Date"],["type","text"]],[[8,"value",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDate("end")&&t),t},null,null)),t["\u0275ppd"](14,2),(l()(),t["\u0275eld"](15,0,null,null,2,"div",[["class","col-sm-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,1,"button",[["class","btn btn-primary m-0"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getLrManifest()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["OK"])),(l()(),t["\u0275eld"](18,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,su)),t["\u0275did"](20,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](21,0,null,1,6,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](22,49152,null,0,k.a,[],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,du)),t["\u0275did"](24,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](25,0,null,0,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,cu)),t["\u0275did"](27,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,20,0,e.user.permission.add),l(n,24,0,null==e.manifestData),l(n,27,0,e.manifestData&&e.manifestData.length>0)},function(l,n){var e=n.component;l(n,1,1,[t["\u0275nov"](n,2).xxsmall,t["\u0275nov"](n,2).xsmall,t["\u0275nov"](n,2).small,t["\u0275nov"](n,2).medium,t["\u0275nov"](n,2).large,t["\u0275nov"](n,2).xlarge,t["\u0275nov"](n,2).xxlarge,t["\u0275nov"](n,2).active,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2).primary,t["\u0275nov"](n,2).info,t["\u0275nov"](n,2).success,t["\u0275nov"](n,2).warning,t["\u0275nov"](n,2).danger,t["\u0275nov"](n,2).hasAccent,t["\u0275nov"](n,2).primaryAccent,t["\u0275nov"](n,2).infoAccent,t["\u0275nov"](n,2).successAccent,t["\u0275nov"](n,2).warningAccent,t["\u0275nov"](n,2).dangerAccent,t["\u0275nov"](n,2).activeAccent,t["\u0275nov"](n,2).disabledAccent]);var a=t["\u0275unv"](n,10,0,l(n,11,0,t["\u0275nov"](n,0),e.startDate,"dd MMM yyyy"));l(n,10,0,a);var o=t["\u0275unv"](n,13,0,l(n,14,0,t["\u0275nov"](n,0),e.endDate,"dd MMM yyyy"));l(n,13,0,o)})}function gu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"view-manifesto",[],null,null,null,pu,ru)),t["\u0275did"](1,114688,null,0,uu,[a.a,F.a,i.a,al.u,al.d],null,null)],function(l,n){l(n,1,0)},null)}var hu=t["\u0275ccf"]("view-manifesto",uu,gu,{},{},[]),mu=e("LoZu"),fu=e("0eg0"),vu=e("H4o8"),bu=e("vXNs"),xu=function(){function l(l,n,e,t,a,o,i){this.api=l,this.common=n,this.datePipe=e,this.user=t,this.route=a,this.modalService=o,this.renderer=i,this.dropDown=[{name:"Pending",id:0},{name:"Complete",id:1}],this.vehicleStatus=0,this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.viewImages=null,this.startDate=new Date((new Date).setDate((new Date).getDate()-15)),this.endDate=new Date}return l.prototype.ngOnInit=function(){},l.prototype.getLorryPodReceipts=function(){var l=this;console.log("status",this.vehicleStatus);var n=new Date(this.common.dateFormatter(this.endDate).split(" ")[0]),e="startDate="+this.common.dateFormatter(this.startDate).split(" ")[0]+"&endDate="+this.common.dateFormatter(n.setDate(n.getDate()+1)).split(" ")[0]+"&status="+this.vehicleStatus;++this.common.loading,this.api.get("LorryReceiptsOperation/getLRPodReceipts?"+e).subscribe(function(n){if(l.common.loading--,l.data=n.data,l.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},l.headings=[],l.valobj={},l.data&&l.data.length){var e=l.data[0];for(var t in e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:l.formatTitle(t),placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}l.table.data.columns=l.getTableColumns()}},function(n){l.common.loading--,console.log(n)})},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.getTableColumns=function(){var l=this,n=[];return console.log("Data=",this.data),this.data.map(function(e){l.valobj={};for(var t=0;t<l.headings.length;t++)console.log("doc index value:",e[l.headings[t]]),l.valobj[l.headings[t]]="Action"==l.headings[t]?{value:"",action:null,html:!0,icons:l.actionIcons(e)}:{value:e[l.headings[t]],class:"black",action:""};n.push(l.valobj)}),n},l.prototype.actionIcons=function(l){var n=[{class:"fa fa-eye",action:this.getPodImage.bind(this,l)}];return this.user.permission.edit&&n.push({class:"fa fa-edit",action:this.openPodDeatilsModal.bind(this,l)}),this.user.permission.delete&&n.push({class:"fa fa-trash",action:this.deleteLr.bind(this,l)}),n},l.prototype.deleteLr=function(l){var n=this,e={podId:l._id};l._id&&(this.common.params={title:"Delete Lr-Pod-Receipt",description:"<b>&nbsp;Are Sure To Delete This Record<b>"},this.modalService.open(ee.a,{size:"sm",container:"nb-layout",backdrop:"static",keyboard:!1,windowClass:"accountModalClass"}).result.then(function(l){l.response&&(n.common.loading++,n.api.post("LorryReceiptsOperation/deleteLrPodDelete",e).subscribe(function(l){n.common.loading--,l.data[0].r_id>0?(n.common.showToast("Successfully Deleted."),n.getLorryPodReceipts()):n.common.showError(l.data[0].r_msg),console.log("res",l.data)},function(l){n.common.loading--,n.common.showError()}))}))},l.prototype.openPodDeatilsModal=function(l){console.log("====podr=====",l);var n={podId:l._id,lrId:l._lrid};console.log("====podDetails=====",n),this.common.params={podDetails:n},this.modalService.open(un.a,{size:"lg",container:"nb-layout",windowClass:"lrpoddetail"}).result.then(function(l){})},l.prototype.getPodImage=function(l){console.log("val",l),l._docid?(this.common.params={refdata:{refid:"",reftype:"",doctype:"",docid:l._docid},title:"docImage"},this.modalService.open(H.a,{size:"lg",container:"nb-layout",windowClass:"imageviewcomp"})):this.common.showError("There is No image")},l}(),yu=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]    .blue{color:#00f;font-weight:700}[_nghost-%COMP%]     .tableFixHead table tr td:last-child div i{font-size:16px;margin-right:8px}[_nghost-%COMP%]     .tableFixHead table tr td:last-child div i.fa-edit{color:#00f}[_nghost-%COMP%]     .tableFixHead table tr td:last-child div i.fa-trash{color:red}"]],data:{}});function Cu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)},function(l,n){l(n,3,0,n.context.$implicit.name)})}function _u(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","mt-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"smart-table",[],null,null,null,S.b,S.a)),t["\u0275did"](2,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,2,0,e.table.data,e.table.settings)},null)}function wu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","alert alert-danger text-center mt-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"h4",[["class","no-record"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["No Record Found"]))],null,null)}function Mu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,31,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Lorry Pod Receipts"])),(l()(),t["\u0275eld"](6,0,null,1,25,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](8,0,null,0,18,"div",[["class","row"],["style","margin-top:10px; margin-bottom:10px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startDate=e)&&t),t},le.b,le.a)),t["\u0275did"](11,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](12,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.endDate=e)&&t),t},le.b,le.a)),t["\u0275did"](14,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],isStart:[1,"isStart"],dateTimeValue:[2,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](15,0,null,null,8,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,7,"select",[["class","form-control"],["id","dropdown"],["name","dropdown"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,17).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,17).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.vehicleStatus=e)&&a),a},null,null)),t["\u0275did"](17,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](19,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](21,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Cu)),t["\u0275did"](23,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](24,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,1,"button",[["class","btn btn-primary m-0"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getLorryPodReceipts()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["submit"])),(l()(),t["\u0275eld"](27,0,null,0,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,_u)),t["\u0275did"](29,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,wu)),t["\u0275did"](31,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](32,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t["\u0275did"](33,212992,null,0,m.r,[m.b,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null)],function(l,n){var e=n.component;l(n,11,0,!1,e.startDate),l(n,14,0,!1,!1,e.endDate),l(n,19,0,"dropdown",e.vehicleStatus),l(n,23,0,e.dropDown),l(n,29,0,e.data&&e.data.length),l(n,31,0,!e.data||!e.data.length),l(n,33,0)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]),l(n,16,0,t["\u0275nov"](n,21).ngClassUntouched,t["\u0275nov"](n,21).ngClassTouched,t["\u0275nov"](n,21).ngClassPristine,t["\u0275nov"](n,21).ngClassDirty,t["\u0275nov"](n,21).ngClassValid,t["\u0275nov"](n,21).ngClassInvalid,t["\u0275nov"](n,21).ngClassPending)})}function Tu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"lr-pod-receipts",[],null,null,null,Mu,yu)),t["\u0275did"](1,114688,null,0,xu,[a.a,F.a,_.DatePipe,i.a,m.a,al.u,t.Renderer],null,null)],function(l,n){l(n,1,0)},null)}var Du=t["\u0275ccf"]("lr-pod-receipts",xu,Tu,{},{},[]),Pu=function(){function l(l,n,e){this.api=l,this.user=n,this.common=e,this.foid=null,this.endDate=new Date,this.startDate=new Date((new Date).setDate(new Date(this.endDate).getDate()-10)),this.table=null,this.data=[],this.foid=this.user._customer.id,console.log("foid",this.foid)}return l.prototype.ngOnInit=function(){},l.prototype.setTable=function(){return{data:{headings:{regno:{title:"Regno",placeholder:"Regno"},first_date:{title:"First Date",placeholder:"First Date"},first_kms:{title:"First Kms",placeholder:"First Kms"},last_date:{title:"Last Date",placeholder:"Last Date"},last_kms:{title:"Last Kms",placeholder:"Last Kms"},dis_diff_FromODO:{title:"disFromODO",placeholder:"disFromODO"},disFromDB:{title:"disFromDB",placeholder:"disFromDB"},diff_percentage:{title:"difference %",placeholder:"difference  %"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}},l.prototype.getTableColumns=function(){var l=this,n=[];return this.data.map(function(e){var t={regno:{value:e.regno},first_date:{value:l.common.changeDateformat2(e.first_date)},first_kms:{value:e.first_kms},last_date:{value:l.common.changeDateformat2(e.last_date)},last_kms:{value:e.last_kms},dis_diff_FromODO:{value:e.dis_diff_FromODO},disFromDB:{value:e.disFromDB},diff_percentage:{value:e.diff_percentage}};n.push(t)}),n},l.prototype.showData=function(){var l=this,n={fromTime:this.common.dateFormatter(this.startDate),tTime:this.common.dateFormatter(this.endDate)};console.log("params",n),this.common.loading++,this.api.post("Vehicles/getDiffBwDistanceByOdoMeter",n).subscribe(function(n){l.data=n.data,l.table=l.setTable(),console.log("data",n),l.common.loading--},function(l){return console.error("Activity Api Error:",l)})},l}(),Ou=t["\u0275crt"]({encapsulation:0,styles:[[".btn-primary[_ngcontent-%COMP%]{border-radius:5px;padding:5px 15px;text-transform:capitalize}"]],data:{}});function ku(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","cardMapping"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function Ru(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,33,"nb-card",[["style","border: 0px; height: 100%;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[["class","toll-soft-recovery"]],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle Distance With Odometer"])),(l()(),t["\u0275eld"](6,0,null,1,27,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](8,0,null,0,22,"div",[["class","Vehicle-distance"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,21,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,20,"div",[["class","col-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,7,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"label",[["class","mt-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["From Date :"])),(l()(),t["\u0275eld"](17,0,null,null,2,"div",[["class","col-8 pl-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startDate=e)&&t),t},le.b,le.a)),t["\u0275did"](19,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](20,0,null,null,7,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,2,"div",[["class","col-3 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,1,"label",[["class","mt-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["To Date :"])),(l()(),t["\u0275eld"](25,0,null,null,2,"div",[["class","col-9 pl-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.endDate=e)&&t),t},le.b,le.a)),t["\u0275did"](27,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],isStart:[1,"isStart"],dateTimeValue:[2,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](28,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.showData()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["submit"])),(l()(),t["\u0275eld"](31,0,null,0,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ku)),t["\u0275did"](33,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,19,0,!1,e.startDate),l(n,27,0,!1,!1,e.endDate),l(n,33,0,e.data&&e.data.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function Iu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"vehicle-distance-with-odometer",[],null,null,null,Ru,Ou)),t["\u0275did"](1,114688,null,0,Pu,[a.a,i.a,F.a],null,null)],function(l,n){l(n,1,0)},null)}var Su=t["\u0275ccf"]("vehicle-distance-with-odometer",Pu,Iu,{},{},[]),Au=e("p7nE"),Fu=function(){function l(l,n){this.api=l,this.common=n,this.endDate=new Date,this.startDate=new Date((new Date).setDate(new Date(this.endDate).getDate()-10)),this.table=null,this.data=[],this.vehid=null}return l.prototype.ngOnInit=function(){},l.prototype.setTable=function(){return{data:{headings:{regno:{title:"regno",placeholder:"regno"},entry_time:{title:"Entry Time",placeholder:"Entry Time"},fuel_station:{title:"fuel Station",placeholder:"fuel Station"},location:{title:"location",placeholder:"location"},site_name:{title:"site name",placeholder:"site name"},litres:{title:"litres",placeholder:"litres"},rate:{title:"rate",placeholder:"rate"},amount:{title:"amount",placeholder:"amount"},is_full:{title:"is_full",placeholder:"is_full"},fse_id:{title:"fse_id",placeholder:"fse_id"},addtime:{title:"addtime",placeholder:"addtime"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}},l.prototype.getTableColumns=function(){var l=this,n=[];return this.data.map(function(e){var t={regno:{value:e.regno},entry_time:{value:l.common.changeDateformat2(e.end_time)},fuel_station:{value:e.fuel_station},location:{value:e.location},site_name:{value:e.site_name},litres:{value:e.litres},rate:{value:e.rate},amount:{value:e.amount},is_full:{value:e.is_full},fse_id:{value:e.fse_id},addtime:{value:l.common.changeDateformat2(e.addtime)}};n.push(t)}),n},l.prototype.searchVehicle=function(l){this.vehid=l.id,console.log("event",l)},l.prototype.submit=function(){var l,n=this;l="start_time="+this.common.dateFormatter(this.startDate)+"&end_time="+this.common.dateFormatter(this.endDate)+"&vehicle_id="+this.vehid,console.log("param",l),this.common.loading++,this.api.get("Fuel/getAllFuelStationEntryWrtVeh?"+l).subscribe(function(l){n.data=l.data,n.table=n.setTable(),console.log("datA",l),n.common.loading--},function(l){console.log(l)})},l}(),Eu=t["\u0275crt"]({encapsulation:0,styles:[["nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}.btn-primary[_ngcontent-%COMP%]{border-radius:5px;padding:5px 15px;text-transform:capitalize}"]],data:{}});function Vu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","cardMapping"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function Lu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,41,"nb-card",[["style","border: 0px; height: 100%;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[["class","toll-soft-recovery"]],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Fuel Station Entry"])),(l()(),t["\u0275eld"](6,0,null,1,35,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](8,0,null,0,30,"div",[["class","Vehicle-distance"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,29,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,28,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,27,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,7,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,6,"div",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,2,"div",[["class","col-4 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle id:"])),(l()(),t["\u0275eld"](17,0,null,null,2,"div",[["class","col-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"auto-suggestion",[["display","regno"],["placeholder","Vehicle Number"],["url","Suggestion/getFoVehicleList"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,19).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==o.searchVehicle(e)&&a),a},Qn.b,Qn.a)),t["\u0275did"](19,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"],preSelected:[3,"preSelected"]},{onSelected:"onSelected"}),(l()(),t["\u0275eld"](20,0,null,null,7,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,6,"div",[["class","row row align-items-center"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,2,"div",[["class","col-4 pl-0 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["From Date :"])),(l()(),t["\u0275eld"](25,0,null,null,2,"div",[["class","col-8 pl-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startDate=e)&&t),t},le.b,le.a)),t["\u0275did"](27,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](28,0,null,null,7,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,6,"div",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,2,"div",[["class","col-3 pr-0 pl-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["To Date :"])),(l()(),t["\u0275eld"](33,0,null,null,2,"div",[["class","col-9"]],null,null,null,null,null)),(l()(),t["\u0275eld"](34,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.endDate=e)&&t),t},le.b,le.a)),t["\u0275did"](35,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],isStart:[1,"isStart"],dateTimeValue:[2,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](36,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](37,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.submit()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["submit"])),(l()(),t["\u0275eld"](39,0,null,0,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Vu)),t["\u0275did"](41,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,19,0,"Suggestion/getFoVehicleList","regno","Vehicle Number",null),l(n,27,0,!1,e.startDate),l(n,35,0,!1,!1,e.endDate),l(n,41,0,e.data&&e.data.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function Nu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"fse-entry",[],null,null,null,Lu,Eu)),t["\u0275did"](1,114688,null,0,Fu,[a.a,F.a],null,null)],function(l,n){l(n,1,0)},null)}var Hu=t["\u0275ccf"]("fse-entry",Fu,Nu,{},{},[]),zu=function(){function l(l,n,e,t,a){this.api=l,this.common=n,this.modalService=e,this.activeModal=t,this.user=a,this.State="1",this.vehicleId=null,this.vehicleRegno=null,this.startTime=new Date((new Date).setMonth((new Date).getMonth()-1)),this.endTime=new Date,this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.common.refresh=this.refresh.bind(this),this.changeState()}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){"1"==this.State?this.changeState():this.search()},l.prototype.changeState=function(){var l=this;if("0"==this.State)return this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],void(this.valobj={});this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={};var n="isSummary="+this.State+"&startTime="+this.common.dateFormatter(this.startTime)+"&endTime="+this.common.dateFormatter(this.endTime);this.common.loading++,this.api.get("Vehicles/showManualKmData?"+n).subscribe(function(n){if(l.common.loading--,console.log("res: ",n.data),n.data){l.data=n.data;var e=l.data[0];for(var t in e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:l.formatTitle(t),placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}var o={title:l.formatTitle("Action"),placeholder:l.formatTitle("Action"),hideHeader:!0};l.table.data.headings.action=o,l.table.data.columns=l.getTableColumns()}},function(n){l.common.loading--,l.common.showError()})},l.prototype.search=function(){var l=this;this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={};var n="vehicleId="+this.vehicleId+"&isSummary="+this.State+"&startTime="+this.common.dateFormatter(this.startTime)+"&endTime="+this.common.dateFormatter(this.endTime);this.common.loading++,this.api.get("Vehicles/showManualKmData?"+n).subscribe(function(n){if(l.common.loading--,console.log("res: ",n.data),l.data=[],n.data){l.data=n.data;var e=l.data[0];for(var t in e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:l.formatTitle(t),placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}var o={title:l.formatTitle("Action"),placeholder:l.formatTitle("Action"),hideHeader:!0};l.table.data.headings.action=o,l.table.data.columns=l.getTableColumns()}},function(n){l.common.loading--,l.common.showError()})},l.prototype.getTableColumns=function(){var l=this,n=[];return this.data.map(function(e){l.valobj={};for(var t=0;t<l.headings.length;t++)l.valobj[l.headings[t]]={value:e[l.headings[t]],class:"black",action:""};l.valobj.action={class:"",icons:l.actionIcons(e)},n.push(l.valobj)}),n},l.prototype.actionIcons=function(l){var n=[];return l._id?this.user.permission.delete&&n.push({class:"fa fa-window-close",action:this.remove.bind(this,l)}):n.push({class:"fa fa-tachometer-alt",action:this.openOdoMeter.bind(this,l)}),n},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.openOdoMeter=function(l){var n=this;this.common.params={vehicleId:l._vid,regno:l.Vehicle},this.modalService.open(ll.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){n.changeState()})},l.prototype.remove=function(l){var n=this,e={id:l._id,vehicleId:l._vid};l._id&&(this.common.params={title:"Delete Route ",description:"<b>&nbsp;Are Sure To Delete This Record<b>"},this.modalService.open(ee.a,{size:"sm",container:"nb-layout",backdrop:"static",keyboard:!1,windowClass:"accountModalClass"}).result.then(function(l){l.response&&(n.common.loading++,n.api.post("Vehicles/deleteOdometerEntry",e).subscribe(function(l){n.common.loading--,n.common.showToast(l.data.r_id>0?"Success":l.data.r_msg),"1"==n.State?n.changeState():n.search()},function(l){n.common.loading--,console.log("Error: ",l)}))}))},l.prototype.getvehicleData=function(l){this.vehicleId=l.id,this.vehicleRegno=l.regno},l.prototype.refreshAuto=function(){var l=document.getElementsByName("suggestion")[0].value;""!=l&&null!=l||(this.vehicleRegno=null,this.vehicleId=null)},l.prototype.resetData=function(l){this.vehicleId=null,console.log(l)},l}(),ju=t["\u0275crt"]({encapsulation:0,styles:[[".pdf-icon[_ngcontent-%COMP%]{font-size:30px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:30px;color:#217346}[_nghost-%COMP%]     .fa-window-close{color:red;font-size:18px}[_nghost-%COMP%]     .fa-window-close span{position:absolute;display:none;padding:10px 28px;font-weight:400;font-size:11px;left:-22px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-window-close span::before{content:'Delete';display:block;position:absolute;top:0;left:0;background-color:red;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-window-close span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid red;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-window-close:hover span{display:block}[_nghost-%COMP%]     .fa-tachometer-alt{color:#ff8099;font-size:18px}[_nghost-%COMP%]     .fa-tachometer-alt span{position:absolute;display:none;padding:10px 35px;font-weight:400;font-size:11px;left:-32px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-tachometer-alt span::before{content:'OdoMeter';display:block;position:absolute;top:0;left:0;background-color:#ff8099;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-tachometer-alt span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #ff8099;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-tachometer-alt:hover span{display:block}"],d.a],data:{}});function Uu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","col-md-2 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"auto-suggestion",[["display","regno"],["placeholder","Enter Vehicle Number"],["style","width:60%;"],["url","Vehicles/getVehicleListForFoid"]],null,[[null,"onSelected"],[null,"change"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,3).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==o.getvehicleData(e)&&a),"change"===n&&(a=!1!==o.resetData(e)&&a),a},Qn.b,Qn.a)),t["\u0275did"](3,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"]},{onSelected:"onSelected"}),(l()(),t["\u0275eld"](4,0,null,null,2,"div",[["class","col-md-2 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startTime=e)&&t),t},le.b,le.a)),t["\u0275did"](6,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](7,0,null,null,2,"div",[["class","col-md-2 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.endTime=e)&&t),t},le.b,le.a)),t["\u0275did"](9,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],isStart:[1,"isStart"],dateTimeValue:[2,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](10,0,null,null,2,"div",[["class","col-md-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"button",[["class","btn btn-primary m-0"],["type","submit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.search()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,[" Search "]))],function(l,n){var e=n.component;l(n,3,0,"Vehicles/getVehicleListForFoid","regno","Enter Vehicle Number"),l(n,6,0,!1,e.startTime),l(n,9,0,!1,!1,e.endTime)},null)}function $u(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","odoMeter"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function qu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,28,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,20,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,18,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","col-9"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle OdoMeter"])),(l()(),t["\u0275eld"](8,0,null,null,14,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,13,"select",[["class","form-control"],["style"," border: 2px solid darkcyan; font-size: 13px"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,10).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,10).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.State=e)&&a),"change"===n&&(a=!1!==o.changeState()&&a),a},null,null)),t["\u0275did"](10,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](12,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](14,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](15,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),t["\u0275did"](16,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](17,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["summary"])),(l()(),t["\u0275eld"](19,0,null,null,3,"option",[["value","0"]],null,null,null,null,null)),t["\u0275did"](20,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](21,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Details"])),(l()(),t["\u0275eld"](23,0,null,1,5,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](24,49152,null,0,k.a,[],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,Uu)),t["\u0275did"](26,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,$u)),t["\u0275did"](28,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,12,0,e.State),l(n,16,0,"1"),l(n,17,0,"1"),l(n,20,0,"0"),l(n,21,0,"0"),l(n,26,0,"0"==e.State),l(n,28,0,e.data&&e.data.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]),l(n,9,0,t["\u0275nov"](n,14).ngClassUntouched,t["\u0275nov"](n,14).ngClassTouched,t["\u0275nov"](n,14).ngClassPristine,t["\u0275nov"](n,14).ngClassDirty,t["\u0275nov"](n,14).ngClassValid,t["\u0275nov"](n,14).ngClassInvalid,t["\u0275nov"](n,14).ngClassPending)})}function Gu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"vehicle-odometer",[],null,null,null,qu,ju)),t["\u0275did"](1,114688,null,0,zu,[a.a,F.a,al.u,al.d,i.a],null,null)],function(l,n){l(n,1,0)},null)}var Bu=t["\u0275ccf"]("vehicle-odometer",zu,Gu,{},{},[]),Wu=e("lrE7"),Ku=function(){function l(l,n,e,t){this.api=l,this.modalService=n,this.user=e,this.common=t,this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.vehicleType=0,this.vehicleStatus=0,this.regno=null,this.dropDown1=[{name:"Self",id:0},{name:"Company",id:1}],this.dropDown2=[{name:"Pending",id:0},{name:"Complete",id:1},{name:"Reject",id:-1},{name:"All",id:-2}],this.endDate=new Date,this.startDate=new Date((new Date).setDate(new Date(this.endDate).getDate()-7)),this.indentType="0",this.apiUrl="Fuel/getPendingFuelIndentWrtFo?",this.getFuelIndent(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getFuelIndent()},l.prototype.getFuelIndent=function(){var l=this;if(this.common.dateFormatter1(this.startDate)>this.common.dateFormatter1(this.endDate))this.common.showError("Start Date should less then End Date");else{this.apiUrl="0"==this.indentType?"Fuel/getPendingFuelIndentWrtFo?":"Fuel/getPendingCashIndentWrtFo?";var n="startdate="+this.common.dateFormatter1(this.startDate)+"&enddate="+this.common.dateFormatter1(this.endDate)+"&addedBy="+this.vehicleType+"&status="+this.vehicleStatus+"&regno="+this.regno;++this.common.loading,this.api.get(this.apiUrl+n).subscribe(function(n){if(--l.common.loading,console.log("API Res:",n),l.data=[],l.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},l.headings=[],l.valobj={},n.data){l.data=n.data;var e=l.data[0];for(var t in e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:l.formatTitle(t),placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}l.table.data.columns=l.getTableColumns()}},function(n){--l.common.loading,l.common.showError(n),console.log("Error: ",n)})}},l.prototype.getTableColumns=function(){var l=this,n=[];return this.data.map(function(e){l.valobj={};for(var t=0;t<l.headings.length;t++)"Action"==l.headings[t]?(console.log("Test"),l.valobj[l.headings[t]]={value:"",action:null,icons:l.actionIcons(e)}):l.valobj[l.headings[t]]={value:e[l.headings[t]],class:"black",action:""};n.push(l.valobj)}),n},l.prototype.actionIcons=function(l){var n=[{class:"fa fa-print",action:this.printReceipt.bind(this,l)}];return this.user.permission.edit&&n.push({class:"fa fa-edit",action:this.editFuelIndent.bind(this,l)}),this.user.permission.delete&&n.push({class:"fa fa-trash",action:this.deleteFuelIndent.bind(this,l)}),n},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.editFuelIndent=function(l){var n=this;console.log("Edit fuel Data",l),this.common.params={title:"Edit Fuel Indent",editFuelData:l,button:"update",index:0,refData:{refType:l._ref_type,refId:l._ref_id}},this.modalService.open(Wu.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){l.response&&n.getFuelIndent()})},l.prototype.deleteFuelIndent=function(l){var n,e=this;n="0"==this.indentType?"Fuel/deleteFuelIndent":"Fuel/deleteCashIndent";var t={rowid:l._id};l._id&&(this.common.params={title:"Delete Indent ",description:"<b>&nbsp;Are Sure To Delete This Record<b>"},this.modalService.open(ee.a,{size:"sm",container:"nb-layout",backdrop:"static",keyboard:!1,windowClass:"accountModalClass"}).result.then(function(l){l.response&&(e.common.loading++,e.api.post(n,t).subscribe(function(l){console.log("Api Response:",l),e.common.showToast(l.msg),e.getFuelIndent(),e.common.loading--},function(l){return console.error(" Api Error:",l)}))}))},l.prototype.addFuelIndent=function(){var l=this;this.common.params={title:"Add Fuel Indent",button:"add",index:0},this.modalService.open(Wu.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(n){n.response&&l.getFuelIndent()})},l.prototype.printReceipt=function(l){console.log("Receipt:",l);var n='\n    <div style="padding: 20px 40px;/* background: #B2B2B2 !important; */width: 90%;margin: auto;margin-top: 30px;border: 2px solid #555;"><div _ngcontent-wbc-c12="" style="\n    background: #fff;\n    padding: 15px;\n"><div style="text-align:center;"><span style="\n    font-size: 35px;\n    font-weight: 600;\n">'+l._fo_name+'</span></div><div _ngcontent-wbc-c12="" style="text-align:center;margin-bottom: 30px;"><span _ngcontent-wbc-c12="" style="\n    font-size: 18px;\n    margin-bottom: 30px;\n">'+l._fo_address+'</span></div><div _ngcontent-wbc-c12="" class="row" style="\n    margin: 10px -15px;\n    font-size: 20px;\n"><div class="col" style="text-align:left"><span _ngcontent-wbc-c12="" style="\n    font-weight: 600;\n    margin-right: 10px;\n">Ref No:</span><span>'+l._ref_id+'</span></div><div _ngcontent-wbc-c12="" class="col" style="text-align:right"><span _ngcontent-wbc-c12="" style="\n    font-weight: 600;\n    margin-right: 0px;\n">Date:</span><span _ngcontent-wbc-c12="" style="\n    border-bottom: 1px solid #000;\n    padding-left: 7px;\n">'+l["Issue Date"]+'</span></div></div><div _ngcontent-wbc-c12="" style="\n    margin-bottom: 10px;\n    font-size: 20px;\n    margin-top: 30px;\n"><span _ngcontent-wbc-c12="" style="\n    font-weight: 600;\n    margin-right: 5px;\n    display: inline-block;\n    width: 30px;\n    /* background: red; */\n">To,</span><span _ngcontent-wbc-c12="" style="\n    border-bottom: 1px solid #000;\n    display: inline-block;\n    width: calc(100% - 40px);\n">'+l["Fuel Station"]+'</span></div><div _ngcontent-wbc-c12="" style="\n    font-size: 20px;\n    margin-top: 30px;\n"><span _ngcontent-wbc-c12="" style="\n    font-weight: 600;\n    margin-right: 5px;\n    display: inline-block;\n    width: 110px;\n    /* background: red; */\n">Vehicle No.</span><span _ngcontent-wbc-c12="" style="\n    border-bottom: 1px solid #000;\n    display: inline-block;\n    width: calc(100% - 115px);\n">'+l.regno+'</span></div><div _ngcontent-wbc-c12="" style="\n    margin-bottom: 15px;\n    padding-left: 115px;\n    font-size: 14px;\n    width: 70%;\n"><span _ngcontent-wbc-c12="">Please Supply to the bearer the following on credit &amp; debit the cost of my/our account:-</span></div><table _ngcontent-wbc-c12="" class="table table-bordered" style="\n    margin-top: 40px;\n    border-color: #000 !important;\n    border-width: 2px;\n"><tbody _ngcontent-wbc-c12="" style="\n    border: none;\n"><tr _ngcontent-wbc-c12="" style="\n    border: none;\n"><td _ngcontent-wbc-c12="" style="\n    border-left: none;\n    border-top-width: 2px;\n    border-bottom-width: 2px;\n    padding-top: 30px;\n    padding-bottom: 30px;\n    border-color: #000 !important;\n"><span _ngcontent-wbc-c12="" style="\n    font-weight: 600;\n    margin-right: 10px;\n">'+(l._ledger_id?"CASH":"FUEL")+':</span><span _ngcontent-wbc-c12="" style="\n    display: inline-block;\n    width: 80%;\n    padding-left: 10px;\n">'+(l._ledger_id?"\u20b9"+l.Amount:l.Fuel+" ltr")+'</span></td><td _ngcontent-wbc-c12="" style="\n    border-top-width: 2px;\n    border-bottom-width: 2px;\n    border-color: #000 !important;\n"><span _ngcontent-wbc-c12=""></span></td></tr></tbody></table><div _ngcontent-wbc-c12="" class="row" style="\n    margin-top: 80px;\n    font-size: 16px;\n    font-weight: bold;\n"><div _ngcontent-wbc-c12="" class="col"><span _ngcontent-wbc-c12="">Sign. of Driver</span></div><div _ngcontent-wbc-c12="" class="col" style="\n    text-align: right;\n"><span _ngcontent-wbc-c12="">Signature with Stamp</span></div></div></div>\n    </div>\n    ',e=document.createElement("div");e.id="print-receipt",e.className="print-receipt",e.innerHTML=n,e.style.left="0",e.style.position="absolute",e.style.top="0",e.style.width="100%",e.style.height="100%",e.style.backgroundColor="#fff",e.style.zIndex="9999999999999999999999",document.body.appendChild(e),document.getElementsByTagName("ngx-app")[0].style.visibility="hidden",window.print();var t=setInterval(function(){if("complete"==document.readyState){clearInterval(t),document.getElementsByTagName("ngx-app")[0].style.visibility="visible";var l=document.getElementsByTagName("body")[0],n=document.getElementById("print-receipt");l.removeChild(n)}},200)},l}(),Ju=t["\u0275crt"]({encapsulation:0,styles:[['.add[_ngcontent-%COMP%]{content:"\\f040";display:block;font-family:FontAwesome;font-size:14px;color:#00f}.fuel-indent[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:3px;padding:5px;text-transform:capitalize}[_nghost-%COMP%]     .fa-edit{color:#00f;font-size:18px}[_nghost-%COMP%]     .fa-edit span{position:absolute;display:none;padding:10px 28px;font-weight:400;font-size:11px;left:-22px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-edit span::before{content:"Edit";display:block;position:absolute;top:0;left:0;background-color:#00f;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-edit span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #00f;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-edit:hover span{display:block}[_nghost-%COMP%]     .fa-trash{color:red;font-size:18px}[_nghost-%COMP%]     .fa-trash span{position:absolute;display:none;padding:10px 28px;font-weight:400;font-size:11px;left:-22px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-trash span::before{content:"Delete";display:block;position:absolute;top:0;left:0;background-color:red;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-trash span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid red;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-trash:hover span{display:block}[_nghost-%COMP%]     .fa-print{color:#000;font-size:18px}[_nghost-%COMP%]     .fa-print span{position:absolute;display:none;padding:10px 28px;font-weight:400;font-size:11px;left:-22px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-print span::before{content:"Print";display:block;position:absolute;top:0;left:0;background-color:#000;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-print span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #000;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-print:hover span{display:block}']],data:{}});function Yu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)},function(l,n){l(n,3,0,n.context.$implicit.name)})}function Zu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)},function(l,n){l(n,3,0,n.context.$implicit.name)})}function Qu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-primary w-100"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addFuelIndent()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Add"]))],null,null)}function Xu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","fuelIndent"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function lr(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,64,"nb-card",[["style","border: 0px; height: 100%;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,4,"nb-card-header",[["class","fuel-indent"]],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Fuel/Cash Indent"])),(l()(),t["\u0275eld"](7,0,null,1,57,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](8,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](9,0,null,0,52,"div",[["class","fuel-indent"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,51,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,2,"div",[["class","col-1 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Start Date"])),(l()(),t["\u0275eld"](14,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"uj-date-time-picker",[["class",""]],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startDate=e)&&t),t},le.b,le.a)),t["\u0275did"](16,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](17,0,null,null,2,"div",[["class","col-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["End Date"])),(l()(),t["\u0275eld"](20,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,1,"uj-date-time-picker",[["class",""]],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.endDate=e)&&t),t},le.b,le.a)),t["\u0275did"](22,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],isStart:[1,"isStart"],dateTimeValue:[2,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](23,0,null,null,14,"div",[["class","col-1-5 mr-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,13,"select",[["class","form-control"],["id","indentType"],["name","indentType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,25).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,25).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.indentType=e)&&a),a},null,null)),t["\u0275did"](25,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](27,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](29,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](30,0,null,null,3,"option",[["name","fuelIndent"]],null,null,null,null,null)),t["\u0275did"](31,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](32,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,[" Fuel-Indent "])),(l()(),t["\u0275eld"](34,0,null,null,3,"option",[["name","cashIndent"]],null,null,null,null,null)),t["\u0275did"](35,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](36,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,[" Cash-Indent "])),(l()(),t["\u0275eld"](38,0,null,null,8,"div",[["class","col-1-5 mr-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](39,0,null,null,7,"select",[["class","form-control"],["id","dropDown"],["name","dropDown"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,40).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,40).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.vehicleType=e)&&a),a},null,null)),t["\u0275did"](40,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](42,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](44,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Yu)),t["\u0275did"](46,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](47,0,null,null,8,"div",[["class","col-1-5 mr-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](48,0,null,null,7,"select",[["class","form-control"],["id","dropdown"],["name","dropdown"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,49).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,49).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.vehicleStatus=e)&&a),a},null,null)),t["\u0275did"](49,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](51,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](53,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Zu)),t["\u0275did"](55,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](56,0,null,null,2,"div",[["class","col-1 pr-0 pl-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](57,0,null,null,1,"button",[["class","btn btn-primary w-100"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getFuelIndent()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["submit"])),(l()(),t["\u0275eld"](59,0,null,null,2,"div",[["class","col-1"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Qu)),t["\u0275did"](61,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](62,0,null,0,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Xu)),t["\u0275did"](64,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,16,0,!1,e.startDate),l(n,22,0,!1,!1,e.endDate),l(n,27,0,"indentType",e.indentType),l(n,31,0,0),l(n,32,0,0),l(n,35,0,1),l(n,36,0,1),l(n,42,0,"dropDown",e.vehicleType),l(n,46,0,e.dropDown1),l(n,51,0,"dropdown",e.vehicleStatus),l(n,55,0,e.dropDown2),l(n,61,0,e.user.permission.add),l(n,64,0,e.data&&e.data.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]),l(n,24,0,t["\u0275nov"](n,29).ngClassUntouched,t["\u0275nov"](n,29).ngClassTouched,t["\u0275nov"](n,29).ngClassPristine,t["\u0275nov"](n,29).ngClassDirty,t["\u0275nov"](n,29).ngClassValid,t["\u0275nov"](n,29).ngClassInvalid,t["\u0275nov"](n,29).ngClassPending),l(n,39,0,t["\u0275nov"](n,44).ngClassUntouched,t["\u0275nov"](n,44).ngClassTouched,t["\u0275nov"](n,44).ngClassPristine,t["\u0275nov"](n,44).ngClassDirty,t["\u0275nov"](n,44).ngClassValid,t["\u0275nov"](n,44).ngClassInvalid,t["\u0275nov"](n,44).ngClassPending),l(n,48,0,t["\u0275nov"](n,53).ngClassUntouched,t["\u0275nov"](n,53).ngClassTouched,t["\u0275nov"](n,53).ngClassPristine,t["\u0275nov"](n,53).ngClassDirty,t["\u0275nov"](n,53).ngClassValid,t["\u0275nov"](n,53).ngClassInvalid,t["\u0275nov"](n,53).ngClassPending)})}function nr(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"fuel-indent",[],null,null,null,lr,Ju)),t["\u0275did"](1,114688,null,0,Ku,[a.a,al.u,i.a,F.a],null,null)],function(l,n){l(n,1,0)},null)}var er=t["\u0275ccf"]("fuel-indent",Ku,nr,{},{},[]),tr=e("IAms"),ar=e("R++u"),or=e("ioEQ"),ir=e("dgDc"),ur=e("wcs7"),rr=function(){function l(l,n,e,t){this.modalService=l,this.common=n,this.user=e,this.api=t,this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.currentYear=(new Date).getFullYear(),this.startDate=new Date(this.currentYear,3),this.endDate=new Date,this.getFrieghtRate(),this.common.refresh=this.refresh.bind(this),console.log("current Year",this.startDate)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getFrieghtRate()},l.prototype.getFrieghtRate=function(){var l=this;if(this.startDate>this.endDate)this.common.showError("StartDate Should be less then Enddate");else{var n={startDate:this.common.dateFormatter(this.startDate),endDate:this.common.dateFormatter(this.endDate)};this.common.loading++,this.api.post("FrieghtRate/getFrieghtRatePattern",n).subscribe(function(n){if(l.common.loading--,console.log("res: ",n.data),l.data=[],n.data){l.data=n.data,l.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}};var e=l.data[0];for(var t in e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:l.formatTitle(t),placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}var o={title:l.formatTitle("withLocation"),placeholder:l.formatTitle("withLocation"),hideHeader:!0};l.table.data.headings.withLocation=o;var i={title:l.formatTitle("withoutLocation"),placeholder:l.formatTitle("withoutLocation"),hideHeader:!0};l.table.data.headings.withoutLocation=i,l.table.data.columns=l.getTableColumns()}},function(n){l.common.loading--,l.common.showError()})}},l.prototype.getTableColumns=function(){var l=this,n=[];return console.log("Data=",this.data),this.data.map(function(e){l.valobj={};for(var t=0;t<l.headings.length;t++)l.valobj[l.headings[t]]={value:e[l.headings[t]],class:"black",action:""};l.valobj.withLocation={class:"",icons:l.withLocationicon(e)},l.valobj.withoutLocation={class:"",icons:l.withOutLocationicon(e)},n.push(l.valobj)}),n},l.prototype.withLocationicon=function(l){console.log("detatis Page:",l);var n=[];return n.push({class:"addButton",action:this.openWithLocationModal.bind(this,l)},{class:"fa fa-eye ml-1",action:this.frieghtRateSummary.bind(this,l)}),n},l.prototype.withOutLocationicon=function(l){console.log("detatis Page:",l);var n=[];return n.push({class:"addButton",action:this.openWithoutLocationModal.bind(this,l)}),n},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.openWithoutLocationModal=function(l){var n=this;console.log("row",l),this.common.params={data:{frpId:l._id,locId:!1}},console.log("without location"),this.modalService.open(tr.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){l&&l.response&&n.getFrieghtRate()})},l.prototype.frieghtRateSummary=function(l){var n=this;console.log("row",l),this.common.params={id:l._id},this.modalService.open(ur.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){l&&l.response&&n.getFrieghtRate()})},l.prototype.openWithLocationModal=function(l){var n=this;console.log("row",l);var e=l._id;console.log("with location",e),this.common.params={id:e},this.modalService.open(ar.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){l&&l.response&&n.getFrieghtRate()})},l.prototype.OpenFoFreight=function(){var l=this;this.common.handleModalSize("class","modal-lg","400"),this.modalService.open(or.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(n){n&&n.data&&l.getFrieghtRate()})},l.prototype.freightRateCalculation=function(){this.modalService.open(ir.a,{size:"lg",container:"nb-layout",backdrop:"static"})},l}(),sr=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]     .addButton{margin:5px 0;display:inline-block;font-style:normal}[_nghost-%COMP%]     .addButton::before{content:'Add';background-color:#128cc4;border-radius:3px;padding:5px 10px;color:#fff;width:100%;font-size:12px;margin:0!important}"],d.a],data:{}});function dr(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.OpenFoFreight()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Add"]))],null,null)}function cr(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","frieghtRateInput"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function pr(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,28,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,22,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,20,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Freight Rate Inputs"])),(l()(),t["\u0275eld"](8,0,null,null,16,"div",[["class","col-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,15,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startDate=e)&&t),t},le.b,le.a)),t["\u0275did"](12,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](13,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.endDate=e)&&t),t},le.b,le.a)),t["\u0275did"](15,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],isStart:[1,"isStart"],dateTimeValue:[2,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](16,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getFrieghtRate()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Search"])),(l()(),t["\u0275eld"](19,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,dr)),t["\u0275did"](21,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](22,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.freightRateCalculation()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Freight Rate Calculation"])),(l()(),t["\u0275eld"](25,0,null,1,3,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](26,49152,null,0,k.a,[],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,cr)),t["\u0275did"](28,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,12,0,!1,e.startDate),l(n,15,0,!1,!1,e.endDate),l(n,21,0,e.user.permission.add),l(n,28,0,e.data&&e.data.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function gr(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"frieght-rate-input",[],null,null,null,pr,sr)),t["\u0275did"](1,114688,null,0,rr,[al.u,F.a,i.a,a.a],null,null)],function(l,n){l(n,1,0)},null)}var hr=t["\u0275ccf"]("frieght-rate-input",rr,gr,{},{},[]),mr=e("2L9r"),fr=e("pl/H"),vr=e("edw2"),br=function(){function l(l,n,e,t){this.api=l,this.common=n,this.user=e,this.modalService=t,this.status=[{name:"accept",id:"1"},{name:"pending",id:"0"},{name:"Reject",id:"-1"}],this.type=[{name:"LR",id:"11"},{name:"Manifest",id:"12"},{name:"Trip",id:"14"},{name:"Any",id:"-1"}],this.actionTypes=[{name:"Any",id:"-1"},{name:"Expense",id:"1"},{name:"Revenue",id:"2"},{name:"Transfer",id:"3"},{name:"Advice",id:"4"}],this.statusid=1,this.Typeid=-1,this.actionTypeId=-1,this.startTime=new Date((new Date).setDate((new Date).getDate()-15)),this.endTime=new Date,this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.getExpenses(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.getSelection=function(){},l.prototype.refresh=function(){this.getExpenses()},l.prototype.getExpenses=function(){var l=this,n=new Date(this.common.dateFormatter1(this.endTime).split(" ")[0]),e={startTime:this.common.dateFormatter1(this.startTime).split(" ")[0],endTime:this.common.dateFormatter1(n.setDate(n.getDate()+1)).split(" ")[0],status:this.statusid,type:this.Typeid,actionType:this.actionTypeId};++this.common.loading,this.api.post("FrieghtRate/getAllFreightExpenseAndRevenue",e).subscribe(function(n){if(--l.common.loading,l.data=n.data,l.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},l.headings=[],l.valobj={},l.data&&l.data.length){var e=l.data[0];for(var t in e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:l.formatTitle(t),placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}l.table.data.columns=l.getTableColumns()}},function(n){console.error(n),l.common.showError()})},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.getTableColumns=function(){var l=this,n=[];return console.log("Data=",this.data),this.data.map(function(e){l.valobj={};for(var t=0;t<l.headings.length;t++)l.valobj[l.headings[t]]="Expense"==l.headings[t]?{value:"",action:null,isHTML:!1,icons:[l.user.permission.edit&&{class:"fa fa-edit",action:l.openExpenseModal.bind(l,e)},{action:null,txt:e._exp_count}]}:"Revenue"==l.headings[t]?{value:"",action:null,isHTML:!1,icons:[l.user.permission.edit&&{class:"fa fa-edit",action:l.openRevenueModal.bind(l,e)},{action:null,txt:e._rev_count}]}:"Transfer"==l.headings[t]?{value:"",action:null,isHTML:!1,icons:[l.user.permission.edit&&{class:"fa fa-edit",action:l.openTransferReceipt.bind(l,e)},{action:null,txt:e._trans_count}]}:"Advice"==l.headings[t]?{value:"",action:null,isHTML:!1,icons:[l.user.permission.edit&&{class:"fa fa-edit",action:l.openadvice.bind(l,e)},{action:null,txt:e._adv_count}]}:{value:e[l.headings[t]],class:"black",action:""};n.push(l.valobj)}),n},l.prototype.openExpenseModal=function(l){var n=this,e={id:l._id,refId:l._ref_id,refernceType:l._ref_type,remarks:l._exp_remarks};console.log("expense",l),this.common.params={expenseData:e},this.modalService.open(an.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){console.log("Data:",l),n.getExpenses()})},l.prototype.openRevenueModal=function(l){var n=this;this.common.params={revenueData:{id:l._id,refId:l._ref_id,refernceType:l._ref_type,remarks:l._exp_remarks}},this.modalService.open(on.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){n.getExpenses()})},l.prototype.openTransferReceipt=function(l){var n=this;console.log("transfer",l),this.common.params={refData:{refId:l._ref_id,refType:l._ref_type}},this.modalService.open(fr.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){n.getExpenses()})},l.prototype.openadvice=function(l){var n=this;this.common.handleModalSize("class","modal-lg","900","px"),this.common.params={refData:{refId:l._ref_id,refType:l._ref_type}},this.modalService.open(vr.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){n.getExpenses()})},l}(),xr=t["\u0275crt"]({encapsulation:0,styles:[[".submit-exp[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 15px;text-transform:capitalize;border-radius:3px}[_nghost-%COMP%]     .tableFixHead table thead tr th:nth-last-child(1), [_nghost-%COMP%]     .tableFixHead table thead tr th:nth-last-child(2), [_nghost-%COMP%]     .tableFixHead table thead tr th:nth-last-child(3), [_nghost-%COMP%]     .tableFixHead table thead tr th:nth-last-child(4){width:80px}[_nghost-%COMP%]     .tableFixHead table tbody tr td div i{font-size:16px;margin-right:8px}[_nghost-%COMP%]     .tableFixHead table tbody tr td div i.fa-edit{color:#04a9f5}[_nghost-%COMP%]     .tableFixHead table tbody tr td div i.fa-edit span{position:absolute;display:none;padding:10px 22px;font-size:11px;font-weight:400;left:-12px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .tableFixHead table tbody tr td div i.fa-edit span::before{content:'Save';display:block;position:absolute;top:0;left:0;background-color:#04a9f5;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .tableFixHead table tbody tr td div i.fa-edit span:after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #04a9f5;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     .tableFixHead table tbody tr td div i.fa-edit:hover span{display:block}"]],data:{}});function yr(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)},function(l,n){l(n,3,0,n.context.$implicit.name)})}function Cr(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)},function(l,n){l(n,3,0,n.context.$implicit.name)})}function _r(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","mt-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"smart-table",[],null,null,null,S.b,S.a)),t["\u0275did"](2,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,2,0,e.table.data,e.table.settings)},null)}function wr(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","alert alert-danger text-center mt-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"h4",[["class","no-record"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["No Record Found"]))],null,null)}function Mr(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,39,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Frieght Expenses/Revenue"])),(l()(),t["\u0275eld"](6,0,null,1,33,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](8,0,null,0,27,"div",[["class","row submit-exp"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","col-sm-2 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startTime=e)&&t),t},le.b,le.a)),t["\u0275did"](11,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](12,0,null,null,2,"div",[["class","col-sm-2 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.endTime=e)&&t),t},le.b,le.a)),t["\u0275did"](14,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],isStart:[1,"isStart"],dateTimeValue:[2,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](15,0,null,null,8,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,7,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,17).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,17).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.Typeid=e)&&a),a},null,null)),t["\u0275did"](17,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](19,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](21,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,yr)),t["\u0275did"](23,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](24,0,null,null,8,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,7,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,26).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,26).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.actionTypeId=e)&&a),a},null,null)),t["\u0275did"](26,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](28,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](30,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Cr)),t["\u0275did"](32,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](33,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](34,0,null,null,1,"button",[["class","btn btn-primary m-0"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getExpenses()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["submit"])),(l()(),t["\u0275and"](16777216,null,0,1,null,_r)),t["\u0275did"](37,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,wr)),t["\u0275did"](39,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](40,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t["\u0275did"](41,212992,null,0,m.r,[m.b,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null)],function(l,n){var e=n.component;l(n,11,0,!1,e.startTime),l(n,14,0,!1,!1,e.endTime),l(n,19,0,e.Typeid),l(n,23,0,e.type),l(n,28,0,e.actionTypeId),l(n,32,0,e.actionTypes),l(n,37,0,e.data&&e.data.length),l(n,39,0,!e.data||!e.data.length),l(n,41,0)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]),l(n,16,0,t["\u0275nov"](n,21).ngClassUntouched,t["\u0275nov"](n,21).ngClassTouched,t["\u0275nov"](n,21).ngClassPristine,t["\u0275nov"](n,21).ngClassDirty,t["\u0275nov"](n,21).ngClassValid,t["\u0275nov"](n,21).ngClassInvalid,t["\u0275nov"](n,21).ngClassPending),l(n,25,0,t["\u0275nov"](n,30).ngClassUntouched,t["\u0275nov"](n,30).ngClassTouched,t["\u0275nov"](n,30).ngClassPristine,t["\u0275nov"](n,30).ngClassDirty,t["\u0275nov"](n,30).ngClassValid,t["\u0275nov"](n,30).ngClassInvalid,t["\u0275nov"](n,30).ngClassPending)})}function Tr(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"freight-expenses",[],null,null,null,Mr,xr)),t["\u0275did"](1,114688,null,0,br,[a.a,F.a,i.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var Dr=t["\u0275ccf"]("freight-expenses",br,Tr,{},{},[]),Pr=e("jAKp"),Or=e("RZbU"),kr=e("7xJQ"),Rr=function(){function l(l,n,e,t,a){this.api=l,this.common=n,this.modalService=e,this.activeModal=t,this.user=a,this.stateType=0,this.startTime=new Date((new Date).setDate((new Date).getDate()-7)),this.endTime=new Date,this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.common.refresh=this.refresh.bind(this),this.searchData()}return l.prototype.refresh=function(){this.searchData()},l.prototype.ngOnInit=function(){},l.prototype.selectType=function(l){console.log("type:",l.target.value),this.stateType=l.target.value},l.prototype.searchData=function(){var l=this;this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={};var n={status:this.stateType,startTime:this.common.dateFormatter(this.startTime),endTime:this.common.dateFormatter(this.endTime)};this.common.loading++,this.api.post("Drivers/getAdvicesInPeriod",n).subscribe(function(n){if(l.common.loading--,l.data=[],n.data){l.data=n.data;var e=l.data[0];for(var t in e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:l.formatTitle(t),placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}var o={title:l.formatTitle("Action"),placeholder:l.formatTitle("Action"),hideHeader:!0};l.table.data.headings.action=o,l.table.data.columns=l.getTableColumns()}},function(n){l.common.loading--,l.common.showError()})},l.prototype.getTableColumns=function(){var l=this,n=[];return this.data.map(function(e){l.valobj={};for(var t=0;t<l.headings.length;t++)l.valobj[l.headings[t]]={value:e[l.headings[t]],class:"black",action:""};l.valobj.action={class:"",icons:l.actionIcons(e)},n.push(l.valobj)}),n},l.prototype.actionIcons=function(l){console.log("details:",l);var n=[];return n.push({class:"far fa-eye",action:this.adviceView.bind(this,l)},{class:"fas fa-user-check",action:this.clearAdvices.bind(this,l)}),"Accept"!=l.Status&&"Reject"!=l.Status||n.pop(),n},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.saveAdvices=function(){var l=this;this.common.params={refData:null},this.common.handleModalSize("class","modal-lg","1100"),this.modalService.open(vr.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(n){l.searchData()})},l.prototype.clearAdvices=function(l){var n=this,e={id:l._id,typeId:l._advice_type_id};console.log("row:",e),this.common.params={advice:e},this.modalService.open(Or.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(l){n.searchData()})},l.prototype.adviceView=function(l){var n={view:{api:"Drivers/getAdvicesSingleVehicle",param:{vId:l._vid,test1:1,test2:"Hello"}},delete:{},title:"Advices View"};this.common.handleModalSize("class","modal-lg","1100"),this.common.params={data:n},this.modalService.open(kr.a,{size:"lg",container:"nb-layout",backdrop:"static"})},l}(),Ir=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]     .fa-eye{color:red;font-size:18px;cursor:pointer}[_nghost-%COMP%]     .fa-eye span{position:absolute;display:none;padding:10px 28px;font-weight:400;font-size:11px;left:-22px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-eye span::before{content:'View';display:block;position:absolute;top:0;left:0;background-color:red;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-eye span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid red;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-eye:hover span{display:block}[_nghost-%COMP%]     .fa-user-check{color:#8af304;font-size:18px;padding-left:20px;cursor:pointer}[_nghost-%COMP%]     .fa-user-check span{position:absolute;display:none;padding:10px 38px;font-weight:400;font-size:11px;left:-22px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-user-check span::before{content:'AddVerify';display:block;position:absolute;top:0;left:0;background-color:#8af304;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-user-check span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #8af304;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-user-check:hover span{display:block}"],d.a],data:{}});function Sr(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-primary mt-0 mb-0"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveAdvices()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Add"]))],null,null)}function Ar(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","advices"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function Fr(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,41,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Advices"])),(l()(),t["\u0275eld"](6,0,null,1,35,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](8,0,null,0,30,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,17,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,16,"select",[["class","form-control"],["style"," border: 2px solid darkcyan; font-size: 13px"]],null,[[null,"[ngModel]"],[null,"change"]],function(l,n,e){var t=!0,a=l.component;return"[ngModel]"===n&&(t=!1!==a.stateType&&t),"change"===n&&(t=!1!==a.selectType(e)&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,3,"option",[["value","0"]],null,null,null,null,null)),t["\u0275did"](12,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](13,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Pending"])),(l()(),t["\u0275eld"](15,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),t["\u0275did"](16,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](17,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Accept"])),(l()(),t["\u0275eld"](19,0,null,null,3,"option",[["value","-1"]],null,null,null,null,null)),t["\u0275did"](20,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](21,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Reject"])),(l()(),t["\u0275eld"](23,0,null,null,3,"option",[["value","-2"]],null,null,null,null,null)),t["\u0275did"](24,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](25,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Any"])),(l()(),t["\u0275eld"](27,0,null,null,2,"div",[["class","col-2 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](28,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startTime=e)&&t),t},le.b,le.a)),t["\u0275did"](29,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](30,0,null,null,2,"div",[["class","col-2 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.endTime=e)&&t),t},le.b,le.a)),t["\u0275did"](32,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],isStart:[1,"isStart"],dateTimeValue:[2,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](33,0,null,null,2,"div",[["class","col-2 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](34,0,null,null,1,"button",[["class","btn btn-primary mt-0 mb-0"],["type","submit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.searchData()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Search"])),(l()(),t["\u0275eld"](36,0,null,null,2,"div",[["class","col-2 "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Sr)),t["\u0275did"](38,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](39,0,null,0,2,"div",[["class","mt-3"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ar)),t["\u0275did"](41,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,12,0,"0"),l(n,13,0,"0"),l(n,16,0,"1"),l(n,17,0,"1"),l(n,20,0,"-1"),l(n,21,0,"-1"),l(n,24,0,"-2"),l(n,25,0,"-2"),l(n,29,0,!1,e.startTime),l(n,32,0,!1,!1,e.endTime),l(n,38,0,e.user.permission.add),l(n,41,0,e.data&&e.data.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function Er(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"advices",[],null,null,null,Fr,Ir)),t["\u0275did"](1,114688,null,0,Rr,[a.a,F.a,al.u,al.d,i.a],null,null)],function(l,n){l(n,1,0)},null)}var Vr=t["\u0275ccf"]("advices",Rr,Er,{},{},[]),Lr=e("Q+lQ"),Nr=e("tkEC"),Hr=e("rBa8"),zr=e("Sg9u"),jr=e("2M/P"),Ur=function(){function l(l,n,e,t,a){this.api=l,this.common=n,this.datePipe=e,this.user=t,this.modalService=a,this.startTime=new Date((new Date).setDate((new Date).getDate()-7)),this.endTime=new Date,this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.viewFreightInvoice(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.viewFreightInvoice()},l.prototype.viewFreightInvoice=function(){var l=this;if(this.startTime&&this.endTime){var n={startTime:this.common.dateFormatter(this.startTime),endTime:this.common.dateFormatter(this.endTime)};console.log("params",n),++this.common.loading,this.api.post("FrieghtRate/getInvoices",n).subscribe(function(n){if(--l.common.loading,l.data=[],l.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},l.headings=[],l.valobj={},n.data){l.data=n.data;var e=l.data[0];for(var t in e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:l.formatTitle(t),placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}l.table.data.columns=l.getTableColumns()}},function(n){--l.common.loading,l.common.showError(n),console.log("Error: ",n)})}else this.common.showError("Dates cannot be blank.")},l.prototype.getTableColumns=function(){var l=this,n=[];return console.log("Data=",this.data),this.data.map(function(e){l.valobj={};for(var t=0;t<l.headings.length;t++)console.log("doc index value:",e[l.headings[t]]),l.valobj[l.headings[t]]={value:e[l.headings[t]],class:"black",action:""};l.valobj["Follow Up"]={class:"",icons:l.invoiceIcon(e)},l.valobj.Action={class:"",icons:l.actionIcon(e)},n.push(l.valobj)}),n},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.actionIcon=function(l){var n=[];return l._islocked||(n.push({class:"far fa-eye",action:this.lrAssign.bind(this,l)}),this.user.permission.edit&&n.push({class:"far fa-edit",action:this.invoice.bind(this,"Edit",l)}),this.user.permission.delete&&n.push({class:"fas fa-trash-alt",action:this.deleteRow.bind(this,l)})),l._lrcount>0&&n.push({class:"fas fa-print",action:this.printInvoice.bind(this,l,l._invtype)},{class:"far fa-file",action:this.supportDoc.bind(this,l,l._invtype)},{class:"fa fa-inr",action:this.openFreightRateModal.bind(this,l,1)}),n},l.prototype.invoiceIcon=function(l){var n=[];return 1==l._invtype&&l._lrcount>0&&n.push({class:"fa fa-plus",action:this.invoice.bind(this,"add",l,2)},{class:"fa fa-plus",action:this.invoice.bind(this,"add",l,3)}),n},l.prototype.deleteRow=function(l){var n=this;console.log("row:",l);var e={id:l._id};l._id&&(this.common.params={title:"Delete  ",description:"<b>&nbsp;Are Sure To Delete This Record<b>"},this.modalService.open(ee.a,{size:"sm",container:"nb-layout",backdrop:"static",keyboard:!1,windowClass:"accountModalClass"}).result.then(function(l){l.response&&(n.common.loading++,n.api.post("FrieghtRate/deleteInvoices",e).subscribe(function(l){n.common.loading--,l.data[0].r_id?(n.common.showToast("Deleted successfully"),n.viewFreightInvoice()):n.common.showError(l.data[0].r_msg)},function(l){n.common.loading--,console.log("Error: ",l)}))}))},l.prototype.lrAssign=function(l){var n=this;this.common.handleModalSize("class","modal-lg","1300"),this.common.params={row:l},this.modalService.open(Nr.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){console.log("Date:",l),l&&n.viewFreightInvoice()})},l.prototype.invoice=function(l,n,e){var t=this;this.common.params={invoiceDetail:{id:!!n&&n._id,type:e||1,title:l}},this.modalService.open(Lr.a,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"print-lr"}).result.then(function(l){console.log("Date:",l),t.viewFreightInvoice()})},l.prototype.printInvoice=function(l,n){this.common.params={previewData:{title:"Invoice",previewId:null,refId:l._id,refType:"FRINV"}},console.log("invoice",l),this.modalService.open(dn.a,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"print-lr-manifest print-lr"}).result.then(function(l){console.log("Date:",l)})},l.prototype.supportDoc=function(l,n){this.common.params={invoice:{id:l._id,type:n,typeId:l._invtype_id}},this.modalService.open(zr.a,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"print-lr"}).result.then(function(l){console.log("Date:",l)})},l.prototype.lrInvoice=function(){this.modalService.open(Hr.a,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"print-lr"}).result.then(function(l){console.log("Date:",l)})},l.prototype.addFoField=function(){this.modalService.open(Wi.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){console.log("Data:",l)})},l.prototype.openFreightRateModal=function(l,n){var e=this;this.common.params={invoice:{id:l._id,parentId:l._parentid}},this.modalService.open(jr.a,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"print-lr"}).result.then(function(l){console.log("Date:",l),e.viewFreightInvoice()})},l}(),$r=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]     .tableFixHead table tr td i{width:18px;text-align:center;margin:4px}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-eye{color:red;font-size:18px;cursor:pointer}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-eye span{position:absolute;display:none;padding:10px 22px;font-weight:400;font-size:11px;left:-8px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-eye span::before{content:'View';display:block;position:absolute;top:0;left:0;background-color:red;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-eye span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid red;position:absolute;bottom:-5px;right:16px}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-eye:hover span{display:block}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-trash-alt{color:#f53004;font-size:18px;cursor:pointer}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-trash-alt span{position:absolute;display:none;padding:10px 28px;font-weight:400;font-size:11px;left:-12px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-trash-alt span::before{content:'Delete';display:block;position:absolute;top:0;left:0;background-color:#f53004;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-trash-alt span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #f53004;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-trash-alt:hover span{display:block}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-print{color:#773fff;font-size:18px;cursor:pointer}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-print span{position:absolute;display:none;padding:10px 26px;font-weight:400;font-size:11px;left:-14px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-print span::before{content:'Print';display:block;position:absolute;top:0;left:0;background-color:#773fff;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-print span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #773fff;position:absolute;bottom:-5px;right:18px}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-print:hover span{display:block}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-inr{color:#ea3fff;font-size:18px;cursor:pointer}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-inr span{position:absolute;display:none;padding:10px 26px;font-weight:400;font-size:11px;left:-14px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-inr span::before{content:'Rate';display:block;position:absolute;top:0;left:0;background-color:#ea3fff;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-inr span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #ea3fff;position:absolute;bottom:-5px;right:18px}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-inr:hover span{display:block}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-edit{color:#000;font-size:18px;cursor:pointer}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-edit span{position:absolute;display:none;padding:10px 22px;font-weight:400;font-size:11px;left:-14px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-edit span::before{content:'Edit';display:block;position:absolute;top:0;left:0;background-color:#000;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-edit span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #000;position:absolute;bottom:-5px;right:14px}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-edit:hover span{display:block}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-file{color:#000;font-size:18px;cursor:pointer}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-file span{position:absolute;display:none;padding:10px 42px;font-weight:400;font-size:11px;left:-40px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-file span::before{content:'Support Doc';display:block;position:absolute;top:0;left:0;background-color:#000;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-file span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #000;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-file:hover span{display:block}nb-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px;border-radius:3px;text-transform:capitalize;width:100%}"],d.a],data:{}});function qr(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-primary m-0"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.invoice("Add",null)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Add"]))],null,null)}function Gr(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","freightwithLocation"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function Br(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data available ! "]))],null,null)}function Wr(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,25,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Freight invoices"])),(l()(),t["\u0275eld"](6,0,null,1,19,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](8,0,null,0,12,"div",[["class","row"],["style","margin-top:10px; margin-bottom:10px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","col-md-2 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startTime=e)&&t),t},le.b,le.a)),t["\u0275did"](11,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](12,0,null,null,2,"div",[["class","col-md-2 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.endTime=e)&&t),t},le.b,le.a)),t["\u0275did"](14,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],isStart:[1,"isStart"],dateTimeValue:[2,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](15,0,null,null,2,"div",[["class","col-md-2 "]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,1,"button",[["class","btn btn-primary m-0"],["type","submit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.viewFreightInvoice()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Search"])),(l()(),t["\u0275eld"](18,0,null,null,2,"div",[["class","col-md-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,qr)),t["\u0275did"](20,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](21,0,null,0,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Gr)),t["\u0275did"](23,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Br)),t["\u0275did"](25,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,11,0,!1,e.startTime),l(n,14,0,!1,!1,e.endTime),l(n,20,0,e.user.permission.add),l(n,23,0,e.data&&e.data.length),l(n,25,0,0==e.data.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function Kr(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"freight-invoices",[],null,null,null,Wr,$r)),t["\u0275did"](1,114688,null,0,Ur,[a.a,F.a,_.DatePipe,i.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var Jr=t["\u0275ccf"]("freight-invoices",Ur,Kr,{},{},[]),Yr=e("Hg6y"),Zr=e("1jZA"),Qr=e("yd97"),Xr=function(){function l(l,n,e,t,a){this.api=l,this.common=n,this.datePipe=e,this.user=t,this.modalService=a,this.startTime=new Date((new Date).setDate((new Date).getDate()-7)),this.endTime=new Date,this.transferType=-1,this.ledgerId="",this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.viewTransfer()},l.prototype.ledger=function(l){this.ledgerId=l.id},l.prototype.viewTransfer=function(){var l=this,n="startTime="+this.common.dateFormatter(this.startTime)+"&endTime="+this.common.dateFormatter(this.endTime)+"&ledgerId="+this.ledgerId+"&transferType="+this.transferType;++this.common.loading,this.api.get("FrieghtRate/getTransfers?"+n).subscribe(function(n){if(--l.common.loading,l.data=[],l.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},l.headings=[],l.valobj={},n.data){l.data=n.data;var e=l.data[0];for(var t in e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:l.formatTitle(t),placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}l.table.data.columns=l.getTableColumns()}},function(n){--l.common.loading,l.common.showError(n),console.log("Error: ",n)})},l.prototype.getTableColumns=function(){var l=this,n=[];return console.log("Data=",this.data),this.data.map(function(e){l.valobj={};for(var t=0;t<l.headings.length;t++)"Action"==l.headings[t]?l.valobj[l.headings[t]]={value:"",action:null,isHTML:!1,icons:l.actionIcons(e)}:"Credit To"==l.headings[t]?(console.log("test",l.headings[t]),l.valobj[l.headings[t]]={value:e[l.headings[t]],class:"blue",action:l.openViewTransfer.bind(l,e._cr_ledgerid,e[l.headings[t]],"Credit To")}):"Debit To"==l.headings[t]?l.valobj[l.headings[t]]={value:e[l.headings[t]],class:"blue",action:l.openViewTransfer.bind(l,e._dr_ledgerid,e[l.headings[t]],"Debit To")}:(console.log("doc index value:",e[l.headings[t]]),l.valobj[l.headings[t]]={value:e[l.headings[t]],class:"black",action:""});n.push(l.valobj)}),n},l.prototype.actionIcons=function(l){var n=[{class:"fas fa-gas-pump",action:this.editFuelFilling.bind(this,l)}];return this.user.permission.edit&&n.push({class:l._islocked?"":"fas fa-edit",action:this.editTransfer.bind(this,l._id)}),this.user.permission.delete&&n.push({class:l._islocked?"":"fa fa-trash",action:this.deleteTransfer.bind(this,l)}),n},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.addTransfer=function(){var l=this;this.common.params={refData:null},this.modalService.open(fr.a,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"print-lr"}).result.then(function(n){console.log("Date:",n),l.viewTransfer()})},l.prototype.editTransfer=function(l){var n=this;this.common.params={refData:{transferId:l}},this.modalService.open(fr.a,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"print-lr"}).result.then(function(l){console.log("Date:",l),n.viewTransfer()})},l.prototype.editFuelFilling=function(l){var n=this;if(null==l._vid)return this.common.showError("Vehichel id does not exist");this.common.params={info:l},this.modalService.open(Qr.a,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"print-lr"}).result.then(function(l){console.log("Date:",l),n.viewTransfer()})},l.prototype.openViewTransfer=function(l,n,e){console.log("Id",l),console.log("Title:",n),console.log("ledgerType:",e),this.common.params={ledgerId:l,title:n,ledgerType:e},this.modalService.open(Zr.a,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"print-lr"}).result.then(function(l){console.log("Date:",l)})},l.prototype.deleteTransfer=function(l){var n=this;console.log("row",l);var e={id:l._id};l._id&&(this.common.params={title:"Delete Transfer ",description:"<b>&nbsp;Are Sure To Delete This Record<b>"},this.modalService.open(ee.a,{size:"sm",container:"nb-layout",backdrop:"static",keyboard:!1,windowClass:"accountModalClass"}).result.then(function(l){l.response&&(console.log("data",l),n.common.loading++,n.api.post("FrieghtRate/deleteTransfers",e).subscribe(function(l){n.common.loading--,l.data[0].y_id>0?(n.common.showToast("Success"),n.viewTransfer()):n.common.showError(l.data[0].y_msg)},function(l){n.common.loading--,console.log("Error: ",l)}))}))},l}(),ls=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]     .fa-trash{color:red}[_nghost-%COMP%]     .fa-trash span{position:absolute;display:none;padding:10px 28px;font-weight:400;font-size:11px;left:-22px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-trash span::before{content:'Delete';display:block;position:absolute;top:0;left:0;background-color:red;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-trash span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid red;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-trash:hover span{display:block}.search[_ngcontent-%COMP%]{width:auto}[_nghost-%COMP%]     .blue{color:#00f;text-decoration:underline}[_nghost-%COMP%]     .fa-gas-pump{color:#760dbb;margin-left:4px}[_nghost-%COMP%]     .fa-gas-pump span{position:absolute;display:none;padding:10px 28px;font-weight:400;font-size:11px;left:-22px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-gas-pump span::before{display:block;position:absolute;top:0;left:0;background-color:red;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-gas-pump span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid red;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-gas-pump:hover span{display:block}"],d.a],data:{}});function ns(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addTransfer()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Add"]))],null,null)}function es(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","freightwithLocation"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function ts(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data available ! "]))],null,null)}function as(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,53,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Transfer"])),(l()(),t["\u0275eld"](6,0,null,1,47,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](8,0,null,0,40,"div",[["class","row"],["style","margin-top:10px; margin-bottom:10px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","col-md-2 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startTime=e)&&t),t},le.b,le.a)),t["\u0275did"](11,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](12,0,null,null,2,"div",[["class","col-md-2 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.endTime=e)&&t),t},le.b,le.a)),t["\u0275did"](14,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],isStart:[1,"isStart"],dateTimeValue:[2,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](15,0,null,null,2,"div",[["class","col-1"],["style","text-align: right;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Ledger"])),(l()(),t["\u0275eld"](18,0,null,null,3,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,2,"div",[["class","search"],["style","display:inline-block;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,1,"auto-suggestion",[["display","name"],["placeholder","Search"],["url","Suggestion/GetPurchaseLedger"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,21).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==o.ledger(e)&&a),a},Qn.b,Qn.a)),t["\u0275did"](21,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"],preSelected:[3,"preSelected"]},{onSelected:"onSelected"}),(l()(),t["\u0275eld"](22,0,null,null,21,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Type"])),(l()(),t["\u0275eld"](25,0,null,null,18,"div",[["style","display:inline-block;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,17,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,27).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,27).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.transferType=e)&&a),a},null,null)),t["\u0275did"](27,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](29,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](31,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](32,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](33,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](34,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Transfer"])),(l()(),t["\u0275eld"](36,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](37,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](38,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Receipt"])),(l()(),t["\u0275eld"](40,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](41,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](42,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["All"])),(l()(),t["\u0275eld"](44,0,null,null,4,"div",[["class","col-md-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](45,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.viewTransfer()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Search"])),(l()(),t["\u0275and"](16777216,null,null,1,null,ns)),t["\u0275did"](48,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](49,0,null,0,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,es)),t["\u0275did"](51,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ts)),t["\u0275did"](53,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,11,0,!1,e.startTime),l(n,14,0,!1,!1,e.endTime),l(n,21,0,"Suggestion/GetPurchaseLedger","name","Search",null),l(n,29,0,e.transferType),l(n,33,0,1),l(n,34,0,1),l(n,37,0,0),l(n,38,0,0),l(n,41,0,-1),l(n,42,0,-1),l(n,48,0,e.user.permission.add),l(n,51,0,e.data&&e.data.length),l(n,53,0,0==e.data.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]),l(n,26,0,t["\u0275nov"](n,31).ngClassUntouched,t["\u0275nov"](n,31).ngClassTouched,t["\u0275nov"](n,31).ngClassPristine,t["\u0275nov"](n,31).ngClassDirty,t["\u0275nov"](n,31).ngClassValid,t["\u0275nov"](n,31).ngClassInvalid,t["\u0275nov"](n,31).ngClassPending)})}function os(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"transfers",[],null,null,null,as,ls)),t["\u0275did"](1,114688,null,0,Xr,[a.a,F.a,_.DatePipe,i.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var is=t["\u0275ccf"]("transfers",Xr,os,{},{},[]),us=function(){function l(l,n,e,t){this.common=l,this.api=n,this.mapService=e,this.user=t,this.table=null,this.showTable=!1,this.LatLongData=null,this.path="",this.companyId=null,this.Sites=[],this.site={sitename:null,sitetype:1,name:null,id:null},this.remainingList=[],this.circle=null,this.routeId=null,this.siteLatLng={lat:0,lng:90},this.typeId=1,this.siteLoc="",this.siteName=null,this.tempData=[],this.isUpdate=!1,this.mergeSiteId=null,this.position=null,this.final=null,this.meterRadius=20,this.lat=null,this.long=null,this.isHeatAble=!1,this.kmsShow=null,this.Location=null,this.typeIds=[{description:"loading/unloading",id:"1"},{description:"Petrol Pump",id:"101"},{description:"Dhaba",id:"111"},{description:"My Office Site",id:"121"},{description:"Workshop",id:"131"},{description:"otherSite",id:"201"}],this.typeID=null,this.companySites(),this.site.name="Add",this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.companySites()},l.prototype.ngAfterViewInit=function(){var l=this;this.mapService.mapIntialize("map",10),setTimeout(function(){l.mapService.setMapType(0)},2e3),this.mapService.isDrawAllow=!0,this.mapService.createPolygonPath(),this.mapService.addListerner(this.mapService.map,"click",function(n){l.mapService.isDrawAllow&&console.log("Event",n)})},l.prototype.submitPolygon=function(){var l=this;if(this.mapService.polygonPath){this.path="(";var n=this.mapService.polygonPath.getPath().getArray();if(n.length<4)return this.common.showError("Site Should Have More Than 3 points Atleast"),void(this.mapService.isDrawAllow=!0);for(var e=0;e<n.length;e++)this.lat=n[e].lat(),this.long=n[e].lng(),this.path+=n[e].lat()+" "+n[e].lng()+",";this.path+=n[0].lat()+" "+n[0].lng()+",",this.path=this.path.substr(0,this.path.length-1),this.path+=")",console.log("latlong:",this.path)}if(""==this.site.sitename)this.common.showError("Please fill Site Name.");else{var t={siteId:this.site.id,siteName:this.site.sitename,polygon:this.path,siteLoc:this.Location,typeId:this.typeID},a=this.site.id?"SiteFencing/updateSiteFence":"SiteFencing/createSiteAndFenceWrtFo";this.common.loading++,this.api.post(a,t).subscribe(function(n){l.common.loading--,console.log("Success:",n),n.code>0&&(l.common.showToast("success!!"),l.mapService.clearAll(),l.site.name="Add",l.Location=null,l.typeID=null,l.site.sitename="",l.companySites()),n.code<0&&(l.common.showError(n.msg),l.companySites())},function(n){l.common.loading--,console.log(n)})}},l.prototype.clearMapServices=function(){"Update"==this.site.name?(this.mapService.resetPolygons(),this.mapService.clearAll(),this.path=""):this.mapService.clearAll()},l.prototype.cancelMapServices=function(){this.site.sitename="",this.path="",this.site.id="",this.mapService.resetPolygons(),this.site.name="Add",this.Location=null,document.getElementById("location").value="",this.typeID=null},l.prototype.companySites=function(){var l=this;this.mapService.clearAll(),this.common.loading++,this.api.get("SiteFencing/getLocalFoSites").subscribe(function(n){l.common.loading--,console.log(n),l.Sites=n.data,null!=l.Sites?(l.showTable=!0,l.table=l.setTable()):(l.showTable=!1,l.common.showToast("Record Not Found!!"))},function(n){l.common.loading--,console.log(n)})},l.prototype.showdata=function(l){console.log("Data",l),this.path=l.fences,this.mapService.resetPolygons();var n=l.latlongs;this.mapService.setMultiBounds(n,!0);for(var e=0;e<n.length;e++){var t=n[e];n[e]={lat:t.lat,lng:t.lng}}var a=[{data:n,isMain:!0,isSec:!1,show:l.name}];this.site.name="Update",this.site.sitename=l.name,this.site.sitetype=l.type,this.site.id=l.id,this.Location=l.loc_name,this.typeID=l._type_id,this.mapService.resetPolygons(),this.mapService.createPolygons(a)},l.prototype.setTable=function(){return{data:{headings:{name:{title:"Site Name",placeholder:"Site Name"},loc_name:{title:"Loc Name",placeholder:"Loc Name"},Type:{title:"SiteType",placeholder:"SiteType"},Delete:{title:"Delete",placeholder:"Delete",hideSearch:!0,class:"tag"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"auto"}}},l.prototype.getTableColumns=function(){var l=this,n=[];return this.Sites.map(function(e){var t={name:{value:e.name,action:l.showdata.bind(l,e)},loc_name:{value:e.loc_name,action:l.showdata.bind(l,e)},Type:{value:e.Type,action:l.showdata.bind(l,e)},Delete:l.user.permission.delete&&{value:'<i class="fa fa-trash text-danger"></i>',isHTML:!0,action:l.deleteRecord.bind(l,e),class:"icon text-center del"},rowActions:{click:"selectRow"}};n.push(t)}),n},l.prototype.deleteRecord=function(l){var n=this;if(confirm("do you really want to delete this Site: "+l.name+"?")){var e={rowId:l.id};this.mapService.clearAll(),this.common.loading++,this.api.post("SiteFencing/deleteSiteAndFenceWrtFo",e).subscribe(function(l){n.common.loading--,console.log(l),n.Sites=l.data,l.code>0?(n.common.showToast("site deleted !!"),n.companySites()):n.common.showError(l.msg)},function(l){n.common.loading--,n.common.showError(l),console.log(l)})}},l.prototype.selectLocation=function(l){this.Location=l.location,this.mapService.zoomAt(this.mapService.createLatLng(l.lat,l.long),12)},l}(),rs=t["\u0275crt"]({encapsulation:0,styles:[[".display[_ngcontent-%COMP%]{display:inline-block}.mrgn[_ngcontent-%COMP%]{margin-top:5px}.btnstyle[_ngcontent-%COMP%]{background-color:transparent;border:none}.icon[_ngcontent-%COMP%]{font-size:30px!important;padding-left:34%!important}.tag[_ngcontent-%COMP%]{color:#000}[_nghost-%COMP%]     .no-search span{color:#000}[_nghost-%COMP%]     .tableFixHead{max-height:calc(100vh - 472px)}"]],data:{}});function ss(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)},function(l,n){l(n,3,0,n.context.$implicit.description)})}function ds(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-success pt-2 pb-2 rounded-sm mr-3 text-capitalize"],["type","submit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.submitPolygon()&&t),t},null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.site.name)})}function cs(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-warning pt-2 pb-2 rounded-sm mr-3 text-capitalize"],["type","submit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancelMapServices()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Cancel"]))],null,null)}function ps(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","verifyState"],["style","height:27vh!important;overflow-y:scroll!important;"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function gs(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,61,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Sites"])),(l()(),t["\u0275eld"](6,0,null,1,55,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](8,0,null,0,53,"div",[["class","body-box"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,52,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,49,"div",[["class","col-4"],["style","border-left:solid;border-top:solid;border-bottom:solid;border-right:solid; border-width:2px;border-color:lightgrey;padding:10px;border-radius:3px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,4,"div",[["class","col-4 display"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,3,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["SiteName"])),(l()(),t["\u0275eld"](15,0,null,null,1,"span",[["style","color:red;font-size:15px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](17,0,null,null,6,"div",[["class","col-8 display"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,5,"input",[["placeholder","Site Name"],["style","width:100%"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,19)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,19).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,19)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,19)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(o.site.sitename=e)&&a),a},null,null)),t["\u0275did"](19,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](21,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](23,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](24,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,2,"div",[["class","col-4 display"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Location Name"])),(l()(),t["\u0275eld"](28,0,null,null,3,"div",[["class","col-8 display"]],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,2,"auto-suggestion",[["display","location"],["inputId","location"],["placeholder","Location"],["url","Location/getPlaceFromRedis?"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,30).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==o.selectLocation(e)&&a),a},Qn.b,Qn.a)),t["\u0275did"](30,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"],preSelected:[3,"preSelected"],inputId:[4,"inputId"]},{onSelected:"onSelected"}),t["\u0275pod"](31,{location:0}),(l()(),t["\u0275eld"](32,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](33,0,null,null,2,"div",[["class","col-4 display"]],null,null,null,null,null)),(l()(),t["\u0275eld"](34,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Site Type"])),(l()(),t["\u0275eld"](36,0,null,null,8,"div",[["class","col-8 display"]],null,null,null,null,null)),(l()(),t["\u0275eld"](37,0,null,null,7,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,38).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,38).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.typeID=e)&&a),a},null,null)),t["\u0275did"](38,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](40,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](42,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,ss)),t["\u0275did"](44,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](45,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](46,0,null,null,6,"div",[["class","col-12"],["style","text-align:center;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ds)),t["\u0275did"](48,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,cs)),t["\u0275did"](50,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](51,0,null,null,1,"button",[["class","btn btn-danger pt-2 pb-2 rounded-sm mr-3 text-capitalize"],["type","submit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearMapServices()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Clear"])),(l()(),t["\u0275eld"](53,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](54,0,null,null,1,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](55,0,null,null,0,"hr",[["style","background-color:#dad4d4;height:1px;width:100%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](56,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](57,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ps)),t["\u0275did"](59,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](60,0,null,null,1,"div",[["class","col-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](61,0,null,null,0,"div",[["id","map"],["style","width: 100%; height:75vh"]],null,null,null,null,null))],function(l,n){var e=n.component;l(n,21,0,e.site.sitename);var t=e.site.id?l(n,31,0,e.Location):"";l(n,30,0,"Location/getPlaceFromRedis?","location","Location",t,"location"),l(n,40,0,e.typeID),l(n,44,0,e.typeIds),l(n,48,0,e.user.permission.add),l(n,50,0,"Update"==e.site.name),l(n,59,0,e.Sites.length>0)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]),l(n,18,0,t["\u0275nov"](n,23).ngClassUntouched,t["\u0275nov"](n,23).ngClassTouched,t["\u0275nov"](n,23).ngClassPristine,t["\u0275nov"](n,23).ngClassDirty,t["\u0275nov"](n,23).ngClassValid,t["\u0275nov"](n,23).ngClassInvalid,t["\u0275nov"](n,23).ngClassPending),l(n,37,0,t["\u0275nov"](n,42).ngClassUntouched,t["\u0275nov"](n,42).ngClassTouched,t["\u0275nov"](n,42).ngClassPristine,t["\u0275nov"](n,42).ngClassDirty,t["\u0275nov"](n,42).ngClassValid,t["\u0275nov"](n,42).ngClassInvalid,t["\u0275nov"](n,42).ngClassPending)})}function hs(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"sites",[],null,null,null,gs,rs)),t["\u0275did"](1,4308992,null,0,us,[F.a,a.a,W.a,i.a],null,null)],function(l,n){l(n,1,0)},null)}var ms=t["\u0275ccf"]("sites",us,hs,{},{},[]),fs=e("3Wbk"),vs=e("enZy"),bs=function(){function l(l,n,e){this.api=l,this.modalService=n,this.common=e,this.assType=null,this.searchValue="",this.searchString="",this.associationType=[],this.companyId=null,this.companyName=null,this.companyExist=!1,this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.refresh(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.checkCompany(),this.getAssociationType()},l.prototype.getAssociationType=function(){var l=this;this.common.loading++,this.api.get("Suggestion/getAssocTypeWrtFo").subscribe(function(n){l.common.loading--,l.associationType=n.data},function(n){l.common.loading--})},l.prototype.checkCompany=function(){var l=this;this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.api.get("ManageParty/checkCompany").subscribe(function(n){n.data&&n.data.length?(l.companyExist=!0,l.companyId=n.data[0].company_id,l.companyName=n.data[0].Company):(l.companyExist=!1,l.common.showError("please add company")),console.log("para",l.companyId,l.companyName,n.data),console.log(n)},function(l){})},l.prototype.getCmpAssocWrtType=function(){var l=this,n="assocType="+this.assType+"&searchValue="+this.searchValue+"&searchString="+this.searchString;console.log("pod",n),this.common.loading++,this.api.get("ManageParty/getCmpAssocWrtType?"+n).subscribe(function(n){if(l.common.loading--,null==n.data)return l.data=[],l.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},l.headings=[],void(l.valobj={});if(l.data=[],l.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},l.headings=[],l.valobj={},n.data){l.data=n.data;var e=l.data[0];for(var t in e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:l.formatTitle(t),placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}l.table.data.columns=l.getTableColumns(),console.log("Api Response:",n)}},function(n){l.common.loading--,console.error("Api Error:",n)})},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.getTableColumns=function(){var l=this,n=[];return console.log("Data=",this.data),this.data.map(function(e){l.valobj={};for(var t=0;t<l.headings.length;t++)console.log("Type",l.headings[t]),console.log("doc index value:",e[l.headings[t]]),l.valobj[l.headings[t]]="Action"==l.headings[t]?{value:"",action:null,icons:[{class:"fa fa-edit",action:l.addNewParty.bind(l,"Edit",e)},{class:"fab fa-reddit",action:l.partyMapping.bind(l,e)},{class:"fa fa-trash",action:l.deleteParty.bind(l,e)}]}:{value:e[l.headings[t]],class:"black",action:""};n.push(l.valobj)}),n},l.prototype.addNewParty=function(l,n){console.log("TESTING"),this.common.params={cmpId:this.companyId,cmpName:this.companyName,associationType:this.assType,refName:l},n&&(this.common.params.cmpAssocDetail=n),console.log("add",this.common.params),this.modalService.open(fs.a,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"add-consige-veiw"})},l.prototype.partyMapping=function(l){var n=this;null==l._ledid?(this.common.params={partyId:l._id,userGroupId:l._asstype},this.modalService.open(vs.a,{size:"lg",container:"nb-layout"}).result.then(function(l){l&&n.getCmpAssocWrtType()})):this.common.showToast("Ledger Already Mapped")},l.prototype.deleteParty=function(l){var n=this,e={assocId:l._id};l._id&&(this.common.params={title:"Delete Party ",description:"<b>&nbsp;Are Sure To Delete This Record<b>"},this.modalService.open(ee.a,{size:"sm",container:"nb-layout",backdrop:"static",keyboard:!1,windowClass:"accountModalClass"}).result.then(function(l){l.response&&(n.common.loading++,n.api.post("ManageParty/deletePartyAssociation",e).subscribe(function(l){console.log("Api Response:",l),n.common.showToast(l.msg),n.getCmpAssocWrtType(),n.common.loading--},function(l){return console.error(" Api Error:",l)}))}))},l}(),xs=t["\u0275crt"]({encapsulation:0,styles:[['[_nghost-%COMP%]     td i.fa-edit{background-color:#04a9f5;color:#fff;padding:5px;border-radius:3px;position:relative;margin-right:5px}[_nghost-%COMP%]     td i.fa-edit:hover span{display:block}[_nghost-%COMP%]     td i.fa-edit span{position:absolute;display:none;padding:11px 57px;left:-44px;top:-28px;font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-edit span::before{content:"Edit Party Details";display:block;position:absolute;top:0;left:0;background-color:#04a9f5;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-edit span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #04a9f5;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td i.fa-reddit{background-color:#82c91e;color:#fff;padding:5px;border-radius:3px;position:relative}[_nghost-%COMP%]     td i.fa-reddit:hover span{display:block}[_nghost-%COMP%]     td i.fa-reddit span{position:absolute;display:none;padding:11px 70px;left:-59px;top:-28px;font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-reddit span::before{content:"Party Ledger Mapping";display:block;position:absolute;top:0;left:0;background-color:#82c91e;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-reddit span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #82c91e;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     .fa-trash{color:red;font-size:18px;margin-left:6px}[_nghost-%COMP%]     .fa-trash span{position:absolute;display:none;padding:10px 33px;font-weight:400;font-size:11px;left:-22px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-trash span::before{content:"Delete";display:block;position:absolute;top:0;left:0;background-color:red;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-trash span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid red;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-trash:hover span{display:block}']],data:{}});function ys(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit.y_id),l(n,2,0,n.context.$implicit.y_id)},function(l,n){l(n,3,0,n.context.$implicit.y_groupname)})}function Cs(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","companyBranch"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function _s(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,63,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Manage Party"])),(l()(),t["\u0275eld"](6,0,null,1,57,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](8,0,null,0,55,"div",[["class","company-association"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,51,"div",[["class","row "]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,10,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Association Type"])),(l()(),t["\u0275eld"](13,0,null,null,7,"select",[["class","form-control"],["id","dropdown"],["name","dropdown"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,14).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,14).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.assType=e)&&a),a},null,null)),t["\u0275did"](14,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](16,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](18,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,ys)),t["\u0275did"](20,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](21,0,null,null,24,"div",[["class","col-sm-2 ml-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Search String"])),(l()(),t["\u0275eld"](24,0,null,null,21,"select",[["class","form-control"],["style"," border: 2px solid darkcyan; font-size: 13px"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,25).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,25).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.searchString=e)&&a),a},null,null)),t["\u0275did"](25,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](27,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](29,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](30,0,null,null,3,"option",[["value","name"]],null,null,null,null,null)),t["\u0275did"](31,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](32,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Name"])),(l()(),t["\u0275eld"](34,0,null,null,3,"option",[["value","gst"]],null,null,null,null,null)),t["\u0275did"](35,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](36,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["GST No."])),(l()(),t["\u0275eld"](38,0,null,null,3,"option",[["value","pan "]],null,null,null,null,null)),t["\u0275did"](39,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](40,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["PAN No."])),(l()(),t["\u0275eld"](42,0,null,null,3,"option",[["value","ledgername"]],null,null,null,null,null)),t["\u0275did"](43,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](44,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Ledger"])),(l()(),t["\u0275eld"](46,0,null,null,8,"div",[["class","col-sm-2 ml-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](47,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Search Value"])),(l()(),t["\u0275eld"](49,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["name","searchValue"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,o=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,50)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,50).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,50)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,50)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(o.searchValue=e)&&a),a},null,null)),t["\u0275did"](50,16384,null,0,V.d,[t.Renderer2,t.ElementRef,[2,V.a]],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.d]),t["\u0275did"](52,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](54,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](55,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](56,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getCmpAssocWrtType()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Submit"])),(l()(),t["\u0275eld"](58,0,null,null,2,"div",[["class","col-2 text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](59,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addNewParty("Add")&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["ADD NEW PARTY"])),(l()(),t["\u0275eld"](61,0,null,null,2,"div",[["class","row mt-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Cs)),t["\u0275did"](63,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,16,0,"dropdown",e.assType),l(n,20,0,e.associationType),l(n,27,0,e.searchString),l(n,31,0,"name"),l(n,32,0,"name"),l(n,35,0,"gst"),l(n,36,0,"gst"),l(n,39,0,"pan "),l(n,40,0,"pan "),l(n,43,0,"ledgername"),l(n,44,0,"ledgername"),l(n,52,0,"searchValue",e.searchValue),l(n,63,0,e.data&&e.data.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]),l(n,13,0,t["\u0275nov"](n,18).ngClassUntouched,t["\u0275nov"](n,18).ngClassTouched,t["\u0275nov"](n,18).ngClassPristine,t["\u0275nov"](n,18).ngClassDirty,t["\u0275nov"](n,18).ngClassValid,t["\u0275nov"](n,18).ngClassInvalid,t["\u0275nov"](n,18).ngClassPending),l(n,24,0,t["\u0275nov"](n,29).ngClassUntouched,t["\u0275nov"](n,29).ngClassTouched,t["\u0275nov"](n,29).ngClassPristine,t["\u0275nov"](n,29).ngClassDirty,t["\u0275nov"](n,29).ngClassValid,t["\u0275nov"](n,29).ngClassInvalid,t["\u0275nov"](n,29).ngClassPending),l(n,49,0,t["\u0275nov"](n,54).ngClassUntouched,t["\u0275nov"](n,54).ngClassTouched,t["\u0275nov"](n,54).ngClassPristine,t["\u0275nov"](n,54).ngClassDirty,t["\u0275nov"](n,54).ngClassValid,t["\u0275nov"](n,54).ngClassInvalid,t["\u0275nov"](n,54).ngClassPending)})}function ws(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,_s)),t["\u0275did"](1,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.companyExist)},null)}function Ms(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"manage-fo-party",[],null,null,null,ws,xs)),t["\u0275did"](1,114688,null,0,bs,[a.a,al.u,F.a],null,null)],function(l,n){l(n,1,0)},null)}var Ts=t["\u0275ccf"]("manage-fo-party",bs,Ms,{},{},[]),Ds=e("5ePP"),Ps=e("fw2I"),Os=e("Lmhy"),ks=function(){function l(l,n,e,t){this.common=l,this.user=n,this.modalService=e,this.api=t,this.endDate=new Date,this.startDate=new Date((new Date).setDate(new Date(this.endDate).getDate()-10)),this.dispatchOrders=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.getDispatchOrders()}return l.prototype.ngOnInit=function(){},l.prototype.getDispatchOrders=function(){var l=this,n={startDate:this.common.dateFormatter(this.startDate),endDate:this.common.dateFormatter(this.endDate)};this.common.loading++,this.api.post("LorryReceiptsOperation/getDispatchOrders",n).subscribe(function(n){console.log("Res:",n),l.common.loading--,l.dispatchOrders=n.data,n.data&&(l.clearAllTableData(),l.setTable())},function(n){l.common.loading--,l.common.showError(n)})},l.prototype.setTable=function(){this.table.data={headings:this.generateHeadings(this.dispatchOrders[0]),columns:this.getColumns(this.dispatchOrders,this.dispatchOrders[0])}},l.prototype.generateHeadings=function(l){var n={};for(var e in l)"_"!=e.charAt(0)&&(n[e]={title:this.formatTitle(e),placeholder:this.formatTitle(e)});return n},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.getColumns=function(l,n){var e=this,t=[];return l.map(function(l){var a={};for(var o in e.generateHeadings(n))a[o]="Action"==o?{value:"",action:null,icons:e.actionIcons(l)}:{value:l[o],class:"black",action:""};t.push(a)}),t},l.prototype.actionIcons=function(l){var n=[{class:"fa fa-print",action:this.printDispatchOrder.bind(this,l)},{class:l._lrid?"":"fa fa-list",action:this.openGenerateLr.bind(this,l)}];return this.user.permission.edit&&n.push({class:"fa fa-edit",action:this.openDispatchOrder.bind(this,l)}),this.user.permission.delete&&n.push({class:"fas fa-trash-alt",action:this.deleteDispatchOrder.bind(this,l)}),n},l.prototype.deleteDispatchOrder=function(l){var n=this;this.common.params={title:"Delete  ",description:"<b>Are you Sure To Delete This Record<b>"},this.modalService.open(ee.a,{size:"sm",container:"nb-layout",backdrop:"static",keyboard:!1,windowClass:"accountModalClass"}).result.then(function(e){e.response&&(n.common.loading++,n.api.post("LorryReceiptsOperation/deleteDispatchOrders",{dispatchOrderId:l._dispatchid,vehicleId:l._vid}).subscribe(function(l){n.common.loading--,console.log("response:",l),l.data[0].r_id>0&&(n.common.showToast("Sucessfully Deleted",1e4),n.getDispatchOrders())},function(l){n.common.loading--,console.log(l)}))})},l.prototype.clearAllTableData=function(){this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}}},l.prototype.openDispatchOrder=function(l){var n,e=this;n=!!l&&{id:l._dispatchid},console.log(l,n),this.common.params={dispatchOrderData:n},this.modalService.open(Os.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){console.log("Data:",l),e.getDispatchOrders()})},l.prototype.printDispatchOrder=function(l){var n;n=!!l&&{title:"Dispatch Order",previewId:null,refId:l._dispatchid,refType:"DSPOD_PRT"},console.log(l,n),this.common.params={previewData:n},this.modalService.open(dn.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){console.log("Data:",l)})},l.prototype.openGenerateLr=function(l){var n={dispOrdId:l._dispatchid};console.log("Data Do:",n),this.common.params={lrData:n},this.modalService.open(nn.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){console.log("Data1:",l)})},l}(),Rs=t["\u0275crt"]({encapsulation:0,styles:[['[_nghost-%COMP%]     td i.fa-edit{color:#000;padding:5px;border-radius:3px;position:relative;margin-right:5px}[_nghost-%COMP%]     td i.fa-edit:hover span{display:block}[_nghost-%COMP%]     td i.fa-edit span{position:absolute;display:none;padding:11px 24px;left:-14px;top:-24px;font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-edit span::before{content:"Edit";display:block;position:absolute;top:0;left:0;background-color:#04a9f5;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-edit span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #04a9f5;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td i.fa-trash-alt{color:red;padding:5px;border-radius:3px;position:relative}[_nghost-%COMP%]     td i.fa-trash-alt:hover span{display:block}[_nghost-%COMP%]     td i.fa-trash-alt span{position:absolute;display:none;padding:11px 31px;left:-22px;top:-28px;font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-trash-alt span::before{content:"Delete";display:block;position:absolute;top:0;left:0;background-color:red;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-trash-alt span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid red;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td i.fa-list{color:#000;padding:5px;border-radius:3px;position:relative}[_nghost-%COMP%]     td i.fa-list:hover span{display:block}[_nghost-%COMP%]     td i.fa-list span{position:absolute;display:none;padding:11px 70px;left:-59px;top:-28px;font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-list span::before{content:"Generate LR";display:block;position:absolute;top:0;left:0;background-color:#82c91e;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-list span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #82c91e;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}']],data:{}});function Is(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openDispatchOrder(!1)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Add"]))],null,null)}function Ss(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function As(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","alert alert-danger text-center mt-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"h4",[["class","no-record"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["No Record Found"]))],null,null)}function Fs(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,37,"nb-card",[["style","border: 0px; height: 100%;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[["class","dispatch-orders"]],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Dispatch Orders"])),(l()(),t["\u0275eld"](6,0,null,1,31,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](8,0,null,0,29,"div",[["class","dispatch-orders"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,7,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,1,"label",[["class","mt-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["From Date :"])),(l()(),t["\u0275eld"](15,0,null,null,2,"div",[["class","col-8 pl-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startDate=e)&&t),t},le.b,le.a)),t["\u0275did"](17,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](18,0,null,null,7,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,2,"div",[["class","col-3 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,1,"label",[["class","mt-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["To Date :"])),(l()(),t["\u0275eld"](23,0,null,null,2,"div",[["class","col-9 pl-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.endDate=e)&&t),t},le.b,le.a)),t["\u0275did"](25,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],isStart:[1,"isStart"],dateTimeValue:[2,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](26,0,null,null,2,"div",[["class","col-1 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getDispatchOrders()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Search"])),(l()(),t["\u0275eld"](29,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,2,"div",[["class","col-1"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Is)),t["\u0275did"](32,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](33,0,null,null,2,"div",[["class","mt-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ss)),t["\u0275did"](35,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,As)),t["\u0275did"](37,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,17,0,!1,e.startDate),l(n,25,0,!1,!1,e.endDate),l(n,32,0,e.user.permission.add),l(n,35,0,e.dispatchOrders&&e.dispatchOrders.length),l(n,37,0,null==e.dispatchOrders)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function Es(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"dispatch-orders",[],null,null,null,Fs,Rs)),t["\u0275did"](1,114688,null,0,ks,[F.a,i.a,al.u,a.a],null,null)],function(l,n){l(n,1,0)},null)}var Vs=t["\u0275ccf"]("dispatch-orders",ks,Es,{},{},[]),Ls=function(){function l(l,n){this.common=l,this.api=n,this.totalFillCount=0,this.totalFuel=0,this.totelFuelCost=0,this.endDate=new Date,this.startDate=new Date((new Date).setDate(new Date(this.endDate).getDate()-10)),this.fuelConsumption=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={}}return l.prototype.ngOnInit=function(){},l.prototype.getFuelConsumption=function(){var l=this;this.fuelConsumption=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={};var n=null!=this.startDate?this.common.dateFormatter(this.startDate):null,e=null!=this.endDate?this.common.dateFormatter(this.endDate):null;if(null==n)return this.common.showError("Start Date is Missing");if(null==e)return this.common.showError("End Date is Missing");if(this.startDate>this.endDate)return this.common.showError("Start Date should not be Greater than End Date");var t={start_time:n,end_time:e};console.log(t),this.common.loading++,this.api.post("FuelDetails/getFuelConsumption",t).subscribe(function(n){l.common.loading--,l.fuelConsumption=n.data,l.totalFillCount=0,l.totalFuel=0,l.totelFuelCost=0,console.log("result",n);var e=l.fuelConsumption[0];for(var t in e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:l.formatTitle(t),placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}l.table.data.columns=l.getTableColumns()})},l.prototype.getTableColumns=function(){var l=this,n=[];console.log("Data=",this.fuelConsumption),this.fuelConsumption.map(function(e){l.valobj={};for(var t=0;t<l.headings.length;t++)console.log("doc index value:",e[l.headings[t]]),l.valobj[l.headings[t]]={value:e[l.headings[t]],class:"black",action:""},"Filling Count"==l.headings[t]&&(l.totalFillCount=l.totalFillCount+e[l.headings[t]]),"Total Fuel (Litres)"==l.headings[t]&&(l.totalFuel=l.totalFuel+e[l.headings[t]]),"Total Fuel Cost"==l.headings[t]&&(l.totelFuelCost=l.totelFuelCost+e[l.headings[t]]);n.push(l.valobj)}),this.valobj={};for(var e=0;e<this.headings.length;e++)"Pump Name"==this.headings[e]&&(this.valobj[this.headings[e]]={value:"Total",class:"text-colour",action:""}),"Filling Count"==this.headings[e]&&(this.valobj[this.headings[e]]={value:this.totalFillCount,class:"text-colour",action:""}),"Total Fuel (Litres)"==this.headings[e]&&(this.valobj[this.headings[e]]={value:this.totalFuel,class:"text-colour",action:""}),"Total Fuel Cost"==this.headings[e]&&(this.valobj[this.headings[e]]={value:this.totelFuelCost,class:"text-colour",action:""});return n.push(this.valobj),n},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l}(),Ns=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]    .text-colour{background:grey;color:#fff}[_nghost-%COMP%]     .tableFixHead table tr td:nth-child(3), [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(4), [_nghost-%COMP%]     .tableFixHead table tr td:nth-child(5){text-align:center}[_nghost-%COMP%]     .tableFixHead table tr th .filter-input-container{width:calc(100% - 20px)!important}[_nghost-%COMP%]     .tableFixHead table tr th:nth-child(3) .filter-input-container input, [_nghost-%COMP%]     .tableFixHead table tr th:nth-child(4) .filter-input-container input, [_nghost-%COMP%]     .tableFixHead table tr th:nth-child(5) .filter-input-container input{text-align:center}"]],data:{}});function Hs(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","fuelConsumption"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function zs(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,20,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Fuel Consumption"])),(l()(),t["\u0275eld"](6,0,null,1,11,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](8,0,null,0,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","col-4 "]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startDate=e)&&t),t},le.b,le.a)),t["\u0275did"](11,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](12,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.endDate=e)&&t),t},le.b,le.a)),t["\u0275did"](14,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],isStart:[1,"isStart"],dateTimeValue:[2,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](15,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,1,"button",[["class","btn btn-primary pb-1 pt-1"],["style","border-radius:3px; text-align:center"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getFuelConsumption()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Submit"])),(l()(),t["\u0275eld"](18,0,null,2,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Hs)),t["\u0275did"](20,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,11,0,!1,e.startDate),l(n,14,0,!1,!1,e.endDate),l(n,20,0,e.fuelConsumption&&e.fuelConsumption.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function js(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"fuel-consumption",[],null,null,null,zs,Ns)),t["\u0275did"](1,114688,null,0,Ls,[F.a,a.a],null,null)],function(l,n){l(n,1,0)},null)}var Us=t["\u0275ccf"]("fuel-consumption",Ls,js,{},{},[]),$s=function(){function l(l,n,e,t){this.common=l,this.datePipe=n,this.user=e,this.api=t,this.endDate=new Date,this.startDate=new Date((new Date).setDate(new Date(this.endDate).getDate()-10)),this.TripPNLData=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}}}return l.prototype.ngOnInit=function(){},l.prototype.getPnlSummary=function(){var l=this,n=this.common.dateFormatter(this.startDate),e=this.common.dateFormatter(this.endDate);if(console.log("_________________________________=====+++++++++++++++_________________"),n||e)if(n)if(this.endDate)if(n>e)this.common.showError("StartDate Should Be Less Then EndDate");else{var t={startDate:this.common.dateFormatter(n),endDate:this.common.dateFormatter(e)};this.common.loading++,this.api.post("TripsOperation/getPnlSummary",t).subscribe(function(n){console.log("Res:",n),l.common.loading--,n.data&&(l.TripPNLData=n.data,l.clearAllTableData(),l.setTable())},function(n){l.common.loading--,l.common.showError(n)})}else this.common.showError("Please Enter EndDate");else this.common.showError("Please Enter StartDate");else this.common.showError("Please Enter StartDate And Enddate")},l.prototype.setTable=function(){this.table.data={headings:this.generateHeadings(this.TripPNLData[0]),columns:this.getColumns(this.TripPNLData,this.TripPNLData[0])}},l.prototype.generateHeadings=function(l){var n={};for(var e in l)"_"!=e.charAt(0)&&(n[e]={title:this.formatTitle(e),placeholder:this.formatTitle(e)});return n},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.getColumns=function(l,n){var e=this,t=[];return l.map(function(l){var a={};for(var o in e.generateHeadings(n))a[o]={value:l[o],class:"black",action:""};t.push(a)}),t},l.prototype.clearAllTableData=function(){this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}}},l.prototype.printPDF=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--;var t=e.data.name,a="Start Date:"+n.datePipe.transform(n.startDate,"dd-MM-yyyy")+"  End Date:"+n.datePipe.transform(n.endDate,"dd-MM-yyyy");n.common.getPDFFromTableId(l,t,"Trip Profit And Loss",["Action"],a)},function(l){n.common.loading--,console.log(l)})},l.prototype.printCsv=function(l){var n=this;this.common.loading++;var e=this.user._customer.id;"customer"==this.user._loggedInBy&&(e=this.user._details.id),this.api.post("FoAdmin/getFoDetailsFromUserId",{x_user_id:e}).subscribe(function(e){n.common.loading--;var t="FoName:"+e.data.name,a="Start Date:"+n.datePipe.transform(n.startDate,"dd-MM-yyyy")+"  End Date:"+n.datePipe.transform(n.endDate,"dd-MM-yyyy");n.common.getCSVFromTableId(l,t,"Report:Trip Profit And Loss",null,a)},function(l){n.common.loading--,console.log(l)})},l}(),qs=t["\u0275crt"]({encapsulation:0,styles:[[".pdf-icon[_ngcontent-%COMP%]{font-size:30px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:30px;color:#217346}"]],data:{}});function Gs(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","pl"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function Bs(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,39,"nb-card",[["style","border: 0px; height: 100%;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,11,"nb-card-header",[["class","toll-soft-recovery"]],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","col-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Trip Profit And Loss"])),(l()(),t["\u0275eld"](8,0,null,null,5,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"span",[["class","pdf-icon"],["style","cursor: pointer;"],["title","PDF Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printPDF("pl")&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-file-pdf"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"span",[["class","exel-icon"],["style","cursor: pointer;margin-left: 10px;"],["title","CSV Export"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.printCsv("pl")&&t),t},null,null)),(l()(),t["\u0275eld"](13,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,1,25,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](15,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](16,0,null,0,23,"div",[["class","trip-PNL"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,7,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,1,"label",[["class","mt-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["From Date :"])),(l()(),t["\u0275eld"](23,0,null,null,2,"div",[["class","col-8 pl-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startDate=e)&&t),t},le.b,le.a)),t["\u0275did"](25,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](26,0,null,null,7,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](28,0,null,null,2,"div",[["class","col-3 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,1,"label",[["class","mt-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["To Date :"])),(l()(),t["\u0275eld"](31,0,null,null,2,"div",[["class","col-9 pl-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](32,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.endDate=e)&&t),t},le.b,le.a)),t["\u0275did"](33,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],isStart:[1,"isStart"],dateTimeValue:[2,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](34,0,null,null,2,"div",[["class","col-1 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](35,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getPnlSummary()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Submit"])),(l()(),t["\u0275eld"](37,0,null,null,2,"div",[["class","mt-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Gs)),t["\u0275did"](39,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,25,0,!1,e.startDate),l(n,33,0,!1,!1,e.endDate),l(n,39,0,e.TripPNLData&&e.TripPNLData.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function Ws(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"trip-pnl",[],null,null,null,Bs,qs)),t["\u0275did"](1,114688,null,0,$s,[F.a,_.DatePipe,i.a,a.a],null,null)],function(l,n){l(n,1,0)},null)}var Ks=t["\u0275ccf"]("trip-pnl",$s,Ws,{},{},[]),Js=e("VwZz"),Ys=function(){function l(l,n,e){this.api=l,this.common=n,this.modalService=e,this.routeData=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.viewName="Route Status",this.viewIndex=0,this.viewOtions=[{name:"Route Status",key:"route_status"},{name:"Routes",key:"show_name"},{name:"Onward Status",key:"onward_status"}],this.isGraphView=!1,this.viewType="route_status",this.routesData=[],this.routeGroups=[],this.routeGroupsKeys=null,this.keyGroups=[],this.activePrimaryStatus="",this.primarySubStatus=[],this.chartData=null,this.chartDataa=null,this.chartOptions=null,this.chartColors=[],this.textColor=[],this.selectedFilterKey="",this.getFoWiseRouteData(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.ngAfterViewInit=function(){this.common.stopScroll()},l.prototype.ngOnDestroy=function(){this.common.continuoueScroll()},l.prototype.refresh=function(){this.getFoWiseRouteData()},l.prototype.allData=function(){this.selectedFilterKey="",this.filterData("All")},l.prototype.selectSubStatus=function(l){this.routeData=l,this.table=this.setTable()},l.prototype.getFoWiseRouteData=function(){var l=this;this.common.loading++,this.api.get("ViaRoutes/foRouteDashboard?").subscribe(function(n){if(l.common.loading--,console.log("api data",n),!n.data)return l.routeData=[],void(l.routesData=[]);l.routeData=n.data,l.grouping("route_status"),l.routeData.length?l.table=l.setTable():l.resetTable(),l.routesData=n.data},function(n){l.common.loading--,console.log(n)})},l.prototype.resetTable=function(){this.table.data={headings:{},columns:[]}},l.prototype.setTable=function(){return{data:{headings:{regno:{title:"Regno",placeholder:"Regno"},lastSeenTime:{title:"Last Seen Time",placeholder:"Last Seen Time"},routeName:{title:"Route Name",placeholder:"Route Name"},startLocation:{title:"Start Location",placeholder:"Start Location"},startTime:{title:"Start Time",placeholder:"Start time"},endLocation:{title:"Last Location",placeholder:"Last Location"},lastTime:{title:"Last Exit Time",placeholder:"Last Exit Time"},currentLocation:{title:"Current Location",placeholder:"Current Location"},currentLocationTime:{title:"CL Time",placeholder:"CL Time"},nextLocation:{title:"Next Location",placeholder:"Next Location"},distanceRemaining:{title:"Distance Remaining ",placeholder:"Distance Remaining"},etoa:{title:"ETOA ",placeholder:"ETOA"},startDelay:{title:"Start  delay ",placeholder:"Start  delay"},totalDelay:{title:"Total  delay ",placeholder:"Total  delay"},lastHrKms:{title:"Last Hr KMS",placeholder:"Last Hr KMS"},action:{title:"Action",placeholder:"Action",hideSearch:!0,class:"del"}},columns:this.getTableColumns()},settings:{hideHeader:!0,tableHeight:"84vh",count:{icon:"fa fa-map",action:this.handleView.bind(this)}}}},l.prototype.handleView=function(){this.isGraphView=!this.isGraphView},l.prototype.getTableColumns=function(){var l=this,n=[];return this.routeData.map(function(e){var t={regno:{value:e.v_regno?e.v_regno:"-"},lastSeenTime:{value:e.v_time?l.common.changeDateformat2(e.v_time):"-",action:l.viewlocation.bind(l,e)},routeName:e.name?l.getRouteAconym(e.name,e):"-",startLocation:{value:e.f_name?e.f_name:"-",action:l.viewlocation.bind(l,e)},startTime:{value:e.f_end_time?l.common.changeDateformat2(e.f_end_time):"-",action:l.viewlocation.bind(l,e),class:e.f_delay>0?"red":e.f_delay<0?"green":""},endLocation:{value:e.l_name?e.l_name:"-",action:l.viewlocation.bind(l,e)},lastTime:{value:e.l_end_time?l.common.changeDateformat2(e.l_end_time):"-",action:l.viewlocation.bind(l,e)},currentLocation:{value:e.c_name?e.c_name:"-",action:l.viewlocation.bind(l,e)},currentLocationTime:{value:e.c_start_time?l.common.changeDateformat2(e.c_start_time):"-"},nextLocation:{value:e.n_name?e.n_name:"-",action:l.viewlocation.bind(l,e)},distanceRemaining:{value:e.n_dist_rem?e.n_dist_rem:"-"},etoa:{value:e.etoa_next?l.common.changeDateformat2(e.etoa_next):"-"},startDelay:{value:e.start_delay?e.start_delay:"-"},totalDelay:{value:e.total_delay?e.total_delay:"-",class:e.c_delay>0?"red":e.c_delay<0?"green":""},lastHrKms:{value:e.last_hour_kms?e.last_hour_kms:"-"},action:{value:"",isHTML:!1,action:null,icons:l.actionIcons(e)}};n.push(t)}),n},l.prototype.actionIcons=function(l){return[{class:" fa fa-route mr-1",action:this.openRouteMapper.bind(this,l)},{class:"fas fa-truck-moving mr-1",action:this.viewRouteTimeTable.bind(this,l)},{class:"fa fa-pencil-square-o",action:this.addShortTarget.bind(this,l)}]},l.prototype.openRouteMapper=function(l){var n,e,t,a,o;n=new Date,e=l.f_end_time?this.common.dateFormatter(l.f_end_time):new Date(n.setDate(n.getDate()-2)),a=l.c_start_time?this.common.dateFormatter(l.c_start_time):new Date,t=this.common.dateFormatter(e),o=this.common.dateFormatter(a);var i=this.common.dateFormatter(t),u=this.common.dateFormatter(o);this.common.handleModalHeightWidth("class","modal-lg","200","1500"),this.common.params={vehicleId:l.v_id,vehicleRegNo:l.v_regno,fromTime:i,toTime:u},this.modalService.open(q.a,{size:"lg",container:"nb-layout",windowClass:"myCustomModalClass"})},l.prototype.viewlocation=function(l){console.log("route",l),this.common.params={location:{lat:l.v_lat?l.v_lat:0,lng:l.v_long?l.v_long:0,name:"",time:""},title:"Vehicle Location"},this.modalService.open(N.a,{size:"lg",container:"nb-layout",backdrop:"static"})},l.prototype.viewRouteTimeTable=function(l){this.common.params={routeTime:{vehicleId:l.v_id,routeId:l.route_id,routeTimeId:l.tt_id}},this.modalService.open(Js.a,{size:"lg",container:"nb-layout",backdrop:"static"})},l.prototype.addShortTarget=function(l){console.log("target",l),this.common.params={vehicleId:l.v_id||l._vehicleid,vehicleRegNo:l.vehicle||l.Vehicle||l.regno||l.v_regno},console.log("params=",this.common.params),this.modalService.open(Z.a,{size:"sm",container:"nb-layout"})},l.prototype.getRouteAconym=function(l,n){var e=l.substring(0,20),t={value:(l="'"+l+"'")?"<acronym title="+l+">"+e+"</acronym>":"-",action:this.viewlocation.bind(this,n),isHTML:!0};return console.log("route=",l),t},l.prototype.grouping=function(l){var n=this;console.log("viewType",l),this.routeGroups=z.groupBy(this.routeData,l),this.routeGroupsKeys=Object.keys(this.routeGroups),this.keyGroups=[],this.routeGroupsKeys.map(function(l){var e=Math.floor(359*Math.random()+1);n.keyGroups.push({name:l,bgColor:"hsl("+e+", 100%, 75%)",textColor:"hsl("+e+", 100%, 25%)"})}),this.sortData(l)},l.prototype.sortData=function(l){var n=this,e=[];this.chartColors=[];var t=[],a=[];this.keyGroups.map(function(l){console.log("group",l,"this.routeGroups",n.routeGroups,"group.name=",l.name,"this.routeGroups[group.name]=",n.routeGroups[l.name]),e.push({group:l,length:n.routeGroups[l.name]?n.routeGroups[l.name].length:0})}),this.routeGroupsKeys=[],z.sortBy(e,["length"]).reverse().map(function(l){n.routeGroupsKeys.push(l.group)}),this.routeGroupsKeys.map(function(l){console.log("keyGroup",l,"keyGroup.name",'"'+l.name+'"',"this.routeGroups=",n.routeGroups,"this.routeGroups[keyGroup.name]=",n.routeGroups[l.name]),n.chartColors.push(l.bgColor),t.push(l.name),a.push(n.routeGroups[l.name].length)});var o=this.common.pieChart(t,a,this.chartColors);this.chartData=o.chartData,this.chartOptions=o.chartOptions,this.selectedFilterKey&&this.filterData(this.selectedFilterKey,l)},l.prototype.filterData=function(l,n){var e=this;"All"==l?this.routeData=this.routesData:(this.selectedFilterKey=l,this.routeData=this.routesData.filter(function(n){return n[e.viewType]==l})),this.table=this.setTable()},l.prototype.changeOptions=function(l){this.selectedFilterKey="All",this.filterData("All"),"forward"===l?(++this.viewIndex,this.viewIndex>this.viewOtions.length-1&&(this.viewIndex=0)):(--this.viewIndex,this.viewIndex<0&&(this.viewIndex=this.viewOtions.length-1)),this.viewType=this.viewOtions[this.viewIndex].key,this.viewName=this.viewOtions[this.viewIndex].name,this.grouping(this.viewType)},l}(),Zs=t["\u0275crt"]({encapsulation:0,styles:[['[_nghost-%COMP%]    .black{color:#000;background:#fff8dc}[_nghost-%COMP%]    .green{background-color:#b5f37c}[_nghost-%COMP%]    .red{background-color:#f37c7c}[_nghost-%COMP%]     .fa-route{color:#000;font-size:14px;cursor:pointer}[_nghost-%COMP%]     .fa-route span{position:absolute;display:none;padding:10px 50px;font-size:11px;left:-36px;font-weight:400;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-route span::before{content:"Route Mapper";display:block;position:absolute;top:0;left:0;background-color:#000;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-route span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #000;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     .fa-route:hover span{display:block}[_nghost-%COMP%]     .fa-truck-moving{color:#ff8091;font-size:14px;cursor:pointer}[_nghost-%COMP%]     .fa-truck-moving span{position:absolute;display:none;padding:10px 44px;font-size:11px;left:-34px;font-weight:400;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-truck-moving span::before{content:"Route Time";display:block;position:absolute;top:0;left:0;background-color:#ff8091;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-truck-moving span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #ff8091;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     .fa-truck-moving:hover span{display:block}[_nghost-%COMP%]     .fa-pencil-square-o{color:#0bf714;font-size:14px;cursor:pointer}[_nghost-%COMP%]     .fa-pencil-square-o span{position:absolute;display:none;padding:10px 44px;font-size:11px;left:-34px;font-weight:400;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-pencil-square-o span::before{content:"Short Target";display:block;position:absolute;top:0;left:0;background-color:#0bf714;border-radius:3px;padding:5px 10px;color:#000;width:100%}[_nghost-%COMP%]     .fa-pencil-square-o span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #0bf714;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     .fa-pencil-square-o:hover span{display:block}[_nghost-%COMP%]     th:nth-child(1){width:30px!important}[_nghost-%COMP%]     th:nth-child(2){width:70px}[_nghost-%COMP%]     th:nth-child(3){width:70px}[_nghost-%COMP%]     th:nth-child(4){width:85px}[_nghost-%COMP%]     th:nth-child(5){width:70px}[_nghost-%COMP%]     th:nth-child(6){width:70px}[_nghost-%COMP%]     th:nth-child(7){width:70px}[_nghost-%COMP%]     th:nth-child(8){width:70px}[_nghost-%COMP%]     th:nth-child(9){width:70px}[_nghost-%COMP%]     th:nth-child(10){width:70px}[_nghost-%COMP%]     th:nth-child(11){width:70px}[_nghost-%COMP%]     th:nth-child(12){width:44px}[_nghost-%COMP%]     th:nth-child(13){width:70px}[_nghost-%COMP%]     th:nth-child(14){width:60px}[_nghost-%COMP%]     th:nth-child(15){width:60px}[_nghost-%COMP%]     th:nth-child(16){width:44px}[_nghost-%COMP%]     th:nth-child(17){width:70px}']],data:{}});function Qs(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,1,10,"nb-card-body",[["style","cursor: pointer;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.filterData(l.context.$implicit.name)&&t),t},O.d,O.a)),t["\u0275did"](3,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,3,"div",[["class","col-sm-1 p-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["style","width: 20px;height: 20px;border-radius: 100%; box-shadow: 0 5px 10px 0 rgba(0,0,0,.2);"]],null,null,null,null,null)),t["\u0275did"](6,278528,null,0,_.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](7,{"background-color":0}),(l()(),t["\u0275eld"](8,0,null,0,2,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,[" "," "])),t["\u0275ppd"](10,1),(l()(),t["\u0275eld"](11,0,null,0,1,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,[" "," "]))],function(l,n){var e=l(n,7,0,n.context.$implicit.bgColor);l(n,6,0,e)},function(l,n){var e=n.component;l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]);var a=t["\u0275unv"](n,9,0,l(n,10,0,t["\u0275nov"](n.parent,0),n.context.$implicit.name));l(n,9,0,a),l(n,12,0,e.routeGroups[n.context.$implicit.name].length)})}function Xs(l){return t["\u0275vid"](0,[t["\u0275pid"](0,_.TitleCasePipe,[]),(l()(),t["\u0275eld"](1,0,null,null,38,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](2,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](3,0,null,1,36,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](4,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,34,"div",[["class","row m-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,29,"div",[["class","col-sm-3 pl-0 pr-2"],["style","height: 90vh; overflow: hidden;"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,9,"div",[["class","row"],["style","font-size:16px;margin:0px;text-align: center;padding:8px 0px;background: linear-gradient(45deg,#30ccff 0,#5a9cff 100%); color: #fff; border-radius: 5px; margin-bottom: 10px; "]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,1,"span",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.changeOptions("reverse")&&t),t},null,null)),(l()(),t["\u0275eld"](10,0,null,null,0,"i",[["class","icon ion-ios-rewind"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,2,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,["",""])),(l()(),t["\u0275eld"](14,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"span",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.changeOptions("forward")&&t),t},null,null)),(l()(),t["\u0275eld"](16,0,null,null,0,"i",[["class","icon ion-ios-fastforward"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"chart",[["class","dashboard_chart"],["id","chart"],["type","pie"]],null,null,null,R.b,R.a)),t["\u0275did"](19,638976,null,0,I.ChartComponent,[t.ElementRef,t.NgZone],{type:[0,"type"],data:[1,"data"],options:[2,"options"]},null),(l()(),t["\u0275eld"](20,0,null,null,15,"div",[["class","status_box"],["style","overflow: auto; height: calc(90vh - 250px); max-height: calc(90vh - 250px);"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,11,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](22,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](23,0,null,1,9,"nb-card-body",[["style","cursor: pointer;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.allData()&&t),t},O.d,O.a)),t["\u0275did"](24,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](25,0,null,0,1,"div",[["class","col-sm-1 p-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,0,"div",[["style","background-color:grey;color: white; box-shadow: 0 5px 10px 0 rgba(0,0,0,.2); width: 20px;height: 20px;border-radius: 100%;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,0,2,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](28,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" All Data "])),(l()(),t["\u0275eld"](30,0,null,0,2,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](32,null,["",""])),(l()(),t["\u0275eld"](33,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Qs)),t["\u0275did"](35,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](36,0,null,null,3,"div",[["class",""],["style"," overflow: hidden;"]],null,null,null,null,null)),t["\u0275did"](37,278528,null,0,_.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),t["\u0275eld"](38,0,null,null,1,"smart-table",[["id","routeDashbord"],["style","width:100%"]],null,null,null,S.b,S.a)),t["\u0275did"](39,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,19,0,"pie",e.chartData,e.chartOptions),l(n,35,0,e.keyGroups),l(n,37,0,"",e.isGraphView?"col-sm-12 p-0":"col-sm-9 p-0"),l(n,39,0,e.table.data,e.table.settings)},function(l,n){var e=n.component;l(n,1,1,[t["\u0275nov"](n,2).xxsmall,t["\u0275nov"](n,2).xsmall,t["\u0275nov"](n,2).small,t["\u0275nov"](n,2).medium,t["\u0275nov"](n,2).large,t["\u0275nov"](n,2).xlarge,t["\u0275nov"](n,2).xxlarge,t["\u0275nov"](n,2).active,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2).primary,t["\u0275nov"](n,2).info,t["\u0275nov"](n,2).success,t["\u0275nov"](n,2).warning,t["\u0275nov"](n,2).danger,t["\u0275nov"](n,2).hasAccent,t["\u0275nov"](n,2).primaryAccent,t["\u0275nov"](n,2).infoAccent,t["\u0275nov"](n,2).successAccent,t["\u0275nov"](n,2).warningAccent,t["\u0275nov"](n,2).dangerAccent,t["\u0275nov"](n,2).activeAccent,t["\u0275nov"](n,2).disabledAccent]),l(n,6,0,e.isGraphView),l(n,13,0,e.viewName),l(n,21,1,[t["\u0275nov"](n,22).xxsmall,t["\u0275nov"](n,22).xsmall,t["\u0275nov"](n,22).small,t["\u0275nov"](n,22).medium,t["\u0275nov"](n,22).large,t["\u0275nov"](n,22).xlarge,t["\u0275nov"](n,22).xxlarge,t["\u0275nov"](n,22).active,t["\u0275nov"](n,22).disabled,t["\u0275nov"](n,22).primary,t["\u0275nov"](n,22).info,t["\u0275nov"](n,22).success,t["\u0275nov"](n,22).warning,t["\u0275nov"](n,22).danger,t["\u0275nov"](n,22).hasAccent,t["\u0275nov"](n,22).primaryAccent,t["\u0275nov"](n,22).infoAccent,t["\u0275nov"](n,22).successAccent,t["\u0275nov"](n,22).warningAccent,t["\u0275nov"](n,22).dangerAccent,t["\u0275nov"](n,22).activeAccent,t["\u0275nov"](n,22).disabledAccent]),l(n,32,0,e.routesData.length)})}function ld(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"route-dashboard",[],null,null,null,Xs,Zs)),t["\u0275did"](1,4440064,null,0,Ys,[a.a,F.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var nd=t["\u0275ccf"]("route-dashboard",Ys,ld,{},{},[]),ed=function(){function l(l,n,e,t){this.api=l,this.common=n,this.modalService=e,this.user=t,this.getUsersList=[],this.getAllPagesList=[],this.formattedData=[],this.selectedUser={details:null,oldPreferences:[]},this.istaskOpertion=!1,this.common.isComponentActive=!1,this.common.refresh=this.refresh.bind(this),this.getAllUserList()}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.common.isComponentActive=!1,this.getAllUserList(),document.getElementById("name").value="",this.formattedData=[]},l.prototype.canDeactivate=function(){var l=this;return console.log("activity Start",this.common.isComponentActive),this.common.isComponentActive?(this.common.params={title:"Confirmation ",description:"<b>&nbsp;Are Sure To Leave This Page<b>"},this.modalService.open(ee.a,{size:"sm",container:"nb-layout",backdrop:"static",keyboard:!1,windowClass:"accountModalClass"}).result.then(function(n){n.response&&(l.common.isComponentActive=!1,console.log("no, you wont navigate anywhere"))}),!1):(console.log("you are going away, goodby"),!0)},l.prototype.getAllUserList=function(){var l=this;this.common.loading++,this.api.get("Suggestion/getAllFoAdminUsersWrtFo?").subscribe(function(n){l.common.loading--,l.getUsersList=n.data,console.log("api Data:",l.getUsersList)},function(n){l.common.loading--,console.log("Error: ",n)})},l.prototype.getUserDetails=function(l){var n=this;this.selectedUser.details=l;var e={userId:l.id,userType:3,iswallet:localStorage.getItem("iswallet")||"0"};this.common.loading++,this.api.post("UserRoles/getAllPages",e).subscribe(function(l){n.common.loading--,n.getAllPagesList=l.data,n.managedata(),console.log("Res Data:",n.getAllPagesList),n.selectedUser.oldPreferences=l.data},function(l){n.common.loading--,console.log("Error: ",l)})},l.prototype.managedata=function(){var l=z.groupBy(this.getAllPagesList,"module");console.log(l),this.formattedData=Object.keys(l).map(function(n){return{name:n,groups:l[n],isSelected:!1,isOp:!1}}),this.formattedData.map(function(l){var n=!0,e=z.groupBy(l.groups,"group_name");l.groups=Object.keys(e).map(function(l){var t=!0,a=e[l].map(function(l){return l.isSelected=!!l.userid,l.isadd=!!l.isadd,l.isedit=!!l.isedit,l.isdeleted=!!l.isdeleted,l.isOp=!1,t&&(t=l.isSelected),l});return n&&(n=t),{name:l,pages:a,isSelected:t}}),l.isSelected=n}),this.formattedData=z.sortBy(this.formattedData,["name"],["asc"]).map(function(l){return l.groups=z.sortBy(l.groups,["name"],["asc"]).map(function(l){return l.pages=z.sortBy(l.pages,["title"],["asc"]),l}),l})},l.prototype.checkOrUnCheckAll=function(l,n){this.common.isComponentActive=!0,console.log("component is",this.common.isComponentActive),"group"===n?(console.log("details.isSelected:",l.isSelected),l.pages.map(function(n){console.log("details.isSelected:",l.isSelected),n.isSelected=l.isSelected})):"module"===n&&l.groups.map(function(n){n.isSelected=l.isSelected,n.pages.map(function(n){return n.isSelected=l.isSelected})}),l.isSelected||"page"!=n||(l.isSelected=l.isSelected,l.isadd=!1,l.isedit=!1,l.isdeleted=!1,l.isOp=!0)},l.prototype.changePagePermission=function(l,n,e){if(this.istaskOpertion=!0,this.istaskOpertion)return l.isOp=!0},l.prototype.saveUserRole=function(){var l=this,n={pages:this.findSelectedPages(),userId:this.selectedUser.details.id,userType:3};console.log("Param:",n),this.common.loading++,this.api.post("UserRoles/setPagesWrtUser",n).subscribe(function(n){l.common.loading--,console.log("Res: ",n),l.common.showToast(n.msg),l.refresh()},function(n){l.common.loading--,console.log("Error: ",n)})},l.prototype.findSelectedPages=function(){var l=[];return console.log("formattedData: ",this.formattedData),this.formattedData.map(function(n){n.groups.map(function(n){n.pages.map(function(n){l.push(n.isSelected?{id:n.id,status:1,isadd:n.isadd,isedit:n.isedit,isdeleted:n.isdeleted,isOp:n.isOp}:{id:n.id,status:0,isadd:!1,isedit:!1,isdeleted:!1,isOp:n.isOp})})})}),l},l}(),td=t["\u0275crt"]({encapsulation:0,styles:[[".row.col-2[_ngcontent-%COMP%]{margin:2px}.search[_ngcontent-%COMP%]{width:180px;margin-left:20px}.container[_ngcontent-%COMP%]{color:#000}.module-container[_ngcontent-%COMP%]{background:#ffd7d7;padding:5px 16px;font-weight:700;text-transform:capitalize;font-size:22px;margin-top:10px}.module-name[_ngcontent-%COMP%]{color:#01203c}.group-container[_ngcontent-%COMP%]{background:#f2f2f2;font-weight:500;padding:5px 30px;font-size:18px;color:initial}.group-head[_ngcontent-%COMP%]{color:#161617;background:#d0e4f5;padding:4px}.page-container[_ngcontent-%COMP%]{font-size:14px!important;color:#00008b;margin-left:25px;padding:0;display:inline-table}input.group-box[_ngcontent-%COMP%], input.module-box[_ngcontent-%COMP%], input.page-box[_ngcontent-%COMP%]{width:16px;height:16px!important;cursor:pointer}.permission-type[_ngcontent-%COMP%]{margin:2px;border:1px solid;width:94%}.permission-type.col-4[_ngcontent-%COMP%]{padding:0;margin:0}.permission-type[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{margin-right:10px}input.page-box-type[_ngcontent-%COMP%]{width:12px;height:12px!important;margin-left:8px;cursor:pointer}"],d.a],data:{}});function ad(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col text-right mt-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-secondary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveUserRole()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Save"]))],null,null)}function od(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,35,"div",[["class","col-2 page-container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,5,"input",[["class"," page-box"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,2).onChange(e.target.checked)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,2).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(l.context.$implicit.isSelected=e)&&a),"change"===n&&(a=!1!==o.checkOrUnCheckAll(l.context.$implicit,"page")&&a),a},null,null)),t["\u0275did"](2,16384,null,0,V.b,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.b]),t["\u0275did"](4,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](6,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275ted"](7,null,[" "," "])),(l()(),t["\u0275eld"](8,0,null,null,27,"div",[["class","row permission-type"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,8,"div",[["class","col-4"],["style","padding:0px!important;"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,5,"input",[["class","page-box-type"],["name","add"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,11).onChange(e.target.checked)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,11).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(l.context.$implicit.isadd=e)&&a),"click"===n&&(a=!1!==o.changePagePermission(l.context.$implicit,"isadd",e)&&a),a},null,null)),t["\u0275did"](11,16384,null,0,V.b,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.b]),t["\u0275did"](13,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](15,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](16,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["A"])),(l()(),t["\u0275eld"](18,0,null,null,8,"div",[["class","col-4"],["style","padding:0px!important;"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,5,"input",[["class","page-box-type"],["name","edit"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,20).onChange(e.target.checked)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,20).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(l.context.$implicit.isedit=e)&&a),"click"===n&&(a=!1!==o.changePagePermission(l.context.$implicit,"isedit",e)&&a),a},null,null)),t["\u0275did"](20,16384,null,0,V.b,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.b]),t["\u0275did"](22,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](24,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](25,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["E"])),(l()(),t["\u0275eld"](27,0,null,null,8,"div",[["class","col-4"],["style","padding:0px!important;"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](28,0,null,null,5,"input",[["class","page-box-type"],["name","delete"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,29).onChange(e.target.checked)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,29).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(l.context.$implicit.isdeleted=e)&&a),"click"===n&&(a=!1!==o.changePagePermission(l.context.$implicit,"isdeleted",e)&&a),a},null,null)),t["\u0275did"](29,16384,null,0,V.b,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.b]),t["\u0275did"](31,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](33,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](34,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["D"]))],function(l,n){l(n,4,0,"page-"+n.context.index,n.context.$implicit.isSelected),l(n,13,0,"add",n.context.$implicit.isadd),l(n,22,0,"edit",n.context.$implicit.isedit),l(n,31,0,"delete",n.context.$implicit.isdeleted)},function(l,n){l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending),l(n,7,0,n.context.$implicit.title),l(n,8,0,!n.context.$implicit.isSelected),l(n,9,0,!n.context.$implicit.has_add),l(n,10,0,t["\u0275nov"](n,15).ngClassUntouched,t["\u0275nov"](n,15).ngClassTouched,t["\u0275nov"](n,15).ngClassPristine,t["\u0275nov"](n,15).ngClassDirty,t["\u0275nov"](n,15).ngClassValid,t["\u0275nov"](n,15).ngClassInvalid,t["\u0275nov"](n,15).ngClassPending),l(n,18,0,!n.context.$implicit.has_edit),l(n,19,0,t["\u0275nov"](n,24).ngClassUntouched,t["\u0275nov"](n,24).ngClassTouched,t["\u0275nov"](n,24).ngClassPristine,t["\u0275nov"](n,24).ngClassDirty,t["\u0275nov"](n,24).ngClassValid,t["\u0275nov"](n,24).ngClassInvalid,t["\u0275nov"](n,24).ngClassPending),l(n,27,0,!n.context.$implicit.has_delete),l(n,28,0,t["\u0275nov"](n,33).ngClassUntouched,t["\u0275nov"](n,33).ngClassTouched,t["\u0275nov"](n,33).ngClassPristine,t["\u0275nov"](n,33).ngClassDirty,t["\u0275nov"](n,33).ngClassValid,t["\u0275nov"](n,33).ngClassInvalid,t["\u0275nov"](n,33).ngClassPending)})}function id(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"div",[["class","group-container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,8,"div",[["class","group-head"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,6,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,4).onChange(e.target.checked)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,4).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(l.context.$implicit.isSelected=e)&&a),"change"===n&&(a=!1!==o.checkOrUnCheckAll(l.context.$implicit,"group")&&a),a},null,null)),t["\u0275did"](3,278528,null,0,_.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),t["\u0275did"](4,16384,null,0,V.b,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.b]),t["\u0275did"](6,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](8,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275ted"](9,null,[" "," "])),(l()(),t["\u0275and"](16777216,null,null,1,null,od)),t["\u0275did"](11,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,3,0,"group-box"),l(n,6,0,"group-"+n.context.index,n.context.$implicit.isSelected),l(n,11,0,n.context.$implicit.pages)},function(l,n){l(n,2,0,t["\u0275nov"](n,8).ngClassUntouched,t["\u0275nov"](n,8).ngClassTouched,t["\u0275nov"](n,8).ngClassPristine,t["\u0275nov"](n,8).ngClassDirty,t["\u0275nov"](n,8).ngClassValid,t["\u0275nov"](n,8).ngClassInvalid,t["\u0275nov"](n,8).ngClassPending),l(n,9,0,n.context.$implicit.name)})}function ud(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,10,"div",[["class","module-container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,6,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,4).onChange(e.target.checked)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,4).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(l.context.$implicit.isSelected=e)&&a),"change"===n&&(a=!1!==o.checkOrUnCheckAll(l.context.$implicit,"module")&&a),a},null,null)),t["\u0275did"](3,278528,null,0,_.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),t["\u0275did"](4,16384,null,0,V.b,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.b]),t["\u0275did"](6,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](8,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](9,0,null,null,2,"span",[["class","module-name"]],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,["",""])),t["\u0275ppd"](11,1),(l()(),t["\u0275and"](16777216,null,null,1,null,id)),t["\u0275did"](13,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,3,0,"module-box"),l(n,6,0,"section-"+n.context.index,n.context.$implicit.isSelected),l(n,13,0,n.context.$implicit.groups)},function(l,n){l(n,2,0,t["\u0275nov"](n,8).ngClassUntouched,t["\u0275nov"](n,8).ngClassTouched,t["\u0275nov"](n,8).ngClassPristine,t["\u0275nov"](n,8).ngClassDirty,t["\u0275nov"](n,8).ngClassValid,t["\u0275nov"](n,8).ngClassInvalid,t["\u0275nov"](n,8).ngClassPending);var e=t["\u0275unv"](n,10,0,l(n,11,0,t["\u0275nov"](n.parent,0),n.context.$implicit.name));l(n,10,0,e)})}function rd(l){return t["\u0275vid"](0,[t["\u0275pid"](0,_.UpperCasePipe,[]),(l()(),t["\u0275eld"](1,0,null,null,21,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](2,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](3,0,null,0,5,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](4,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"div",[["class","col-9"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Fo User Role"])),(l()(),t["\u0275eld"](9,0,null,1,13,"nb-card-body",[["style","min-height: 580px;"]],null,null,null,O.d,O.a)),t["\u0275did"](10,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](11,0,null,0,8,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,5,"div",[["class","search mt-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Select Employee Name"])),(l()(),t["\u0275eld"](15,0,null,null,2,"auto-suggestion",[["inputId","name"],["placeholder","Employee"],["seperator","-"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,16).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==o.getUserDetails(e)&&a),a},Qn.b,Qn.a)),t["\u0275did"](16,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{display:[0,"display"],placeholder:[1,"placeholder"],preSelected:[2,"preSelected"],seperator:[3,"seperator"],data:[4,"data"],inputId:[5,"inputId"]},{onSelected:"onSelected"}),t["\u0275pad"](17,2),(l()(),t["\u0275and"](16777216,null,null,1,null,ad)),t["\u0275did"](19,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](20,0,null,0,2,"div",[["class","container"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ud)),t["\u0275did"](22,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component,t=l(n,17,0,"name","mobileno");l(n,16,0,t,"Employee",null,"-",e.getUsersList,"name"),l(n,19,0,e.selectedUser.details),l(n,22,0,e.formattedData)},function(l,n){l(n,1,1,[t["\u0275nov"](n,2).xxsmall,t["\u0275nov"](n,2).xsmall,t["\u0275nov"](n,2).small,t["\u0275nov"](n,2).medium,t["\u0275nov"](n,2).large,t["\u0275nov"](n,2).xlarge,t["\u0275nov"](n,2).xxlarge,t["\u0275nov"](n,2).active,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2).primary,t["\u0275nov"](n,2).info,t["\u0275nov"](n,2).success,t["\u0275nov"](n,2).warning,t["\u0275nov"](n,2).danger,t["\u0275nov"](n,2).hasAccent,t["\u0275nov"](n,2).primaryAccent,t["\u0275nov"](n,2).infoAccent,t["\u0275nov"](n,2).successAccent,t["\u0275nov"](n,2).warningAccent,t["\u0275nov"](n,2).dangerAccent,t["\u0275nov"](n,2).activeAccent,t["\u0275nov"](n,2).disabledAccent])})}function sd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"fo-user-role",[],null,null,null,rd,td)),t["\u0275did"](1,114688,null,0,ed,[a.a,F.a,al.u,Zo.a],null,null)],function(l,n){l(n,1,0)},null)}var dd=t["\u0275ccf"]("fo-user-role",ed,sd,{},{},[]),cd=function(){function l(l,n,e,t,a){this.common=l,this.api=n,this.datepipe=e,this.modalService=t,this.mapService=a,this.scale="",this.trendType="11",this.period="1",this.weekMonthNumber="4",this.showPeriod=!0,this.trends=[],this.endDate=new Date,this.startDate=new Date((new Date).setDate(new Date(this.endDate).getDate()-6)),this.loadingSite=[],this.vehicleCount=0,this.dateDay=[],this.trendsVehicleData=[],this.onward=[],this.trendsVehicleSiteData=[],this.siteUnloading=[],this.graphString0="Loading Hours",this.graphString1="Loading Count",this.latLngSite=[],this.xAxesLabels={1:"Days of",2:"Weeks of",3:"Month of"},this.chart={data:{line:[],bar:[]},type:"",dataSet:{labels:[],datasets:[]},yaxisname:"Average Count",options:null},this.common.refresh=this.refresh.bind(this),this.refresh()}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getTrends(),this.getTrendsVehicleSite()},l.prototype.getTrends=function(){var l=this,n={startDate:"1"==this.period?this.common.dateFormatter1(this.startDate):"",endDate:"1"==this.period?this.common.dateFormatter1(this.endDate):"",purpose:this.period,value:this.weekMonthNumber};this.common.loading++,this.api.post("Trends/getTrendsWrtFo",n).subscribe(function(n){l.common.loading--,l.trends=n.data.result||[],0!=l.trends.length&&null!=l.trends||l.common.showError("Chart is not available"),l.vehicleCount=n.data.veh_count,l.dateDay=l.trends.map(function(n){return l.datepipe.transform(n.date_day,"dd-MMM")}),l.getCategoryDayMonthWeekWise()},function(n){l.common.loading--,console.log("Api Error:",n),l.common.showError()})},l.prototype.getCategoryDayMonthWeekWise=function(l){var n=this;l&&(this.trendType=l),this.chart.data.line=[],this.chart.data.bar=[];var e={0:["Onward Percentage",""],11:["Avg Loading Hours","Loading Count"],21:["Avg Unloading Hours","Unloading Count"],31:["Avg Onward Km",""]},t=e[this.trendType][0],a=e[this.trendType][0],o=e[this.trendType][1],i=e[this.trendType][1],u=this.xAxesLabels[this.period],r="11"==this.trendType?"ldng_count":"21"==this.trendType?"unldng_count":"onward";this.trendsVehicleSiteData=z.reverse(z.sortBy(this.trendsVehicleSiteData,[r])),this.trendsVehicleData=z.reverse(z.sortBy(this.trendsVehicleData,[r])),this.trends.forEach(function(l){if("11"==n.trendType||"21"==n.trendType)n.chart.data.line.push("11"==n.trendType?l.loading_hrs/l.loading_count||0:l.unloading_hrs/l.unloading_count||0),n.chart.data.bar.push("11"==n.trendType?l.loading_count:l.unloading_count);else if("0"==n.trendType){var e="number"==typeof l.onward?l.onward:parseFloat(l.onward);n.chart.data.line.push(e)}else"31"==n.trendType&&n.chart.data.line.push(l.Onward_kmpd/n.vehicleCount)}),this.setDataset("11"==this.trendType||"21"==this.trendType,t,u,i,a,o)},l.prototype.getTick=function(l,n,e,t){void 0===e&&(e=.1),void 0===t&&(t=.1);var a,o,i,u=1/0,r=0;return l.forEach(function(l){u=Math.min(l,u),r=Math.max(l,r)}),o=(r-u)*e,u=u-(i=(r-u)*t)<=0?0:u-i,r+=o,a=Math.round((r-u)/n),{suggestedMin:u,suggestedMax:a*n+u,stepSize:a}},l.prototype.setDataset=function(l,n,e,t,a,o){var i={labels:this.dateDay,datasets:[]};i.datasets.push({type:"line",label:l?a:"",borderColor:l?"#0a7070":"blue",backgroundColor:l?"#0a7070":"blue",fill:!1,data:this.chart.data.line.map(function(l){return l.toFixed(2)}),pointHoverRadius:8,pointHoverBackgroundColor:"#FFEB3B",yAxisID:"y-axis-1",yAxisName:"Count"}),l&&i.datasets.push({type:"bar",label:o,borderColor:"#c7eded",backgroundColor:"#c7eded",pointHoverRadius:8,pointHoverBackgroundColor:"#FFEB3B",fill:!1,data:this.chart.data.bar,yAxisID:"y-axis-2"}),this.chart={data:{line:[],bar:[]},type:l?"bar":"line",dataSet:i,yaxisname:"Average Count",options:this.setChartOptions(l,n,e,t)}},l.prototype.setChartOptions=function(l,n,e,t){var a={responsive:!0,hoverMode:"index",stacked:!1,legend:{position:"bottom",display:"31"!=this.trendType&&"0"!=this.trendType},tooltips:{mode:"index",intersect:"true"},maintainAspectRatio:!1,title:{display:!0},display:!0,elements:{line:{tension:0}},scales:{yAxes:[],xAxes:[{scaleLabel:{display:!0,labelString:e,fontSize:17}}]}};return a.scales.yAxes.push({ticks:this.getTick(this.chart.data.line,5),scaleLabel:{display:!0,labelString:n,fontSize:17},type:"linear",display:!0,position:"left",id:"y-axis-1"}),l&&a.scales.yAxes.push({ticks:this.getTick(this.chart.data.bar,5),scaleLabel:{display:!0,labelString:t,fontSize:17},type:"linear",display:!0,position:"right",id:"y-axis-2",gridLines:{drawOnChartArea:!1}}),a},l.prototype.getTrendsVehicleSite=function(){var l,n=this;this.trendsVehicleData=[],this.trendsVehicleSiteData=[],this.trends=[],this.dateDay=[],l="1"==this.period?{startDate:this.common.dateFormatter1(this.startDate),endDate:this.common.dateFormatter1(this.endDate),purpose:this.period,value:this.weekMonthNumber}:{purpose:this.period,value:this.weekMonthNumber},this.common.loading++,this.api.post("Trends/getTrendsWrtVehiclesAndSites",l).subscribe(function(l){n.common.loading--,n.trendsVehicleData=l.data.vehData||[],0!=n.trendsVehicleData.length&&null!=n.trendsVehicleData||n.common.showError("Vehicle Data is not availabe"),console.log("--------------------",n.trendsVehicleData),n.trendsVehicleSiteData=l.data.siteData||[],0!=n.trendsVehicleSiteData.length&&null!=n.trendsVehicleSiteData||n.common.showError("Site Data is not availabe"),n.loadingSite=l.data.siteData.lodingArray,n.getTrendsVehicle(),n.getTrendsSite()},function(l){n.common.loading--,n.common.showError(),console.log("Error: ",l)})},l.prototype.getTrendsVehicle=function(){this.trendsVehicleData.map(function(l){l.loading_hrs=l.loading_hrs/l.ldng_count,l.unloading_hrs=l.unloading_hrs/l.unldng_count,0!=l.total_halt||0!=l.hlt_count?l.total_halt=l.total_halt/l.hlt_count:(l.total_halt=0,l.hlt_count=0)})},l.prototype.getTrendsSite=function(){var l=this;this.trendsVehicleSiteData.map(function(l){l.loading_hrs=l.loading_hrs/l.ldng_count,l.unloading_hrs=l.unloading_hrs/l.unldng_count}),this.siteUnloading=[],z.sortBy(this.trendsVehicleSiteData,["unloading_hrs"]).reverse().map(function(n){l.siteUnloading.push(n)})},l.prototype.getweeklyMothlyTrend=function(){var l=this;this.dateDay=[],this.trends=[],this.vehicleCount=null;var n={purpose:this.period,value:this.weekMonthNumber};this.common.loading++,this.api.post("Trends/getTrendsWrtFo",n).subscribe(function(n){l.common.loading--,l.trends=n.data.result||[],l.vehicleCount=n.data.veh_count,l.trends.forEach(function(n){l.dateDay.push(l.datepipe.transform(n.date_day,"dd-MMM"))}),l.getCategoryDayMonthWeekWise()},function(n){l.common.loading--,l.common.showError()})},l.prototype.locationOnMap=function(l){l.lat?(this.common.params={location:{lat:l.lat,lng:l.long,name:"",time:""},title:"Location",fence:l.latLngs},this.modalService.open(N.a,{size:"lg",container:"nb-layout"})):this.common.showToast("Vehicle location not available!")},l.prototype.getPendingStatus=function(l,n){var e;console.log("data",l),e="vehicle"===n?["RegNo.","Count Event","Avg Hrs."]:["Site","Count Event","Avg Hrs."];var t=[],a=[];"11"==this.trendType?(t=l.lodingArray,Object.keys(t).map(function(l){var n=[];n.push(l,t[l].count,(t[l].avgHours/t[l].count).toFixed(2)),a.push(n)}),a.sort(function(l,n){return n[1]==l[1]?n[2]-l[2]:n[1]-l[1]})):"21"==this.trendType&&(t=l.unloadingArray,Object.keys(t).map(function(l){var n=[];n.push(l,t[l].count,(t[l].avgHours/t[l].count).toFixed(2)),a.push(n)}),a.sort(function(l,n){return n[1]==l[1]?n[2]-l[2]:n[1]-l[1]})),this.common.params={title:"SiteWise Vehicle List :"+(l.sitename?l.sitename:l.vehicle_id),headings:e,data:a},this.modalService.open($e.a,{size:"lg",container:"nb-layout"})},l}(),pd=t["\u0275crt"]({encapsulation:0,styles:[[".btn-primary[_ngcontent-%COMP%]{padding:6px 15px;border-radius:5px;border:0;text-transform:capitalize;cursor:pointer!important;width:100%}.vertical[_ngcontent-%COMP%]{-webkit-writing-mode:tb-rl;-ms-writing-mode:tb-rl;writing-mode:tb-rl;-webkit-transform:rotate(90deg);transform:rotate(90deg);white-space:nowrap;display:block;bottom:0;width:20px;height:20px}.chartjs-render-monitor[_ngcontent-%COMP%]{max-height:350px}.xScale[_ngcontent-%COMP%]{margin-left:487px;font-size:16px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#324148;display:table;width:100%;table-layout:fixed;color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1), table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1), table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:auto}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;width:100%;table-layout:fixed;overflow:auto;max-height:calc(100vh - 462px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed;width:100%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#e4e4e4}"]],data:{}});function gd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,18,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,17,"select",[["class","form-control"],["style"," border: 1px solid #324148; font-size: 10px"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,2).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,2).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.period=e)&&a),"ngModelChange"===n&&(a=!1!==o.refresh()&&a),a},null,null)),t["\u0275did"](2,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](4,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](6,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](7,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),t["\u0275did"](8,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](9,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Day"])),(l()(),t["\u0275eld"](11,0,null,null,3,"option",[["value","2"]],null,null,null,null,null)),t["\u0275did"](12,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](13,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Week"])),(l()(),t["\u0275eld"](15,0,null,null,3,"option",[["value","3"]],null,null,null,null,null)),t["\u0275did"](16,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](17,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Month"]))],function(l,n){l(n,4,0,n.component.period),l(n,8,0,"1"),l(n,9,0,"1"),l(n,12,0,"2"),l(n,13,0,"2"),l(n,16,0,"3"),l(n,17,0,"3")},function(l,n){l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending)})}function hd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,58,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,57,"select",[["class","form-control"],["style"," border: 1px solid #324148; font-size: 10px"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,2).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,2).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.weekMonthNumber=e)&&a),"ngModelChange"===n&&(o.getweeklyMothlyTrend(),a=!1!==o.getTrendsVehicleSite()&&a),a},null,null)),t["\u0275did"](2,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](4,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](6,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](7,0,null,null,3,"option",[["value","4"]],null,null,null,null,null)),t["\u0275did"](8,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](9,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["4"])),(l()(),t["\u0275eld"](11,0,null,null,3,"option",[["value","5"]],null,null,null,null,null)),t["\u0275did"](12,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](13,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["5"])),(l()(),t["\u0275eld"](15,0,null,null,3,"option",[["value","6"]],null,null,null,null,null)),t["\u0275did"](16,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](17,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["6"])),(l()(),t["\u0275eld"](19,0,null,null,3,"option",[["value","7"]],null,null,null,null,null)),t["\u0275did"](20,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](21,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["7"])),(l()(),t["\u0275eld"](23,0,null,null,3,"option",[["value","8"]],null,null,null,null,null)),t["\u0275did"](24,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](25,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["8"])),(l()(),t["\u0275eld"](27,0,null,null,3,"option",[["value","9"]],null,null,null,null,null)),t["\u0275did"](28,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](29,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["9"])),(l()(),t["\u0275eld"](31,0,null,null,3,"option",[["value","10"]],null,null,null,null,null)),t["\u0275did"](32,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](33,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["10"])),(l()(),t["\u0275eld"](35,0,null,null,3,"option",[["value","11"]],null,null,null,null,null)),t["\u0275did"](36,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](37,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["11"])),(l()(),t["\u0275eld"](39,0,null,null,3,"option",[["value","12"]],null,null,null,null,null)),t["\u0275did"](40,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](41,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["12"])),(l()(),t["\u0275eld"](43,0,null,null,3,"option",[["value","13"]],null,null,null,null,null)),t["\u0275did"](44,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](45,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["13"])),(l()(),t["\u0275eld"](47,0,null,null,3,"option",[["value","14"]],null,null,null,null,null)),t["\u0275did"](48,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](49,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["14"])),(l()(),t["\u0275eld"](51,0,null,null,3,"option",[["value","15"]],null,null,null,null,null)),t["\u0275did"](52,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](53,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["15"])),(l()(),t["\u0275eld"](55,0,null,null,3,"option",[["value","16"]],null,null,null,null,null)),t["\u0275did"](56,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](57,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["16"]))],function(l,n){l(n,4,0,n.component.weekMonthNumber),l(n,8,0,"4"),l(n,9,0,"4"),l(n,12,0,"5"),l(n,13,0,"5"),l(n,16,0,"6"),l(n,17,0,"6"),l(n,20,0,"7"),l(n,21,0,"7"),l(n,24,0,"8"),l(n,25,0,"8"),l(n,28,0,"9"),l(n,29,0,"9"),l(n,32,0,"10"),l(n,33,0,"10"),l(n,36,0,"11"),l(n,37,0,"11"),l(n,40,0,"12"),l(n,41,0,"12"),l(n,44,0,"13"),l(n,45,0,"13"),l(n,48,0,"14"),l(n,49,0,"14"),l(n,52,0,"15"),l(n,53,0,"15"),l(n,56,0,"16"),l(n,57,0,"16")},function(l,n){l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending)})}function md(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,30,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,29,"select",[["class","form-control"],["style"," border: 1px solid #324148; font-size: 10px"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,2).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,2).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.weekMonthNumber=e)&&a),"ngModelChange"===n&&(o.getweeklyMothlyTrend(),a=!1!==o.getTrendsVehicleSite()&&a),a},null,null)),t["\u0275did"](2,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](4,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](6,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](7,0,null,null,3,"option",[["value","3"]],null,null,null,null,null)),t["\u0275did"](8,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](9,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["3"])),(l()(),t["\u0275eld"](11,0,null,null,3,"option",[["value","4"]],null,null,null,null,null)),t["\u0275did"](12,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](13,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["4"])),(l()(),t["\u0275eld"](15,0,null,null,3,"option",[["value","5"]],null,null,null,null,null)),t["\u0275did"](16,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](17,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["5"])),(l()(),t["\u0275eld"](19,0,null,null,3,"option",[["value","6"]],null,null,null,null,null)),t["\u0275did"](20,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](21,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["6"])),(l()(),t["\u0275eld"](23,0,null,null,3,"option",[["value","7"]],null,null,null,null,null)),t["\u0275did"](24,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](25,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["7"])),(l()(),t["\u0275eld"](27,0,null,null,3,"option",[["value","8"]],null,null,null,null,null)),t["\u0275did"](28,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](29,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["8"]))],function(l,n){l(n,4,0,n.component.weekMonthNumber),l(n,8,0,"3"),l(n,9,0,"3"),l(n,12,0,"4"),l(n,13,0,"4"),l(n,16,0,"5"),l(n,17,0,"5"),l(n,20,0,"6"),l(n,21,0,"6"),l(n,24,0,"7"),l(n,25,0,"7"),l(n,28,0,"8"),l(n,29,0,"8")},function(l,n){l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending)})}function fd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startDate=e)&&t),t},le.b,le.a)),t["\u0275did"](2,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"})],function(l,n){l(n,2,0,!1,n.component.startDate)},null)}function vd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.endDate=e)&&t),t},le.b,le.a)),t["\u0275did"](2,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],isStart:[1,"isStart"],dateTimeValue:[2,"dateTimeValue"]},{onChanged:"onChanged"})],function(l,n){l(n,2,0,!1,!1,n.component.endDate)},null)}function bd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.refresh()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Submit"]))],null,null)}function xd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"chart",[["style","margin-right:5px;height:250px"]],null,null,null,R.b,R.a)),t["\u0275did"](1,638976,null,0,I.ChartComponent,[t.ElementRef,t.NgZone],{type:[0,"type"],data:[1,"data"],options:[2,"options"]},null)],function(l,n){var e=n.component;l(n,1,0,e.chart.type,e.chart.dataSet,e.chart.options)},null)}function yd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,xd)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.chart.type)},null)}function Cd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,2,"td",[["style","text-align: center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),t["\u0275ppd"](5,2),(l()(),t["\u0275eld"](6,0,null,null,1,"td",[["style","text-align: center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,["",""])),(l()(),t["\u0275eld"](8,0,null,null,2,"td",[["style","text-align: center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,["",""])),t["\u0275ppd"](10,2)],null,function(l,n){l(n,2,0,n.context.$implicit.vehicle_id);var e=t["\u0275unv"](n,4,0,l(n,5,0,t["\u0275nov"](n.parent.parent,0),n.context.$implicit.onward,"1.2-2"));l(n,4,0,e),l(n,7,0,n.context.$implicit.hlt_count);var a=t["\u0275unv"](n,9,0,l(n,10,0,t["\u0275nov"](n.parent.parent,0),n.context.$implicit.total_halt,"1.2-2"));l(n,9,0,a)})}function _d(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,"div",[["class","row "],["style","margin-top: 10px"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,14,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,13,"table",[["class","table table-border "]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,9,"thead",[["class","thead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Regno"])),(l()(),t["\u0275eld"](7,0,null,null,1,"th",[["style","text-align: center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Avg Onward/Day(Hr)"])),(l()(),t["\u0275eld"](9,0,null,null,1,"th",[["style","text-align: center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Halt Count"])),(l()(),t["\u0275eld"](11,0,null,null,1,"th",[["style","text-align: center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Average Halt(Hr)"])),(l()(),t["\u0275eld"](13,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Cd)),t["\u0275did"](15,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,15,0,n.component.trendsVehicleData)},null)}function wd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"th",[["style","text-align: center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Average loading Hours(Hr)"]))],null,null)}function Md(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"th",[["style","text-align: center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Average Unloading Hours(Hr)"]))],null,null)}function Td(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"th",[["style","text-align: center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Loading Count "]))],null,null)}function Dd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"th",[["style","text-align: center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["UnLoading Count"]))],null,null)}function Pd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"td",[["style","text-align: center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "])),t["\u0275ppd"](2,2)],null,function(l,n){var e=t["\u0275unv"](n,1,0,l(n,2,0,t["\u0275nov"](n.parent.parent.parent.parent,0),n.parent.parent.context.$implicit.loading_hrs,"1.2-2"));l(n,1,0,e)})}function Od(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"td",[["style","text-align: center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "])),t["\u0275ppd"](2,2)],null,function(l,n){var e=t["\u0275unv"](n,1,0,l(n,2,0,t["\u0275nov"](n.parent.parent.parent.parent,0),n.parent.parent.context.$implicit.unloading_hrs,"1.2-2"));l(n,1,0,e)})}function kd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"td",[["style","color:#00695C;text-align: center; cursor: pointer;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==(l.parent.parent.context.$implicit.ldng_count>0?l.component.getPendingStatus(l.parent.parent.context.$implicit,"vehicle"):"")&&t),t},null,null)),(l()(),t["\u0275ted"](1,null,[" ",""]))],null,function(l,n){l(n,1,0,n.parent.parent.context.$implicit.ldng_count)})}function Rd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"td",[["style","color:#E91E63; cursor: pointer;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==(l.parent.parent.context.$implicit.unldng_count>0?l.component.getPendingStatus(l.parent.parent.context.$implicit,"vehicle"):"")&&t),t},null,null)),(l()(),t["\u0275ted"](1,null,[" ",""]))],null,function(l,n){l(n,1,0,n.parent.parent.context.$implicit.unldng_count)})}function Id(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"td",[["style","color:#00695C; "]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.locationOnMap(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275ted"](2,null,[" ",""])),(l()(),t["\u0275and"](16777216,null,null,1,null,Pd)),t["\u0275did"](4,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Od)),t["\u0275did"](6,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,kd)),t["\u0275did"](8,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Rd)),t["\u0275did"](10,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,4,0,"11"==e.trendType),l(n,6,0,"21"==e.trendType),l(n,8,0,"11"==e.trendType),l(n,10,0,"21"==e.trendType)},function(l,n){l(n,2,0,n.parent.context.$implicit.sitename)})}function Sd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Id)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,n){var e=n.component;l(n,2,0,"11"==e.trendType&&0!=n.context.$implicit.ldng_count&&0!=n.context.$implicit.loading_hrs||"21"==e.trendType&&0!=n.context.$implicit.unloading_hrs&&0!=n.context.$implicit.unldng_count)},null)}function Ad(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Regno"]))],null,null)}function Fd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"th",[["style","text-align:center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Average Loading Hours(Hr)"]))],null,null)}function Ed(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"th",[["style","text-align:center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Average Unloading Hours(Hr) "]))],null,null)}function Vd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"th",[["style","text-align:center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Loading Count "]))],null,null)}function Ld(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"th",[["style","text-align:center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["UnLoading Count"]))],null,null)}function Nd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,n){l(n,1,0,n.parent.parent.context.$implicit.vehicle_id)})}function Hd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"td",[["style","text-align:center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" ",""])),t["\u0275ppd"](2,2)],null,function(l,n){var e=t["\u0275unv"](n,1,0,l(n,2,0,t["\u0275nov"](n.parent.parent.parent.parent,0),n.parent.parent.context.$implicit.loading_hrs,"1.2-2"));l(n,1,0,e)})}function zd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"td",[["style","text-align:center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "])),t["\u0275ppd"](2,2)],null,function(l,n){var e=t["\u0275unv"](n,1,0,l(n,2,0,t["\u0275nov"](n.parent.parent.parent.parent,0),n.parent.parent.context.$implicit.unloading_hrs,"1.2-2"));l(n,1,0,e)})}function jd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"td",[["style","color:#00695C;text-align: center; cursor: pointer;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==(l.parent.parent.context.$implicit.ldng_count>0?l.component.getPendingStatus(l.parent.parent.context.$implicit,"site"):"")&&t),t},null,null)),(l()(),t["\u0275ted"](1,null,[" ",""]))],null,function(l,n){l(n,1,0,n.parent.parent.context.$implicit.ldng_count)})}function Ud(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"td",[["style","color:#E91E63;cursor: pointer; text-align: center"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==(l.parent.parent.context.$implicit.unldng_count>0?l.component.getPendingStatus(l.parent.parent.context.$implicit,"site"):"")&&t),t},null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.parent.parent.context.$implicit.unldng_count)})}function $d(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Nd)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Hd)),t["\u0275did"](4,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,zd)),t["\u0275did"](6,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,jd)),t["\u0275did"](8,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ud)),t["\u0275did"](10,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,"11"==e.trendType||"21"==e.trendType),l(n,4,0,"11"==e.trendType),l(n,6,0,"21"==e.trendType),l(n,8,0,"11"==e.trendType),l(n,10,0,"21"==e.trendType)},null)}function qd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,$d)),t["\u0275did"](2,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,n){var e=n.component;l(n,2,0,"11"==e.trendType&&0!=n.context.$implicit.ldng_count||"21"==e.trendType&&0!=n.context.$implicit.unldng_count)},null)}function Gd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,34,"div",[["class","row "],["style","margin-top: 10px"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,16,"div",[["class","col-sm-6"],["style","overflow:auto;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,15,"table",[["class","table table-border "]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,11,"thead",[["class","thead "]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Site Name"])),(l()(),t["\u0275and"](16777216,null,null,1,null,wd)),t["\u0275did"](8,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Md)),t["\u0275did"](10,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Td)),t["\u0275did"](12,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Dd)),t["\u0275did"](14,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](15,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Sd)),t["\u0275did"](17,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](18,0,null,null,16,"div",[["class","col-sm-6 pr-0 "]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,15,"table",[["class","table table-border "]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,11,"thead",[["class","thead "]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ad)),t["\u0275did"](23,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Fd)),t["\u0275did"](25,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ed)),t["\u0275did"](27,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Vd)),t["\u0275did"](29,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ld)),t["\u0275did"](31,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](32,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,qd)),t["\u0275did"](34,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,8,0,"11"==e.trendType),l(n,10,0,"21"==e.trendType),l(n,12,0,"11"==e.trendType),l(n,14,0,"21"==e.trendType),l(n,17,0,e.trendsVehicleSiteData),l(n,23,0,"11"==e.trendType||"21"==e.trendType),l(n,25,0,"11"==e.trendType),l(n,27,0,"21"==e.trendType),l(n,29,0,"11"==e.trendType),l(n,31,0,"21"==e.trendType),l(n,34,0,e.trendsVehicleData)},null)}function Bd(l){return t["\u0275vid"](0,[t["\u0275pid"](0,_.DecimalPipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,52,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](2,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](3,0,null,1,50,"nb-card-body",[["style","padding:15px 15px 0px;"]],null,null,null,O.d,O.a)),t["\u0275did"](4,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,48,"div",[["class","model-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,35,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,22,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,21,"select",[["class","form-control"],["style"," border: 1px solid #324148; font-size: 10px"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,9).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,9).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.trendType=e)&&a),"ngModelChange"===n&&(a=!1!==o.getCategoryDayMonthWeekWise(o.trendType)&&a),a},null,null)),t["\u0275did"](9,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](11,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](13,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](14,0,null,null,3,"option",[["value","11"]],null,null,null,null,null)),t["\u0275did"](15,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](16,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Loading"])),(l()(),t["\u0275eld"](18,0,null,null,3,"option",[["value","21"]],null,null,null,null,null)),t["\u0275did"](19,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](20,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Unloading"])),(l()(),t["\u0275eld"](22,0,null,null,3,"option",[["value","0"]],null,null,null,null,null)),t["\u0275did"](23,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](24,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Onward"])),(l()(),t["\u0275eld"](26,0,null,null,3,"option",[["value","31"]],null,null,null,null,null)),t["\u0275did"](27,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](28,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Onward - KMPD"])),(l()(),t["\u0275and"](16777216,null,null,1,null,gd)),t["\u0275did"](31,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,hd)),t["\u0275did"](33,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,md)),t["\u0275did"](35,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,fd)),t["\u0275did"](37,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,vd)),t["\u0275did"](39,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,bd)),t["\u0275did"](41,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](42,0,null,null,0,"div",[["class","border"],["style","height:2px; color:darkslategray;margin-top: 10px; margin-bottom: 10px"]],null,null,null,null,null)),(l()(),t["\u0275eld"](43,0,null,null,2,"div",[["class","row"],["style","margin-top: -23px;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,yd)),t["\u0275did"](45,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](46,0,null,null,3,"div",[["class","row"],["style","margin-top: -18px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](47,0,null,null,2,"div",[["class","col  text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](48,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](49,null,["Vehicle Count:",""])),(l()(),t["\u0275and"](16777216,null,null,1,null,_d)),t["\u0275did"](51,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Gd)),t["\u0275did"](53,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,11,0,e.trendType),l(n,15,0,"11"),l(n,16,0,"11"),l(n,19,0,"21"),l(n,20,0,"21"),l(n,23,0,"0"),l(n,24,0,"0"),l(n,27,0,"31"),l(n,28,0,"31"),l(n,31,0,e.showPeriod),l(n,33,0,"2"==e.period),l(n,35,0,"3"==e.period),l(n,37,0,"1"==e.period),l(n,39,0,"1"==e.period),l(n,41,0,"1"==e.period),l(n,45,0,e.dateDay.length>0),l(n,51,0,"0"==e.trendType),l(n,53,0,"11"==e.trendType||"21"==e.trendType)},function(l,n){var e=n.component;l(n,1,1,[t["\u0275nov"](n,2).xxsmall,t["\u0275nov"](n,2).xsmall,t["\u0275nov"](n,2).small,t["\u0275nov"](n,2).medium,t["\u0275nov"](n,2).large,t["\u0275nov"](n,2).xlarge,t["\u0275nov"](n,2).xxlarge,t["\u0275nov"](n,2).active,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2).primary,t["\u0275nov"](n,2).info,t["\u0275nov"](n,2).success,t["\u0275nov"](n,2).warning,t["\u0275nov"](n,2).danger,t["\u0275nov"](n,2).hasAccent,t["\u0275nov"](n,2).primaryAccent,t["\u0275nov"](n,2).infoAccent,t["\u0275nov"](n,2).successAccent,t["\u0275nov"](n,2).warningAccent,t["\u0275nov"](n,2).dangerAccent,t["\u0275nov"](n,2).activeAccent,t["\u0275nov"](n,2).disabledAccent]),l(n,8,0,t["\u0275nov"](n,13).ngClassUntouched,t["\u0275nov"](n,13).ngClassTouched,t["\u0275nov"](n,13).ngClassPristine,t["\u0275nov"](n,13).ngClassDirty,t["\u0275nov"](n,13).ngClassValid,t["\u0275nov"](n,13).ngClassInvalid,t["\u0275nov"](n,13).ngClassPending),l(n,49,0,e.vehicleCount)})}function Wd(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"trends-fo",[],null,null,null,Bd,pd)),t["\u0275did"](1,114688,null,0,cd,[F.a,a.a,_.DatePipe,al.u,W.a],null,null)],function(l,n){l(n,1,0)},null)}var Kd=t["\u0275ccf"]("trends-fo",cd,Wd,{},{},[]),Jd=e("GmXA"),Yd=e("Nwm+"),Zd=e("k6ZE"),Qd=function(){function l(l,n,e,t,a){this.api=l,this.common=n,this.datePipe=e,this.user=t,this.modalService=a,this.startTime=new Date((new Date).setDate((new Date).getDate()-7)),this.endTime=new Date,this.data=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={},this.common.refresh=this.refresh.bind(this),this.viewMvcFreightStaement()}return l.prototype.ngOnInit=function(){},l.prototype.viewMvcFreightStaement=function(){var l=this;if(this.startTime&&this.endTime){var n={startTime:this.common.dateFormatter(this.startTime),endTime:this.common.dateFormatter(this.endTime)};console.log("params",n),++this.common.loading,this.api.post("FrieghtRate/getMVSFreightInvoices",n).subscribe(function(n){if(--l.common.loading,l.data=[],l.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},l.headings=[],l.valobj={},n.data){l.data=n.data;var e=l.data[0];for(var t in e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:l.formatTitle(t),placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}l.table.data.columns=l.getTableColumns()}},function(n){--l.common.loading,l.common.showError(n),console.log("Error: ",n)})}else this.common.showError("Dates cannot be blank.")},l.prototype.getTableColumns=function(){var l=this,n=[];return console.log("Data=",this.data),this.data.map(function(e){l.valobj={};for(var t=0;t<l.headings.length;t++)console.log("doc index value:",e[l.headings[t]]),l.valobj[l.headings[t]]={value:e[l.headings[t]],class:"black",action:""};l.valobj.Action={class:"",icons:l.actionIcon(e)},n.push(l.valobj)}),n},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.actionIcon=function(l){var n=[];return l._islocked||(n.push({class:"far fa-eye",action:this.lrAssign.bind(this,l)}),this.user.permission.edit&&n.push({class:"far fa-edit",action:this.openMvcFreightModal.bind(this,"Edit",l)}),this.user.permission.delete&&n.push({class:"fas fa-trash-alt",action:this.deleteMvsStatement.bind(this,l)})),l._lrcount>0&&n.push({class:"fas fa-print",action:this.printMVSInvoice.bind(this,l)}),n},l.prototype.lrAssign=function(l){var n=this;this.common.handleModalSize("class","modal-lg","1300"),this.common.params={row:l},this.modalService.open(Jd.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){console.log("Date:",l),l&&n.viewMvcFreightStaement()})},l.prototype.refresh=function(){this.viewMvcFreightStaement()},l.prototype.openMvcFreightModal=function(l,n,e){var t=this;console.log("row:",n),this.common.params={mvsFreightId:!!n&&n._id},this.modalService.open(Yd.a,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"print-lr"}).result.then(function(l){t.viewMvcFreightStaement()})},l.prototype.deleteMvsStatement=function(l){var n=this;console.log("row:",l);var e={id:l._id};l._id&&(this.common.params={title:"Delete  ",description:"<b>&nbsp;Are Sure To Delete This Record<b>"},this.modalService.open(ee.a,{size:"sm",container:"nb-layout",backdrop:"static",keyboard:!1,windowClass:"accountModalClass"}).result.then(function(l){l.response&&(n.common.loading++,n.api.post("FrieghtRate/deleteMVSFreightInvoices",e).subscribe(function(l){n.common.loading--,l.data[0].r_id?(n.common.showToast("Deleted successfully"),n.viewMvcFreightStaement()):n.common.showError(l.data[0].r_msg)},function(l){n.common.loading--,console.log("Error: ",l)}))}))},l.prototype.printMVSInvoice=function(l){this.common.params={invoice:{id:l._id}},this.modalService.open(Zd.a,{size:"lg",container:"nb-layout",backdrop:"static",windowClass:"print-lr"}).result.then(function(l){console.log("Date:",l)})},l}(),Xd=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]     .tableFixHead table tr td i{width:18px;text-align:center;margin:4px}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-eye{color:red;font-size:18px;cursor:pointer}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-eye span{position:absolute;display:none;padding:10px 22px;font-weight:400;font-size:11px;left:-8px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-eye span::before{content:'View';display:block;position:absolute;top:0;left:0;background-color:red;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-eye span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid red;position:absolute;bottom:-5px;right:16px}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-eye:hover span{display:block}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-trash-alt{color:#f53004;font-size:18px;cursor:pointer}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-trash-alt span{position:absolute;display:none;padding:10px 28px;font-weight:400;font-size:11px;left:-12px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-trash-alt span::before{content:'Delete';display:block;position:absolute;top:0;left:0;background-color:#f53004;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-trash-alt span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #f53004;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-trash-alt:hover span{display:block}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-print{color:#773fff;font-size:18px;cursor:pointer}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-print span{position:absolute;display:none;padding:10px 26px;font-weight:400;font-size:11px;left:-14px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-print span::before{content:'Print';display:block;position:absolute;top:0;left:0;background-color:#773fff;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-print span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #773fff;position:absolute;bottom:-5px;right:18px}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-print:hover span{display:block}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-inr{color:#ea3fff;font-size:18px;cursor:pointer}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-inr span{position:absolute;display:none;padding:10px 26px;font-weight:400;font-size:11px;left:-14px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-inr span::before{content:'Rate';display:block;position:absolute;top:0;left:0;background-color:#ea3fff;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-inr span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #ea3fff;position:absolute;bottom:-5px;right:18px}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-inr:hover span{display:block}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-edit{color:#000;font-size:18px;cursor:pointer}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-edit span{position:absolute;display:none;padding:10px 22px;font-weight:400;font-size:11px;left:-14px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-edit span::before{content:'Edit';display:block;position:absolute;top:0;left:0;background-color:#000;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-edit span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #000;position:absolute;bottom:-5px;right:14px}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-edit:hover span{display:block}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-file{color:#000;font-size:18px;cursor:pointer}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-file span{position:absolute;display:none;padding:10px 42px;font-weight:400;font-size:11px;left:-40px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-file span::before{content:'Support Doc';display:block;position:absolute;top:0;left:0;background-color:#000;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-file span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #000;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .tableFixHead table tr td i.fa-file:hover span{display:block}nb-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px;border-radius:3px;text-transform:capitalize;width:100%}"]],data:{}});function lc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-primary m-0"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openMvcFreightModal("Add",null)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Add"]))],null,null)}function nc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","mvsStatement"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function ec(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data available ! "]))],null,null)}function tc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,25,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["MVS Freight Statement"])),(l()(),t["\u0275eld"](6,0,null,1,19,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](8,0,null,0,12,"div",[["class","row"],["style","margin-top:10px; margin-bottom:10px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","col-md-2 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startTime=e)&&t),t},le.b,le.a)),t["\u0275did"](11,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](12,0,null,null,2,"div",[["class","col-md-2 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.endTime=e)&&t),t},le.b,le.a)),t["\u0275did"](14,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],isStart:[1,"isStart"],dateTimeValue:[2,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](15,0,null,null,2,"div",[["class","col-md-2 "]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,1,"button",[["class","btn btn-primary m-0"],["type","submit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.viewMvcFreightStaement()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Search"])),(l()(),t["\u0275eld"](18,0,null,null,2,"div",[["class","col-md-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,lc)),t["\u0275did"](20,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](21,0,null,0,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,nc)),t["\u0275did"](23,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ec)),t["\u0275did"](25,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,11,0,!1,e.startTime),l(n,14,0,!1,!1,e.endTime),l(n,20,0,e.user.permission.add),l(n,23,0,e.data&&e.data.length),l(n,25,0,0==e.data.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function ac(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"mvs-freight-statement",[],null,null,null,tc,Xd)),t["\u0275did"](1,114688,null,0,Qd,[a.a,F.a,_.DatePipe,i.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var oc=t["\u0275ccf"]("mvs-freight-statement",Qd,ac,{},{},[]),ic=e("zKWU"),uc=function(){function l(l,n,e){this.common=l,this.api=n,this.modalService=e,this.unMerge=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.common.refresh=this.refresh.bind(this),this.getUnmergeStateList()}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getUnmergeStateList()},l.prototype.getUnmergeStateList=function(){var l=this;this.common.loading++,this.api.get("HaltOperations/getUnmergedLrVehicles?").subscribe(function(n){l.common.loading--,console.log("Res:",n),l.unMerge=n.data||[],l.setTable()},function(n){l.common.loading--,l.common.showError(),console.log("Error:",n)})},l.prototype.setTable=function(){this.table.data={headings:this.generateHeadings(),columns:this.genearateColumns()}},l.prototype.generateHeadings=function(){var l={};for(var n in this.unMerge[0])"_"!=n.charAt(0)&&(l[n]={title:this.formatTitle(n),placeholder:this.formatTitle(n)});return l},l.prototype.genearateColumns=function(){var l=this,n=[];return this.unMerge.map(function(e){var t={};for(var a in l.generateHeadings())"Action"==a?t.Action={class:"fas fa-eye",action:l.lrState.bind(l,e)}:t[a]={value:e[a],class:"black"};n.push(t)}),n},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.lrState=function(l){this.common.params={unMergeStateData:{vehicleId:l.vehicle_id,regno:l.regno}},this.modalService.open(ic.a,{size:"lg",container:"nb-layout",backdrop:"static"})},l}(),rc=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function sc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-data alert alert-danger"],["role","alert"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data Available On That Time Period ! "]))],null,null)}function dc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function cc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Unmerge LR State"])),(l()(),t["\u0275eld"](6,0,null,1,6,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,sc)),t["\u0275did"](9,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](10,0,null,0,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,dc)),t["\u0275did"](12,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,9,0,0==e.unMerge.length),l(n,12,0,e.unMerge.length>0)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function pc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"unmerge-lrstate",[],null,null,null,cc,rc)),t["\u0275did"](1,114688,null,0,uc,[F.a,a.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var gc=t["\u0275ccf"]("unmerge-lrstate",uc,pc,{},{},[]),hc=e("meIB"),mc=function(){function l(l,n,e,t,a){this.api=l,this.common=n,this.user=e,this.modalService=t,this.activeModal=a,this.supplierAssociationData=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.common.refresh=this.refresh.bind(this),this.getvehicleSupplierData()}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getvehicleSupplierData()},l.prototype.getvehicleSupplierData=function(){var l=this;this.common.loading++,this.api.get("ManageParty/getVehicleSupplierAssoc?").subscribe(function(n){l.common.loading--,console.log("res:",n),l.supplierAssociationData=n.data||[],l.supplierAssociationData.length?l.setTable():l.resetTable()},function(n){l.common.loading--,console.log(n)})},l.prototype.resetTable=function(){this.table.data={headings:{},columns:[]}},l.prototype.setTable=function(){return this.table.data={headings:this.generateHeadings(),columns:this.getTableColumns()},!0},l.prototype.generateHeadings=function(){var l={};for(var n in this.supplierAssociationData[0])"_"!=n.charAt(0)&&(l[n]={title:n,placeholder:this.formatTitle(n)});return l},l.prototype.formatTitle=function(l){return l.indexOf("_")>0?l.toLowerCase().split("_").map(function(l){return l[0].toUpperCase()+l.slice(1)}).join(" "):l.charAt(0).toUpperCase()+l.substr(1)},l.prototype.getTableColumns=function(){var l=this,n=[];return this.supplierAssociationData.map(function(e){var t={};for(var a in l.generateHeadings())t[a]="Action"==a?{value:"",isHTML:!1,action:null,icons:l.actionIcons(e)}:{value:e[a],class:"black",action:""};n.push(t)}),n},l.prototype.actionIcons=function(l){var n=[];return this.user.permission.edit&&n.push({class:"fa fa-edit mr-3",action:this.editSupplier.bind(this,l)}),this.user.permission.delete&&n.push({class:"fa fa-trash",action:this.deleteSupplier.bind(this,l)}),n},l.prototype.addSupplierAssociation=function(){var l=this;this.modalService.open(hc.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(n){n.response&&l.getvehicleSupplierData()})},l.prototype.editSupplier=function(l){var n=this;this.common.params={vehicleSupplier:{id:l._rowid}},this.modalService.open(hc.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){l.response&&n.getvehicleSupplierData()})},l.prototype.deleteSupplier=function(l){var n=this;console.log("delete",l);var e={rowId:l._rowid};l._rowid&&(this.common.params={title:"Delete Vehicle Supplier ",description:"<b>&nbsp;Are Sure To Delete This Record<b>"},this.modalService.open(ee.a,{size:"sm",container:"nb-layout",backdrop:"static",keyboard:!1,windowClass:"accountModalClass"}).result.then(function(l){l.response&&(n.common.loading++,n.api.post("ManageParty/deleteVehicleSupplierAssoc",e).subscribe(function(l){n.common.loading--,console.log("res",l),n.common.showToast(l.msg),n.getvehicleSupplierData()},function(l){n.common.loading--,console.log("Error: ",l)}))}))},l}(),fc=t["\u0275crt"]({encapsulation:0,styles:[['[_nghost-%COMP%]     .fa-trash{color:red;font-size:16px;cursor:pointer}[_nghost-%COMP%]     .fa-trash span{position:absolute;display:none;padding:10px 28px;font-weight:400;font-size:11px;left:-22px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-trash span::before{content:"Delete";display:block;position:absolute;top:0;left:0;background-color:red;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-trash span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid red;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-trash:hover span{display:block}[_nghost-%COMP%]     .fa-edit{color:#000;font-size:16px;cursor:pointer}[_nghost-%COMP%]     .fa-edit span{position:absolute;display:none;padding:10px 28px;font-weight:400;font-size:11px;left:-22px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-edit span::before{content:"Edit";display:block;position:absolute;top:0;left:0;background-color:#000;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-edit span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #000;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-edit:hover span{display:block}'],d.a],data:{}});function vc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-primary"],["name","add"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addSupplierAssociation()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Add"]))],null,null)}function bc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","vehcileSupplier"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function xc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,8,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","col-9"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vehicle Supplier Association"])),(l()(),t["\u0275eld"](8,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,vc)),t["\u0275did"](10,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](11,0,null,1,3,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](12,49152,null,0,k.a,[],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,bc)),t["\u0275did"](14,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,10,0,e.user.permission.add),l(n,14,0,e.supplierAssociationData&&e.supplierAssociationData.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function yc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"vehicle-supplier-association",[],null,null,null,xc,fc)),t["\u0275did"](1,114688,null,0,mc,[a.a,F.a,i.a,al.u,al.d],null,null)],function(l,n){l(n,1,0)},null)}var Cc=t["\u0275ccf"]("vehicle-supplier-association",mc,yc,{},{},[]),_c=e("VTeO"),wc=function(){function l(l,n,e,t){this.modalService=l,this.common=n,this.user=e,this.api=t,this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.mvGpsApiDetails=[],this.getMvGpsDetails()}return l.prototype.ngOnInit=function(){},l.prototype.getMvGpsDetails=function(){var l=this;this.common.loading++,this.api.get("GpsData/getMvGpsDetailsWrtFo").subscribe(function(n){console.log("Res:",n),l.common.loading--,l.clearAllTableData(),n.data?(l.mvGpsApiDetails=n.data,l.setTable()):l.common.showError("Data Not Found")},function(n){l.common.loading--,l.common.showError(n)})},l.prototype.setTable=function(){this.table.data={headings:this.generateHeadings(this.mvGpsApiDetails[0]),columns:this.getColumns(this.mvGpsApiDetails,this.mvGpsApiDetails[0])}},l.prototype.generateHeadings=function(l){var n={};for(var e in l)"_"!=e.charAt(0)&&(n[e]={title:this.formatTitle(e),placeholder:this.formatTitle(e)});return n},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.getColumns=function(l,n){var e=this,t=[];return l.map(function(l){var a={};for(var o in e.generateHeadings(n))a[o]="Action"==o?{value:"",action:null,icons:e.actionIcons(l)}:{value:l[o],class:"black",action:""};t.push(a)}),t},l.prototype.actionIcons=function(l){var n=[];return this.user.permission.edit&&n.push({class:"far fa-edit",action:this.addEditGpsApiUrl.bind(this,l)}),this.user.permission.delete&&n.push({class:"fas fa-trash",action:this.deleteGpsApiUrl.bind(this,l._id)}),n},l.prototype.addEditGpsApiUrl=function(l){var n=this;this.common.params=null,l&&(this.common.params=l),this.modalService.open(_c.a,{size:"lg",container:"nb-layout",backdrop:"static"}).result.then(function(l){l.response&&n.getMvGpsDetails()})},l.prototype.deleteGpsApiUrl=function(l){var n=this,e={rowId:l};this.common.loading++,this.api.post("GpsData/deleteMvGpsDetails",e).subscribe(function(l){--n.common.loading,n.common.showToast(l.msg),n.getMvGpsDetails()},function(l){--n.common.loading,console.error(" Api Error:",l)})},l.prototype.clearAllTableData=function(){this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}}},l}(),Mc=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]    .fa-trash{color:red}"]],data:{}});function Tc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-primary"],["style","margin-left: 752px;"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addEditGpsApiUrl()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Add Gps Api Url"]))],null,null)}function Dc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","PaymentRequest"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function Pc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,"nb-card",[["style","border: 0px; height: 100%;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,8,"nb-card-header",[["class","gps-api"]],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"h5",[["style","margin-top: 12px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["MV GPS APIS"])),(l()(),t["\u0275eld"](8,0,null,null,2,"div",[["class","col-10"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Tc)),t["\u0275did"](10,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](11,0,null,1,4,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](12,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](13,0,null,0,2,"div",[["class","mv-gps-api"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Dc)),t["\u0275did"](15,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,10,0,e.user.permission.add),l(n,15,0,e.mvGpsApiDetails&&e.mvGpsApiDetails.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function Oc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"mv-gps-apis",[],null,null,null,Pc,Mc)),t["\u0275did"](1,114688,null,0,wc,[al.u,F.a,i.a,a.a],null,null)],function(l,n){l(n,1,0)},null)}var kc=t["\u0275ccf"]("mv-gps-apis",wc,Oc,{},{},[]),Rc=function(){function l(l,n,e){this.common=l,this.api=n,this.modalService=e,this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.gpsApiHistory=[],this.getGpsApiHistory(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getGpsApiHistory()},l.prototype.getGpsApiHistory=function(){var l=this;this.common.loading++,this.api.get("GpsData/getGpsApiHistory").subscribe(function(n){console.log("Res:",n),l.common.loading--,l.resetTable(),n.data?(l.gpsApiHistory=n.data||[],l.setTable()):l.common.showError("Data Not Found")},function(n){l.common.loading--,l.common.showError(n)})},l.prototype.setTable=function(){this.table.data={headings:this.generateHeadings(this.gpsApiHistory[0]),columns:this.getColumns(this.gpsApiHistory,this.gpsApiHistory[0])}},l.prototype.generateHeadings=function(l){var n={};for(var e in l)"_"!=e.charAt(0)&&(n[e]={title:this.formatTitle(e),placeholder:this.formatTitle(e)});return n},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.getColumns=function(l,n){var e=this,t=[];return l.map(function(l){var a={};for(var o in e.generateHeadings(n))a[o]="Action"==o?{value:"",action:null}:{value:l[o],class:"TotalVeh"==o?"blue":"black",action:"TotalVeh"==o?e.vehicleHistory.bind(e,l):""};t.push(a)}),t},l.prototype.resetTable=function(){this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}}},l.prototype.vehicleHistory=function(l){var n={view:{api:"GpsData/getAllVehicleWrtGpsApi",param:{apiId:l._apiid}},delete:{},title:"Vehicle List"};this.common.handleModalSize("class","modal-lg","1100"),this.common.params={data:n},this.modalService.open(kr.a,{size:"lg",container:"nb-layout",backdrop:"static"})},l}(),Ic=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]    .blue{color:#00f}"]],data:{}});function Sc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","apiHistory"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function Ac(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"nb-card",[["style","border: 0px; height: 100%;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,5,"nb-card-header",[["class","gps-api"]],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","col-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"h5",[["style","margin-top: 12px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["MV GPS API History"])),(l()(),t["\u0275eld"](8,0,null,1,4,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](9,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](10,0,null,0,2,"div",[["class","mv-gps-api-history"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Sc)),t["\u0275did"](12,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,12,0,e.gpsApiHistory&&e.gpsApiHistory.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function Fc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"mv-gps-api-history",[],null,null,null,Ac,Ic)),t["\u0275did"](1,114688,null,0,Rc,[F.a,a.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var Ec=t["\u0275ccf"]("mv-gps-api-history",Rc,Fc,{},{},[]),Vc=function(){function l(l,n,e,t,a,o){var i;this.datePipe=l,this.api=n,this.common=e,this.dateService=t,this.user=a,this.modalService=o,this.startDate=null,this.endDate=null,this.vehicleId=-1,this.vehicleRegNo=null,this.vehicleTrips=[],this.headings=[],this.valobj={},this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.routeid=0,this.routename="",i=new Date,this.endDate=new Date(i),this.startDate=new Date,console.log("start and enddate",this.startDate,this.endDate),this.getRouteTrips(),this.common.refresh=this.refresh.bind(this)}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getRouteTrips()},l.prototype.getRouteTrips=function(){var l=this;this.vehicleTrips=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}};var n=this.common.dateFormatter(this.startDate),e=this.common.dateFormatter(this.endDate);console.log("start & end",n,e);var t={vehicleId:this.vehicleId,Date:n,routeId:this.routeid};console.log("params",t),this.common.loading++,this.api.post("TripExpenseVoucher/getRouteTrips",t).subscribe(function(n){if(l.common.loading--,console.log("Res:",n.data),l.vehicleTrips=n.data,null!=l.vehicleTrips){console.log("vehicleTrips",l.vehicleTrips);var e=l.vehicleTrips[0];for(var t in console.log("first_Rec",e),e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:t,placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}l.table.data.headings.action={title:"Action",placeholder:"Action"},l.table.data.columns=l.getTableColumns(),console.log("table:"),console.log(l.table)}else l.common.showToast("No Record Found !!")},function(n){l.common.loading--,console.log("Err:",n)})},l.prototype.getTableColumns=function(){for(var l=[],n=0;n<this.vehicleTrips.length;n++){this.valobj={};for(var e=0;e<this.headings.length;e++)this.valobj[this.headings[e]]="Trip"==this.headings[e]?{value:this.common.getJSONTripStatusHTML(this.vehicleTrips[n]),isHTML:!0,class:"black"}:{value:this.vehicleTrips[n][this.headings[e]],class:"black",action:""},this.valobj.action={value:"",isHTML:!0,action:null,icons:[{class:"fa fa-pencil-square-o  edit-btn",isHTML:"<h2>test</h2>",action:this.viewRouteTimeTable.bind(this,this.vehicleTrips[n])}]};this.valobj.style={background:this.vehicleTrips[n]._rowcolor},l.push(this.valobj)}return console.log("Columns:",l),l},l.prototype.viewRouteTimeTable=function(l){console.log("hello dost"),this.common.params={routeTime:{vehicleId:this.vehicleId,routeId:l.id,routeTimeId:0,routetrip:1}},this.modalService.open(Js.a,{size:"lg",container:"nb-layout",backdrop:"static"})},l.prototype.update=function(l){console.log("vehicle trip",l),this.common.params={vehicleTrip:l}},l.prototype.searchVehicle=function(l){this.vehicleId=l.id,this.vehicleRegNo=l.regno},l.prototype.searchRoute=function(l){this.routeid=l.id,this.routename=l.name},l.prototype.formatTitle=function(l){return l.indexOf("_")>0?l.toLowerCase().split("_").map(function(l){return l[0].toUpperCase()+l.slice(1)}).join(" "):l.charAt(0).toUpperCase()+l.substr(1)},l}(),Lc=t["\u0275crt"]({encapsulation:0,styles:[["nb-card-header[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #efefef;margin-bottom:10px}.tabset[_ngcontent-%COMP%]{padding:0!important;margin-bottom:20px!important}nb-card-body[_ngcontent-%COMP%]{padding:0 15px}.alert-danger[_ngcontent-%COMP%]{color:#721c24!important;background-color:#f8d7da!important;border-color:#f5c6cb!important;width:80%;margin:0 auto;text-align:center;padding:12px!important;font-size:18px!important}[_nghost-%COMP%]     .tableFixHead{overflow:auto;max-height:calc(100vh - 235px);height:auto!important}[_nghost-%COMP%]     td i.fa-pencil-square-o{background-color:#04a9f5;color:#fff;padding:5px;border-radius:3px;position:relative}[_nghost-%COMP%]     td i.fa-pencil-square-o:hover span{display:block}[_nghost-%COMP%]     td i.fa-pencil-square-o span{position:absolute;display:none;padding:11px 21px;left:-9px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-pencil-square-o span::before{content:'Edit';display:block;position:absolute;top:0;left:0;background-color:#04a9f5;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-pencil-square-o span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #04a9f5;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td i.fa-question-circle{background-color:#1de9b6;color:#fff;padding:5px;border-radius:3px;margin-left:4px;position:relative}[_nghost-%COMP%]     td i.fa-question-circle:hover span{display:block}[_nghost-%COMP%]     td i.fa-question-circle span{position:absolute;display:none;padding:11px 28px;left:-16px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-question-circle span::before{content:'Report';display:block;position:absolute;top:0;left:0;background-color:#1de9b6;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-question-circle span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #1de9b6;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td i.fa-trash{background-color:#f44236;color:#fff;padding:5px;border-radius:3px;margin-left:4px;position:relative}[_nghost-%COMP%]     td i.fa-trash:hover span{display:block}[_nghost-%COMP%]     td i.fa-trash span{position:absolute;display:none;padding:11px 24px;left:-14px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-trash span::before{content:'trash';display:block;position:absolute;top:0;left:0;background-color:#f44236;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-trash span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #f44236;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td i.fa-route{background-color:#ff8091;color:#fff;padding:5px;border-radius:3px;margin-left:4px}[_nghost-%COMP%]     td i.fa-route:hover span{display:block}[_nghost-%COMP%]     td i.fa-route span{position:absolute;display:none;padding:11px 24px;left:-8px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-route span::before{content:'Route';display:block;position:absolute;top:0;left:0;background-color:#ff8091;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-route span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #ff8091;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td i.fa-star{background-color:#8280ff;color:#fff;padding:5px;border-radius:3px;margin-left:4px}[_nghost-%COMP%]     td i.fa-star:hover span{display:block}[_nghost-%COMP%]     td i.fa-star span{position:absolute;display:none;padding:11px 28px;left:-10px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-star span::before{content:'Events';display:block;position:absolute;top:0;left:0;background-color:#8280ff;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-star span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #8280ff;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td i.fa-chart-bar{background-color:#80f54f;color:#fff;padding:5px;border-radius:3px;margin-left:4px}[_nghost-%COMP%]     td i.fa-chart-bar:hover span{display:block}[_nghost-%COMP%]     td i.fa-chart-bar span{position:absolute;display:none;padding:11px 28px;left:-10px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-chart-bar span::before{content:'Status';display:block;position:absolute;top:0;left:0;background-color:#80f54f;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-chart-bar span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #80f54f;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td i.fa-handshake-o{background-color:#15986e;color:#fff;padding:5px;border-radius:3px;margin-left:4px}[_nghost-%COMP%]     td i.fa-handshake-o:hover span{display:block}[_nghost-%COMP%]     td i.fa-handshake-o span{position:absolute;display:none;padding:11px 28px;left:-10px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-handshake-o span::before{content:'Settlement';display:block;position:absolute;top:0;left:0;background-color:#15986e;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-handshake-o span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #15986e;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     td i.fa-chart-pie{background-color:#4ff5e6;color:#fff;padding:5px;border-radius:3px;margin-left:4px}[_nghost-%COMP%]     td i.fa-chart-pie:hover span{display:block}[_nghost-%COMP%]     td i.fa-chart-pie span{position:absolute;display:none;padding:11px 28px;left:-10px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-chart-pie span::before{content:'Status';display:block;position:absolute;top:0;left:0;background-color:#4ff5e6;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-chart-pie span::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #4ff5e6;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}.pdf-icon[_ngcontent-%COMP%]{font-size:30px;color:#9f0001}.exel-icon[_ngcontent-%COMP%]{font-size:30px;color:#217346}"]],data:{}});function Nc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","vehicleTrip"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function Hc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,27,"nb-card",[["style","border: 0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,5,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Route Trips"])),(l()(),t["\u0275eld"](8,0,null,1,19,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](9,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](10,0,null,0,14,"div",[["class","row mb-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,3,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,2,"div",[["class","search_vehicle_input"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,1,"auto-suggestion",[["display","regno"],["placeholder","Search Vehicle"],["url","suggestion/getFoVehicleList"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,14).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==o.searchVehicle(e)&&a),a},Qn.b,Qn.a)),t["\u0275did"](14,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"],preSelected:[3,"preSelected"]},{onSelected:"onSelected"}),(l()(),t["\u0275eld"](15,0,null,null,3,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,2,"div",[["class","search_vehicle_input"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,1,"auto-suggestion",[["display","name"],["placeholder","Search Route"],["url","suggestion/getRoutesWrtFo"]],null,[[null,"onSelected"],["document","click"]],function(l,n,e){var a=!0,o=l.component;return"document:click"===n&&(a=!1!==t["\u0275nov"](l,18).hideSuggestions(e)&&a),"onSelected"===n&&(a=!1!==o.searchRoute(e)&&a),a},Qn.b,Qn.a)),t["\u0275did"](18,4833280,null,0,Xn.a,[a.a,t.ChangeDetectorRef,V.e,F.a],{url:[0,"url"],display:[1,"display"],placeholder:[2,"placeholder"],preSelected:[3,"preSelected"]},{onSelected:"onSelected"}),(l()(),t["\u0275eld"](19,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startDate=e)&&t),t},le.b,le.a)),t["\u0275did"](21,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](22,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,1,"button",[["class","btn btn-primary form-control"],["style","margin:0px;border:0px;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getRouteTrips()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Submit"])),(l()(),t["\u0275and"](16777216,null,0,1,null,Nc)),t["\u0275did"](26,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](27,0,null,0,0,"br",[],null,null,null,null,null))],function(l,n){var e=n.component;l(n,14,0,"suggestion/getFoVehicleList","regno","Search Vehicle",null),l(n,18,0,"suggestion/getRoutesWrtFo","name","Search Route",null),l(n,21,0,!1,e.startDate),l(n,26,0,e.vehicleTrips&&e.vehicleTrips.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function zc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"route-trip",[],null,null,null,Hc,Lc)),t["\u0275did"](1,114688,null,0,Vc,[_.DatePipe,a.a,F.a,Q.a,i.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var jc=t["\u0275ccf"]("route-trip",Vc,zc,{},{},[]),Uc=function(){function l(l,n,e,t,a,o){this.api=l,this.common=n,this.theme=e,this.user=t,this.datepipe=a,this.modalService=o,this.Hours=[],this.dateDay=[],this.startTime=new Date,this.endTime=new Date,this.lastTrend="",this.showtrend=!1,this.showTables=!1,this.Details=[],this.siteDetails=[],this.vehicleDetails=[],this.kmpdDate=[],this.showPeriod=!0,this.dateStr=[],this.trendType="11",this.siteUnloading=[],this.vehicleUnloading=[],this.onWardDistance=[],this.week_month_number="4",this.period="0",this.url="",this.flag="Loading",this.bgColor="#00695C",this.yScale="Hours",this.onWardFlag=!1,this.fromDate="",this.vehicleTrips=[],this.headings=[],this.valobj={},this.lastDurationCategory="",this.element={},this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.Config={type:"line",data:null,options:{responsive:!0,title:{display:!0,text:"Route Summary",fontSize:14,fontColor:"blue"},maintainAspectRatio:!1,lineTension:0,legend:{display:!1},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{x:{display:!0,scaleLabel:{display:!0,labelString:"Month"}},y:{display:!0,scaleLabel:{display:!0,labelString:"Value"}}}}},this.common.refresh=this.refresh.bind(this);var i=new Date;this.startTime=new Date(i.setDate(i.getDate()-7)),this.getTripSummary()}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.getTripSummary()},l.prototype.refreshData=function(l){console.log("Row------",l);var n=[],e=[];Object.keys(l).forEach(function(t){if("Kpi"!==t&&"_kpi_id"!=t){n.push(t);var a=parseInt(l[t].split("$")[0]);e.push(isNaN(a)?0:a)}}),this.Config.data={labels:n,datasets:[{label:"Values",backgroundColor:"#FF0000",borderColor:"#FF0000",data:e,fill:!1,lineTension:0}],options:{legend:!1}}},l.prototype.getTripSummary=function(){var l=this;this.headings=[],this.vehicleTrips=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.Config.data=null;var n=this.common.dateFormatter1(this.startTime),e=this.common.dateFormatter1(this.endTime);console.log("start & end",n,e);var t={startDate:n,endDate:e};console.log("params",t),this.common.loading++,this.api.post("TripExpenseVoucher/getRouteTripSummary",t).subscribe(function(n){if(l.common.loading--,console.log("Res:",n.data),l.vehicleTrips=n.data,null!=l.vehicleTrips){console.log("vehicleTrips",l.vehicleTrips);var e=l.vehicleTrips[0];for(var t in console.log("first_Rec",e),e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:t,placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}l.table.data.columns=l.getTableColumns(),console.log("table:"),console.log(l.table)}else l.common.showToast("No Record Found !!")},function(n){l.common.loading--,console.log("Err:",n)})},l.prototype.getTableColumns=function(){for(var l=[],n=0;n<this.vehicleTrips.length;n++){this.valobj={};for(var e=0;e<this.headings.length;e++)console.log("column*******",this.headings[e]),this.valobj[this.headings[e]]="Kpi"==this.headings[e]?{value:this.vehicleTrips[n][this.headings[e]],class:"black",action:this.refreshData.bind(this,this.vehicleTrips[n])}:{value:this.getSplitData(this.vehicleTrips[n][this.headings[e]]),class:0!=this.getSplitData(this.vehicleTrips[n][this.headings[e]])?"blue":"black",action:0!=this.getSplitData(this.vehicleTrips[n][this.headings[e]])?this.vehicleHistory.bind(this,this.vehicleTrips[n][this.headings[e]],this.vehicleTrips[n]._kpi_id):""};this.valobj.style={background:this.vehicleTrips[n]._rowcolor},l.push(this.valobj)}return console.log("Columns:",l),l},l.prototype.getSplitData=function(l){return l.split("$")[0]},l.prototype.formatTitle=function(l){return l.indexOf("_")>0?l.toLowerCase().split("_").map(function(l){return l[0].toUpperCase()+l.slice(1)}).join(" "):l.charAt(0).toUpperCase()+l.substr(1)},l.prototype.vehicleHistory=function(l,n){console.log("column",l),console.log("id",n);var e={view:{api:"TripExpenseVoucher/getRouteTripSummaryDril",param:{startDate:l.split("$")[1],endDate:l.split("$")[2],type:n}},viewModal:{api:"TripExpenseVoucher/getRouteTripSummaryDril",param:{startDate:"_start",endDate:"_end",type:"_type",levelId:"_id"}},title:"Trip Data"};this.common.handleModalSize("class","modal-lg","1100"),this.common.params={data:e},this.modalService.open(kr.a,{size:"lg",container:"nb-layout",backdrop:"static"})},l}(),$c=t["\u0275crt"]({encapsulation:0,styles:[["input[type=text][_ngcontent-%COMP%]{width:100%;height:30px;padding-left:5px;font-size:10px;border:1px solid #324148;border-radius:3px}.btn-primary[_ngcontent-%COMP%]{padding:6px 15px;border-radius:5px;border:0;text-transform:capitalize;cursor:pointer!important;width:100%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#324148;display:table;width:100%;table-layout:fixed;color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1), table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:320px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:110px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:auto}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;display:block;width:100%;table-layout:fixed;overflow:auto;max-height:calc(100vh - 405px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed;width:100%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#e4e4e4}[_nghost-%COMP%]     .blue{color:#00f;cursor:pointer}[_nghost-%COMP%]     .black{color:#000;cursor:pointer}[_nghost-%COMP%]     th:nth-child(1){width:30px!important}[_nghost-%COMP%]     th:nth-child(2){width:90px!important}[_nghost-%COMP%]     th{width:60px!important}"]],data:{}});function qc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getTripSummary()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["submit"]))],null,null)}function Gc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"chart",[["style","margin-right:5px;min-height: 200px;max-height: 330px;"]],null,null,null,R.b,R.a)),t["\u0275did"](2,638976,null,0,I.ChartComponent,[t.ElementRef,t.NgZone],{type:[0,"type"],data:[1,"data"],options:[2,"options"]},null)],function(l,n){var e=n.component;l(n,2,0,e.Config.type,e.Config.data,e.Config.options)},null)}function Bc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"smart-table",[["id","vehicleTrip"]],null,null,null,S.b,S.a)),t["\u0275did"](1,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,1,0,e.table.data,e.table.settings)},null)}function Wc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,19,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,1,17,"nb-card-body",[["style","padding:15px 15px 0px;"]],null,null,null,O.d,O.a)),t["\u0275did"](3,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,13,"div",[["class","model-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"div",[["class","col-md-2 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startTime=e)&&t),t},le.b,le.a)),t["\u0275did"](8,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","col-md-2 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.endTime=e)&&t),t},le.b,le.a)),t["\u0275did"](11,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],isStart:[1,"isStart"],dateTimeValue:[2,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275and"](16777216,null,null,1,null,qc)),t["\u0275did"](13,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](14,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Gc)),t["\u0275did"](16,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](17,0,null,null,0,"div",[["class","border"],["style","height:2px; color:darkslategray;margin-top: 10px; margin-bottom: 10px"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,0,1,null,Bc)),t["\u0275did"](19,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,8,0,!1,e.startTime),l(n,11,0,!1,!1,e.endTime),l(n,13,0,"0"==e.period||"31"==e.trendType),l(n,16,0,e.Config.data),l(n,19,0,e.vehicleTrips&&e.vehicleTrips.length)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function Kc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"trip-summary",[],null,null,null,Wc,$c)),t["\u0275did"](1,114688,null,0,Uc,[a.a,F.a,x.a,i.a,_.DatePipe,al.u],null,null)],function(l,n){l(n,1,0)},null)}var Jc=t["\u0275ccf"]("trip-summary",Uc,Kc,{},{},[]),Yc=function(){function l(l,n,e){this.api=l,this.common=n,this.modalService=e,this.endTime=new Date,this.startTime=new Date((new Date).setDate(new Date(this.endTime).getDate()-7)),this.deviationData=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.data=[],this.headings=[],this.valobj={},this.apiUrl="ViaRoutes/routeDeviation ",this.getrouteDeviations()}return l.prototype.ngOnInit=function(){},l.prototype.getrouteDeviations=function(){var l=this;if(this.common.dateFormatter1(this.startTime)>this.common.dateFormatter1(this.endTime))this.common.showError("Start Date should less then End Date");else{var n={startTime:this.common.dateFormatter1(this.startTime),endTime:this.common.dateFormatter1(this.endTime)};++this.common.loading,this.api.post(this.apiUrl,n).subscribe(function(n){if(--l.common.loading,console.log("API Res:",n),l.data=[],l.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},l.headings=[],l.valobj={},n.data){l.data=n.data;var e=l.data[0];for(var t in e)if("_"!=t.charAt(0)){l.headings.push(t);var a={title:l.formatTitle(t),placeholder:l.formatTitle(t)};l.table.data.headings[t]=a}l.table.data.columns=l.getTableColumns()}},function(n){--l.common.loading,l.common.showError(n),console.log("Error: ",n)})}},l.prototype.getTableColumns=function(){var l=this,n=[];return this.data.map(function(e){l.valobj={};for(var t=0;t<l.headings.length;t++)"Action"==l.headings[t]?(console.log("Test"),l.valobj[l.headings[t]]={value:"",action:null}):l.valobj[l.headings[t]]={value:e[l.headings[t]],class:"black"};n.push(l.valobj)}),n},l.prototype.actionIcons=function(l){},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l}(),Zc=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Qc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,20,"nb-card",[["style","border:0px;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Route Deviations"])),(l()(),t["\u0275eld"](6,0,null,1,14,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](7,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](8,0,null,0,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","col-md-2 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startTime=e)&&t),t},le.b,le.a)),t["\u0275did"](11,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](12,0,null,null,2,"div",[["class","col-md-2 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.endTime=e)&&t),t},le.b,le.a)),t["\u0275did"](14,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],isStart:[1,"isStart"],dateTimeValue:[2,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](15,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getrouteDeviations()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["submit"])),(l()(),t["\u0275eld"](18,0,null,0,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,1,"smart-table",[["id","routedeviations"],["style","width:100%"]],null,null,null,S.b,S.a)),t["\u0275did"](20,4833280,null,0,A.a,[t.ChangeDetectorRef,F.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var e=n.component;l(n,11,0,!1,e.startTime),l(n,14,0,!1,!1,e.endTime),l(n,20,0,e.table.data,e.table.settings)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent])})}function Xc(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"route-deviations",[],null,null,null,Qc,Zc)),t["\u0275did"](1,114688,null,0,Yc,[a.a,F.a,al.u],null,null)],function(l,n){l(n,1,0)},null)}var lp=t["\u0275ccf"]("route-deviations",Yc,Xc,{},{},[]),np=e("uk0L"),ep=function(){function l(l,n,e,t,a,o){var i=this;this.common=l,this.api=n,this.modalService=e,this.activeModal=t,this.dateService=a,this.user=o,this.startTime=null,this.endTime=null,this.reportType=1,this.modelType=0,this.modelTypes=[],this.Config={type:"line",data:null,options:{responsive:!0,title:{display:!0,text:"Daily Fuel Consumption",fontSize:14,fontColor:"blue"},maintainAspectRatio:!1,lineTension:0,legend:{display:!1},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{x:{display:!0,scaleLabel:{display:!0,labelString:"Date"}},y:{display:!0,scaleLabel:{display:!0,labelString:"Fuel"}}},onClick:function(l,n){if(console.log("e",l,n),n.length){var e=n[0]._index;console.log(e),console.log("month data",i.Config.data);var t=i.Config.data.labels[e];console.log("Label:",t,"Value:",i.Config.data.datasets[0].data[e]);var a=i.sortArray(t);console.log("fuel_daily_cumsion:",a,i.fuel_daily_cumsion);var o=i.fuel_daily_cumsion.filter(function(l){return l.Date.split("-")[1]==a&&(console.log(l.Date.split("-")[1],a),!0)});console.log("Data:",o),i.openfueldailycunsumption(o)}}}},this.flagType="1",this.fuel_daily_cumsion=[],this.fuel_daily_cumsion_level2=[],this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.headings=[],this.valobj={};var u=new Date;this.endTime=new Date(u),new Date(u.getFullYear(),u.getMonth(),0).getDate(),this.startTime=new Date(u.setDate(u.getDate()-90)),this.common.refresh=this.refresh.bind(this),this.getVehicleModals(),this.getFuelDailyConsumption()}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){console.log("Refresh"),this.getFuelDailyConsumption()},l.prototype.changeModal=function(l){this.flagType=l},l.prototype.getVehicleModals=function(){var l=this;this.common.loading++,this.api.get("Suggestion/getVehicleModals").subscribe(function(n){l.common.loading--,l.modelTypes=n&&n.data?n.data:[]},function(n){l.common.loading--,console.log("Err:",n)})},l.prototype.getFuelDailyConsumption=function(){var l=this;if(this.Config.data=null,this.startTime>this.endTime)this.common.showToast("start date should be less than end date");else{var n={startDate:this.common.dateFormatter1(this.startTime),endDate:this.common.dateFormatter1(this.endTime),flagtype:1,modelType:this.modelType,reportType:this.reportType};console.log("params",n),this.common.loading++,this.api.post("Fuel/getfueldailyconsumption",n).subscribe(function(n){l.common.loading--,console.log("Res json data:",n),n.data&&(l.getChartData(n.data),l.fuel_daily_cumsion=[],l.fuel_daily_cumsion_level2=[],n.data[0].y_json_data_level_1&&(l.fuel_daily_cumsion=JSON.parse(n.data[0].y_json_data_level_1),l.fuel_daily_cumsion_level2=JSON.parse(n.data[0].y_json_data_level_2),console.log("double data",l.fuel_daily_cumsion)))},function(n){l.common.loading--,console.log("Err:",n)})}},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.getTableColumns=function(l){var n=this,e=[];return l||(l=this.fuel_daily_cumsion),l.map(function(l){n.valobj={};for(var t=0;t<n.headings.length;t++)n.valobj[n.headings[t]]={value:l[n.headings[t]],class:"black",action:""};e.push(n.valobj)}),e},l.prototype.getChartData=function(l){var n=this,e=[],t=[];l.map(function(l){if(l.y_date){var a=n.dateService.format(l.y_date,"dd MMM yyyy");e.push("1"==n.flagType?a.split(" ")[0]:a.split(",")[0])}l.y_consumption&&t.push(l.y_consumption)}),this.Config.data={labels:e,datasets:[{label:"Values",backgroundColor:"#3835ea",borderColor:"#3835ea",data:t,fill:!1,lineTension:0}],options:{legend:!1}}},l.prototype.sortArray=function(l){console.log("month value",l);var n=["Jan","Fab","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].indexOf(l)+1;return console.log("searchvalue",n),n<=9?"0"+n:n+""},l.prototype.openfueldailycunsumption=function(l){this.common.params={reportType:this.reportType,consumtiondata:l,fueldailycumsionlevel2:this.fuel_daily_cumsion_level2},this.modalService.open(np.a,{size:"lg",container:"nb-layout",backdrop:"static",keyboard:!1}).result.then(function(l){})},l}(),tp=t["\u0275crt"]({encapsulation:0,styles:[[".radio-type[_ngcontent-%COMP%]{padding-bottom:10px;font-size:18px;text-align:center;color:#00008b}.radio-type[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0 5px 0 8px;vertical-align:middle;width:20px;height:20px!important}"]],data:{}});function ap(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)},function(l,n){l(n,3,0,n.context.$implicit.name)})}function op(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"chart",[["style","margin-right:5px;min-height: 400px;max-height: 400px;"]],null,null,null,R.b,R.a)),t["\u0275did"](2,638976,null,0,I.ChartComponent,[t.ElementRef,t.NgZone],{type:[0,"type"],data:[1,"data"],options:[2,"options"]},null)],function(l,n){var e=n.component;l(n,2,0,e.Config.type,e.Config.data,e.Config.options)},null)}function ip(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,55,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](1,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,5,"nb-card-header",[],null,null,null,O.f,O.c)),t["\u0275did"](3,49152,null,0,k.d,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","col-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Daily Fuel Consumption"])),(l()(),t["\u0275eld"](8,0,null,1,47,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](9,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](10,0,null,0,41,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.startTime=e)&&t),t},le.b,le.a)),t["\u0275did"](13,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](14,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,e){var t=!0;return"onChanged"===n&&(t=!1!==(l.component.endTime=e)&&t),t},le.b,le.a)),t["\u0275did"](16,4308992,null,0,ne.a,[],{isTime:[0,"isTime"],isStart:[1,"isStart"],dateTimeValue:[2,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),t["\u0275eld"](17,0,null,null,18,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,17,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,19).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,19).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.reportType=e)&&a),a},null,null)),t["\u0275did"](19,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](21,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](23,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](24,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),t["\u0275did"](25,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](26,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Mid 50%"])),(l()(),t["\u0275eld"](28,0,null,null,3,"option",[["value","2"]],null,null,null,null,null)),t["\u0275did"](29,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](30,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Median"])),(l()(),t["\u0275eld"](32,0,null,null,3,"option",[["value","3"]],null,null,null,null,null)),t["\u0275did"](33,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](34,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Average"])),(l()(),t["\u0275eld"](36,0,null,null,12,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](37,0,null,null,11,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var a=!0,o=l.component;return"change"===n&&(a=!1!==t["\u0275nov"](l,38).onChange(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,38).onTouched()&&a),"ngModelChange"===n&&(a=!1!==(o.modelType=e)&&a),a},null,null)),t["\u0275did"](38,16384,null,0,V.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,V.l,function(l){return[l]},[V.w]),t["\u0275did"](40,671744,null,0,V.q,[[8,null],[8,null],[8,null],[6,V.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,V.m,null,[V.q]),t["\u0275did"](42,16384,null,0,V.n,[[4,V.m]],null,null),(l()(),t["\u0275eld"](43,0,null,null,3,"option",[["value","0"]],null,null,null,null,null)),t["\u0275did"](44,147456,null,0,V.r,[t.ElementRef,t.Renderer2,[2,V.w]],{value:[0,"value"]},null),t["\u0275did"](45,147456,null,0,V.E,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["All"])),(l()(),t["\u0275and"](16777216,null,null,1,null,ap)),t["\u0275did"](48,278528,null,0,_.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](49,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](50,0,null,null,1,"button",[["class","btn btn-primary w-100 pt-1 pb-1"],["style","border-radius: 3px;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getFuelDailyConsumption()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["submit"])),(l()(),t["\u0275eld"](52,0,null,0,0,"div",[["class","border"],["style","height:2px; color:darkslategray;margin-top: 10px; margin-bottom: 10px"]],null,null,null,null,null)),(l()(),t["\u0275eld"](53,0,null,0,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,op)),t["\u0275did"](55,16384,null,0,_.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,13,0,!1,e.startTime),l(n,16,0,!1,!1,e.endTime),l(n,21,0,e.reportType),l(n,25,0,"1"),l(n,26,0,"1"),l(n,29,0,"2"),l(n,30,0,"2"),l(n,33,0,"3"),l(n,34,0,"3"),l(n,40,0,e.modelType),l(n,44,0,"0"),l(n,45,0,"0"),l(n,48,0,e.modelTypes),l(n,55,0,e.Config.data)},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).xxsmall,t["\u0275nov"](n,1).xsmall,t["\u0275nov"](n,1).small,t["\u0275nov"](n,1).medium,t["\u0275nov"](n,1).large,t["\u0275nov"](n,1).xlarge,t["\u0275nov"](n,1).xxlarge,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).disabled,t["\u0275nov"](n,1).primary,t["\u0275nov"](n,1).info,t["\u0275nov"](n,1).success,t["\u0275nov"](n,1).warning,t["\u0275nov"](n,1).danger,t["\u0275nov"](n,1).hasAccent,t["\u0275nov"](n,1).primaryAccent,t["\u0275nov"](n,1).infoAccent,t["\u0275nov"](n,1).successAccent,t["\u0275nov"](n,1).warningAccent,t["\u0275nov"](n,1).dangerAccent,t["\u0275nov"](n,1).activeAccent,t["\u0275nov"](n,1).disabledAccent]),l(n,18,0,t["\u0275nov"](n,23).ngClassUntouched,t["\u0275nov"](n,23).ngClassTouched,t["\u0275nov"](n,23).ngClassPristine,t["\u0275nov"](n,23).ngClassDirty,t["\u0275nov"](n,23).ngClassValid,t["\u0275nov"](n,23).ngClassInvalid,t["\u0275nov"](n,23).ngClassPending),l(n,37,0,t["\u0275nov"](n,42).ngClassUntouched,t["\u0275nov"](n,42).ngClassTouched,t["\u0275nov"](n,42).ngClassPristine,t["\u0275nov"](n,42).ngClassDirty,t["\u0275nov"](n,42).ngClassValid,t["\u0275nov"](n,42).ngClassInvalid,t["\u0275nov"](n,42).ngClassPending)})}function up(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"fuel-daily-consumption",[],null,null,null,ip,tp)),t["\u0275did"](1,114688,null,0,ep,[F.a,a.a,al.u,al.d,za.a,i.a],null,null)],function(l,n){l(n,1,0)},null)}var rp=t["\u0275ccf"]("fuel-daily-consumption",ep,up,{},{},[]),sp=e("fdPT"),dp=e("MoCo"),cp=e("cdOV"),pp=e("9AJC"),gp=e("8VM6"),hp=e("Xoj0"),mp=e("4/Py"),fp=e("8DeE"),vp=e("y9XU"),bp=e("y1sj"),xp=e("cMIS"),yp=e("H1uz"),Cp=e("H6Y4"),_p=e("byrr"),wp=e("0HQI"),Mp=e("81d9"),Tp=function(){return function(){}}(),Dp=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Pp(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t["\u0275did"](1,212992,null,0,m.r,[m.b,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null)],function(l,n){l(n,1,0)},null)}function Op(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"ngx-miscellaneous",[],null,null,null,Pp,Dp)),t["\u0275did"](1,49152,null,0,Tp,[],null,null)],null,null)}var kp=t["\u0275ccf"]("ngx-miscellaneous",Tp,Op,{},{},[]),Rp=function(){function l(l){this.menuService=l}return l.prototype.goToHome=function(){this.menuService.navigateHome()},l}(),Ip=t["\u0275crt"]({encapsulation:0,styles:[[".flex-centered[_ngcontent-%COMP%]{margin:auto}nb-card-body[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.title[_ngcontent-%COMP%]{text-align:center}.sub-title[_ngcontent-%COMP%]{text-align:center;display:block;margin-bottom:3rem}.btn[_ngcontent-%COMP%]{margin-bottom:2rem}"]],data:{}});function Sp(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,11,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,10,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,O.e,O.b)),t["\u0275did"](3,49152,null,0,k.b,[],null,null),(l()(),t["\u0275eld"](4,0,null,1,8,"nb-card-body",[],null,null,null,O.d,O.a)),t["\u0275did"](5,49152,null,0,k.a,[],null,null),(l()(),t["\u0275eld"](6,0,null,0,6,"div",[["class","flex-centered col-xl-4 col-lg-6 col-md-8 col-sm-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"h2",[["class","title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["404 Page Not Found"])),(l()(),t["\u0275eld"](9,0,null,null,1,"small",[["class","sub-title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["The page you were looking for doesn't exist"])),(l()(),t["\u0275eld"](11,0,null,null,1,"button",[["class","btn btn-block btn-hero-primary"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.goToHome()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,[" Take me home "]))],null,function(l,n){l(n,2,1,[t["\u0275nov"](n,3).xxsmall,t["\u0275nov"](n,3).xsmall,t["\u0275nov"](n,3).small,t["\u0275nov"](n,3).medium,t["\u0275nov"](n,3).large,t["\u0275nov"](n,3).xlarge,t["\u0275nov"](n,3).xxlarge,t["\u0275nov"](n,3).active,t["\u0275nov"](n,3).disabled,t["\u0275nov"](n,3).primary,t["\u0275nov"](n,3).info,t["\u0275nov"](n,3).success,t["\u0275nov"](n,3).warning,t["\u0275nov"](n,3).danger,t["\u0275nov"](n,3).hasAccent,t["\u0275nov"](n,3).primaryAccent,t["\u0275nov"](n,3).infoAccent,t["\u0275nov"](n,3).successAccent,t["\u0275nov"](n,3).warningAccent,t["\u0275nov"](n,3).dangerAccent,t["\u0275nov"](n,3).activeAccent,t["\u0275nov"](n,3).disabledAccent])})}function Ap(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"ngx-not-found",[],null,null,null,Sp,Ip)),t["\u0275did"](1,49152,null,0,Rp,[h.b],null,null)],null,null)}var Fp=t["\u0275ccf"]("ngx-not-found",Rp,Ap,{},{},[]),Ep=e("P3h3"),Vp=e("No7X"),Lp=e("bIR2"),Np=e("c6qF"),Hp=e("hGbH"),zp=e("QW4Q"),jp=e("0CLu"),Up=e("mwOH"),$p=e("Xd/n"),qp=e("+BKl"),Gp=e("2aGR"),Bp=e("yCzz"),Wp=e("nA+Y"),Kp=e("Fzqc"),Jp=e("U4uc"),Yp=e("AKna"),Zp=e("Bvtr"),Qp=e("gpGP"),Xp=e("Hz84"),lg=e("+3l6"),ng=e("PqSV"),eg=e("g1fl"),tg=e("M2Lx"),ag=e("rAFq"),og=e("UiI2"),ig=e("dWZg"),ug=e("9Bt9"),rg=e("qAlS"),sg=e("mNmA"),dg=e("UTcu"),cg=e("ahTD"),pg=e("1j6Q"),gg=e("JYbL"),hg=e("hit9"),mg=e("vjOA"),fg=e("bG9B"),vg=e("Zw/Q"),bg=e("pfN2"),xg=e("se9s"),yg=e("9zuT"),Cg=e("kSDO"),_g=e("cSOp"),wg=e("nvNi"),Mg=e("FgHD"),Tg=e("9M6I"),Dg=e("axIL"),Pg=e("VKYg"),Og=e("svlw"),kg=e("eHBT"),Rg=e("mdFJ"),Ig=e("4zcd"),Sg=e("Opnw"),Ag=function(){return function(){}}(),Fg=e("P8+w"),Eg=e("Ku2q"),Vg=e("w//a"),Lg=e("niCt"),Ng=e("UIEa"),Hg=e("o0Gp"),zg=e("M18m"),jg=e("zTyf"),Ug=e("TcUH"),$g=e("4c35"),qg=e("hle7"),Gg=e("lOUe"),Bg=e("yHPJ"),Wg=e("wZaT"),Kg=e("GGqN"),Jg=e("rNHn"),Yg=e("tSKX"),Zg=e("uLH1"),Qg=e("WCnA"),Xg=e("DiBj"),lh=e("6wBL"),nh=e("TvC7"),eh=e("7qhI"),th=e("aTFX"),ah=e("7fDR"),oh=e("y3Bk"),ih=e("IR2U"),uh=e("sE+l"),rh=e("V6uK"),sh=e("9mtI"),dh=e("SdSL"),ch=e("GF5i"),ph=e("3Zza"),gh=e("ZMzl"),hh=e("tt4K"),mh=e("eBEu"),fh=e("MMI5"),vh=e("vTDv"),bh=function(){return function(){}}(),xh=function(){return function(){}}(),yh=function(){return function(){}}(),Ch=e("AE88"),_h=e("FUS3"),wh=e("lLAP"),Mh=e("jRYl"),Th=e("KL2N"),Dh=e("QX+E"),Ph=e("CcuA"),Oh=e("WZ7t"),kh=e("m6pm"),Rh=e("dImq"),Ih=e("GCkA"),Sh=e("d2mR"),Ah=e("hMq5"),Fh=e("kgR8"),Eh=e("qfjS"),Vh=e("ds6U"),Lh=e("el/5"),Nh=e("Qq6n"),Hh=e("rYTr"),zh=e("36SD");e.d(n,"PagesModuleNgFactory",function(){return jh});var jh=t["\u0275cmf"](r,[],function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[s.a,P,_l,Ol,Ul,Xl,bn,xn.a,On,Zn,re,ge,he.a,Te,Ue,St,Ht,Kt,Jt.a,ga,ya,Ha,Ba,Qa,ro,vo,wo,Mo.a,Ro,Lo,$o,Yo,ti,si,fi,vi.a,bi.a,xi.a,yi.a,Ci.a,_i.a,wi.a,Mi.a,Ii,Hi,Gi,au,hu,mu.a,fu.a,vu.a,bu.a,Du,Su,Au.a,Hu,Bu,er,hr,mr.a,Dr,Pr.a,Vr,Jr,Yr.a,is,ms,Ts,Ds.a,Ps.a,Vs,Us,Ks,nd,dd,Kd,oc,gc,Cc,kc,Ec,jc,Jc,lp,rp,sp.a,dp.a,cp.a,pp.a,pp.b,pp.f,pp.g,pp.c,pp.d,pp.e,gp.a,hp.a,mp.a,fp.a,fp.b,vp.a,bp.a,xp.a,yp.a,Cp.a,_p.a,wp.a,Mp.a,kp,Fp,Ep.a,Vp.a,Lp.a,Np.a,Hp.a,zp.a,jp.a,Up.a,$p.a,qp.a,Gp.a,Bp.a]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,_.NgLocalization,_.NgLocaleLocalization,[t.LOCALE_ID,[2,_["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,V.C,V.C,[]),t["\u0275mpd"](4608,V.e,V.e,[]),t["\u0275mpd"](4608,Wp.a,Wp.a,[m.n]),t["\u0275mpd"](4608,Se.e,Se.e,[Se.l,Se.g,t.ComponentFactoryResolver,Se.j,Se.h,t.Injector,t.NgZone,_.DOCUMENT,Kp.b,[2,_.Location]]),t["\u0275mpd"](5120,Se.m,Se.n,[Se.e]),t["\u0275mpd"](4608,Jp.a,Jp.a,[]),t["\u0275mpd"](4608,al.u,al.u,[t.ComponentFactoryResolver,t.Injector,al.eb,al.v]),t["\u0275mpd"](4608,Yp.a,Zp.a,[t.LOCALE_ID]),t["\u0275mpd"](4608,_.DatePipe,_.DatePipe,[t.LOCALE_ID]),t["\u0275mpd"](4608,Qp.a,Qp.a,[Yp.a]),t["\u0275mpd"](4608,Xp.c,Xp.a,[t.LOCALE_ID]),t["\u0275mpd"](4608,lg.i,lg.i,[]),t["\u0275mpd"](4608,lg.g,lg.g,[]),t["\u0275mpd"](4608,lg.x,lg.x,[]),t["\u0275mpd"](4608,lg.P,lg.P,[Xp.c]),t["\u0275mpd"](4608,lg.nb,lg.nb,[Xp.c]),t["\u0275mpd"](4608,lg.mb,lg.mb,[Xp.c]),t["\u0275mpd"](4608,ng.b,ng.b,[t.ApplicationRef,t.ComponentFactoryResolver,t.Injector,[2,ng.a]]),t["\u0275mpd"](4608,lg.U,lg.U,[lg.a]),t["\u0275mpd"](4608,lg.j,lg.j,[]),t["\u0275mpd"](4608,lg.C,lg.C,[Xp.c]),t["\u0275mpd"](4608,lg.O,lg.O,[Xp.c]),t["\u0275mpd"](4608,lg.Y,lg.Y,[Xp.c]),t["\u0275mpd"](4608,lg.w,lg.w,[Xp.c]),t["\u0275mpd"](4608,tg.b,tg.b,[]),t["\u0275mpd"](5120,Ae.b,Ae.c,[Se.e]),t["\u0275mpd"](4608,Ae.d,Ae.d,[Se.e,t.Injector,[2,_.Location],Ae.b,[2,Ae.a],[3,Ae.d],Se.g]),t["\u0275mpd"](4608,ag.a,ag.a,[]),t["\u0275mpd"](5120,Ie.a,Ie.b,[Se.e]),t["\u0275mpd"](4608,Pe.a,og.a,[[2,Pe.b],ig.a]),t["\u0275mpd"](4608,ug.g,ug.g,[_.DOCUMENT,t.NgZone,rg.d,ug.i]),t["\u0275mpd"](1073742336,m.q,m.q,[[2,m.w],[2,m.n]]),t["\u0275mpd"](1073742336,Ag,Ag,[]),t["\u0275mpd"](1073742336,_.CommonModule,_.CommonModule,[]),t["\u0275mpd"](1073742336,V.y,V.y,[]),t["\u0275mpd"](1073742336,V.h,V.h,[]),t["\u0275mpd"](1073742336,V.u,V.u,[]),t["\u0275mpd"](1073742336,Fg.a,Fg.a,[]),t["\u0275mpd"](1073742336,Eg.a,Eg.a,[]),t["\u0275mpd"](1073742336,Vg.a,Vg.a,[]),t["\u0275mpd"](1073742336,Lg.a,Lg.a,[]),t["\u0275mpd"](1073742336,Ng.a,Ng.a,[]),t["\u0275mpd"](1073742336,Hg.a,Hg.a,[]),t["\u0275mpd"](1073742336,zg.a,zg.a,[]),t["\u0275mpd"](1073742336,jg.a,jg.a,[]),t["\u0275mpd"](1073742336,Ug.a,Ug.a,[]),t["\u0275mpd"](1073742336,Kp.a,Kp.a,[]),t["\u0275mpd"](1073742336,$g.g,$g.g,[]),t["\u0275mpd"](1073742336,ig.b,ig.b,[]),t["\u0275mpd"](1073742336,rg.b,rg.b,[]),t["\u0275mpd"](1073742336,Se.i,Se.i,[]),t["\u0275mpd"](1073742336,qg.a,qg.a,[]),t["\u0275mpd"](1073742336,Gg.a,Gg.a,[]),t["\u0275mpd"](1073742336,Bg.a,Bg.a,[]),t["\u0275mpd"](1073742336,Wg.a,Wg.a,[]),t["\u0275mpd"](1073742336,Kg.a,Kg.a,[]),t["\u0275mpd"](1073742336,Jg.a,Jg.a,[]),t["\u0275mpd"](1073742336,Yg.a,Yg.a,[]),t["\u0275mpd"](1073742336,Zg.a,Zg.a,[]),t["\u0275mpd"](1073742336,al.c,al.c,[]),t["\u0275mpd"](1073742336,al.g,al.g,[]),t["\u0275mpd"](1073742336,al.h,al.h,[]),t["\u0275mpd"](1073742336,al.l,al.l,[]),t["\u0275mpd"](1073742336,al.m,al.m,[]),t["\u0275mpd"](1073742336,al.r,al.r,[]),t["\u0275mpd"](1073742336,al.s,al.s,[]),t["\u0275mpd"](1073742336,al.w,al.w,[]),t["\u0275mpd"](1073742336,al.A,al.A,[]),t["\u0275mpd"](1073742336,al.D,al.D,[]),t["\u0275mpd"](1073742336,al.G,al.G,[]),t["\u0275mpd"](1073742336,al.J,al.J,[]),t["\u0275mpd"](1073742336,al.M,al.M,[]),t["\u0275mpd"](1073742336,al.Q,al.Q,[]),t["\u0275mpd"](1073742336,al.R,al.R,[]),t["\u0275mpd"](1073742336,al.S,al.S,[]),t["\u0275mpd"](1073742336,al.x,al.x,[]),t["\u0275mpd"](1073742336,Qg.a,Qg.a,[]),t["\u0275mpd"](1073742336,Xg.a,Xg.a,[]),t["\u0275mpd"](1073742336,lh.a,lh.a,[]),t["\u0275mpd"](1073742336,nh.a,nh.a,[]),t["\u0275mpd"](1073742336,eh.a,eh.a,[]),t["\u0275mpd"](1073742336,th.a,th.a,[]),t["\u0275mpd"](1073742336,ah.a,ah.a,[]),t["\u0275mpd"](1073742336,oh.a,oh.a,[]),t["\u0275mpd"](1073742336,ih.a,ih.a,[]),t["\u0275mpd"](1073742336,uh.a,uh.a,[]),t["\u0275mpd"](1073742336,rh.a,rh.a,[]),t["\u0275mpd"](1073742336,sh.a,sh.a,[]),t["\u0275mpd"](1073742336,dh.a,dh.a,[]),t["\u0275mpd"](1073742336,ch.a,ch.a,[]),t["\u0275mpd"](1073742336,ph.a,ph.a,[]),t["\u0275mpd"](1073742336,gh.a,gh.a,[]),t["\u0275mpd"](1073742336,hh.a,hh.a,[]),t["\u0275mpd"](1073742336,mh.a,mh.a,[]),t["\u0275mpd"](1073742336,fh.a,fh.a,[]),t["\u0275mpd"](1073742336,vh.a,vh.a,[]),t["\u0275mpd"](1073742336,bh,bh,[]),t["\u0275mpd"](1073742336,xh,xh,[]),t["\u0275mpd"](1073742336,yh,yh,[]),t["\u0275mpd"](1073742336,Ch.ChartModule,Ch.ChartModule,[]),t["\u0275mpd"](1073742336,lg.y,lg.y,[]),t["\u0275mpd"](1073742336,lg.b,lg.b,[]),t["\u0275mpd"](1073742336,Xp.b,Xp.b,[]),t["\u0275mpd"](1073742336,lg.ab,lg.ab,[]),t["\u0275mpd"](1073742336,lg.lb,lg.lb,[]),t["\u0275mpd"](1073742336,lg.e,lg.e,[]),t["\u0275mpd"](1073742336,eg.a,eg.a,[]),t["\u0275mpd"](1073742336,lg.S,lg.S,[]),t["\u0275mpd"](1073742336,lg.f,lg.f,[]),t["\u0275mpd"](1073742336,lg.m,lg.m,[]),t["\u0275mpd"](1073742336,lg.q,lg.q,[]),t["\u0275mpd"](1073742336,lg.eb,lg.eb,[]),t["\u0275mpd"](1073742336,lg.s,lg.s,[]),t["\u0275mpd"](1073742336,lg.n,lg.n,[]),t["\u0275mpd"](1073742336,_h.a,_h.a,[]),t["\u0275mpd"](1073742336,tg.c,tg.c,[]),t["\u0275mpd"](1073742336,wh.a,wh.a,[]),t["\u0275mpd"](1073742336,Mh.a,Mh.a,[]),t["\u0275mpd"](1073742336,Th.a,Th.a,[]),t["\u0275mpd"](1073742336,Dh.a,Dh.a,[]),t["\u0275mpd"](1073742336,Dh.b,Dh.b,[]),t["\u0275mpd"](1073742336,Ph.ImageViewerModule,Ph.ImageViewerModule,[]),t["\u0275mpd"](1073742336,E.b,E.b,[]),t["\u0275mpd"](1073742336,Oh.a,Oh.a,[]),t["\u0275mpd"](1073742336,kh.a,kh.a,[]),t["\u0275mpd"](1073742336,ug.h,ug.h,[]),t["\u0275mpd"](1073742336,Rh.a,Rh.a,[]),t["\u0275mpd"](1073742336,Ih.a,Ih.a,[]),t["\u0275mpd"](1073742336,Sh.a,Sh.a,[]),t["\u0275mpd"](1073742336,Ah.a,Ah.a,[]),t["\u0275mpd"](1073742336,Fh.a,Fh.a,[]),t["\u0275mpd"](1073742336,Eh.a,Eh.a,[]),t["\u0275mpd"](1073742336,r,r,[]),t["\u0275mpd"](1024,m.l,function(){return[[{path:"",component:u,children:[{path:"",component:tl},{path:"dashboard",component:tl,canActivate:[dg.a,sg.b]},{path:"vehicle-kpis",component:wl,canActivate:[dg.a,sg.b]},{path:"",redirectTo:"dashboard",pathMatch:"full",canActivate:[dg.a,sg.b]},{path:"tickets",component:Sl,canActivate:[dg.a,sg.b]},{path:"tickets-all",component:$l,canActivate:[dg.a,sg.b]},{path:"lorry-receipts",component:cn,canActivate:[dg.a,sg.b]},{path:"generate-lr",component:pg.a,canActivate:[dg.a,sg.b]},{path:"expenses",component:yn,canActivate:[dg.a,sg.b]},{path:"concise",component:tl,canActivate:[dg.a,sg.b]},{path:"ticket-site-details",component:Nn,canActivate:[dg.a,sg.b]},{path:"card-mapping",component:te,canActivate:[dg.a,sg.b]},{path:"ticket-details",component:se,canActivate:[dg.a,sg.b]},{path:"fuel-average-analysis",component:cg.a,canActivate:[dg.a,sg.b]},{path:"vehicle-trip",component:xe,canActivate:[dg.a,sg.b]},{path:"route-mapper",component:Fe,canActivate:[dg.a,sg.b]},{path:"trends",component:qe,canActivate:[dg.a,sg.b]},{path:"placements",component:At,canActivate:[dg.a,sg.b]},{path:"finance-recovery",component:Ut,canActivate:[dg.a,sg.b]},{path:"fo-fuel-average",component:Rg.a,canActivate:[dg.a,sg.b]},{path:"fuel-master",component:Qt,canActivate:[dg.a,sg.b]},{path:"call-logs",component:ma,canActivate:[dg.a,sg.b]},{path:"driver-call-suggestion",component:Ca,canActivate:[dg.a,sg.b]},{path:"site-in-out",component:ja,canActivate:[dg.a,sg.b]},{path:"user-call-summary",component:Wa,canActivate:[dg.a,sg.b]},{path:"placements-dash-board",component:lo,canActivate:[dg.a,sg.b]},{path:"trip-status-feedback",component:so,canActivate:[dg.a,sg.b]},{path:"trip-onward-delay",component:bo,canActivate:[dg.a,sg.b]},{path:"user-activity-status",component:gg.a,canActivate:[dg.a,sg.b]},{path:"placement-delay-faults",component:To,canActivate:[dg.a,sg.b]},{path:"vehicle-covered-distance",component:So,canActivate:[dg.a,sg.b]},{path:"vehicle-gps-detail",component:No,canActivate:[dg.a,sg.b]},{path:"trip-feedback-logs",component:qo,canActivate:[dg.a,sg.b]},{path:"short-target",component:Qo,canActivate:[dg.a,sg.b]},{path:"onward-kmpd",component:ai,canActivate:[dg.a,sg.b]},{path:"vehicle-trip-stages",component:be,canActivate:[dg.a,sg.b]},{path:"vehicle-trip-states",component:be,canActivate:[dg.a,sg.b]},{path:"fuel-fillings",component:hg.a,canActivate:[dg.a,sg.b]},{path:"remaining-fuel",component:mg.a,canActivate:[dg.a,sg.b]},{path:"consolidate-fuel-average",component:Cg.a},{path:"documentation-details",component:fg.a,canActivate:[dg.a,sg.b]},{path:"documents-summary",component:vg.a,canActivate:[dg.a,sg.b]},{path:"document-dashboard",component:bg.a,canActivate:[dg.a,sg.b]},{path:"driver-performance",component:xg.a,canActivate:[dg.a,sg.b]},{path:"vehicle-distance",component:yg.a,canActivate:[dg.a,sg.b]},{path:"trip-verify-states",component:Ti,canActivate:[dg.a,sg.b]},{path:"vehicle-performance",component:Si,canActivate:[dg.a,sg.b]},{path:"daywise-vehicle-distance",component:zi},{path:"generate-lr-no-vehicles",component:Ki,canActivate:[dg.a,sg.b]},{path:"view-manifesto",component:uu,canActivate:[dg.a,sg.b]},{path:"driver-list",component:_g.a,canActivate:[dg.a,sg.b]},{path:"vehicle-driver-mapping",component:wg.a,canActivate:[dg.a,sg.b]},{path:"driver-attendance",component:Mg.a,canActivate:[dg.a,sg.b]},{path:"driver-document",component:Tg.a,canActivate:[dg.a,sg.b]},{path:"lr-pod-receipts",component:xu,canActivate:[dg.a,sg.b]},{path:"vehicle-distance-with-odometer",component:Pu,canActivate:[dg.a,sg.b]},{path:"vehicles",component:Dg.a,canActivate:[dg.a,sg.b]},{path:"fse-entry",component:Fu,canActivate:[dg.a,sg.b]},{path:"vehicle-odoMeter",component:zu,canActivate:[dg.a,sg.b]},{path:"fuel-indent",component:Ku,canActivate:[dg.a,sg.b]},{path:"frieght-rate-input",component:rr,canActivate:[dg.a,sg.b]},{path:"via-routes",component:Pg.a,canActivate:[dg.a,sg.b]},{path:"freight-expenses",component:br,canActivate:[dg.a,sg.b]},{path:"pod-dashboard",component:Og.a,canActivate:[dg.a,sg.b]},{path:"advices",component:Rr,canActivate:[dg.a,sg.b]},{path:"freight-invoices",component:Ur,canActivate:[dg.a,sg.b]},{path:"nearby-pods",component:kg.a,canActivate:[dg.a,sg.b]},{path:"transfers",component:Xr,canActivate:[dg.a,sg.b]},{path:"sites",component:us,canActivate:[dg.a,sg.b]},{path:"manage-fo-party",component:bs,canActivate:[dg.a,sg.b]},{path:"fuel-mileage-with-odo",component:Ig.a,canActivate:[dg.a,sg.b]},{path:"web-acttivity-summary",component:Sg.a,canActivate:[dg.a,sg.b]},{path:"dispatch-orders",component:ks,canActivate:[dg.a,sg.b]},{path:"fuel-consumption",component:Ls,canActivate:[dg.a,sg.b]},{path:"trip-pnl",component:$s,canActivate:[dg.a,sg.b]},{path:"route-dashboard",component:Ys,canActivate:[dg.a,sg.b]},{path:"fo-user-role",component:ed,canActivate:[dg.a,sg.b],canDeactivate:[sg.a]},{path:"trends-fo",component:cd,canActivate:[dg.a,sg.b]},{path:"mvs-freight-statement",component:Qd,canActivate:[dg.a,sg.b]},{path:"unmerge-lrstate",component:uc,canActivate:[dg.a,sg.b]},{path:"vehicle-supplier-association",component:mc,canActivate:[dg.a,sg.b]},{path:"mv-gps-apis",component:wc,canActivate:[dg.a,sg.b]},{path:"mv-gps-api-history",component:Rc,canActivate:[dg.a,sg.b]},{path:"route-trip",component:Vc,canActivate:[dg.a,sg.b]},{path:"trip-summary",component:Uc,canActivate:[dg.a,sg.b]},{path:"route-deviations",component:Yc,canActivate:[dg.a,sg.b]},{path:"fuel-daily-consumption",component:ep,canActivate:[dg.a,sg.b]}]}],[{path:"",component:Tp,children:[{path:"404",component:Rp}]}],[{path:"",component:Vh.a,children:[{path:"dashboard",component:Lh.a},{path:"generate-lr",component:pg.a}]}],[{path:"",component:Nh.a,children:[{path:"dashboard",component:Hh.a},{path:"add-driver",component:zh.a},{path:"driver-list",component:_g.a},{path:"vehicle-driver-mapping",component:wg.a},{path:"driver-attendance",component:Mg.a},{path:"driver-document",component:Tg.a}]}]]},[]),t["\u0275mpd"](256,lg.Z,lg.ob,[]),t["\u0275mpd"](256,Oe.a,Dh.c,[])])})}}]);