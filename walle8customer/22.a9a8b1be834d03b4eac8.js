(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{gyhe:function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),o=[{title:"Dashboard",icon:"nb-home",link:"/pages/dashboard",home:!0},{title:"Calculator",icon:"nb-home",link:"/intelligence/profit-calculator"}],i=function(){return function(){this.menu=o}}(),u=function(){},s=t("pMnS"),a=t("xDct"),r=t("IAMq"),d=t("5MUS"),c=t("SUpF"),g=t("/PiY"),p=t("U1+q"),m=t("trYH"),h=t("S9Dc"),f=t("3bPa"),v=t("ZlY8"),x=t("ZYCi"),b=e["\u0275crt"]({encapsulation:2,styles:[],data:{}});function y(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,5,"ngx-sample-layout",[],null,null,null,a.b,a.a)),e["\u0275did"](1,180224,null,0,r.a,[d.a,c.b,g.a,p.b,m.a],null,null),(n()(),e["\u0275eld"](2,0,null,0,1,"nb-menu",[],[[2,"inverse",null]],null,null,h.b,h.a)),e["\u0275did"](3,4440064,null,0,f.a,[v.f,c.a,x.l],{items:[0,"items"]},null),(n()(),e["\u0275eld"](4,16777216,null,1,1,"router-outlet",[],null,null,null,null,null)),e["\u0275did"](5,212992,null,0,x.p,[x.b,e.ViewContainerRef,e.ComponentFactoryResolver,[8,null],e.ChangeDetectorRef],null,null)],function(n,l){n(l,3,0,l.component.menu),n(l,5,0)},function(n,l){n(l,2,0,e["\u0275nov"](l,3).inverseValue)})}var C=e["\u0275ccf"]("ngx-pages",i,function(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"ngx-pages",[],null,null,null,y,b)),e["\u0275did"](1,49152,null,0,i,[],null,null)],null,null)},{},{},[]),R=t("4bAE"),k=t("mc3f"),I=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),w=e["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function P(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,6,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,R.e,R.b)),e["\u0275did"](2,49152,null,0,k.b,[],null,null),(n()(),e["\u0275eld"](3,0,null,1,4,"nb-card-body",[],null,null,null,R.d,R.a)),e["\u0275did"](4,49152,null,0,k.a,[],null,null),(n()(),e["\u0275eld"](5,0,null,0,0,"i",[["class","ion-arrow-return-left"]],null,null,null,null,null)),(n()(),e["\u0275eld"](6,0,null,0,0,"i",[["class","icon ion-md-exit"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,0,[" Hello from ngx-admin sandbox project."]))],null,function(n,l){n(l,1,1,[e["\u0275nov"](l,2).xxsmall,e["\u0275nov"](l,2).xsmall,e["\u0275nov"](l,2).small,e["\u0275nov"](l,2).medium,e["\u0275nov"](l,2).large,e["\u0275nov"](l,2).xlarge,e["\u0275nov"](l,2).xxlarge,e["\u0275nov"](l,2).active,e["\u0275nov"](l,2).disabled,e["\u0275nov"](l,2).primary,e["\u0275nov"](l,2).info,e["\u0275nov"](l,2).success,e["\u0275nov"](l,2).warning,e["\u0275nov"](l,2).danger,e["\u0275nov"](l,2).hasAccent,e["\u0275nov"](l,2).primaryAccent,e["\u0275nov"](l,2).infoAccent,e["\u0275nov"](l,2).successAccent,e["\u0275nov"](l,2).warningAccent,e["\u0275nov"](l,2).dangerAccent,e["\u0275nov"](l,2).activeAccent,e["\u0275nov"](l,2).disabledAccent])})}var T=e["\u0275ccf"]("dashboard",I,function(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"dashboard",[],null,null,null,P,w)),e["\u0275did"](1,114688,null,0,I,[],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),_=t("Ip0R"),S=t("gIcY"),L=t("2K56"),D=t("+IUk"),E=t("H+bZ"),M=t("OlR4"),O=t("EnSQ"),A=t("HXSw"),$=function(){function n(n,l,t,e,o,i){this.zone=n,this.api=l,this.common=t,this.data=e,this.router=o,this.modalService=i,this.selected={calculator:"profit",tonnage:0,brokerage:0,loading:0,unloading:0,loop:{profit:!1,cost:!1}},this.routes={cost:[{origin:{name:"",lat:"",lng:"",marker:null},destination:{name:"",lat:"",lng:"",marker:null},status:!1}],profit:[{origin:{name:"",lat:"",lng:"",marker:null},destination:{name:"",lat:"",lng:"",marker:null},status:!1,rate:null,tonnage:null,brokerage:null,loading:null,unloading:null,loadingRates:[20,30,40,50],unloadingRates:[20,30,40,50],brokrageRates:[1300,1200,1e3,800]}]},this.edit={route:null,index:-1},this.editCost={route:null,index:-1},this.loadingRates=[20,30,40,50],this.unloadingRates=[20,30,40,50],this.getLoadingUnloading("tonnage","","","","")}return n.prototype.ngAfterViewInit=function(){setTimeout(this.autoSuggestion.bind(this,"cost","cost_origin_0",0,"origin"),3e3),setTimeout(this.autoSuggestion.bind(this,"cost","cost_destination_0",0,"destination"),3e3),setTimeout(this.autoSuggestion.bind(this,"profit","profit_origin_0",0,"origin"),3e3),setTimeout(this.autoSuggestion.bind(this,"profit","profit_destination_0",0,"destination"),3e3)},n.prototype.autoSuggestion=function(n,l,t,e){var o=document.getElementById(l),i=new google.maps.places.Autocomplete(o,{types:["(cities)"],componentRestrictions:{country:"in"}});google.maps.event.addListener(i,"place_changed",this.getLocation.bind(this,i,n,t,e))},n.prototype.getLocation=function(n,l,t,e){var o=this,i=n.getPlace();this.zone.run(function(){o.routes[l][t][e].lat=i.geometry.location.lat(),o.routes[l][t][e].lng=i.geometry.location.lng(),o.routes[l][t][e].name=i.formatted_address,o.routes[l][t].origin.lat&&o.routes[l][t].destination.lat&&"cost"==l&&(o.routes[l][t].status=!0),"profit"===l&&o.getLoadingUnloading("origin"===e?"loading":"unloading",i.formatted_address,i.geometry.location.lat(),i.geometry.location.lng(),t)})},n.prototype.addCostRoute=function(){console.log("afterAddClick"),this.editCost.route?(this.routes.cost[this.editCost.index].status=!0,this.editCost.index=-1,this.editCost.route=null):this.routes.cost[this.routes.cost.length-1]&&(this.routes.cost[this.routes.cost.length-1].status=!0),this.routes.cost.push({origin:{name:"",lat:"",lng:"",marker:null},destination:{name:"",lat:"",lng:"",marker:null},status:!1});var n="cost_destination_"+(this.routes.cost.length-1);setTimeout(this.autoSuggestion.bind(this,"cost","cost_origin_"+(this.routes.cost.length-1),this.routes.cost.length-1,"origin"),500),setTimeout(this.autoSuggestion.bind(this,"cost",n,this.routes.cost.length-1,"destination"),500)},n.prototype.addProfitRoute=function(){this.routes.profit.push({origin:{name:"",lat:"",lng:"",marker:null},destination:{name:"",lat:"",lng:"",marker:null},status:!1,rate:null,tonnage:null,brokerage:null,loading:null,unloading:null,loadingRates:[20,30,40,50],unloadingRates:[20,30,40,50],brokrageRates:[1300,1200,1e3,800]});var n="profit_destination_"+(this.routes.profit.length-1);setTimeout(this.autoSuggestion.bind(this,"profit","profit_origin_"+(this.routes.profit.length-1),this.routes.profit.length-1,"origin"),500),setTimeout(this.autoSuggestion.bind(this,"profit",n,this.routes.profit.length-1,"destination"),500)},n.prototype.deleteRoute=function(n,l){return this.removeDummyRoutes(n),"profit"==n&&this.edit.route?(this.routes.profit[this.edit.index].status=!0,void this.clearData()):"cost"==n&&this.editCost.route?(this.routes.cost[this.editCost.index].status=!0,void(this.editCost={index:-1,route:null})):(this.routes[n].length&&this.routes[n][l]&&(this.routes[n][l].origin.marker&&(this.routes[n][l].origin.marker.setMap(null),this.routes[n][l].destination.marker.setMap(null)),this.routes[n].splice(l,1)),void(this.routes[n].length||"cost"!==n?this.routes[n].length||"profit"!==n||this.addProfitRoute():this.addCostRoute()))},n.prototype.removeDummyRoutes=function(n){this.routes[n]=this.routes[n].filter(function(n){return!(!n.origin.lat||!n.destination.lat)})},n.prototype.mapViewer=function(n){this.common.searchId=null,"profit"==n&&this.edit.route?(this.routes.profit[this.edit.index].status=!0,this.clearData()):"profit"!=n||this.checkRouteStatus("profit",this.routes.profit.length-1)?"profit"==n?this.removeDummyRoutes("profit"):"cost"==n&&this.editCost.route?(this.routes.cost[this.editCost.index].status=!0,this.editCost={index:-1,route:null}):"cost"!=n||this.checkRouteStatus("cost",this.routes.cost.length-1)?"cost"==n&&this.removeDummyRoutes("cost"):this.routes.cost[this.routes.cost.length-1].status=!0:this.routes.profit[this.routes.profit.length-1].status=!0,this.data.routes[n]=this.routes[n]},n.prototype.calculateBrokerage=function(n,l){this.routes.profit[n].brokerage=this.routes.profit[n].rate*this.routes.profit[n].tonnage/100*l},n.prototype.brokerageOptions=function(n){return n.rate>=2e3?[1500,1300,1200,1e3]:n.rate<1e3&&n.rate>1?[1e3,800,500,300]:[1300,1200,1e3,800]},n.prototype.checkRouteStatus=function(n,l){var t=this.routes[n][l];return!("profit"==n&&t.origin.lat&&t.destination.lat&&t.rate&&t.tonnage&&t.brokerage&&t.loading&&t.unloading||"cost"==n&&t.origin.lat&&t.destination.lat)},n.prototype.editRoute=function(n,l){this.removeDummyRoutes("profit"),console.log("Route:",n),this.edit.route&&(this.routes.profit[this.edit.index].status=!0),this.edit={route:Object.assign({},n),index:l},console.log("Index:",l),this.routes.profit[l].status=!1,setTimeout(this.autoSuggestion.bind(this,"profit","profit_origin_"+l,0,"origin"),500),setTimeout(this.autoSuggestion.bind(this,"profit","profit_destination_"+l,0,"destination"),500)},n.prototype.editCostRoute=function(n,l){this.removeDummyRoutes("cost"),this.edit.route&&(this.routes.cost[this.edit.index].status=!0),this.editCost={route:Object.assign({},n),index:l},this.routes.cost[l].status=!1,setTimeout(this.autoSuggestion.bind(this,"cost","cost_origin_"+l,0,"origin"),500),setTimeout(this.autoSuggestion.bind(this,"cost","cost_destination_"+l,0,"destination"),500)},n.prototype.resetData=function(n){this.edit.route?(this.routes.profit[this.edit.index]=Object.assign({},this.edit.route),this.edit={route:null,index:-1}):(console.log("Index",n),this.deleteRoute("profit",n))},n.prototype.clearData=function(){this.edit={route:null,index:-1}},n.prototype.getLoadingUnloading=function(n,l,t,e,o,i){var u=this;void 0===i&&(i=0);var s={type:n,place:l,lat:t,lng:e,rate:i};console.log(s),this.api.post("inputSuggestion",s).subscribe(function(l){if(console.log(l),!u.common.handleApiResponce(l))return u.common.showToast(l.msg),void localStorage.clear();"tonnage"!=n?(console.log(o),console.log(u.routes.profit[o]),u.routes.profit[o][n+"Rates"]=l.data.values):u.tonnageRates=l.data.values},function(n){})},n.prototype.checkAddProfitRoute=function(){this.edit.route?(this.routes.profit[this.edit.index].status=!0,this.clearData()):this.routes.profit[this.routes.profit.length-1].status=!0,this.addProfitRoute()},n.prototype.logout=function(){var n=this;this.common.loading++,this.api.post("login",{type:"logout"}).subscribe(function(l){console.log(l),n.common.loading--,n.common.showToast(l.msg),localStorage.clear()},function(l){console.log(l),n.common.loading--})},n.prototype.isShowLoopOption=function(n){return this.routes[n].length<2?(this.selected.loop[n]=!1,!1):this.routes[n][0].origin.name!=this.routes[n][this.routes[n].length-1].destination.name||(this.selected.loop[n]=!1,!1)},n.prototype.showLocation=function(n,l){console.log("text==",this.common.params),this.common.params={location:location,title:"Vehicle Pickup Point"},this.modalService.open(A.a,{size:"lg",container:"nb-layout"}).result.then(function(t){console.log("Location name: ",t.location.name),"costPick"==l&&(n.origin.name=t.location.name),"costDrop"==l&&(n.destination.name=t.location.name),"profitPickup"==l&&(n.origin.name=t.location.name,console.log("profitPick inthis")),"profitDrop"==l&&(n.destination.name=t.location.name,console.log("profitDrop inthis"))})},n.prototype.getBrokerage=function(n,l){n.length>=3&&this.getLoadingUnloading("brokrage","","","",l,n)},n.prototype.addRate=function(n,l,t){return setTimeout(this.removeEffetc.bind(this,t),500),console.log(n),console.log(l),null==n?l:"string"==typeof n?parseInt(n)+parseInt(l):(console.log(typeof(parseInt(n)+parseInt(l))),parseInt(n)+parseInt(l))},n.prototype.removeEffetc=function(n){},n.prototype.goToPage=function(n){this.router.navigate(["/intelligence/path-viewer"])},n}(),V=t("4GxJ"),z=e["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function N(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,0,"div",[["class","delete-route"],["name","close"],["style","top:0px; background: #607D8B; color: #fff; border-radius: 50% 0% 50% 50%;"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.deleteRoute("cost",n.parent.context.index)&&e),e},null,null))],null,null)}function U(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,22,"div",[["class","input-position"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,N)),e["\u0275did"](2,16384,null,0,_.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](3,0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(n()(),e["\u0275eld"](4,0,null,null,7,"div",[["class","col-md-5"],["style","padding-left:4px; margin-top: 15px;"]],null,null,null,null,null)),(n()(),e["\u0275eld"](5,0,null,null,5,"input",[["class","location-input form-control"],["placeholder","Enter pickup point"],["style","padding:10px;font-size:12px;"],["type","text"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,6)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,6).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,6)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,6)._compositionEnd(t.target.value)&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.origin.name=t)&&o),o},null,null)),e["\u0275did"](6,16384,null,0,S.d,[e.Renderer2,e.ElementRef,[2,S.a]],null,null),e["\u0275prd"](1024,null,S.l,function(n){return[n]},[S.d]),e["\u0275did"](8,671744,null,0,S.q,[[8,null],[8,null],[8,null],[6,S.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,S.m,null,[S.q]),e["\u0275did"](10,16384,null,0,S.n,[[4,S.m]],null,null),(n()(),e["\u0275eld"](11,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-map-marker"],["style","bottom: 32px;right: 10px;font-size: 20px; float:right; position:relative"]],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;return"click"===l&&(e=!1!==o.showLocation(n.context.$implicit,o.cal="costPick")&&e),e},null,null)),(n()(),e["\u0275eld"](12,0,null,null,2,"div",[["col-1",""],["style","padding: 30px 10px 0 0px;"]],null,null,null,null,null)),(n()(),e["\u0275eld"](13,0,null,null,1,"span",[["class","route-to"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["TO"])),(n()(),e["\u0275eld"](15,0,null,null,7,"div",[["class","col-md-5"],["style","padding-left:4px; margin-top: 15px;"]],null,null,null,null,null)),(n()(),e["\u0275eld"](16,0,null,null,5,"input",[["class","location-input form-control"],["placeholder","Enter drop point"],["style","padding:10px;font-size:12px;"],["type","text"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,17)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,17).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,17)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,17)._compositionEnd(t.target.value)&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.destination.name=t)&&o),o},null,null)),e["\u0275did"](17,16384,null,0,S.d,[e.Renderer2,e.ElementRef,[2,S.a]],null,null),e["\u0275prd"](1024,null,S.l,function(n){return[n]},[S.d]),e["\u0275did"](19,671744,null,0,S.q,[[8,null],[8,null],[8,null],[6,S.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,S.m,null,[S.q]),e["\u0275did"](21,16384,null,0,S.n,[[4,S.m]],null,null),(n()(),e["\u0275eld"](22,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-map-marker"],["style","bottom: 32px;right: 10px;font-size: 20px; float:right; position:relative"]],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;return"click"===l&&(e=!1!==o.showLocation(n.context.$implicit,o.cal="costDrop")&&e),e},null,null))],function(n,l){n(l,2,0,0!=l.context.index||l.component.editCost.route),n(l,8,0,"cost_origin_"+l.context.index,l.context.$implicit.origin.name),n(l,19,0,"cost_destination_"+l.context.index,l.context.$implicit.destination.name)},function(n,l){n(l,5,0,"cost_origin_"+l.context.index,e["\u0275nov"](l,10).ngClassUntouched,e["\u0275nov"](l,10).ngClassTouched,e["\u0275nov"](l,10).ngClassPristine,e["\u0275nov"](l,10).ngClassDirty,e["\u0275nov"](l,10).ngClassValid,e["\u0275nov"](l,10).ngClassInvalid,e["\u0275nov"](l,10).ngClassPending),n(l,16,0,"cost_destination_"+l.context.index,e["\u0275nov"](l,21).ngClassUntouched,e["\u0275nov"](l,21).ngClassTouched,e["\u0275nov"](l,21).ngClassPristine,e["\u0275nov"](l,21).ngClassDirty,e["\u0275nov"](l,21).ngClassValid,e["\u0275nov"](l,21).ngClassInvalid,e["\u0275nov"](l,21).ngClassPending)})}function F(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,6,"div",[],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Complete Loop"])),(n()(),e["\u0275eld"](3,0,null,null,3,"div",[["checked","false"],["name","loop"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,t){var e=!0;return"ngModelChange"===l&&(e=!1!==(n.component.selected.loop.cost=t)&&e),e},null,null)),e["\u0275did"](4,671744,null,0,S.q,[[8,null],[8,null],[8,null],[8,null]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,S.m,null,[S.q]),e["\u0275did"](6,16384,null,0,S.n,[[4,S.m]],null,null)],function(n,l){n(l,4,0,"loop",l.component.selected.loop.cost)},function(n,l){n(l,3,0,e["\u0275nov"](l,6).ngClassUntouched,e["\u0275nov"](l,6).ngClassTouched,e["\u0275nov"](l,6).ngClassPristine,e["\u0275nov"](l,6).ngClassDirty,e["\u0275nov"](l,6).ngClassValid,e["\u0275nov"](l,6).ngClassInvalid,e["\u0275nov"](l,6).ngClassPending)})}function q(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,0,"div",[["class","delete-route"],["name","close"],["style","top:0px; background: #607D8B; color: #fff; border-radius: 50% 0% 50% 50%;"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.deleteRoute("profit",n.parent.context.index)&&e),e},null,null))],null,null)}function B(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-success btn-xs"],["style","margin-right:15px;"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==(n.parent.context.$implicit.brokerage=n.context.$implicit)&&e),e},null,null)),e["\u0275did"](1,278528,null,0,_.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),e["\u0275ted"](2,null,["",""]))],function(n,l){n(l,1,0,"btn btn-success btn-xs",l.parent.context.$implicit.brokerage==l.context.$implicit?"active":"")},function(n,l){n(l,2,0,l.context.$implicit)})}function J(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-success btn-xs"],["style","margin-right:15px;"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==(n.parent.context.$implicit.loading=n.context.$implicit)&&e),e},null,null)),e["\u0275did"](1,278528,null,0,_.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),e["\u0275ted"](2,null,["",""]))],function(n,l){n(l,1,0,"btn btn-success btn-xs",l.parent.context.$implicit.loading==l.context.$implicit?"active":"")},function(n,l){n(l,2,0,l.context.$implicit)})}function K(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-success btn-xs"],["style","margin-right:15px;"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==(n.parent.context.$implicit.unloading=n.context.$implicit)&&e),e},null,null)),e["\u0275did"](1,278528,null,0,_.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),e["\u0275ted"](2,null,["",""]))],function(n,l){n(l,1,0,"btn btn-success btn-xs",l.parent.context.$implicit.unloading==l.context.$implicit?"active":"")},function(n,l){n(l,2,0,l.context.$implicit)})}function H(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,100,"div",[["class","input-position"],["style","position:relative"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,q)),e["\u0275did"](2,16384,null,0,_.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](3,0,null,null,19,"div",[["class","row"],["style","margin:20px 0"]],null,null,null,null,null)),(n()(),e["\u0275eld"](4,0,null,null,7,"div",[["class","col-md-5"],["style","padding-left:4px; margin-top:15px;"]],null,null,null,null,null)),(n()(),e["\u0275eld"](5,0,null,null,5,"input",[["class","form-control"],["placeholder","Enter pickup point"],["style","padding:10px;font-size:12px;"],["type","text"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,6)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,6).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,6)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,6)._compositionEnd(t.target.value)&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.origin.name=t)&&o),o},null,null)),e["\u0275did"](6,16384,null,0,S.d,[e.Renderer2,e.ElementRef,[2,S.a]],null,null),e["\u0275prd"](1024,null,S.l,function(n){return[n]},[S.d]),e["\u0275did"](8,671744,null,0,S.q,[[8,null],[8,null],[8,null],[6,S.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,S.m,null,[S.q]),e["\u0275did"](10,16384,null,0,S.n,[[4,S.m]],null,null),(n()(),e["\u0275eld"](11,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-map-marker"],["style","bottom: 32px;right: 10px;font-size: 20px; float:right; position:relative"]],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;return"click"===l&&(e=!1!==o.showLocation(n.context.$implicit,o.cal="profitPickup")&&e),e},null,null)),(n()(),e["\u0275eld"](12,0,null,null,2,"div",[["col-1",""],["style","padding: 30px 10px 0 0px;"]],null,null,null,null,null)),(n()(),e["\u0275eld"](13,0,null,null,1,"span",[["class","route-to"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["TO"])),(n()(),e["\u0275eld"](15,0,null,null,7,"div",[["class","col-md-5"],["style","padding-left:4px;  margin-top:15px;"]],null,null,null,null,null)),(n()(),e["\u0275eld"](16,0,null,null,5,"input",[["class","form-control"],["placeholder","Enter drop point"],["type","text"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,17)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,17).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,17)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,17)._compositionEnd(t.target.value)&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.destination.name=t)&&o),o},null,null)),e["\u0275did"](17,16384,null,0,S.d,[e.Renderer2,e.ElementRef,[2,S.a]],null,null),e["\u0275prd"](1024,null,S.l,function(n){return[n]},[S.d]),e["\u0275did"](19,671744,null,0,S.q,[[8,null],[8,null],[8,null],[6,S.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,S.m,null,[S.q]),e["\u0275did"](21,16384,null,0,S.n,[[4,S.m]],null,null),(n()(),e["\u0275eld"](22,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-map-marker"],["style","bottom: 32px;right: 10px;font-size: 20px; float:right; position:relative"]],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;return"click"===l&&(e=!1!==o.showLocation(n.context.$implicit,o.cal="profitDrop")&&e),e},null,null)),(n()(),e["\u0275eld"](23,0,null,null,1,"p",[["class","section"],["style"," margin-top:15px;"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Loading Details"])),(n()(),e["\u0275eld"](25,0,null,null,21,"div",[["class","row"],["style","margin:20px 0"]],null,null,null,null,null)),(n()(),e["\u0275eld"](26,0,null,null,7,"div",[["class","col-md-4"],["style","padding-left:4px;  margin-top:15px;"]],null,null,null,null,null)),(n()(),e["\u0275eld"](27,0,null,null,6,"input",[["class","form-control"],["placeholder","Rate/Tonne"],["style","padding:7px;font-size:10px;"],["type","number"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"ngModelChange"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0,i=n.component;return"input"===l&&(o=!1!==e["\u0275nov"](n,28)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,28).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,28)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,28)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,29).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,29).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,29).onTouched()&&o),"input"===l&&(o=!1!==i.getBrokerage(t.target.value,n.context.index)&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.rate=t)&&o),o},null,null)),e["\u0275did"](28,16384,null,0,S.d,[e.Renderer2,e.ElementRef,[2,S.a]],null,null),e["\u0275did"](29,16384,null,0,S.z,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,S.l,function(n,l){return[n,l]},[S.d,S.z]),e["\u0275did"](31,671744,null,0,S.q,[[8,null],[8,null],[8,null],[6,S.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,S.m,null,[S.q]),e["\u0275did"](33,16384,null,0,S.n,[[4,S.m]],null,null),(n()(),e["\u0275eld"](34,0,null,null,12,"div",[["class","col-md-8"],["style","padding-top:16px;"]],null,null,null,null,null)),(n()(),e["\u0275eld"](35,0,null,null,2,"button",[["class","btn btn-success btn-xs"],["id","bnt-1000"],["style","margin-right:15px;"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==(n.context.$implicit.rate=n.component.addRate(n.context.$implicit.rate,1e3,"profit_rate_"+n.context.index))&&e),e},null,null)),e["\u0275did"](36,278528,null,0,_.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),e["\u0275ted"](-1,null,["+1000"])),(n()(),e["\u0275eld"](38,0,null,null,2,"button",[["class","btn btn-success btn-xs"],["id","bnt-500"],["style","margin-right:15px;"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==(n.context.$implicit.rate=n.component.addRate(n.context.$implicit.rate,500,"profit_rate_"+n.context.index))&&e),e},null,null)),e["\u0275did"](39,278528,null,0,_.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),e["\u0275ted"](-1,null,["+500"])),(n()(),e["\u0275eld"](41,0,null,null,2,"button",[["class","btn btn-success btn-xs"],["id","bnt-100"],["style","margin-right:15px;"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==(n.context.$implicit.rate=n.component.addRate(n.context.$implicit.rate,100,"profit_rate_"+n.context.index))&&e),e},null,null)),e["\u0275did"](42,278528,null,0,_.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),e["\u0275ted"](-1,null,["+100"])),(n()(),e["\u0275eld"](44,0,null,null,2,"button",[["class","btn btn-success btn-xs"],["id","bnt-10"],["style","margin-right:15px;"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==(n.context.$implicit.rate=n.component.addRate(n.context.$implicit.rate,10,"profit_rate_"+n.context.index))&&e),e},null,null)),e["\u0275did"](45,278528,null,0,_.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),e["\u0275ted"](-1,null,["+10"])),(n()(),e["\u0275eld"](47,0,null,null,17,"div",[["class","row"],["style","margin:20px 0"]],null,null,null,null,null)),(n()(),e["\u0275eld"](48,0,null,null,7,"div",[["class","col-md-4"],["style","padding-left:4px;  margin-top:15px;"]],null,null,null,null,null)),(n()(),e["\u0275eld"](49,0,null,null,6,"input",[["class","form-control"],["placeholder","Tonnage"],["style","padding:7px;font-size:10px;"],["type","number"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,50)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,50).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,50)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,50)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,51).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,51).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,51).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.tonnage=t)&&o),o},null,null)),e["\u0275did"](50,16384,null,0,S.d,[e.Renderer2,e.ElementRef,[2,S.a]],null,null),e["\u0275did"](51,16384,null,0,S.z,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,S.l,function(n,l){return[n,l]},[S.d,S.z]),e["\u0275did"](53,671744,null,0,S.q,[[8,null],[8,null],[8,null],[6,S.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,S.m,null,[S.q]),e["\u0275did"](55,16384,null,0,S.n,[[4,S.m]],null,null),(n()(),e["\u0275eld"](56,0,null,null,8,"div",[["class","col-md-8"],["style","padding-top:16px;"]],null,null,null,null,null)),(n()(),e["\u0275eld"](57,0,null,null,1,"button",[["class","btn btn-success btn-xs"],["style","margin-right:15px;"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["26"])),(n()(),e["\u0275eld"](59,0,null,null,1,"button",[["class","btn btn-success btn-xs"],["style","margin-right:15px;"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["27"])),(n()(),e["\u0275eld"](61,0,null,null,1,"button",[["class","btn btn-success btn-xs"],["style","margin-right:15px;"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["28"])),(n()(),e["\u0275eld"](63,0,null,null,1,"button",[["class","btn btn-success btn-xs"],["style","margin-right:15px;"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["29"])),(n()(),e["\u0275eld"](65,0,null,null,11,"div",[["class","row"],["style","margin:20px 0"]],null,null,null,null,null)),(n()(),e["\u0275eld"](66,0,null,null,7,"div",[["class","col-md-4"],["style","padding-left:4px;  margin-top:15px;"]],null,null,null,null,null)),(n()(),e["\u0275eld"](67,0,null,null,6,"input",[["class","form-control"],["placeholder","Brokerage"],["style","padding:7px;font-size:10px;"],["type","number"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,68)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,68).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,68)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,68)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,69).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,69).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,69).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.brokerage=t)&&o),o},null,null)),e["\u0275did"](68,16384,null,0,S.d,[e.Renderer2,e.ElementRef,[2,S.a]],null,null),e["\u0275did"](69,16384,null,0,S.z,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,S.l,function(n,l){return[n,l]},[S.d,S.z]),e["\u0275did"](71,671744,null,0,S.q,[[8,null],[8,null],[8,null],[6,S.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,S.m,null,[S.q]),e["\u0275did"](73,16384,null,0,S.n,[[4,S.m]],null,null),(n()(),e["\u0275eld"](74,0,null,null,2,"div",[["class","col-md-8"],["style","padding-top:16px;"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,B)),e["\u0275did"](76,278528,null,0,_.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](77,0,null,null,11,"div",[["class","row"],["style","margin:20px 0"]],null,null,null,null,null)),(n()(),e["\u0275eld"](78,0,null,null,7,"div",[["class","col-md-4"],["style","padding-left:4px;  margin-top:15px;"]],null,null,null,null,null)),(n()(),e["\u0275eld"](79,0,null,null,6,"input",[["class","form-control"],["placeholder","Loading/Tonne"],["style","padding:7px;font-size:10px;"],["type","number"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,80)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,80).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,80)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,80)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,81).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,81).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,81).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.loading=t)&&o),o},null,null)),e["\u0275did"](80,16384,null,0,S.d,[e.Renderer2,e.ElementRef,[2,S.a]],null,null),e["\u0275did"](81,16384,null,0,S.z,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,S.l,function(n,l){return[n,l]},[S.d,S.z]),e["\u0275did"](83,671744,null,0,S.q,[[8,null],[8,null],[8,null],[6,S.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,S.m,null,[S.q]),e["\u0275did"](85,16384,null,0,S.n,[[4,S.m]],null,null),(n()(),e["\u0275eld"](86,0,null,null,2,"div",[["class","col-md-8"],["style","padding-top:16px;"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,J)),e["\u0275did"](88,278528,null,0,_.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](89,0,null,null,11,"div",[["class","row"],["style","margin:20px 0"]],null,null,null,null,null)),(n()(),e["\u0275eld"](90,0,null,null,7,"div",[["class","col-md-4"],["style","padding-left:4px;  margin-top:15px;"]],null,null,null,null,null)),(n()(),e["\u0275eld"](91,0,null,null,6,"input",[["class","form-control"],["placeholder","Unloading/Tonne"],["style","padding:7px;font-size:10px;"],["type","number"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,92)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,92).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,92)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,92)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,93).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,93).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,93).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.unloading=t)&&o),o},null,null)),e["\u0275did"](92,16384,null,0,S.d,[e.Renderer2,e.ElementRef,[2,S.a]],null,null),e["\u0275did"](93,16384,null,0,S.z,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,S.l,function(n,l){return[n,l]},[S.d,S.z]),e["\u0275did"](95,671744,null,0,S.q,[[8,null],[8,null],[8,null],[6,S.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,S.m,null,[S.q]),e["\u0275did"](97,16384,null,0,S.n,[[4,S.m]],null,null),(n()(),e["\u0275eld"](98,0,null,null,2,"div",[["class","col-md-8"],["style","padding-top:16px;"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,K)),e["\u0275did"](100,278528,null,0,_.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,0!=l.context.index||l.component.edit.route),n(l,8,0,"profit_origin_"+l.context.index,l.context.$implicit.origin.name),n(l,19,0,"profit_destination_"+l.context.index,l.context.$implicit.destination.name),n(l,31,0,"profit_rate_"+l.context.index,l.context.$implicit.rate),n(l,36,0,"btn btn-success btn-xs",1e3==l.context.$implicit.tonnage?"active":""),n(l,39,0,"btn btn-success btn-xs",500==l.context.$implicit.tonnage?"active":""),n(l,42,0,"btn btn-success btn-xs",100==l.context.$implicit.tonnage?"active":""),n(l,45,0,"btn btn-success btn-xs",10==l.context.$implicit.tonnage?"active":""),n(l,53,0,"profit_tonnage_"+l.context.index,l.context.$implicit.tonnage),n(l,71,0,"profit_brokerage_"+l.context.index,l.context.$implicit.brokerage),n(l,76,0,l.context.$implicit.brokrageRates),n(l,83,0,"profit_loading_"+l.context.index,l.context.$implicit.loading),n(l,88,0,l.context.$implicit.loadingRates),n(l,95,0,"profit_unloading_"+l.context.index,l.context.$implicit.unloading),n(l,100,0,l.context.$implicit.unloadingRates)},function(n,l){n(l,5,0,"profit_origin_"+l.context.index,e["\u0275nov"](l,10).ngClassUntouched,e["\u0275nov"](l,10).ngClassTouched,e["\u0275nov"](l,10).ngClassPristine,e["\u0275nov"](l,10).ngClassDirty,e["\u0275nov"](l,10).ngClassValid,e["\u0275nov"](l,10).ngClassInvalid,e["\u0275nov"](l,10).ngClassPending),n(l,16,0,"profit_destination_"+l.context.index,e["\u0275nov"](l,21).ngClassUntouched,e["\u0275nov"](l,21).ngClassTouched,e["\u0275nov"](l,21).ngClassPristine,e["\u0275nov"](l,21).ngClassDirty,e["\u0275nov"](l,21).ngClassValid,e["\u0275nov"](l,21).ngClassInvalid,e["\u0275nov"](l,21).ngClassPending),n(l,27,0,"profit_rate_"+l.context.index,e["\u0275nov"](l,33).ngClassUntouched,e["\u0275nov"](l,33).ngClassTouched,e["\u0275nov"](l,33).ngClassPristine,e["\u0275nov"](l,33).ngClassDirty,e["\u0275nov"](l,33).ngClassValid,e["\u0275nov"](l,33).ngClassInvalid,e["\u0275nov"](l,33).ngClassPending),n(l,49,0,"profit_tonnage_"+l.context.index,e["\u0275nov"](l,55).ngClassUntouched,e["\u0275nov"](l,55).ngClassTouched,e["\u0275nov"](l,55).ngClassPristine,e["\u0275nov"](l,55).ngClassDirty,e["\u0275nov"](l,55).ngClassValid,e["\u0275nov"](l,55).ngClassInvalid,e["\u0275nov"](l,55).ngClassPending),n(l,67,0,"profit_brokerage_"+l.context.index,e["\u0275nov"](l,73).ngClassUntouched,e["\u0275nov"](l,73).ngClassTouched,e["\u0275nov"](l,73).ngClassPristine,e["\u0275nov"](l,73).ngClassDirty,e["\u0275nov"](l,73).ngClassValid,e["\u0275nov"](l,73).ngClassInvalid,e["\u0275nov"](l,73).ngClassPending),n(l,79,0,"profit_loading_"+l.context.index,e["\u0275nov"](l,85).ngClassUntouched,e["\u0275nov"](l,85).ngClassTouched,e["\u0275nov"](l,85).ngClassPristine,e["\u0275nov"](l,85).ngClassDirty,e["\u0275nov"](l,85).ngClassValid,e["\u0275nov"](l,85).ngClassInvalid,e["\u0275nov"](l,85).ngClassPending),n(l,91,0,"profit_unloading_"+l.context.index,e["\u0275nov"](l,97).ngClassUntouched,e["\u0275nov"](l,97).ngClassTouched,e["\u0275nov"](l,97).ngClassPristine,e["\u0275nov"](l,97).ngClassDirty,e["\u0275nov"](l,97).ngClassValid,e["\u0275nov"](l,97).ngClassInvalid,e["\u0275nov"](l,97).ngClassPending)})}function Z(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,6,"div",[],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Complete Loop"])),(n()(),e["\u0275eld"](3,0,null,null,3,"div",[["checked","false"],["name","loop"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,t){var e=!0;return"ngModelChange"===l&&(e=!1!==(n.component.selected.loop.profit=t)&&e),e},null,null)),e["\u0275did"](4,671744,null,0,S.q,[[8,null],[8,null],[8,null],[8,null]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,S.m,null,[S.q]),e["\u0275did"](6,16384,null,0,S.n,[[4,S.m]],null,null)],function(n,l){n(l,4,0,"loop",l.component.selected.loop.profit)},function(n,l){n(l,3,0,e["\u0275nov"](l,6).ngClassUntouched,e["\u0275nov"](l,6).ngClassTouched,e["\u0275nov"](l,6).ngClassPristine,e["\u0275nov"](l,6).ngClassDirty,e["\u0275nov"](l,6).ngClassValid,e["\u0275nov"](l,6).ngClassInvalid,e["\u0275nov"](l,6).ngClassPending)})}function j(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,40,"nb-card",[["style","border:none"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,R.e,R.b)),e["\u0275did"](1,49152,null,0,k.b,[],null,null),(n()(),e["\u0275eld"](2,0,null,0,3,"nb-card-header",[],null,null,null,R.f,R.c)),e["\u0275did"](3,49152,null,0,k.d,[],null,null),(n()(),e["\u0275eld"](4,0,null,0,1,"h2",[["style","font-size:20px;"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Calculator"])),(n()(),e["\u0275eld"](6,0,null,1,34,"nb-card-body",[],null,null,null,R.d,R.a)),e["\u0275did"](7,49152,null,0,k.a,[],null,null),(n()(),e["\u0275eld"](8,0,null,0,32,"nb-tabset",[],[[2,"full-width",null]],null,null,L.d,L.b)),e["\u0275did"](9,1097728,null,1,D.b,[x.a,e.ChangeDetectorRef],null,null),e["\u0275qud"](603979776,1,{tabs:1}),(n()(),e["\u0275eld"](11,0,null,0,14,"nb-tab",[["tabTitle","Cost Calculator"]],[[2,"content-active",null]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==(n.component.selected.calculator="cost")&&e),e},L.c,L.a)),e["\u0275did"](12,278528,null,0,_.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{ngClass:[0,"ngClass"]},null),e["\u0275did"](13,49152,[[1,4]],0,D.a,[],{tabTitle:[0,"tabTitle"]},null),(n()(),e["\u0275eld"](14,0,null,0,11,"div",[["class","row-cal"],["style","margin:20px 0"]],null,null,null,null,null)),(n()(),e["\u0275eld"](15,0,null,null,10,"div",[["class","col-md-12 routes"],["id","cost-calculator"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,U)),e["\u0275did"](17,278528,null,0,_.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](18,0,null,null,5,"div",[["class","route-options"],["style","margin:20px 0;"]],null,null,null,null,null)),(n()(),e["\u0275eld"](19,0,null,null,2,"button",[["block",""],["class","btn btn-success"],["style","margin-right:15px; font-size: 12px; padding:7px;"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.addCostRoute()&&e),e},null,null)),(n()(),e["\u0275eld"](20,0,null,null,0,"div",[["name","add-circle"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" \xa0Add Route "])),(n()(),e["\u0275eld"](22,0,null,null,1,"button",[["block",""],["class","btn btn-success"],["style","margin-right:15px; font-size: 12px; padding:7px;"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.mapViewer("cost")&&e),e},null,null)),(n()(),e["\u0275ted"](-1,null,[" Calculate Cost "])),(n()(),e["\u0275and"](16777216,null,null,1,null,F)),e["\u0275did"](25,16384,null,0,_.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](26,0,null,0,14,"nb-tab",[["tabTitle","Profit Calculator"]],[[2,"content-active",null]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==(n.component.selected.calculator="profit")&&e),e},L.c,L.a)),e["\u0275did"](27,278528,null,0,_.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{ngClass:[0,"ngClass"]},null),e["\u0275did"](28,49152,[[1,4]],0,D.a,[],{tabTitle:[0,"tabTitle"]},null),(n()(),e["\u0275eld"](29,0,null,0,11,"div",[],null,null,null,null,null)),(n()(),e["\u0275eld"](30,0,null,null,10,"div",[["class","routes"],["id","profit-calculator"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,H)),e["\u0275did"](32,278528,null,0,_.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](33,0,null,null,5,"div",[["class","cal-btn"]],null,null,null,null,null)),(n()(),e["\u0275eld"](34,0,null,null,2,"button",[["block",""],["class","btn btn-success"],["style","margin-right:15px; font-size: 12px; padding:7px;"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.checkAddProfitRoute()&&e),e},null,null)),(n()(),e["\u0275eld"](35,0,null,null,0,"div",[["name","add-circle"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" \xa0Add Route "])),(n()(),e["\u0275eld"](37,0,null,null,1,"button",[["class","btn btn-success"],["style","margin-right:15px; font-size: 12px; padding:7px;"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.goToPage("page")&&e),e},null,null)),(n()(),e["\u0275ted"](-1,null,[" Calculate Profit "])),(n()(),e["\u0275and"](16777216,null,null,1,null,Z)),e["\u0275did"](40,16384,null,0,_.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](41,0,null,null,8,"div",[["class","row-btn"]],null,null,null,null,null)),(n()(),e["\u0275eld"](42,0,null,null,1,"button",[["class","btn btn-success btn-xs"],["mini",""],["style","margin-right:15px;"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.logout()&&e),e},null,null)),(n()(),e["\u0275ted"](-1,null,[" Logout "])),(n()(),e["\u0275eld"](44,0,null,null,1,"button",[["class","btn btn-success btn-xs"],["mini",""],["style","margin-right:15px;"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.goToPage("BoosterPage")&&e),e},null,null)),(n()(),e["\u0275ted"](-1,null,[" Booster Page "])),(n()(),e["\u0275eld"](46,0,null,null,1,"button",[["class","btn btn-success btn-xs"],["mini",""],["style","margin-right:15px;"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.goToPage("VehiclesPage")&&e),e},null,null)),(n()(),e["\u0275ted"](-1,null,[" Vehicle Page "])),(n()(),e["\u0275eld"](48,0,null,null,1,"button",[["class","btn btn-success btn-xs"],["mini",""],["style","margin-right:15px;"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.goToPage("BoostedPage")&&e),e},null,null)),(n()(),e["\u0275ted"](-1,null,[" Boosted Page "]))],function(n,l){var t=l.component;n(l,12,0,"cost"==t.selected.calculator?"active":"in-active"),n(l,13,0,"Cost Calculator"),n(l,17,0,t.routes.cost),n(l,25,0,t.isShowLoopOption("cost")),n(l,27,0,"profit"==t.selected.calculator?"active":"in-active"),n(l,28,0,"Profit Calculator"),n(l,32,0,t.routes.profit),n(l,40,0,t.isShowLoopOption("profit"))},function(n,l){n(l,0,1,[e["\u0275nov"](l,1).xxsmall,e["\u0275nov"](l,1).xsmall,e["\u0275nov"](l,1).small,e["\u0275nov"](l,1).medium,e["\u0275nov"](l,1).large,e["\u0275nov"](l,1).xlarge,e["\u0275nov"](l,1).xxlarge,e["\u0275nov"](l,1).active,e["\u0275nov"](l,1).disabled,e["\u0275nov"](l,1).primary,e["\u0275nov"](l,1).info,e["\u0275nov"](l,1).success,e["\u0275nov"](l,1).warning,e["\u0275nov"](l,1).danger,e["\u0275nov"](l,1).hasAccent,e["\u0275nov"](l,1).primaryAccent,e["\u0275nov"](l,1).infoAccent,e["\u0275nov"](l,1).successAccent,e["\u0275nov"](l,1).warningAccent,e["\u0275nov"](l,1).dangerAccent,e["\u0275nov"](l,1).activeAccent,e["\u0275nov"](l,1).disabledAccent]),n(l,8,0,e["\u0275nov"](l,9).fullWidthValue),n(l,11,0,e["\u0275nov"](l,13).activeValue),n(l,26,0,e["\u0275nov"](l,28).activeValue)})}var W=e["\u0275ccf"]("profit-calculator",$,function(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"profit-calculator",[],null,null,null,j,z)),e["\u0275did"](1,4243456,null,0,$,[e.NgZone,E.a,M.a,O.a,x.l,V.u],null,null)],null,null)},{},{},[]),G=function(){function n(n,l,t,e){this.zone=n,this.api=l,this.common=t,this.data=e,this.routes=[],this.costRoutes=[],this.costRoutesCopy=[],this.routeLines=[],this.linkLines=[],this.showLines=[],this.routeType="",this.loadedRoutes=[],this.total={profit:0,cost:0,revenue:0},this.viewType="map",this.connect=!1,this.selected={suggestion:[]},this.geocoder=null,this.showInfo=-1,this.hideInfo=-1,this.runningPolyline1=null,this.runningPolyline2=null,this.runningPolyline3=null,this.isRunPolyline=!1,this.bounds=null,this.common.params.routes&&(localStorage.setItem("ROUTES",JSON.stringify(this.common.params.routes)),localStorage.setItem("ROUTE_TYPE",this.common.params.routeType),this.connect=this.common.params.connect),this.routeType=localStorage.getItem("ROUTE_TYPE"),this.routes=JSON.parse(localStorage.getItem("ROUTES")),"cost"==this.routeType?this.getCostRoutesFromAPI():"profit"==this.routeType&&this.getProfitRoutesFromAPI()}return n.prototype.ngAfterViewInit=function(){console.log("ionViewDidLoad PathViewerPage"),this.loadMap()},n.prototype.loadMap=function(n,l){void 0===n&&(n=26.9124336),void 0===l&&(l=75.78727090000007);var t={center:new google.maps.LatLng(n,l),zoom:5,disableDefaultUI:!0,mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(this.mapElement.nativeElement,t),this.geocoder=new google.maps.Geocoder},n.prototype.getCostRoutesFromAPI=function(n){var l=this;void 0===n&&(n=!1),this.removeDummyRoutes();var t=[];this.routes.map(function(n){t.push({origin:{name:n.origin.name,lat:n.origin.lat,lng:n.origin.lng},destination:{name:n.destination.name,lat:n.destination.lat,lng:n.destination.lng}})}),console.log(t),console.log(t);var e={routes:t,searchId:this.common.searchId||-1,connect:this.connect};console.log(e),this.api.postJava("info",e).subscribe(function(t){return console.log("Res:",t),l.common.handleApiResponce(t)?(localStorage.setItem("COSTROUTES",JSON.stringify(t)),t.success?(n||(l.common.searchId=t.data.searchId),localStorage.setItem("COSTROUTES",JSON.stringify(t.data.routes)),void l.handleCostRoutes(t.data.routes)):void l.common.showToast(t.msg)):(l.common.showToast(t.msg),void localStorage.clear())},function(n){console.error("Error",n)})},n.prototype.getProfitRoutesFromAPI=function(n){var l=this;void 0===n&&(n=!1),this.removeDummyRoutes();var t=[];this.routes.map(function(n){t.push({origin:{name:n.origin.name,lat:n.origin.lat,lng:n.origin.lng},destination:{name:n.destination.name,lat:n.destination.lat,lng:n.destination.lng},rate:n.rate,tonnage:n.tonnage,brokerage:n.brokerage,loading:n.loading,unloading:n.unloading})}),console.log(t);var e={routes:t,searchId:this.common.searchId||-1,connect:this.connect};console.log(e),this.api.post("infoprofit",e).subscribe(function(t){return console.log("Res:",t),l.common.handleApiResponce(t)?t.success?(n||(l.common.searchId=t.data.searchId,localStorage.setItem("SEARCH_ID",t.data.searchId)),localStorage.setItem("COSTROUTES",JSON.stringify(t.data.routes)),console.log("Test: ",JSON.parse(localStorage.getItem("COSTROUTES"))),l.handleCostRoutes(t.data.routes),void l.initializeSelectedSuggestion()):void l.common.showToast(t.msg):(l.common.showToast(t.msg),void localStorage.clear())},function(n){console.error("Error",n)})},n.prototype.removeDummyRoutes=function(){this.routes=this.routes.filter(function(n){return!(!n.origin.lat||!n.destination.lat)})},n.prototype.handleCostRoutes=function(n,l){var t=this;void 0===l&&(l="search"),this.data.costRoutes=n,this.costRoutes=n,"search"==l&&(this.costRoutesCopy=Object.assign({},this.costRoutes),this.loadedRoutes=[],n.map(function(n,l){n.isLoaded&&t.loadedRoutes.push({index:l,route:n})})),this.calulateTotalCost(),"profit"==this.routeType&&(console.log("Calculate Profit"),this.calculateProfit());var e=0,o=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZ",u=0;this.costRoutes.map(function(n,l){n.latLng.length&&n.isLoaded&&(t.routes[e].origin.lat=n.latLng[0].lat,t.routes[e].origin.lng=n.latLng[0].lng,console.log(t.routes[e].origin.lat,t.routes[e].origin.lng,e),t.routes[e].destination.lat=n.latLng[n.latLng.length-1].lat,t.routes[e].destination.lng=n.latLng[n.latLng.length-1].lng,t.setMarker(e,"origin",i[u++%i.length]),t.setMarker(e,"destination",i[u++%i.length]),t.drawRoute2(l,"routeLines",n.isLoaded,e),console.log("Routes: ",t.routes,n,n.latLng[0].lat,n.latLng[0].lng),e++)}),this.costRoutes.map(function(n,l){n.latLng.length&&(n.isLoaded||(t.drawRoute2(l,"linkLines",n.isLoaded,o),o++))}),this.getRoutes2(),this.initializeRunPolyline()},n.prototype.calulateTotalCost=function(){this.costRoutes.map(function(n){n.cost.totalCost.value=n.cost.fuel.value+n.cost.border.value+n.cost.toll.value+n.cost.loading.value+n.cost.unloading.value,n.cost.brokerage&&(n.cost.totalCost.value+=n.cost.brokerage.value),console.log("Total Cost:",n.cost.totalCost)})},n.prototype.setMarker=function(n,l,t){void 0===t&&(t="0");var e=new google.maps.LatLng(this.routes[n][l].lat,this.routes[n][l].lng);this.routes[n][l].marker?this.routes[n][l].marker.setPosition(e):(this.routes[n][l].marker=new google.maps.Marker({position:{lat:this.routes[n][l].lat,lng:this.routes[n][l].lng},map:this.map,draggable:!0,animation:google.maps.Animation.DROP,title:this.routes[n][l].name,label:t}),google.maps.event.addListener(this.routes[n][l].marker,"dragend",this.markerPositionChangd.bind(this,n,l)),this.createInfoWindow(n,l),this.routes[n][l].marker.addListener("click",this.showInfoWindow.bind(this,n,l))),localStorage.getItem("MARKER_MOVED")||this.bounceMarker()},n.prototype.createInfoWindow=function(n,l){var t=new google.maps.InfoWindow({content:'\n      <h4 style="margin:0px; font-size: 14px;">'+this.routes[n][l].name+"</h4>\n      "});this.routes[n][l].infowindow=t},n.prototype.showInfoWindow=function(n,l){console.log(l,n),this.routes[n][l].infowindow.open(this.map,this.routes[n][l].marker)},n.prototype.drawRoute2=function(n,l,t,e){if(console.log("polylines",this[l]),this[l][e])for(var o=0;o<this[l][e].length;o++)this[l][e][o].setMap(null);this[l][e]=[];var i=t?"black":"red",u=null;u=t?new google.maps.Polyline({map:this.map,strokeColor:i,strokeOpacity:1,strokeWeight:2.5,geodesic:!0}):new google.maps.Polyline({map:this.map,strokeColor:i,strokeOpacity:1,strokeWeight:1.5,geodesic:!0}),this[l][e].push(u),console.log("CostIndex:",n),console.log("Cost:",this.costRoutes[n]),"string"==typeof this.costRoutes[n].latLng&&(this.costRoutes[n].latLng=JSON.parse(this.costRoutes[n].latLng)),console.log("Cost:",this.costRoutes[n]),this.costRoutes[n].latLng.map(function(n,l){u.getPath().push(new google.maps.LatLng(n.lat,n.lng))}),u.setMap(this.map),console.log(this[l]),this.map.setCenter({lat:this.costRoutes[n].latLng[0].lat,lng:this.costRoutes[n].latLng[0].lng})},n.prototype.getRoutes2=function(){this.removeDummyRoutes();for(var n=0;n<this.routes.length;n++)this.routes[n].origin.lat&&this.routes[n].destination.lat&&(this.setMarker(n,"origin"),this.setMarker(n,"destination"))},n.prototype.markerPositionChangd=function(n,l){localStorage.setItem("MARKER_MOVED","YES"),this.routes[n][l].lat=this.routes[n][l].marker.getPosition().lat(),this.routes[n][l].lng=this.routes[n][l].marker.getPosition().lng(),this.geocoder.geocode({location:{lat:this.routes[n][l].lat,lng:this.routes[n][l].lng}},this.getAddress.bind(this,n,l))},n.prototype.bounceMarker=function(){localStorage.getItem("MARKER_MOVED")||(null!==this.routes[0].origin.marker.getAnimation()?this.routes[0].origin.marker.setAnimation(null):this.routes[0].origin.marker.setAnimation(google.maps.Animation.BOUNCE),setTimeout(this.bounceMarker.bind(this),500))},n.prototype.viewDetails=function(){this.isRunPolyline=!1},n.prototype.goBack=function(){this.isRunPolyline=!1},n.prototype.routeShower=function(){},n.prototype.clearShowLines=function(){},n.prototype.calculateProfit=function(){var n=this;this.total={profit:0,cost:0,revenue:0},this.costRoutes.map(function(l){n.total.profit+=l.cost.profit.value,n.total.cost+=l.cost.totalCost.value,n.total.revenue+=l.cost.revenue.value}),console.log("Total:",this.total)},n.prototype.handleZoom=function(n){var l=this.map.getZoom();this.map.setZoom(n?l+1:l-1)},n.prototype.getAddress=function(n,l,t,e){console.log(t),console.log(e),t[0]&&(console.log(t[0].formatted_address),this.routes[n][l].name=t[0].formatted_address),this.isRunPolyline=!1,"cost"==this.routeType?this.getCostRoutesFromAPI(!0):"profit"==this.routeType&&this.getProfitRoutesFromAPI(!0)},n.prototype.viewSuggestion=function(){console.log("Tets")},n.prototype.initializeSelectedSuggestion=function(){this.selected.suggestion=[];for(var n=0;n<this.loadedRoutes.length;n++)this.selected.suggestion[n]=-1},n.prototype.selectSuggestion=function(n,l,t,e,o){console.log("Route: ",e),console.log("Suggestion: ",o),this.selected.suggestion[l]="route"==n?-1:t;var i={routeId:e.id,index:"route"==n?-1:o.index,suggestionId:"route"==n?e.route.id:o.id,preId:0!=l?this.loadedRoutes[l-1].route.id:-1,nextId:l!=this.loadedRoutes.length-1?this.loadedRoutes[l+1].route.id:this.connect?this.loadedRoutes[0].route.id:-1,data:{rate:-1,tonnage:-1,brokrage:-1,loading:-1,unloading:-1}};console.log("Suggetion Data: ",i,l),this.getSuggestData(i,l,e.route.id)},n.prototype.getSuggestData=function(n,l,t){var e=this;this.isRunPolyline=!1,this.api.post("segmentSuggestion",n).subscribe(function(n){if(console.log("RES: ",n),!e.common.handleApiResponce(n))return e.common.showToast(n.msg),void localStorage.clear();e.handleSuggestionUpdate(n.data.routes,l,t)},function(n){console.log(n)})},n.prototype.handleSuggestionUpdate=function(n,l,t){var e=this.loadedRoutes[l].index;this.costRoutes[e]=n[1],"string"==typeof this.costRoutes[e].latLng&&(this.costRoutes[e].latLng=JSON.parse(this.costRoutes[e].latLng)),n[0]&&(this.costRoutes[e-1]=n[0],"string"==typeof this.costRoutes[e-1].latLng&&(this.costRoutes[e-1].latLng=JSON.parse(this.costRoutes[e-1].latLng))),n[2]&&(this.costRoutes[e+1]=n[2],"string"==typeof this.costRoutes[e+1].latLng&&(this.costRoutes[e+1].latLng=JSON.parse(this.costRoutes[e+1].latLng))),console.log(this.costRoutes),this.handleCostRoutes(this.costRoutes,"suggestion")},n.prototype.showSuggestion=function(){document.getElementById("suggestion").className="suggestion suggestion-show animated slideInUp"},n.prototype.hideSuggestion=function(){document.getElementById("suggestion").className="suggestion suggestion-show animated slideOutDown",setTimeout(function(){document.getElementById("suggestion").className="suggestion animated slideOutDown"},500)},n.prototype.editLoadDetails=function(n,l,t,e,o){var i=this;null.onDidDismiss(function(u){if(console.log(u),u.status){i.hideInfo=i.showInfo,i.showInfo=-1,i.selected.suggestion[l]="route"==n?-1:t;var s={index:"route"==n?-1:o.index,suggestionId:"route"==n?e.route.id:o.id,preId:0!=l?i.loadedRoutes[l-1].route.id:-1,nextId:l!=i.loadedRoutes.length-1?i.loadedRoutes[l+1].route.id:i.connect?i.loadedRoutes[0].route.id:-1,data:{rate:u.load.rate!=o.rate?u.load.rate:-1,tonnage:u.load.tonnage!=o.tonnage?u.load.tonnage:-1,brokrage:u.load.brokrage!=o.brokrage?u.load.brokrage:-1,loading:u.load.loading!=o.loading?u.load.loading:-1,unloading:u.load.unloading!=o.unloading?u.load.unloading!=o.unloading:-1}};i.loadedRoutes[l].route.suggestions[t].rate=u.load.rate,i.loadedRoutes[l].route.suggestions[t].tonnage=u.load.tonnage,i.loadedRoutes[l].route.suggestions[t].brokrage=u.load.brokrage,i.loadedRoutes[l].route.suggestions[t].loading=u.load.loading,i.loadedRoutes[l].route.suggestions[t].unloading=u.load.unloading,console.log("Suggetion Data: ",s,l),i.getSuggestData(s,l,e.route.id)}}),null.present()},n.prototype.showHideInfo=function(n){this.hideInfo=this.showInfo,this.showInfo=this.showInfo!=n?n:-1,console.log("Id:",n),console.log("hideInfo:",this.hideInfo),console.log("showInfo:",this.showInfo)},n.prototype.initializeRunPolyline=function(){var n=[];this.costRoutes.map(function(l){l.latLng.map(function(l){return n.push(l)})}),this.setBounds(),this.isRunPolyline=!0,this.setRunPolyline(n,"1")},n.prototype.setRunPolyline=function(n,l){void 0===l&&(l="1"),this["runningPolyline"+l]&&this["runningPolyline"+l].setMap(null),this["runningPolyline"+l]=new google.maps.Polyline({map:this.map,strokeColor:"#f2f2f2",strokeOpacity:1,strokeWeight:2.5,geodesic:!0}),this.runPolyline(n,0,l)},n.prototype.runPolyline=function(n,l,t){for(var e=0;e<=10;e++){if(l+e<n.length-1){var o=new google.maps.LatLng(n[l+e].lat,n[l+e].lng);this["runningPolyline"+t].getPath().push(o)}this["runningPolyline"+t].getPath().length>100&&this["runningPolyline"+t].getPath().removeAt(e)}l+10<n.length-1&&this.isRunPolyline?setTimeout(this.runPolyline.bind(this,n,l+10,t),1):(this["runningPolyline"+t].setMap(this.map),this.isRunPolyline&&setTimeout(this.setRunPolyline.bind(this,n,t),1))},n.prototype.setBounds=function(){var n=this;this.bounds=new google.maps.LatLngBounds,this.costRoutes.map(function(l){n.bounds.extend(new google.maps.LatLng(l.latLng[0].lat,l.latLng[0].lng)),n.map.fitBounds(n.bounds),n.bounds.extend(new google.maps.LatLng(l.latLng[l.latLng.length-1].lat,l.latLng[l.latLng.length-1].lng)),n.map.fitBounds(n.bounds)})},n}(),Y=e["\u0275crt"]({encapsulation:2,styles:[],data:{}});function X(n){return e["\u0275vid"](0,[e["\u0275qud"](402653184,1,{mapElement:0}),(n()(),e["\u0275eld"](1,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" path-viewer works!\n"]))],null,null)}var Q=e["\u0275ccf"]("path-viewer",G,function(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"path-viewer",[],null,null,null,X,Y)),e["\u0275did"](1,4243456,null,0,G,[e.NgZone,E.a,M.a,O.a],null,null)],null,null)},{},{},[]),nn=t("fdPT"),ln=t("MoCo"),tn=t("cdOV"),en=t("9AJC"),on=t("8VM6"),un=t("Xoj0"),sn=t("4/Py"),an=t("8DeE"),rn=t("y9XU"),dn=t("y1sj"),cn=t("cMIS"),gn=t("H1uz"),pn=t("H6Y4"),mn=t("byrr"),hn=t("0HQI"),fn=t("81d9"),vn=t("nA+Y"),xn=t("eDkP"),bn=t("Fzqc"),yn=t("U4uc"),Cn=t("AKna"),Rn=t("Bvtr"),kn=t("gpGP"),In=function(){},wn=t("P8+w"),Pn=t("Ku2q"),Tn=t("w//a"),_n=t("niCt"),Sn=t("UIEa"),Ln=t("o0Gp"),Dn=t("M18m"),En=t("zTyf"),Mn=t("TcUH"),On=t("4c35"),An=t("dWZg"),$n=t("qAlS"),Vn=t("hle7"),zn=t("lOUe"),Nn=t("yHPJ"),Un=t("wZaT"),Fn=t("GGqN"),qn=t("rNHn"),Bn=t("tSKX"),Jn=t("uLH1"),Kn=t("WCnA"),Hn=t("DiBj"),Zn=t("6wBL"),jn=t("TvC7"),Wn=t("7qhI"),Gn=t("aTFX"),Yn=t("7fDR"),Xn=t("y3Bk"),Qn=t("IR2U"),nl=t("sE+l"),ll=t("V6uK"),tl=t("9mtI"),el=t("SdSL"),ol=t("GF5i"),il=t("3Zza"),ul=t("ZMzl"),sl=t("tt4K"),al=t("eBEu"),rl=t("MMI5"),dl=t("vTDv"),cl=function(){};t.d(l,"IntelligenceModuleNgFactory",function(){return gl});var gl=e["\u0275cmf"](u,[],function(n){return e["\u0275mod"]([e["\u0275mpd"](512,e.ComponentFactoryResolver,e["\u0275CodegenComponentFactoryResolver"],[[8,[s.a,C,T,W,Q,nn.a,ln.a,tn.a,en.a,en.b,en.f,en.g,en.c,en.d,en.e,on.a,un.a,sn.a,an.a,an.b,rn.a,dn.a,cn.a,gn.a,pn.a,mn.a,hn.a,fn.a]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["\u0275mpd"](4608,_.NgLocalization,_.NgLocaleLocalization,[e.LOCALE_ID,[2,_["\u0275angular_packages_common_common_a"]]]),e["\u0275mpd"](4608,S.C,S.C,[]),e["\u0275mpd"](4608,S.e,S.e,[]),e["\u0275mpd"](4608,vn.a,vn.a,[x.l]),e["\u0275mpd"](4608,xn.e,xn.e,[xn.l,xn.g,e.ComponentFactoryResolver,xn.j,xn.h,e.Injector,e.NgZone,_.DOCUMENT,bn.b,[2,_.Location]]),e["\u0275mpd"](5120,xn.m,xn.n,[xn.e]),e["\u0275mpd"](4608,yn.a,yn.a,[]),e["\u0275mpd"](4608,V.u,V.u,[e.ComponentFactoryResolver,e.Injector,V.Ea,V.v]),e["\u0275mpd"](4608,Cn.a,Rn.a,[e.LOCALE_ID]),e["\u0275mpd"](4608,_.DatePipe,_.DatePipe,[e.LOCALE_ID]),e["\u0275mpd"](4608,kn.a,kn.a,[Cn.a]),e["\u0275mpd"](1073742336,x.o,x.o,[[2,x.u],[2,x.l]]),e["\u0275mpd"](1073742336,In,In,[]),e["\u0275mpd"](1073742336,_.CommonModule,_.CommonModule,[]),e["\u0275mpd"](1073742336,S.y,S.y,[]),e["\u0275mpd"](1073742336,S.h,S.h,[]),e["\u0275mpd"](1073742336,S.u,S.u,[]),e["\u0275mpd"](1073742336,wn.a,wn.a,[]),e["\u0275mpd"](1073742336,Pn.a,Pn.a,[]),e["\u0275mpd"](1073742336,Tn.a,Tn.a,[]),e["\u0275mpd"](1073742336,_n.a,_n.a,[]),e["\u0275mpd"](1073742336,Sn.a,Sn.a,[]),e["\u0275mpd"](1073742336,Ln.a,Ln.a,[]),e["\u0275mpd"](1073742336,Dn.a,Dn.a,[]),e["\u0275mpd"](1073742336,En.a,En.a,[]),e["\u0275mpd"](1073742336,Mn.a,Mn.a,[]),e["\u0275mpd"](1073742336,bn.a,bn.a,[]),e["\u0275mpd"](1073742336,On.g,On.g,[]),e["\u0275mpd"](1073742336,An.b,An.b,[]),e["\u0275mpd"](1073742336,$n.g,$n.g,[]),e["\u0275mpd"](1073742336,xn.i,xn.i,[]),e["\u0275mpd"](1073742336,Vn.a,Vn.a,[]),e["\u0275mpd"](1073742336,zn.a,zn.a,[]),e["\u0275mpd"](1073742336,Nn.a,Nn.a,[]),e["\u0275mpd"](1073742336,Un.a,Un.a,[]),e["\u0275mpd"](1073742336,Fn.a,Fn.a,[]),e["\u0275mpd"](1073742336,qn.a,qn.a,[]),e["\u0275mpd"](1073742336,Bn.a,Bn.a,[]),e["\u0275mpd"](1073742336,Jn.a,Jn.a,[]),e["\u0275mpd"](1073742336,V.c,V.c,[]),e["\u0275mpd"](1073742336,V.g,V.g,[]),e["\u0275mpd"](1073742336,V.h,V.h,[]),e["\u0275mpd"](1073742336,V.l,V.l,[]),e["\u0275mpd"](1073742336,V.m,V.m,[]),e["\u0275mpd"](1073742336,V.r,V.r,[]),e["\u0275mpd"](1073742336,V.s,V.s,[]),e["\u0275mpd"](1073742336,V.w,V.w,[]),e["\u0275mpd"](1073742336,V.A,V.A,[]),e["\u0275mpd"](1073742336,V.D,V.D,[]),e["\u0275mpd"](1073742336,V.G,V.G,[]),e["\u0275mpd"](1073742336,V.J,V.J,[]),e["\u0275mpd"](1073742336,V.M,V.M,[]),e["\u0275mpd"](1073742336,V.Q,V.Q,[]),e["\u0275mpd"](1073742336,V.R,V.R,[]),e["\u0275mpd"](1073742336,V.S,V.S,[]),e["\u0275mpd"](1073742336,V.x,V.x,[]),e["\u0275mpd"](1073742336,Kn.a,Kn.a,[]),e["\u0275mpd"](1073742336,Hn.a,Hn.a,[]),e["\u0275mpd"](1073742336,Zn.a,Zn.a,[]),e["\u0275mpd"](1073742336,jn.a,jn.a,[]),e["\u0275mpd"](1073742336,Wn.a,Wn.a,[]),e["\u0275mpd"](1073742336,Gn.a,Gn.a,[]),e["\u0275mpd"](1073742336,Yn.a,Yn.a,[]),e["\u0275mpd"](1073742336,Xn.a,Xn.a,[]),e["\u0275mpd"](1073742336,Qn.a,Qn.a,[]),e["\u0275mpd"](1073742336,nl.a,nl.a,[]),e["\u0275mpd"](1073742336,ll.a,ll.a,[]),e["\u0275mpd"](1073742336,tl.a,tl.a,[]),e["\u0275mpd"](1073742336,el.a,el.a,[]),e["\u0275mpd"](1073742336,ol.a,ol.a,[]),e["\u0275mpd"](1073742336,il.a,il.a,[]),e["\u0275mpd"](1073742336,ul.a,ul.a,[]),e["\u0275mpd"](1073742336,sl.a,sl.a,[]),e["\u0275mpd"](1073742336,al.a,al.a,[]),e["\u0275mpd"](1073742336,rl.a,rl.a,[]),e["\u0275mpd"](1073742336,dl.a,dl.a,[]),e["\u0275mpd"](1073742336,cl,cl,[]),e["\u0275mpd"](1073742336,u,u,[]),e["\u0275mpd"](1024,x.j,function(){return[[{path:"",component:i,children:[{path:"dashboard",component:I},{path:"profit-calculator",component:$},{path:"path-viewer",component:G}]}]]},[])])})}}]);