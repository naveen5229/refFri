(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"5y6a":function(l,n,a){"use strict";a.d(n,"a",function(){return u}),a("OlR4"),a("H+bZ");var e=a("m9e2"),t=a("tTnc"),o=a("7xJQ"),u=function(){function l(l,n,a){this.common=l,this.api=n,this.modalService=a,this.endDate=new Date,this.startDate=new Date((new Date).setDate(new Date(this.endDate).getDate()-30)),this.challanStatus="-1",this.challan=[],this.paidChallan=0,this.pendingChallan=0,this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}},this.pdfUrl=""}return l.prototype.ngOnInit=function(){},l.prototype.getPendingChallans=function(){var l=this;if(this.challan=[],this.startDate||this.endDate)if(this.startDate)if(this.endDate)if(this.startDate>this.endDate)this.common.showError("StartDate Should be less Then EndDate");else{var n="fromTime="+this.common.dateFormatter(this.startDate)+"&toTime="+this.common.dateFormatter(this.endDate)+"&viewType="+this.challanStatus+"&appType=dashboard";this.common.loading++,this.api.get("RcDetails/getPendingChallans?"+n).subscribe(function(n){if(console.log("Res:",n),l.common.loading--,l.clearAllTableData(),n.data){l.challan=n.data,l.pendingChallan=0,l.paidChallan=0;for(var a=0;a<l.challan.length;a++)"Cash"==l.challan[a]["Payment Type"]?l.paidChallan++:l.pendingChallan++;l.setTable()}else l.common.showError("Data Not Found")},function(n){l.common.loading--,l.common.showError(n)})}else this.common.showError("Please Enter EndDate");else this.common.showError("Please Enter StartDate");else this.common.showError("Please Enter StartDate and EndDate")},l.prototype.setTable=function(){this.table.data={headings:this.generateHeadings(this.challan[0]),columns:this.getColumns(this.challan,this.challan[0])}},l.prototype.generateHeadings=function(l){var n={};for(var a in l)"_"!=a.charAt(0)&&(n[a]={title:this.formatTitle(a),placeholder:this.formatTitle(a)},"Challan Date"===a&&(n[a].type="date"));return n},l.prototype.formatTitle=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},l.prototype.getColumns=function(l,n){var a=this,e=[];return l.map(function(l){var t={};for(var o in a.generateHeadings(n))t[o]="Action"==o?{value:"",action:null,icons:[{class:l._ch_doc_id?"far fa-file-alt":"far fa-file-alt text-color",action:a.paymentDocImage.bind(a,l._ch_doc_id)},{class:l._payment_doc_id?"far fa-file-pdf":"far far fa-file-pdf text-color",action:a.paymentDocImage.bind(a,l._payment_doc_id)},{class:"Pending"==l["Payment Type"]&&l._ch_doc_id&&0==l._req_status?"far fa-money-bill-alt":"",action:a.challanPendingRequest.bind(a,l)}]}:{value:l[o],class:"black",action:""};e.push(t)}),e},l.prototype.challanPendingRequest=function(l){var n=this;this.common.params={regNo:l.Regno,chDate:l["Challan Date"],chNo:l["Challan No"],amount:l.Amount,rowId:l._id},this.modalService.open(t.a,{size:"sm",container:"nb-layout",backdrop:"static"}).result.then(function(l){l.response&&n.getPendingChallans()})},l.prototype.paymentDocImage=function(l){var n=this;if(l){this.pdfUrl="";var a="docId="+l;this.common.loading++,this.api.get("Documents/getRepositoryImages?"+a).subscribe(function(l){n.common.loading--,console.log(l.data),l.data&&(n.pdfUrl=l.data[0].url,n.common.params={pdfUrl:n.pdfUrl,title:"Challan"},console.log("params",n.common.params),n.modalService.open(e.a,{size:"lg",container:"nb-layout"}))},function(l){n.common.loading--,console.log(l)})}},l.prototype.clearAllTableData=function(){this.table={data:{headings:{},columns:[]},settings:{hideHeader:!0}}},l.prototype.lastchecked=function(){this.common.handleModalSize("class","modal-lg","1100"),this.common.params={data:{view:{api:"Challans/getPendingLastCheckedReport",param:{}},title:"Last Checked Report "}},this.modalService.open(o.a,{size:"lg",container:"nb-layout",backdrop:"static"})},l}()},SNDP:function(l,n,a){"use strict";var e=a("CcnG"),t=a("aGMT"),o=a("wD9S"),u=a("OlR4"),i=a("4bAE"),d=a("mc3f"),s=a("q5i4"),r=a("csNM"),c=a("gIcY"),p=a("Ip0R"),f=a("5y6a"),h=a("H+bZ"),g=a("4GxJ");a.d(n,"a",function(){return C});var m=e["\u0275crt"]({encapsulation:0,styles:[['.fa-edit[_ngcontent-%COMP%]{color:#00f}[_nghost-%COMP%]     td i.fa-file-alt{background-color:#04a9f5;color:#fff;padding:11px 5px 5px;border-radius:3px;position:relative;height:29px}[_nghost-%COMP%]     td i.fa-file-alt:hover span{display:block}[_nghost-%COMP%]     td i.fa-file-alt span{position:absolute;display:none;padding:11px 57px;left:-44px;top:-28px;font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-file-alt span::before{content:"Challan";display:block;position:absolute;top:0;left:0;background-color:#04a9f5;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-file-alt span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #04a9f5;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     .fa-file-alt:hover span{display:block}[_nghost-%COMP%]     td i.fa-file-pdf{background-color:red;color:#fff;padding:5px;border-radius:3px;position:relative}[_nghost-%COMP%]     td i.fa-file-pdf span{position:absolute;display:none;padding:11px 70px;left:-59px;top:-28px;font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-file-pdf span::before{content:"Payment Receipt";display:block;position:absolute;top:0;left:0;background-color:red;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-file-pdf span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid red;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     .fa-file-pdf{color:red;font-size:18px;margin-left:6px}[_nghost-%COMP%]     .fa-file-pdf span{position:absolute;display:none;padding:10px 33px;font-weight:400;font-size:11px;left:-22px;top:-28px;-webkit-box-shadow:5px 2px 8px rgba(0,0,0,.5);box-shadow:5px 2px 8px rgba(0,0,0,.5);font-family:Roboto;z-index:9999}[_nghost-%COMP%]     .fa-file-pdf span::before{content:"Delete";display:block;position:absolute;top:0;left:0;background-color:red;border-radius:3px;padding:5px 10px;color:#fff;width:100%}[_nghost-%COMP%]     .fa-file-pdf span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid red;position:absolute;bottom:-5px;right:24px}[_nghost-%COMP%]     .fa-file-pdf:hover span{display:block}[_nghost-%COMP%]     td i.fa-money-bill-alt{background-color:#04a9f5;color:#fff;padding:11px 5px 5px;border-radius:3px;position:relative;height:29px}[_nghost-%COMP%]     td i.fa-money-bill-alt:hover span{display:block}[_nghost-%COMP%]     td i.fa-money-bill-alt span{position:absolute;display:none;padding:11px 57px;left:-44px;top:-28px;font-family:Roboto;z-index:999}[_nghost-%COMP%]     td i.fa-money-bill-alt span::before{content:"challan Payment";display:block;position:absolute;top:0;left:0;background-color:#04a9f5;border-radius:3px;padding:5px 10px}[_nghost-%COMP%]     td i.fa-money-bill-alt span::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #04a9f5;position:absolute;bottom:-5px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}[_nghost-%COMP%]     .fa-money-bill-alt:hover span{display:block}[_nghost-%COMP%]    .fa-file-alt.text-color{cursor:not-allowed;opacity:.5}[_nghost-%COMP%]    .fa-file-pdf.text-color{cursor:not-allowed;opacity:.5}[_nghost-%COMP%]    .fa-money-bill-alt.text-color{cursor:not-allowed;opacity:.5}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}th[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:center;padding:8px;color:#fff}td[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:center;padding:8px;color:#000}.solid[_ngcontent-%COMP%]{border:2px solid #000;text-align:center}.solid[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:20px}']],data:{}});function b(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,3,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,2,"div",[["class","solid"]],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e["\u0275ted"](4,null,[" Total Challan : "," "])),(l()(),e["\u0275eld"](5,0,null,null,3,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,2,"div",[["class","solid"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e["\u0275ted"](8,null,[" Pending Challan : "," "])),(l()(),e["\u0275eld"](9,0,null,null,3,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),e["\u0275eld"](10,0,null,null,2,"div",[["class","solid"]],null,null,null,null,null)),(l()(),e["\u0275eld"](11,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e["\u0275ted"](12,null,[" Paid Challan : "," "]))],null,function(l,n){var a=n.component;l(n,4,0,a.pendingChallan+a.paidChallan),l(n,8,0,a.pendingChallan),l(n,12,0,a.paidChallan)})}function v(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"smart-table",[["id","pendingChallan"]],null,null,null,t.b,t.a)),e["\u0275did"](1,4833280,null,0,o.a,[e.ChangeDetectorRef,u.a],{data:[0,"data"],settings:[1,"settings"]},null)],function(l,n){var a=n.component;l(n,1,0,a.table.data,a.table.settings)},null)}function x(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,52,"nb-card",[["style","border: 0px; height: 100%;"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,i.e,i.b)),e["\u0275did"](1,49152,null,0,d.b,[],null,null),(l()(),e["\u0275eld"](2,0,null,0,3,"nb-card-header",[["class","toll-soft-recovery"]],null,null,null,i.f,i.c)),e["\u0275did"](3,49152,null,0,d.d,[],null,null),(l()(),e["\u0275eld"](4,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Pending Challan"])),(l()(),e["\u0275eld"](6,0,null,1,46,"nb-card-body",[],null,null,null,i.d,i.a)),e["\u0275did"](7,49152,null,0,d.a,[],null,null),(l()(),e["\u0275eld"](8,0,null,0,39,"div",[["class","Pending_challan"]],null,null,null,null,null)),(l()(),e["\u0275eld"](9,0,null,null,38,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](10,0,null,null,37,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),e["\u0275eld"](11,0,null,null,36,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](12,0,null,null,7,"div",[["class","col-3 ml-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](13,0,null,null,6,"div",[["class","row row align-items-center"]],null,null,null,null,null)),(l()(),e["\u0275eld"](14,0,null,null,2,"div",[["class","col-4 pl-0 pr-0"]],null,null,null,null,null)),(l()(),e["\u0275eld"](15,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["From Date :"])),(l()(),e["\u0275eld"](17,0,null,null,2,"div",[["class","col-8 pl-0"]],null,null,null,null,null)),(l()(),e["\u0275eld"](18,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,a){var e=!0;return"onChanged"===n&&(e=!1!==(l.component.startDate=a)&&e),e},s.b,s.a)),e["\u0275did"](19,4308992,null,0,r.a,[],{isTime:[0,"isTime"],dateTimeValue:[1,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),e["\u0275eld"](20,0,null,null,7,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](21,0,null,null,6,"div",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),e["\u0275eld"](22,0,null,null,2,"div",[["class","col-3 pr-0 pl-0"]],null,null,null,null,null)),(l()(),e["\u0275eld"](23,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["To Date :"])),(l()(),e["\u0275eld"](25,0,null,null,2,"div",[["class","col-9"]],null,null,null,null,null)),(l()(),e["\u0275eld"](26,0,null,null,1,"uj-date-time-picker",[],null,[[null,"onChanged"]],function(l,n,a){var e=!0;return"onChanged"===n&&(e=!1!==(l.component.endDate=a)&&e),e},s.b,s.a)),e["\u0275did"](27,4308992,null,0,r.a,[],{isTime:[0,"isTime"],isStart:[1,"isStart"],dateTimeValue:[2,"dateTimeValue"]},{onChanged:"onChanged"}),(l()(),e["\u0275eld"](28,0,null,null,14,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),e["\u0275eld"](29,0,null,null,13,"select",[["class","form-control"],["style"," border: 2px solid darkcyan; font-size: 13px; "]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,a){var t=!0,o=l.component;return"change"===n&&(t=!1!==e["\u0275nov"](l,30).onChange(a.target.value)&&t),"blur"===n&&(t=!1!==e["\u0275nov"](l,30).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(o.challanStatus=a)&&t),t},null,null)),e["\u0275did"](30,16384,null,0,c.w,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,c.l,function(l){return[l]},[c.w]),e["\u0275did"](32,671744,null,0,c.q,[[8,null],[8,null],[8,null],[6,c.l]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,c.m,null,[c.q]),e["\u0275did"](34,16384,null,0,c.n,[[4,c.m]],null,null),(l()(),e["\u0275eld"](35,0,null,null,3,"option",[["value","-1"]],null,null,null,null,null)),e["\u0275did"](36,147456,null,0,c.r,[e.ElementRef,e.Renderer2,[2,c.w]],{value:[0,"value"]},null),e["\u0275did"](37,147456,null,0,c.E,[e.ElementRef,e.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),e["\u0275ted"](-1,null,["All"])),(l()(),e["\u0275eld"](39,0,null,null,3,"option",[["value","0"]],null,null,null,null,null)),e["\u0275did"](40,147456,null,0,c.r,[e.ElementRef,e.Renderer2,[2,c.w]],{value:[0,"value"]},null),e["\u0275did"](41,147456,null,0,c.E,[e.ElementRef,e.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),e["\u0275ted"](-1,null,["Pending"])),(l()(),e["\u0275eld"](43,0,null,null,4,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),e["\u0275eld"](44,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(l,n,a){var e=!0;return"click"===n&&(e=!1!==l.component.getPendingChallans()&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["OK"])),(l()(),e["\u0275eld"](46,0,null,null,1,"button",[["class","btn btn-primary"],["style","margin-left: 15px;"],["type","button"]],null,[[null,"click"]],function(l,n,a){var e=!0;return"click"===n&&(e=!1!==l.component.lastchecked()&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["Last Check Report"])),(l()(),e["\u0275and"](16777216,null,0,1,null,b)),e["\u0275did"](49,16384,null,0,p.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275eld"](50,0,null,0,2,"div",[["class","mt-1"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,v)),e["\u0275did"](52,16384,null,0,p.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var a=n.component;l(n,19,0,!1,a.startDate),l(n,27,0,!1,!1,a.endDate),l(n,32,0,a.challanStatus),l(n,36,0,"-1"),l(n,37,0,"-1"),l(n,40,0,"0"),l(n,41,0,"0"),l(n,49,0,a.challan&&a.challan.length),l(n,52,0,a.challan&&a.challan.length)},function(l,n){l(n,0,1,[e["\u0275nov"](n,1).xxsmall,e["\u0275nov"](n,1).xsmall,e["\u0275nov"](n,1).small,e["\u0275nov"](n,1).medium,e["\u0275nov"](n,1).large,e["\u0275nov"](n,1).xlarge,e["\u0275nov"](n,1).xxlarge,e["\u0275nov"](n,1).active,e["\u0275nov"](n,1).disabled,e["\u0275nov"](n,1).primary,e["\u0275nov"](n,1).info,e["\u0275nov"](n,1).success,e["\u0275nov"](n,1).warning,e["\u0275nov"](n,1).danger,e["\u0275nov"](n,1).hasAccent,e["\u0275nov"](n,1).primaryAccent,e["\u0275nov"](n,1).infoAccent,e["\u0275nov"](n,1).successAccent,e["\u0275nov"](n,1).warningAccent,e["\u0275nov"](n,1).dangerAccent,e["\u0275nov"](n,1).activeAccent,e["\u0275nov"](n,1).disabledAccent]),l(n,29,0,e["\u0275nov"](n,34).ngClassUntouched,e["\u0275nov"](n,34).ngClassTouched,e["\u0275nov"](n,34).ngClassPristine,e["\u0275nov"](n,34).ngClassDirty,e["\u0275nov"](n,34).ngClassValid,e["\u0275nov"](n,34).ngClassInvalid,e["\u0275nov"](n,34).ngClassPending)})}var C=e["\u0275ccf"]("pending-challan",f.a,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"pending-challan",[],null,null,null,x,m)),e["\u0275did"](1,114688,null,0,f.a,[u.a,h.a,g.u],null,null)],function(l,n){l(n,1,0)},null)},{},{},[])},a2Dc:function(l,n,a){"use strict";a.d(n,"a",function(){return e}),a("qfBg");var e=function(l,n){this.user=l,this.router=n}},hOtG:function(l,n,a){"use strict";a.d(n,"a",function(){return e}),a("a2Dc");var e=function(){}},sy07:function(l,n,a){"use strict";a.d(n,"a",function(){return x});var e=a("CcnG"),t=a("xDct"),o=a("IAMq"),u=a("5MUS"),i=a("SUpF"),d=a("/PiY"),s=a("U1+q"),r=a("trYH"),c=a("S9Dc"),p=a("3bPa"),f=a("ZlY8"),h=a("ZYCi"),g=a("a2Dc"),m=a("qfBg"),b=e["\u0275crt"]({encapsulation:2,styles:[],data:{}});function v(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,5,"ngx-sample-layout",[],null,null,null,t.b,t.a)),e["\u0275did"](1,180224,null,0,o.a,[u.a,i.b,d.a,s.b,r.a],null,null),(l()(),e["\u0275eld"](2,0,null,0,1,"nb-menu",[["autoCollapse","true"]],[[2,"inverse",null]],null,null,c.b,c.a)),e["\u0275did"](3,4440064,null,0,p.a,[f.f,i.a,h.l],{items:[0,"items"],autoCollapse:[1,"autoCollapse"]},null),(l()(),e["\u0275eld"](4,16777216,null,1,1,"router-outlet",[],null,null,null,null,null)),e["\u0275did"](5,212992,null,0,h.p,[h.b,e.ViewContainerRef,e.ComponentFactoryResolver,[8,null],e.ChangeDetectorRef],null,null)],function(l,n){l(n,3,0,n.component.user._menu.challan,"true"),l(n,5,0)},function(l,n){l(n,2,0,e["\u0275nov"](n,3).inverseValue)})}var x=e["\u0275ccf"]("ngx-pages",g.a,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"ngx-pages",[],null,null,null,v,b)),e["\u0275did"](1,49152,null,0,g.a,[m.a,h.l],null,null)],null,null)},{},{},[])},ua7E:function(l,n,a){"use strict";a.d(n,"a",function(){return e}),a("UTcu"),a("mNmA"),a("a2Dc"),a("5y6a");var e=function(){}}}]);